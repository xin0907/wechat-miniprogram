(()=>{var e={8949:e=>{function r(e,r,t,n,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void t(e)}u.done?r(s):Promise.resolve(s).then(n,o)}e.exports=function(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var i=e.apply(t,n);function u(e){r(i,o,a,u,s,"next",e)}function s(e){r(i,o,a,u,s,"throw",e)}u(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},157:(e,r,t)=>{var n=t(4182);e.exports=function(e,r,t){return(r=n(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e},e.exports.__esModule=!0,e.exports.default=e.exports},8798:(e,r,t)=>{var n=t(157);function o(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}e.exports=function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?o(Object(t),!0).forEach((function(r){n(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},9226:(e,r,t)=>{var n=t(7309).default;e.exports=function(e,r){if("object"!==n(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var o=t.call(e,r||"default");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},4182:(e,r,t)=>{var n=t(7309).default,o=t(9226);e.exports=function(e){var r=o(e,"string");return"symbol"===n(r)?r:String(r)},e.exports.__esModule=!0,e.exports.default=e.exports},7309:e=>{function r(t){return e.exports=r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,r(t)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},2168:(e,r,t)=>{var n=t(19),o=t(9479),a=t(2999),i=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols;r=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=r.prototype,s=void 0===t||t,c=r.unenumerable,l=void 0!==c&&c,p=r.symbol,f=void 0!==p&&p,d=[];if((l||f)&&i){var g=n;l&&i&&(g=i);do{d=d.concat(g(e)),f&&u&&(d=d.concat(u(e)))}while(s&&(e=o(e))&&e!==Object.prototype);d=a(d)}else if(s)for(var v in e)d.push(v);else d=n(e);return d},e.exports=r},7700:(e,r,t)=>{var n=t(3956);r=n((function(e,r,t){return n((function(n){return e.apply(r,t.concat(n))}))})),e.exports=r},6707:(e,r,t)=>{var n=t(5217),o=t(6432);r=function(e,r){if(o(e))return e;if(r&&n(r,e))return[e];var t=[];return e.replace(a,(function(e,r,n,o){t.push(n?o.replace(i,"$1"):r||e)})),t};var a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g;e.exports=r},8935:(e,r,t)=>{var n=t(6773),o=t(6432),a=t(2555);r=function(e){return n(e)?o(e)?e.slice():a({},e):e},e.exports=r},3013:(e,r,t)=>{var n=t(8109);r=function(){for(var e=n(arguments),r=[],t=0,o=e.length;t<o;t++)r=r.concat(n(e[t]));return r},e.exports=r},743:(e,r,t)=>{var n=t(2243),o=t(7104),a=t(1139),i=t(5021);r=function(e,r){return o(e)?e.indexOf(r)>-1:(a(e)||(e=i(e)),n(e,r)>=0)},e.exports=r},7443:(e,r,t)=>{var n=t(4284),o=t(5213);r=function(e,r){return function(t){return o(arguments,(function(a,i){if(0!==i){var u=e(a);o(u,(function(e){r&&!n(t[e])||(t[e]=a[e])}))}})),t}},e.exports=r},5213:(e,r,t)=>{var n=t(1139),o=t(19),a=t(9050);r=function(e,r,t){var i,u;if(r=a(r,t),n(e))for(i=0,u=e.length;i<u;i++)r(e[i],i,e);else{var s=o(e);for(i=0,u=s.length;i<u;i++)r(e[s[i]],s[i],e)}return e},e.exports=r},570:(e,r)=>{r=function(e,r){var t=e.length-r.length;return t>=0&&e.indexOf(r,t)===t},e.exports=r},2555:(e,r,t)=>{r=t(7443)(t(2168)),e.exports=r},5979:(e,r,t)=>{var n=t(19);r=t(7443)(n),e.exports=r},1464:(e,r,t)=>{var n=t(2153),o=t(5213);r=function(e,r,t){var a=[];return r=n(r,t),o(e,(function(e,t,n){r(e,t,n)&&a.push(e)})),a},e.exports=r},1505:(e,r,t)=>{var n=t(7969),o=t(2400),a=t(5075),i=t(7104);r=function(e){var r,t,s=o(i(e)?e:n(e));a(s,"async")||a(s,"function")||a(s,"(")?(r=s.indexOf("(")+1,t=s.indexOf(")")):(r=0,t=s.indexOf("=>"));var c=s.slice(r,t);return null===(c=c.match(u))?[]:c};var u=/[^\s,]+/g;e.exports=r},9479:(e,r,t)=>{var n=t(6773),o=t(6395),a=Object.getPrototypeOf,i={}.constructor;r=function(e){if(n(e)){if(a)return a(e);var r=e.__proto__;return r||null===r?r:o(e.constructor)?e.constructor.prototype:e instanceof i?i.prototype:void 0}},e.exports=r},5217:(e,r)=>{var t=Object.prototype.hasOwnProperty;r=function(e,r){return t.call(e,r)},e.exports=r},2474:(e,r)=>{r=function(e){return e},e.exports=r},2243:(e,r)=>{r=function(e,r,t){return Array.prototype.indexOf.call(e,r,t)},e.exports=r},6432:(e,r,t)=>{var n=t(7870);r=Array.isArray?Array.isArray:function(e){return"[object Array]"===n(e)},e.exports=r},1139:(e,r,t)=>{var n=t(3293),o=t(6395),a=Math.pow(2,53)-1;r=function(e){if(!e)return!1;var r=e.length;return n(r)&&r>=0&&r<=a&&!o(e)},e.exports=r},6395:(e,r,t)=>{var n=t(7870);r=function(e){var r=n(e);return"[object Function]"===r||"[object GeneratorFunction]"===r||"[object AsyncFunction]"===r},e.exports=r},3445:(e,r,t)=>{var n=t(19);r=function(e,r){var t=n(r),o=t.length;if(null==e)return!o;e=Object(e);for(var a=0;a<o;a++){var i=t[a];if(r[i]!==e[i]||!(i in e))return!1}return!0},e.exports=r},6159:(e,r)=>{r=function(e){return null==e},e.exports=r},3293:(e,r,t)=>{var n=t(7870);r=function(e){return"[object Number]"===n(e)},e.exports=r},6773:(e,r)=>{r=function(e){var r=typeof e;return!!e&&("function"===r||"object"===r)},e.exports=r},8079:(e,r,t)=>{var n=t(6773),o=t(6395);r=function(e){return n(e)&&o(e.then)&&o(e.catch)},e.exports=r},7104:(e,r,t)=>{var n=t(7870);r=function(e){return"[object String]"===n(e)},e.exports=r},4284:(e,r)=>{r=function(e){return void 0===e},e.exports=r},19:(e,r,t)=>{var n=t(5217);r=Object.keys?Object.keys:function(e){var r=[];for(var t in e)n(e,t)&&r.push(t);return r},e.exports=r},3480:(e,r)=>{r=function(e){var r=e?e.length:0;if(r)return e[r-1]},e.exports=r},9409:(e,r)=>{var t=/^\s+/;r=function(e,r){if(null==r)return e.trimLeft?e.trimLeft():e.replace(t,"");for(var n,o,a=0,i=e.length,u=r.length,s=!0;s&&a<i;)for(s=!1,n=-1,o=e.charAt(a);++n<u;)if(o===r[n]){s=!0,a++;break}return a>=i?"":e.substr(a,i)},e.exports=r},9924:(e,r,t)=>{var n=t(2153),o=t(19),a=t(1139);r=function(e,r,t){r=n(r,t);for(var i=!a(e)&&o(e),u=(i||e).length,s=Array(u),c=0;c<u;c++){var l=i?i[c]:c;s[c]=r(e[l],l,e)}return s},e.exports=r},2682:(e,r,t)=>{var n=t(5979),o=t(3445);r=function(e){return e=n({},e),function(r){return o(r,e)}},e.exports=r},3283:(e,r)=>{r=function(){},e.exports=r},6398:(e,r)=>{r=Date.now?Date.now:function(){return(new Date).getTime()},e.exports=r},7870:(e,r)=>{var t=Object.prototype.toString;r=function(e){return t.call(e)},e.exports=r},9050:(e,r,t)=>{var n=t(4284);r=function(e,r,t){if(n(r))return e;switch(null==t?3:t){case 1:return function(t){return e.call(r,t)};case 3:return function(t,n,o){return e.call(r,t,n,o)};case 4:return function(t,n,o,a){return e.call(r,t,n,o,a)}}return function(){return e.apply(r,arguments)}},e.exports=r},8350:(e,r,t)=>{var n=t(6432),o=t(8191);r=function(e){return n(e)?function(r){return o(r,e)}:(r=e,function(e){return null==e?void 0:e[r]});var r},e.exports=r},3956:(e,r)=>{r=function(e,r){return r=null==r?e.length-1:+r,function(){var t,n=Math.max(arguments.length-r,0),o=new Array(n);for(t=0;t<n;t++)o[t]=arguments[t+r];switch(r){case 0:return e.call(this,o);case 1:return e.call(this,arguments[0],o);case 2:return e.call(this,arguments[0],arguments[1],o)}var a=new Array(r+1);for(t=0;t<r;t++)a[t]=arguments[t];return a[r]=o,e.apply(this,a)}},e.exports=r},8320:(e,r)=>{r=function(e,r){if(null==r){if(e.trimRight)return e.trimRight();r=" \r\n\t\f\v"}for(var t,n,o=e.length-1,a=r.length,i=!0;i&&o>=0;)for(i=!1,t=-1,n=e.charAt(o);++t<a;)if(n===r[t]){i=!0,o--;break}return o>=0?e.substring(0,o+1):""},e.exports=r},2153:(e,r,t)=>{var n=t(6395),o=t(6773),a=t(6432),i=t(9050),u=t(2682),s=t(2474),c=t(8350);r=function(e,r,t){return null==e?s:n(e)?i(e,r,t):o(e)&&!a(e)?u(e):c(e)},e.exports=r},8191:(e,r,t)=>{var n=t(4284),o=t(6707);r=function(e,r){var t;for(t=(r=o(r,e)).shift();!n(t);){if(null==(e=e[t]))return;t=r.shift()}return e},e.exports=r},3698:(e,r)=>{r=function(e){return new Promise((function(r){return setTimeout(r,e)}))},e.exports=r},5075:(e,r)=>{r=function(e,r){return 0===e.indexOf(r)},e.exports=r},2400:(e,r)=>{r=function(e){for(var r={singleQuote:!1,doubleQuote:!1,regex:!1,blockComment:!1,lineComment:!1,condComp:!1},t=0,n=(e=("__"+e+"__").split("")).length;t<n;t++)if(r.regex)"/"===e[t]&&"\\"!==e[t-1]&&(r.regex=!1);else if(r.singleQuote)"'"===e[t]&&"\\"!==e[t-1]&&(r.singleQuote=!1);else if(r.doubleQuote)'"'===e[t]&&"\\"!==e[t-1]&&(r.doubleQuote=!1);else if(r.blockComment)"*"===e[t]&&"/"===e[t+1]&&(e[t+1]="",r.blockComment=!1),e[t]="";else if(r.lineComment)"\n"===e[t+1]&&(r.lineComment=!1),e[t]="";else if(r.doubleQuote='"'===e[t],r.singleQuote="'"===e[t],"/"===e[t]){if("*"===e[t+1]){e[t]="",r.blockComment=!0;continue}if("/"===e[t+1]){e[t]="",r.lineComment=!0;continue}r.regex=!0}return e.join("").slice(2,-2)},e.exports=r},8109:(e,r,t)=>{var n=t(1139),o=t(9924),a=t(6432),i=t(7104);r=function(e){return e?a(e)?e:n(e)&&!i(e)?o(e):[e]:[]},e.exports=r},7969:(e,r,t)=>{var n=t(6159);r=function(e){if(n(e))return"";try{return o.call(e)}catch(e){}try{return e+""}catch(e){}return""};var o=Function.prototype.toString;e.exports=r},9059:(e,r,t)=>{var n=t(9409),o=t(8320);r=function(e,r){return null==r&&e.trim?e.trim():n(o(e,r),r)},e.exports=r},2999:(e,r,t)=>{var n=t(1464);function o(e,r){return e===r}r=function(e,r){return r=r||o,n(e,(function(e,t,n){for(var o=n.length;++t<o;)if(r(e,n[t]))return!1;return!0}))},e.exports=r},5021:(e,r,t)=>{var n=t(5213);r=function(e){var r=[];return n(e,(function(e){r.push(e)})),r},e.exports=r},3236:(e,r,t)=>{var n=t(6398);r=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:250;function o(){return new Promise((function(r,t){try{r(e())}catch(e){t(e)}}))}return new Promise((function(e,a){var i=n(),u=function(){o().then((function(o){var s=n()-i;o?e(o):r&&s>=r?a(Error("Wait timed out after ".concat(r," ms"))):setTimeout(u,t)}),a)};u()}))},e.exports=r}},r={};function t(n){var o=r[n];if(void 0!==o)return o.exports;var a=r[n]={exports:{}};return e[n](a,a.exports,t),a.exports}t.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return t.d(r,{a:r}),r},t.d=(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),(()=>{"use strict";var e=t(8949),r=t.n(e),n=t(8798),o=t.n(n),a=t(5075),i=t.n(a),u=t(570),s=t.n(u),c=t(743),l=t.n(c),p=t(1505),f=t.n(p),d=t.g.Function,g=Object.getPrototypeOf(r()((function*(){}))).constructor;function v(e){return!i()(e,"on")&&!i()(e,"off")}function h(e){return s()(e,"Sync")||l()(y,e)}var y=["stopRecord","getRecorderManager","pauseVoice","stopVoice","pauseBackgroundAudio","stopBackgroundAudio","getBackgroundAudioManager","createAudioContext","createInnerAudioContext","createVideoContext","createCameraContext","createMapContext","canIUse","startAccelerometer","stopAccelerometer","startCompass","stopCompass","hideToast","hideLoading","showNavigationBarLoading","hideNavigationBarLoading","navigateBack","createAnimation","pageScrollTo","createSelectorQuery","createCanvasContext","createContext","drawCanvas","hideKeyboard","stopPullDownRefresh","arrayBufferToBase64","base64ToArrayBuffer"];function x(e){var r=f()(e);return"}"!==e[e.length-1]?r.push("return "+e.slice(e.indexOf("=>")+2)):r.push(e.slice(e.indexOf("{")+1,e.lastIndexOf("}"))),r}function m(){return t.g.__isAppServiceRemoteDebugMode__&&t.g.$$autoDebug}function _(e,r,n){return t.g.$$autoDebug.$eval("("+e+")",r,n)}function b(e,r,t){return w.apply(this,arguments)}function w(){return(w=r()((function*(e,r,n){return yield t.g.$$autoDebug.$eval("("+e+")",r,n)}))).apply(this,arguments)}function O(e,r){return $.apply(this,arguments)}function $(){return $=r()((function*(e,r,t=null){var n,o=x(e);return i()(e,"async")?m()?yield b(e,r,t):(n=g.apply(null,o),yield n.apply(t,r)):m()?_(e,r,t):(n=d.apply(null,o)).apply(t,r)})),$.apply(this,arguments)}function P(e,r,t=null){var n=x(e);return m()?_(e,r,t):d.apply(null,n).apply(t,r)}var S=t(3480),M=t.n(S),A=t(4284),k=t.n(A),j=t(6395),E=t.n(j),D=t(9059),I=t.n(D),C=t(8109),T=t.n(C),N=t(3013),B=t.n(N),R=t(7700),W=t.n(R),F=t(8935),J=t.n(F),L=t(3236),q=t.n(L),U=t.g.WeixinJSBridge,V=!1,G=[];function Q(){V=!0;for(var e=0,r=G.length;e<r;e++)G[e]();G=[]}t.g.__wxConfig.clientDebug=!0;var z=Object.getOwnPropertyDescriptor(t.g,"WeixinJSBridge");U&&U.on?Q():z&&!1===z.configurable?q()((()=>t.g.WeixinJSBridge&&t.g.WeixinJSBridge.on),5e3,50).then((()=>{U=t.g.WeixinJSBridge,Q()})):Object.defineProperty(t.g,"WeixinJSBridge",{set(e){e&&e.on&&(U=e,Q())},get:()=>U,configurable:!0});var H={on:(...e)=>U.on(...e),publish:(...e)=>U.publish(...e),invoke(...e){var r;t.g.__isAppServiceRemoteDebugMode__&&"sendAutoMessage"===e[0]&&(null===(r=t.g.__debugMessager)||void 0===r||r.sendToDevtools(e[0],e[1]));return U.invoke(...e)},subscribe:(...e)=>U.subscribe(...e),onReady(e){V?e():G.push(e)}},K=t(5213),X=t.n(K),Y=t(3283),Z=t.n(Y),ee={},re=[],te=!1,ne=t.g.__passWAServiceGlobal__||Z();function oe(e){te?e(ee):re.push(e)}t.g.__passWAServiceGlobal__=function(e){X()(e,((e,r)=>{te=!0,"Protect"!==r&&(ee[r]=e)})),te&&(re.forEach((e=>{e(ee)})),re=[]),ne(e)};var ae,ie,ue="https://servicewechat.com/",se=`${ue}wxa-dev-logic/jslogin`,ce=`${ue}wxa-dev-logic/jsrefresh_session`,le=`${ue}wxa-dev-logic/jsoperatewxdata`,pe=`${ue}wxa-dev-logic/jsauthorize`,fe=`${ue}wxa-dev-logic/jsauthorize-confirm`,de=`${ue}wxa-dev-logic/jsgetuserwxphone`,ge=`${ue}wxa-dev-logic/checkwerunstate`,ve=`${ue}wxa-dev-logic/getuserfillinfo`,he=`${ue}wxa-dev-logic/deleteuserfillinfo`,ye=`${ue}wxa-dev-logic/authuserfillinfo`,xe=-12e3,me=-12007,_e=t.g.__wxConfig,be={};oe((e=>{var r;be=(null==_e||null===(r=_e.debugLaunchInfo)||void 0===r?void 0:r.autoTest)||{},console.log("autoTestInfo..",be),ae=e.__appServiceSDK__._requestSkipCheckDomain,ie=be.appid}));var we=e=>{var{success:r,fail:t,complete:n}=e,a=(e.url||"").split("?")[0],i=[`newticket=${be.newticket}`,`appid=${be.appid}`,`clientversion=${be.clientversion}`];return be.testuser&&i.push(`testuser=${be.testuser}`),e.url=`${a}?${i.join("&")}`,r||t||n?ae(e):new Promise(((r,t)=>{ae(o()(o()({},e),{},{success:r,fail:t}))}))},Oe=()=>ie;function $e(e,r,t,n,a){we({url:`${fe}`,method:"POST",data:{scope:t,opt:r?1:2},success:t=>{var i=t.data,u="fail request error";return i.baseresponse&&0===i.baseresponse.errcode&&(u=r?"ok":"fail auth deny"),n(o()({errMsg:`${e}:${u}`},a))}})}function Pe(e,r,t){return we({url:`${se}`,method:"POST",data:{scope:["snsapi_base"]},success:r=>{var n=r.data;t({errMsg:`${e}:ok`,code:n.code})},fail:()=>{t({errMsg:`${e}:fail request fail`})}})}function Se(e,r,t){return we({url:`${ce}`,method:"POST",data:{scope:["snsapi_base"]},success:r=>{var n=r.data;t({errMsg:`${e}:ok`,expireIn:n.session_expire_in,err_code:n.baseresponse.errcode})},fail:()=>{t({errMsg:`${e}:fail request fail`})}})}function Me(e,r,t,n){var o=n.scopeList;return we({url:`${le}`,method:"POST",data:{data:JSON.stringify(r.data||{}),grant_scope:o[0].scope,opt:1},success:r=>{var n=r.data;return t({errMsg:`${e}:ok`,data:JSON.parse(n.data)})}})}function Ae(e,r,t){return ke.apply(this,arguments)}function ke(){return(ke=r()((function*(e,r,t){var n={data:JSON.stringify(r.data||{})};return"webapi_plugin_setauth"===r.data.api_name&&(n.ext_info={source_env:2}),we({url:`${le}`,method:"POST",data:n,success:n=>{var o=n.data,a=o.baseresponse;if(a){var i=o.baseresponse.errcode;if(0===i){var u=JSON.parse(o.data);return t({errMsg:`${e}:ok`,data:u})}return i===xe?Me(e,r,t,{imageUrl:o.appicon_url,appName:o.appname,scopeList:[o.scope]}):t(i===me?{errMsg:`${e}:fail ${a.errmsg}`}:{errMsg:`${e}:fail ${a.errmsg}`,err_code:i})}t({errMsg:`${e}:fail no baseresponse`})},fail:()=>{t({errMsg:`${e}:fail response fail`})}})}))).apply(this,arguments)}function je(e,r,t){return we({url:`${pe}`,method:"POST",data:{scope:r.scope||[]},success:r=>{var n=r.data,o=n.baseresponse;if(o){var a=o.errcode;if(0===a)return t({errMsg:`${e}:ok`,body:n});if(a===xe){var i=n.scope_list||[],u=[];return i.forEach((e=>{u.push(e.scope)})),$e(e,!0,i,t)}}},fail:()=>{t({errMsg:`${e}:fail request fail`})}})}function Ee(e,r,t){return we({url:`${ge}`,method:"POST",data:{appid:Oe()},success:r=>{var n=r.data;if(1===n.state)return t({errMsg:`${e}:ok`});var o=n.wording||"USER_NOT_OPEN_WECHAT_MOVEMENT";return t({errMsg:`${e}:fail ${o}`})},fail:()=>{t({errMsg:`${e}:fail request fail`})}})}var De,Ie,Ce={login:Pe,refreshSession:Se,operateWXData:Ae,authorize:je,openWeRunSetting:Ee,getPhoneNumber:function(e,t,n){var o;we({url:`${de}`,method:"POST",data:{appid:Oe()},success:(o=r()((function*(r){var t=r.data;console.log("getPhoneNumber",t);var o=t.jsapi_baseresponse,a=o?parseInt(o.errcode,10):-1e4;try{if(0===a){var i,u={};try{u=JSON.parse(t.data),i=JSON.parse(u.data)}catch(e){throw new Error(`GET_DATA_ERROR ${e}`)}if(!i||!i.mobile)throw new Error("USER_NOT_BOUND_PHONE");if(i.need_auth)throw new Error("PHONE_BOUND_NEED_VERIFIED");var s=[t.scope],c=[];return s.forEach((e=>{c.push(e.scope)})),$e(e,!0,s,n,u)}throw-12001===a?new Error("APPID_NO_PERMISSIONS"):-12004===a?new Error("WX_LOGIN_FIRST"):new Error(`SYSTEM_ERROR errorCode:${a}`)}catch(r){return n({errMsg:`${e}:fail ${r}`})}})),function(e){return o.apply(this,arguments)}),fail:()=>{n({errMsg:`${e}:fail request fail`})}})},getUserAutoFillData:function(e,t,n){var o,a={appid:Oe(),get_all_info:!1,source:1,user_info_list:t.fields,client_version:t.clientVersion};we({url:`${ve}`,method:"POST",data:a,success:(o=r()((function*(r){var t=r.data;n({errMsg:`${e}:ok`,userData:t.user_info_json||"{}",authStatus:t.auth_status,authInfo:t.auth_info,authGroupList:t.auth_group_list})})),function(e){return o.apply(this,arguments)}),fail:()=>{n({errMsg:`${e}:fail request fail`})}})},setUserAutoFillData:function(e,t,n){var o,a={appid:Oe(),source:1,user_info_json:t.dataList,client_version:t.clientVersion};we({url:`${ve}`,method:"POST",data:a,success:(o=r()((function*(r){r.data,n({errMsg:`${e}:ok`})})),function(e){return o.apply(this,arguments)}),fail:()=>{n({errMsg:`${e}:fail request fail`})}})},deleteUserAutoFillData:function(e,t,n){var o,a={appid:Oe(),source:1,group_key:t.groupKey,group_id:t.groupId,client_version:t.clientVersion};we({url:`${he}`,method:"POST",data:a,success:(o=r()((function*(r){r.data,n({errMsg:`${e}:ok`})})),function(e){return o.apply(this,arguments)}),fail:()=>{n({errMsg:`${e}:fail request fail`})}})},requestAuthUserAutoFillData:function(e,t,n){var o,a={appid:Oe(),source:1,auth_info_list:t.fields||[],auth_status:t.authStatus,user_confirm:!0,client_version:t.clientVersion};we({url:`${ye}`,method:"POST",data:a,success:(o=r()((function*(r){r.data,n({errMsg:`${e}:ok`})})),function(e){return o.apply(this,arguments)}),fail:()=>{n({errMsg:`${e}:fail request fail`})}})}};function Te(){return(Te=r()((function*(e){var{functionDeclaration:r,args:t}=e;return{result:yield O(r,t)}}))).apply(this,arguments)}function Ne(){return(Ne=r()((function*(){return M()((yield Be()).pageStack)}))).apply(this,arguments)}function Be(){return Re.apply(this,arguments)}function Re(){return(Re=r()((function*(){return{pageStack:De.getCurrentPagesByDomain().map((e=>{var{route:r}=e,t=r.indexOf("__plugin__/");return t>-1&&(r="plugin-private://"+r.slice(t+11)),{pageId:e.__wxWebviewId__,path:r,query:e.options}}))}}))).apply(this,arguments)}var We={},Fe={},Je={},Le={};function qe(e,r=""){return r?`${r}_${e}`:e}function Ue(e=""){if(e){if(!We[e])throw Error(`Plugin ${e} not exists`);return We[e].wx}return"undefined"==typeof wx?Ie:wx}function Ve(){return Ve=r()((function*(e){var{method:t,result:n,pluginId:o}=e,{functionDeclaration:a,args:i}=e,u=Ue(o);if(!u[t])throw Error(`wx.${t} not exists`);if(!v(t))throw Error(`You can't mock wx.${t}`);if(k()(n)&&k()(a))Qe(t,o);else{var s;k()(n)||(a="function () {\n      return arguments[arguments.length - 1];\n    }",i=[n]);var c={origin:W()(Ge(t,o),u)};s=h(t)?function(){return P(a,B()(T()(arguments),i),c)}:function(){var e=r()((function*(...e){var n=!1,o=e[0];if((k()(o)||k()(o.success)&&k()(o.fail)&&k()(o.complete))&&(n=!0),n)return i=B()(e,i),new Promise(function(){var e=r()((function*(e,r){var n=yield O(a,i,c);(n.errMsg||`${t}:ok`).indexOf(`${t}:ok`)>-1?e(n):r(n)}));return function(r,t){return e.apply(this,arguments)}}());var u=J()(o);delete u.success,delete u.fail,delete u.complete;var s=yield O(a,B()([u],i),c);(s.errMsg||`${t}:ok`).indexOf(`${t}:ok`)>-1?o.success&&o.success(s):o.fail&&o.fail(s),o.complete&&o.complete(s)}));return function(){return e.apply(this,arguments)}}(),ze(t,s,o)}})),Ve.apply(this,arguments)}function Ge(e,r){var t=Ue(r),n=qe(e,r);if(Fe[n])return Je[n]?Fe[n]():Fe[n];var o=Object.getOwnPropertyDescriptor(t,e);return o&&o.get?o.get():t[e]}function Qe(e,r){var t=Ue(r),n=qe(e,r);Fe[n]&&(Object.getOwnPropertyDescriptor(t,e)?Je[n]?Object.defineProperty(t,e,{get:Fe[n]}):Object.defineProperty(t,e,{value:Fe[n]}):t[e]=Fe[n],delete Fe[n])}function ze(e,r,t){var n=Ue(t),o=qe(e,t),a=Object.getOwnPropertyDescriptor(n,e);if(!Fe[o]){var i,u=!1,s=!1;a?a.get?(u=!0,i=a.get):(s=!0,i=a.value):i=n[e],i&&(Le[o]=s,Je[o]=u,Fe[o]=i)}a?Object.defineProperty(n,e,{get:()=>r}):n[e]=r}var He=["log","info","warn","error","debug"];function Ke(){return(Ke=r()((function*(){He.forEach((e=>{var r=console[e];console[e]=function(...t){H.invoke("sendAutoMessage",{method:"App.logAdded",params:{type:e,args:t}}),E()(r)&&r.apply(console,t)}}))}))).apply(this,arguments)}function Xe(){return(Xe=r()((function*(e){var r,{name:n}=e,o=function(...e){H.invoke("sendAutoMessage",{method:"App.bindingCalled",params:{name:n,args:e}})};t.g.__isAppServiceRemoteDebugMode__&&t.g.$$autoDebug?null===(r=t.g.$$autoDebug)||void 0===r||r.setSubContextGlobalFunctions(n,o):t.g[n]=o}))).apply(this,arguments)}function Ye(){return(Ye=r()((function*(){H.invoke("exitMiniProgram",{})}))).apply(this,arguments)}function Ze(){return Ze=r()((function*(){return new Promise(((e,t)=>{function n(){t(Error("fail to capture screenshot"))}H.invoke("private_captureScreen",{},function(){var t=r()((function*(r){var{errMsg:t}=r;if(l()(t,":ok")){var{tempFilePath:o}=r;Ge("saveFile")({tempFilePath:o,success(r){var t=Ge("getFileSystemManager")(),o=r.savedFilePath;t.readFile({filePath:o,encoding:"base64",success(r){Ge("removeSavedFile")({filePath:o}),e({data:r.data})},fail(){n()}})},fail(){n()}})}else n()}));return function(e){return t.apply(this,arguments)}}())}))})),Ze.apply(this,arguments)}var er=t.g.__wxConfig;oe((e=>{var r,t,n;De=e.__appServiceEngine__,Ie=e.wx;var o=null===(r=De)||void 0===r||null===(t=r.__getCreatePluginGlobal)||void 0===t?void 0:t.call(r),a=De.__setCreatePluginGlobal;if(null==a||a(((e,r)=>{var t=null==o?void 0:o(e,r);return We[e]=t,t})),e.Reporter.registerErrorListener((e=>{var r=e.split("\n");"MiniProgramError"===I()(r[0])&&(e=r[2],e=I()(e.replace(/^((Type)|(Range)|(Reference)|(Syntax))?Error:/,"")),H.invoke("sendAutoMessage",{method:"App.exceptionThrown",params:{message:e,stack:r.slice(2).join("\n")}}))})),null!=er&&null!==(n=er.debugLaunchInfo)&&void 0!==n&&n.autoTest){var i=e.WeixinJSBridge.invoke;Object.defineProperty(e.WeixinJSBridge,"invoke",{value(...r){var[t,n,o,a]=r;return Ce[t]?Ce[t](t,n,o):i.apply(e.WeixinJSBridge,r)}}),e.WeixinJSBridge.subscribe("callAutoInvoke",(r=>{var{name:t,args:n,callbackId:o}=r;if(Ce[t])return Ce[t](t,n,(r=>{e.WeixinJSBridge.publish("callbackAutoInvoke",{callbackId:o,res:r})}))}))}}));var rr,tr,nr,or=t(8079),ar=t.n(or),ir=t(8191),ur=t.n(ir);function sr(e){var r=rr.getCurrentPagesByDomain();for(var t of r)if(t.__wxWebviewId__===e)return t;throw Error("page destroyed")}oe((e=>{rr=e.__appServiceEngine__})),oe((e=>{tr=e.exparser,nr=e.__virtualDOM__}));var cr={"App.callWxMethod":function(e){var{method:r,pluginId:t}=e,n=Ue(t),{args:a}=e;return new Promise(((e,t)=>{if(!n[r])return t(Error(`wx.${r} not exists`));h(r)?e({result:n[r].apply(n,a)}):(a=a[0]||{},n[r](o()(o()({},a),{},{success(r){e({result:r})},fail(e){t(Error(e.errMsg.replace(`${r}:fail `,"")))}})))}))},"App.callFunction":function(e){return Te.apply(this,arguments)},"App.getCurrentPage":function(){return Ne.apply(this,arguments)},"App.getPageStack":Be,"App.mockWxMethod":function(e){return Ve.apply(this,arguments)},"App.enableLog":function(){return Ke.apply(this,arguments)},"App.addBinding":function(e){return Xe.apply(this,arguments)},"App.exit":function(){return Ye.apply(this,arguments)},"App.captureScreenshot":function(){return Ze.apply(this,arguments)},"Page.setData":function(e){var{pageId:r,data:t}=e,n=sr(r);return new Promise((e=>{n.setData(t,(()=>{e()}))}))},"Page.getData":function(e){var{pageId:r,path:t}=e,n=sr(r),o=Object.assign({},n.data);return delete o.__webviewId__,t&&(o=ur()(o,t)),{data:o}},"Page.callMethod":function(e){var{method:r,args:t}=e,n=sr(e.pageId);return new Promise(((e,o)=>{if(!n[r])return o(Error(`page.${r} not exists`));var a=n[r].apply(n,t);ar()(a)?a.then((r=>{e({result:r})}),o):e({result:a})}))},"Element.callMethod":function(e){var{nodeId:r,method:t,args:n,pageId:o}=e,a=nr.getNodeById(r,o);if(a)return new Promise(((e,r)=>{var o=tr.Element.getMethodCaller(a);if(!o[t])return r(Error(`component.${t} not exists`));var i=tr.safeCallback("Event Handler",o[t],o,n,a);ar()(i)?i.then((r=>{e({result:r})}),r):e({result:i})}))},"Element.getData":function(e){var{nodeId:r,pageId:t,path:n}=e,o=nr.getNodeById(r,t).data;return n&&(o=ur()(o,n)),{data:o}},"Element.setData":function(e){var{nodeId:r,pageId:t,data:n}=e;nr.getNodeById(r,t).setData(n)},"Element.callContextMethod":function(e){var r,t,{nodeId:n,videoId:o,pageId:a,method:i,args:u}=e;if(r=n?nr.getNodeById(n,a):sr(a),!o)throw Error("id is not provided");return{result:(t=Ge("createVideoContext")(o,r))[i].apply(t,u)}}},lr=t(3698),pr=t.n(lr);function fr(){return(fr=r()((function*(e,r){if(cr[e])return(yield cr[e](r))||{};throw Error(`appservice ${e} unimplemented`)}))).apply(this,arguments)}H.onReady(r()((function*(){H.on("onAutoMessageReceive",function(){var e=r()((function*(e){var{method:r,params:t,id:n}=e,o={id:n};if(k()(t.pageId)||cr[r])try{o.result=yield function(e,r){return fr.apply(this,arguments)}(r,t)}catch(e){o.error={message:e.message}}else try{return sr(t.pageId),void H.publish("sendAutoMessage",e,[t.pageId])}catch(e){o.error={message:e.message}}H.invoke("sendAutoMessage",o)}));return function(r){return e.apply(this,arguments)}}()),H.subscribe("sendAutoMessage",(e=>{H.invoke("sendAutoMessage",e)})),yield q()((()=>t.g.getCurrentPages&&t.g.getCurrentPages().length>0),0,50),yield pr()(1e3),H.invoke("sendAutoMessage",{method:"App.initialized",params:{from:t.g.__isAppServiceRemoteDebugMode__?"appservice":"devtools"}})})))})()})();