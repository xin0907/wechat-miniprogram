this.__wxLibrary={fileName:"WAGame.js",envType:"Service",contextType:"Game:MainContext",execStart:Date.now(),mayHaveSnapshot:!0};var __WAGameStartTime__=this.__wxLibrary.execStart;!function(e){var t={updateTime:"2023.2.22 17:39:38",version:"2.30.2",features:{pruneWxConfigByPage:!0,injectGameContextPlugin:!0,lazyCodeLoading2:!0,lazyCodeLoadingForDevTool:!0,injectAppSeparatedPlugin:!0,nativeTrans:!0,gameLive:!0,skyline:!0,supportInvokeWithAppId:!0,wkFeatureVersion:4,delayedServiceCodeCache:!0,gameLiveInvite:!0,globalConsole:!0,expt:["clicfg_appbrand_ios_native_download_new","clicfg_appbrand_native_download","clicfg_appbrand_ios_native_socket_wcwss_new","clicfg_navigation_use_scl_alert_v5","clicfg_appbrand_ios_native_readfile","clicfg_appbrand_native_readfile","clicfg_appbrand_ios_game_split_multi_plugincode","clicfg_appbrand_game_split_multi_plugincode","clicfg_appbrand_android_tcp_buffer","clicfg_appbrand_ios_tcp_buffer","clicfg_weapp_weak_net_predict_local","clicfg_wa_ar_iosurface_switch","clicfg_canvas_use_magic_brush","clicfg_appbrand_report_trace_event","clicfg_appbrand_skyline_text_style","clicfg_appbrand_ios_free_httpdns_sdk_cache","clicfg_appbrand_android_free_httpdns_sdk_cache","clicfg_appbrand_ios_inneraudio2webaudio","clicfg_appbrand_android_inneraudio2webaudio","clicfg_appbrand_ios_inneraudio2webaudio_usewebaudio","clicfg_appbrand_android_inneraudio2webaudio_usewebaudio","clicfg_appbrand_ios_allow_multi_context_worker","clicfg_appbrand_ios_allow_worker_binding_message"],snapshotConfig:{"app:main":["WAServiceMainContext.js"],"app:sub":["WASubContext.js"],"app:subRender":["WARenderContext.js"],"game:main":["WAGame.js"],"game:sub":["WAGameSubContext.js"]}},debugOptions:{}},r=e.Function,n=r,a={};(()=>{var e={7967:(e,t,r)=>{var n={"./applyDecoratedDescriptor":4725,"./asyncToGenerator":2222,"./extends":1211,"./initializerDefineProperty":6460,"./initializerWarningHelper":9279,"./objectSpread2":4178,"./objectWithoutProperties":3724};function a(e){var t=i(e);return r(t)}function i(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=i,e.exports=a,a.id=7967},4725:(e,t,r)=>{"use strict";function n(e,t,r,n,a){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),a&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}r.r(t),r.d(t,{default:()=>n})},2222:(e,t,r)=>{"use strict";function n(e,t,r,n,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(a,i){var o=e.apply(t,r);function s(e){n(o,a,i,s,c,"next",e)}function c(e){n(o,a,i,s,c,"throw",e)}s(void 0)}))}}r.r(t),r.d(t,{default:()=>a})},1211:(e,t,r)=>{"use strict";function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(this,arguments)}r.r(t),r.d(t,{default:()=>n})},6460:(e,t,r)=>{"use strict";function n(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}r.r(t),r.d(t,{default:()=>n})},9279:(e,t,r)=>{"use strict";function n(e,t){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}r.r(t),r.d(t,{default:()=>n})},4178:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===n(t)?t:String(t)}function i(e,t,r){return(t=a(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r.r(t),r.d(t,{default:()=>s})},3724:(e,t,r)=>{"use strict";function n(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}r.r(t),r.d(t,{default:()=>n})},2874:(e,t,r)=>{var n=r(2582),a=r(3396),i=r(5476),o=r(4386),s=i.data,c=i.normalize,l="USE_FUNCTION_CONSTRUCTOR",u="AsyncIteratorPrototype",d=function(e,t){if(a(e))for(var r=0;r<e.length;r++)s[c(e[r])]=t};e.exports=function(e){"object"==typeof e&&(d(e.useNative,i.NATIVE),d(e.usePolyfill,i.POLYFILL),d(e.useFeatureDetection,null),n(e,l)&&(o[l]=!!e[l]),n(e,u)&&(o[l]=e[u]))}},2799:e=>{e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},5577:(e,t,r)=>{var n=r(3394);e.exports=function(e){if(!n(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},6964:(e,t,r)=>{var n=r(3461),a=r(8561),i=r(4142),o=n("unscopables"),s=Array.prototype;null==s[o]&&i.f(s,o,{configurable:!0,value:a(null)}),e.exports=function(e){s[o][e]=!0}},8501:(e,t,r)=>{"use strict";var n=r(2430).charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},2378:e=>{e.exports=function(e,t,r){if(!(e instanceof t))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return e}},372:(e,t,r)=>{var n=r(3394);e.exports=function(e){if(!n(e))throw TypeError(String(e)+" is not an object");return e}},2171:e=>{e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},9064:(e,t,r)=>{"use strict";var a,i=r(2171),o=r(1644),s=r(4380),c=r(3394),l=r(2582),u=r(9085),d=r(8528),p=r(9059),f=r(4142).f,h=r(4879),g=r(8476),v=r(3461),m=r(992),y=s.Int8Array,b=y&&y.prototype,_=s.Uint8ClampedArray,w=_&&_.prototype,I=y&&h(y),S=b&&h(b),k=Object.prototype,C=k.isPrototypeOf,T=v("toStringTag"),E=m("TYPED_ARRAY_TAG"),A=i&&!!g&&"Opera"!==u(s.opera),P=!1,x={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},M={BigInt64Array:8,BigUint64Array:8},R=function(e){if(!c(e))return!1;var t=u(e);return l(x,t)||l(M,t)};for(a in x)s[a]||(A=!1);if((!A||"function"!=typeof I||I===n.prototype)&&(I=function(){throw TypeError("Incorrect invocation")},A))for(a in x)s[a]&&g(s[a],I);if((!A||!S||S===k)&&(S=I.prototype,A))for(a in x)s[a]&&g(s[a].prototype,S);if(A&&h(w)!==S&&g(w,S),o&&!l(S,T))for(a in P=!0,f(S,T,{get:function(){return c(this)?this[E]:void 0}}),x)s[a]&&d(s[a],E,a);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:A,TYPED_ARRAY_TAG:P&&E,aTypedArray:function(e){if(R(e))return e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(e){if(g){if(C.call(I,e))return e}else for(var t in x)if(l(x,a)){var r=s[t];if(r&&(e===r||C.call(r,e)))return e}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(e,t,r){if(o){if(r)for(var n in x){var a=s[n];if(a&&l(a.prototype,e))try{delete a.prototype[e]}catch(e){}}S[e]&&!r||p(S,e,r?t:A&&b[e]||t)}},exportTypedArrayStaticMethod:function(e,t,r){var n,a;if(o){if(g){if(r)for(n in x)if((a=s[n])&&l(a,e))try{delete a[e]}catch(e){}if(I[e]&&!r)return;try{return p(I,e,r?t:A&&I[e]||t)}catch(e){}}for(n in x)!(a=s[n])||a[e]&&!r||p(a,e,t)}},isView:function(e){if(!c(e))return!1;var t=u(e);return"DataView"===t||l(x,t)||l(M,t)},isTypedArray:R,TypedArray:I,TypedArrayPrototype:S}},8806:(e,t,r)=>{"use strict";var n=r(4380),a=r(1644),i=r(2171),o=r(8528),s=r(6901),c=r(4330),l=r(2378),u=r(4072),d=r(4353),p=r(2961),f=r(5936),h=r(4879),g=r(8476),v=r(9819).f,m=r(4142).f,y=r(9625),b=r(923),_=r(9676),w=_.get,I=_.set,S="ArrayBuffer",k="DataView",C="prototype",T="Wrong index",E=n[S],A=E,P=n[k],x=P&&P[C],M=Object.prototype,R=n.RangeError,D=f.pack,L=f.unpack,N=function(e){return[255&e]},O=function(e){return[255&e,e>>8&255]},B=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},j=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},F=function(e){return D(e,23,4)},U=function(e){return D(e,52,8)},W=function(e,t){m(e[C],t,{get:function(){return w(this)[t]}})},G=function(e,t,r,n){var a=p(r),i=w(e);if(a+t>i.byteLength)throw R(T);var o=w(i.buffer).bytes,s=a+i.byteOffset,c=o.slice(s,s+t);return n?c:c.reverse()},V=function(e,t,r,n,a,i){var o=p(r),s=w(e);if(o+t>s.byteLength)throw R(T);for(var c=w(s.buffer).bytes,l=o+s.byteOffset,u=n(+a),d=0;d<t;d++)c[l+d]=u[i?d:t-d-1]};if(i){if(!c((function(){E(1)}))||!c((function(){new E(-1)}))||c((function(){return new E,new E(1.5),new E(NaN),E.name!=S}))){for(var $,q=(A=function(e){return l(this,A),new E(p(e))})[C]=E[C],z=v(E),Z=0;z.length>Z;)($=z[Z++])in A||o(A,$,E[$]);q.constructor=A}g&&h(x)!==M&&g(x,M);var H=new P(new A(2)),K=x.setInt8;H.setInt8(0,2147483648),H.setInt8(1,2147483649),!H.getInt8(0)&&H.getInt8(1)||s(x,{setInt8:function(e,t){K.call(this,e,t<<24>>24)},setUint8:function(e,t){K.call(this,e,t<<24>>24)}},{unsafe:!0})}else A=function(e){l(this,A,S);var t=p(e);I(this,{bytes:y.call(new Array(t),0),byteLength:t}),a||(this.byteLength=t)},P=function(e,t,r){l(this,P,k),l(e,A,k);var n=w(e).byteLength,i=u(t);if(i<0||i>n)throw R("Wrong offset");if(i+(r=void 0===r?n-i:d(r))>n)throw R("Wrong length");I(this,{buffer:e,byteLength:r,byteOffset:i}),a||(this.buffer=e,this.byteLength=r,this.byteOffset=i)},a&&(W(A,"byteLength"),W(P,"buffer"),W(P,"byteLength"),W(P,"byteOffset")),s(P[C],{getInt8:function(e){return G(this,1,e)[0]<<24>>24},getUint8:function(e){return G(this,1,e)[0]},getInt16:function(e){var t=G(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=G(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return j(G(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return j(G(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return L(G(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return L(G(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){V(this,1,e,N,t)},setUint8:function(e,t){V(this,1,e,N,t)},setInt16:function(e,t){V(this,2,e,O,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){V(this,2,e,O,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){V(this,4,e,B,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){V(this,4,e,B,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){V(this,4,e,F,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){V(this,8,e,U,t,arguments.length>2?arguments[2]:void 0)}});b(A,S),b(P,k),e.exports={ArrayBuffer:A,DataView:P}},9625:(e,t,r)=>{"use strict";var n=r(5141),a=r(6156),i=r(4353);e.exports=function(e){for(var t=n(this),r=i(t.length),o=arguments.length,s=a(o>1?arguments[1]:void 0,r),c=o>2?arguments[2]:void 0,l=void 0===c?r:a(c,r);l>s;)t[s++]=e;return t}},6550:(e,t,r)=>{var n=r(4749),a=r(4353),i=r(6156),o=function(e){return function(t,r,o){var s,c=n(t),l=a(c.length),u=i(o,l);if(e&&r!=r){for(;l>u;)if((s=c[u++])!=s)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===r)return e||u||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},4832:(e,t,r)=>{var n=r(1466),a=r(3043),i=r(5141),o=r(4353),s=function(e){var t=6==e;return function(r,s,c){for(var l,u=i(r),d=a(u),p=n(s,c,3),f=o(d.length);f-- >0;)if(p(l=d[f],f,u))switch(e){case 5:return l;case 6:return f}return t?-1:void 0}};e.exports={findLast:s(5),findLastIndex:s(6)}},7139:(e,t,r)=>{var n=r(1466),a=r(3043),i=r(5141),o=r(4353),s=r(5484),c=[].push,l=function(e){var t=1==e,r=2==e,l=3==e,u=4==e,d=6==e,p=7==e,f=5==e||d;return function(h,g,v,m){for(var y,b,_=i(h),w=a(_),I=n(g,v,3),S=o(w.length),k=0,C=m||s,T=t?C(h,S):r||p?C(h,0):void 0;S>k;k++)if((f||k in w)&&(b=I(y=w[k],k,_),e))if(t)T[k]=b;else if(b)switch(e){case 3:return!0;case 5:return y;case 6:return k;case 2:c.call(T,y)}else switch(e){case 4:return!1;case 7:c.call(T,y)}return d?-1:l||u?u:T}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterOut:l(7)}},9813:(e,t,r)=>{"use strict";var n=r(4330);e.exports=function(e,t){var r=[][e];return!!r&&n((function(){r.call(null,t||function(){throw 1},1)}))}},4067:(e,t,r)=>{var n=r(2799),a=r(5141),i=r(3043),o=r(4353),s=function(e){return function(t,r,s,c){n(r);var l=a(t),u=i(l),d=o(l.length),p=e?d-1:0,f=e?-1:1;if(s<2)for(;;){if(p in u){c=u[p],p+=f;break}if(p+=f,e?p<0:d<=p)throw TypeError("Reduce of empty array with no initial value")}for(;e?p>=0:d>p;p+=f)p in u&&(c=r(c,u[p],p,l));return c}};e.exports={left:s(!1),right:s(!0)}},9091:e=>{var t=Math.floor,r=function(e,i){var o=e.length,s=t(o/2);return o<8?n(e,i):a(r(e.slice(0,s),i),r(e.slice(s),i),i)},n=function(e,t){for(var r,n,a=e.length,i=1;i<a;){for(n=i,r=e[i];n&&t(e[n-1],r)>0;)e[n]=e[--n];n!==i++&&(e[n]=r)}return e},a=function(e,t,r){for(var n=e.length,a=t.length,i=0,o=0,s=[];i<n||o<a;)i<n&&o<a?s.push(r(e[i],t[o])<=0?e[i++]:t[o++]):s.push(i<n?e[i++]:t[o++]);return s};e.exports=r},5484:(e,t,r)=>{var n=r(3394),a=r(3396),i=r(3461)("species");e.exports=function(e,t){var r;return a(e)&&("function"!=typeof(r=e.constructor)||r!==Array&&!a(r.prototype)?n(r)&&null===(r=r[i])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},7303:(e,t,r)=>{"use strict";var n=r(3759),a=r(2799),i=r(372),o=r(8561),s=r(8528),c=r(6901),l=r(3461),u=r(9676),d=r(6274)("Promise"),p=u.set,f=u.get,h=l("toStringTag"),g=function(e){var t=f(this).iterator,r=t.return;return void 0===r?d.resolve({done:!0,value:e}):i(r.call(t,e))},v=function(e){var t=f(this).iterator,r=t.throw;return void 0===r?d.reject(e):r.call(t,e)};e.exports=function(e,t){var r=function(e){e.next=a(e.iterator.next),e.done=!1,p(this,e)};return r.prototype=c(o(n.AsyncIterator.prototype),{next:function(t){var r=f(this);if(r.done)return d.resolve({done:!0,value:void 0});try{return d.resolve(i(e.call(r,t,d)))}catch(e){return d.reject(e)}},return:g,throw:v}),t||s(r.prototype,h,"Generator"),r}},4445:(e,t,r)=>{"use strict";var n=r(2799),a=r(372),i=r(6274)("Promise"),o=[].push,s=function(e){var t=0==e,r=1==e,s=2==e,c=3==e;return function(e,l){a(e);var u=n(e.next),d=t?[]:void 0;return t||n(l),new i((function(n,p){var f=function(t,r){try{var n=e.return;if(void 0!==n)return i.resolve(n.call(e)).then((function(){t(r)}),(function(e){p(e)}))}catch(e){return p(e)}t(r)},h=function(e){f(p,e)},g=function(){try{i.resolve(a(u.call(e))).then((function(e){try{if(a(e).done)n(t?d:!c&&(s||void 0));else{var u=e.value;t?(o.call(d,u),g()):i.resolve(l(u)).then((function(e){r?g():s?e?g():f(n,!1):e?f(n,c||u):g()}),h)}}catch(e){h(e)}}),h)}catch(e){h(e)}};g()}))}};e.exports={toArray:s(0),forEach:s(1),every:s(2),some:s(3),find:s(4)}},9415:(e,t,r)=>{var a,i,o=r(4380),s=r(4386),c=r(4879),l=r(2582),u=r(8528),d=r(3461),p=r(3481),f="USE_FUNCTION_CONSTRUCTOR",h=d("asyncIterator"),g=o.AsyncIterator,v=s.AsyncIteratorPrototype;if(!p)if(v)a=v;else if("function"==typeof g)a=g.prototype;else if(s[f]||o[f])try{i=c(c(c(n("return async function*(){}()")()))),c(i)===Object.prototype&&(a=i)}catch(e){}a||(a={}),l(a,h)||u(a,h,(function(){return this})),e.exports=a},9841:(e,t,r)=>{var n=r(372),a=r(2976);e.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(t){throw a(e),t}}},5987:(e,t,r)=>{var n=r(3461)("iterator"),a=!1;try{var i=0,o={next:function(){return{done:!!i++}},return:function(){a=!0}};o[n]=function(){return this},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!a)return!1;var r=!1;try{var i={};i[n]=function(){return{next:function(){return{done:r=!0}}}},e(i)}catch(e){}return r}},4849:e=>{var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},9085:(e,t,r)=>{var n=r(7427),a=r(4849),i=r(3461)("toStringTag"),o="Arguments"==a(function(){return arguments}());e.exports=n?a:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?r:o?a(t):"Object"==(n=a(t))&&"function"==typeof t.callee?"Arguments":n}},8646:(e,t,r)=>{var n=r(2582),a=r(7534),i=r(294),o=r(4142);e.exports=function(e,t){for(var r=a(t),s=o.f,c=i.f,l=0;l<r.length;l++){var u=r[l];n(e,u)||s(e,u,c(t,u))}}},4580:(e,t,r)=>{var n=r(4330);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},8859:(e,t,r)=>{"use strict";var n=r(2937).IteratorPrototype,a=r(8561),i=r(1074),o=r(923),s=r(1337),c=function(){return this};e.exports=function(e,t,r){var l=t+" Iterator";return e.prototype=a(n,{next:i(1,r)}),o(e,l,!1,!0),s[l]=c,e}},8528:(e,t,r)=>{var n=r(1644),a=r(4142),i=r(1074);e.exports=n?function(e,t,r){return a.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},1074:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},7556:(e,t,r)=>{"use strict";var n=r(5698),a=r(4142),i=r(1074);e.exports=function(e,t,r){var o=n(t);o in e?a.f(e,o,i(0,r)):e[o]=r}},1205:(e,t,r)=>{var n=r(3759),a=r(2582),i=r(1806),o=r(4142).f;e.exports=function(e){var t=n.Symbol||(n.Symbol={});a(t,e)||o(t,e,{value:i.f(e)})}},1644:(e,t,r)=>{var n=r(4330);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},8370:(e,t,r)=>{var n=r(4380),a=r(3394),i=n.document,o=a(i)&&a(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},6173:(e,t,r)=>{var n=r(661).match(/firefox\/(\d+)/i);e.exports=!!n&&+n[1]},8623:e=>{e.exports="object"==typeof window},5308:(e,t,r)=>{var n=r(661);e.exports=/MSIE|Trident/.test(n)},5692:(e,t,r)=>{var n=r(661);e.exports=/(?:iphone|ipod|ipad).*applewebkit/i.test(n)},3986:(e,t,r)=>{var n=r(4849),a=r(4380);e.exports="process"==n(a.process)},8927:(e,t,r)=>{var n=r(661);e.exports=/web0s(?!.*chrome)/i.test(n)},661:(e,t,r)=>{var n=r(6274);e.exports=n("navigator","userAgent")||""},2136:(e,t,r)=>{var n,a,i=r(4380),o=r(661),s=i.process,c=s&&s.versions,l=c&&c.v8;l?a=(n=l.split("."))[0]<4?1:n[0]+n[1]:o&&(!(n=o.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=o.match(/Chrome\/(\d+)/))&&(a=n[1]),e.exports=a&&+a},9632:(e,t,r)=>{var n=r(661).match(/AppleWebKit\/(\d+)\./);e.exports=!!n&&+n[1]},8398:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},6753:(e,t,r)=>{var n=r(4380),a=r(294).f,i=r(8528),o=r(9059),s=r(485),c=r(8646),l=r(5476);e.exports=function(e,t){var r,u,d,p,f,h=e.target,g=e.global,v=e.stat;if(r=g?n:v?n[h]||s(h,{}):(n[h]||{}).prototype)for(u in t){if(p=t[u],d=e.noTargetGet?(f=a(r,u))&&f.value:r[u],!l(g?u:h+(v?".":"#")+u,e.forced)&&void 0!==d){if(typeof p==typeof d)continue;c(p,d)}(e.sham||d&&d.sham)&&i(p,"sham",!0),o(r,u,p,e)}}},4330:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},225:(e,t,r)=>{"use strict";r(9437);var n=r(9059),a=r(7879),i=r(4330),o=r(3461),s=r(8528),c=o("species"),l=RegExp.prototype;e.exports=function(e,t,r,u){var d=o(e),p=!i((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),f=p&&!i((function(){var t=!1,r=/a/;return"split"===e&&((r={}).constructor={},r.constructor[c]=function(){return r},r.flags="",r[d]=/./[d]),r.exec=function(){return t=!0,null},r[d](""),!t}));if(!p||!f||r){var h=/./[d],g=t(d,""[e],(function(e,t,r,n,i){var o=t.exec;return o===a||o===l.exec?p&&!i?{done:!0,value:h.call(t,r,n)}:{done:!0,value:e.call(r,t,n)}:{done:!1}}));n(String.prototype,e,g[0]),n(l,d,g[1])}u&&s(l[d],"sham",!0)}},6614:(e,t,r)=>{"use strict";var n=r(3396),a=r(4353),i=r(1466),o=function(e,t,r,s,c,l,u,d){for(var p,f=c,h=0,g=!!u&&i(u,d,3);h<s;){if(h in r){if(p=g?g(r[h],h,t):r[h],l>0&&n(p))f=o(e,t,p,a(p.length),f,l-1)-1;else{if(f>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[f]=p}f++}h++}return f};e.exports=o},1466:(e,t,r)=>{var n=r(2799);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 0:return function(){return e.call(t)};case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,a){return e.call(t,r,n,a)}}return function(){return e.apply(t,arguments)}}},153:(e,t,r)=>{var n=r(5225),a=r(3461)("asyncIterator");e.exports=function(e){var t=e[a];return void 0===t?n(e):t}},6274:(e,t,r)=>{var n=r(3759),a=r(4380),i=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?i(n[e])||i(a[e]):n[e]&&n[e][t]||a[e]&&a[e][t]}},5225:(e,t,r)=>{var n=r(9085),a=r(1337),i=r(3461)("iterator");e.exports=function(e){if(null!=e)return e[i]||e["@@iterator"]||a[n(e)]}},1884:(e,t,r)=>{var n=r(5141),a=Math.floor,i="".replace,o=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,s=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,r,c,l,u){var d=r+e.length,p=c.length,f=s;return void 0!==l&&(l=n(l),f=o),i.call(u,f,(function(n,i){var o;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(d);case"<":o=l[i.slice(1,-1)];break;default:var s=+i;if(0===s)return n;if(s>p){var u=a(s/10);return 0===u?n:u<=p?void 0===c[u-1]?i.charAt(1):c[u-1]+i.charAt(1):n}o=c[s-1]}return void 0===o?"":o}))}},4380:(e,t,r)=>{var a=function(e){return e&&e.Math==Math&&e};e.exports=a("object"==typeof globalThis&&globalThis)||a("object"==typeof window&&window)||a("object"==typeof self&&self)||a("object"==typeof r.g&&r.g)||function(){return this}()||n("return this")()},2582:(e,t,r)=>{var n=r(5141),a={}.hasOwnProperty;e.exports=Object.hasOwn||function(e,t){return a.call(n(e),t)}},2687:e=>{e.exports={}},916:(e,t,r)=>{var n=r(4380);e.exports=function(e,t){var r=n.console;r&&r.error&&(1===arguments.length?r.error(e):r.error(e,t))}},7162:(e,t,r)=>{var n=r(6274);e.exports=n("document","documentElement")},3258:(e,t,r)=>{var n=r(1644),a=r(4330),i=r(8370);e.exports=!n&&!a((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},5936:e=>{var t=Math.abs,r=Math.pow,n=Math.floor,a=Math.log,i=Math.LN2;e.exports={pack:function(e,o,s){var c,l,u,d=new Array(s),p=8*s-o-1,f=(1<<p)-1,h=f>>1,g=23===o?r(2,-24)-r(2,-77):0,v=e<0||0===e&&1/e<0?1:0,m=0;for((e=t(e))!=e||e===1/0?(l=e!=e?1:0,c=f):(c=n(a(e)/i),e*(u=r(2,-c))<1&&(c--,u*=2),(e+=c+h>=1?g/u:g*r(2,1-h))*u>=2&&(c++,u/=2),c+h>=f?(l=0,c=f):c+h>=1?(l=(e*u-1)*r(2,o),c+=h):(l=e*r(2,h-1)*r(2,o),c=0));o>=8;d[m++]=255&l,l/=256,o-=8);for(c=c<<o|l,p+=o;p>0;d[m++]=255&c,c/=256,p-=8);return d[--m]|=128*v,d},unpack:function(e,t){var n,a=e.length,i=8*a-t-1,o=(1<<i)-1,s=o>>1,c=i-7,l=a-1,u=e[l--],d=127&u;for(u>>=7;c>0;d=256*d+e[l],l--,c-=8);for(n=d&(1<<-c)-1,d>>=-c,c+=t;c>0;n=256*n+e[l],l--,c-=8);if(0===d)d=1-s;else{if(d===o)return n?NaN:u?-1/0:1/0;n+=r(2,t),d-=s}return(u?-1:1)*n*r(2,d-t)}}},3043:(e,t,r)=>{var n=r(4330),a=r(4849),i="".split;e.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?i.call(e,""):Object(e)}:Object},2612:(e,t,r)=>{var n=r(3394),a=r(8476);e.exports=function(e,t,r){var i,o;return a&&"function"==typeof(i=t.constructor)&&i!==r&&n(o=i.prototype)&&o!==r.prototype&&a(e,o),e}},5487:(e,t,r)=>{var a=r(4386),i=n.toString;"function"!=typeof a.inspectSource&&(a.inspectSource=function(e){return i.call(e)}),e.exports=a.inspectSource},9676:(e,t,r)=>{var n,a,i,o=r(8242),s=r(4380),c=r(3394),l=r(8528),u=r(2582),d=r(4386),p=r(1453),f=r(2687),h="Object already initialized",g=s.WeakMap;if(o||d.state){var v=d.state||(d.state=new g),m=v.get,y=v.has,b=v.set;n=function(e,t){if(y.call(v,e))throw new TypeError(h);return t.facade=e,b.call(v,e,t),t},a=function(e){return m.call(v,e)||{}},i=function(e){return y.call(v,e)}}else{var _=p("state");f[_]=!0,n=function(e,t){if(u(e,_))throw new TypeError(h);return t.facade=e,l(e,_,t),t},a=function(e){return u(e,_)?e[_]:{}},i=function(e){return u(e,_)}}e.exports={set:n,get:a,has:i,enforce:function(e){return i(e)?a(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!c(t)||(r=a(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return r}}}},588:(e,t,r)=>{var n=r(3461),a=r(1337),i=n("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(a.Array===e||o[i]===e)}},3396:(e,t,r)=>{var n=r(4849);e.exports=Array.isArray||function(e){return"Array"==n(e)}},5476:(e,t,r)=>{var n=r(4330),a=/#|\.prototype\./,i=function(e,t){var r=s[o(e)];return r==l||r!=c&&("function"==typeof t?n(t):!!t)},o=i.normalize=function(e){return String(e).replace(a,".").toLowerCase()},s=i.data={},c=i.NATIVE="N",l=i.POLYFILL="P";e.exports=i},3394:e=>{e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},3481:e=>{e.exports=!1},8410:(e,t,r)=>{var n=r(3394),a=r(4849),i=r(3461)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==a(e))}},3984:(e,t,r)=>{var n=r(372),a=r(588),i=r(4353),o=r(1466),s=r(5225),c=r(2976),l=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,r){var u,d,p,f,h,g,v,m=r&&r.that,y=!(!r||!r.AS_ENTRIES),b=!(!r||!r.IS_ITERATOR),_=!(!r||!r.INTERRUPTED),w=o(t,m,1+y+_),I=function(e){return u&&c(u),new l(!0,e)},S=function(e){return y?(n(e),_?w(e[0],e[1],I):w(e[0],e[1])):_?w(e,I):w(e)};if(b)u=e;else{if("function"!=typeof(d=s(e)))throw TypeError("Target is not iterable");if(a(d)){for(p=0,f=i(e.length);f>p;p++)if((h=S(e[p]))&&h instanceof l)return h;return new l(!1)}u=d.call(e)}for(g=u.next;!(v=g.call(u)).done;){try{h=S(v.value)}catch(e){throw c(u),e}if("object"==typeof h&&h&&h instanceof l)return h}return new l(!1)}},2976:(e,t,r)=>{var n=r(372);e.exports=function(e){var t=e.return;if(void 0!==t)return n(t.call(e)).value}},8212:(e,t,r)=>{"use strict";var n=r(3759),a=r(2799),i=r(372),o=r(8561),s=r(8528),c=r(6901),l=r(3461),u=r(9676),d=u.set,p=u.get,f=l("toStringTag"),h=function(e){var t=p(this).iterator,r=t.return;return void 0===r?{done:!0,value:e}:i(r.call(t,e))},g=function(e){var t=p(this).iterator,r=t.throw;if(void 0===r)throw e;return r.call(t,e)};e.exports=function(e,t){var r=function(e){e.next=a(e.iterator.next),e.done=!1,d(this,e)};return r.prototype=c(o(n.Iterator.prototype),{next:function(){var t=p(this),r=t.done?void 0:e.apply(t,arguments);return{done:t.done,value:r}},return:h,throw:g}),t||s(r.prototype,f,"Generator"),r}},2937:(e,t,r)=>{"use strict";var n,a,i,o=r(4330),s=r(4879),c=r(8528),l=r(2582),u=r(3461),d=r(3481),p=u("iterator"),f=!1;[].keys&&("next"in(i=[].keys())?(a=s(s(i)))!==Object.prototype&&(n=a):f=!0);var h=null==n||o((function(){var e={};return n[p].call(e)!==e}));h&&(n={}),d&&!h||l(n,p)||c(n,p,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:f}},1337:e=>{e.exports={}},1684:(e,t,r)=>{var n,a,i,o,s,c,l,u,d=r(4380),p=r(294).f,f=r(4869).set,h=r(5692),g=r(8927),v=r(3986),m=d.MutationObserver||d.WebKitMutationObserver,y=d.document,b=d.process,_=d.Promise,w=p(d,"queueMicrotask"),I=w&&w.value;I||(n=function(){var e,t;for(v&&(e=b.domain)&&e.exit();a;){t=a.fn,a=a.next;try{t()}catch(e){throw a?o():i=void 0,e}}i=void 0,e&&e.enter()},h||v||g||!m||!y?_&&_.resolve?((l=_.resolve(void 0)).constructor=_,u=l.then,o=function(){u.call(l,n)}):o=v?function(){b.nextTick(n)}:function(){f.call(d,n)}:(s=!0,c=y.createTextNode(""),new m(n).observe(c,{characterData:!0}),o=function(){c.data=s=!s})),e.exports=I||function(e){var t={fn:e,next:void 0};i&&(i.next=t),a||(a=t,o()),i=t}},3535:(e,t,r)=>{var n=r(4380);e.exports=n.Promise},5845:(e,t,r)=>{var n=r(2136),a=r(4330);e.exports=!!Object.getOwnPropertySymbols&&!a((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},8242:(e,t,r)=>{var n=r(4380),a=r(5487),i=n.WeakMap;e.exports="function"==typeof i&&/native code/.test(a(i))},3288:(e,t,r)=>{"use strict";var n=r(2799),a=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n})),this.resolve=n(t),this.reject=n(r)};e.exports.f=function(e){return new a(e)}},8787:(e,t,r)=>{var n=r(4380),a=r(1380).trim,i=r(7612),o=n.parseFloat,s=1/o(i+"-0")!=-1/0;e.exports=s?function(e){var t=a(String(e)),r=o(t);return 0===r&&"-"==t.charAt(0)?-0:r}:o},8561:(e,t,r)=>{var n,a=r(372),i=r(7197),o=r(8398),s=r(2687),c=r(7162),l=r(8370),u=r(1453),d="prototype",p="script",f=u("IE_PROTO"),h=function(){},g=function(e){return"<"+p+">"+e+"</"+p+">"},v=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t,r;v=n?function(e){e.write(g("")),e.close();var t=e.parentWindow.Object;return e=null,t}(n):(t=l("iframe"),r="java"+p+":",t.style.display="none",c.appendChild(t),t.src=String(r),(e=t.contentWindow.document).open(),e.write(g("document.F=Object")),e.close(),e.F);for(var a=o.length;a--;)delete v[d][o[a]];return v()};s[f]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(h[d]=a(e),r=new h,h[d]=null,r[f]=e):r=v(),void 0===t?r:i(r,t)}},7197:(e,t,r)=>{var n=r(1644),a=r(4142),i=r(372),o=r(5313);e.exports=n?Object.defineProperties:function(e,t){i(e);for(var r,n=o(t),s=n.length,c=0;s>c;)a.f(e,r=n[c++],t[r]);return e}},4142:(e,t,r)=>{var n=r(1644),a=r(3258),i=r(372),o=r(5698),s=Object.defineProperty;t.f=n?s:function(e,t,r){if(i(e),t=o(t,!0),i(r),a)try{return s(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},294:(e,t,r)=>{var n=r(1644),a=r(8078),i=r(1074),o=r(4749),s=r(5698),c=r(2582),l=r(3258),u=Object.getOwnPropertyDescriptor;t.f=n?u:function(e,t){if(e=o(e),t=s(t,!0),l)try{return u(e,t)}catch(e){}if(c(e,t))return i(!a.f.call(e,t),e[t])}},9819:(e,t,r)=>{var n=r(8891),a=r(8398).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,a)}},7840:(e,t)=>{t.f=Object.getOwnPropertySymbols},4879:(e,t,r)=>{var n=r(2582),a=r(5141),i=r(1453),o=r(4580),s=i("IE_PROTO"),c=Object.prototype;e.exports=o?Object.getPrototypeOf:function(e){return e=a(e),n(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?c:null}},8891:(e,t,r)=>{var n=r(2582),a=r(4749),i=r(6550).indexOf,o=r(2687);e.exports=function(e,t){var r,s=a(e),c=0,l=[];for(r in s)!n(o,r)&&n(s,r)&&l.push(r);for(;t.length>c;)n(s,r=t[c++])&&(~i(l,r)||l.push(r));return l}},5313:(e,t,r)=>{var n=r(8891),a=r(8398);e.exports=Object.keys||function(e){return n(e,a)}},8078:(e,t)=>{"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,a=n&&!r.call({1:2},1);t.f=a?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},8476:(e,t,r)=>{var n=r(372),a=r(5577);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),t=r instanceof Array}catch(e){}return function(r,i){return n(r),a(i),t?e.call(r,i):r.__proto__=i,r}}():void 0)},5686:(e,t,r)=>{var n=r(1644),a=r(5313),i=r(4749),o=r(8078).f,s=function(e){return function(t){for(var r,s=i(t),c=a(s),l=c.length,u=0,d=[];l>u;)r=c[u++],n&&!o.call(s,r)||d.push(e?[r,s[r]]:s[r]);return d}};e.exports={entries:s(!0),values:s(!1)}},7534:(e,t,r)=>{var n=r(6274),a=r(9819),i=r(7840),o=r(372);e.exports=n("Reflect","ownKeys")||function(e){var t=a.f(o(e)),r=i.f;return r?t.concat(r(e)):t}},3759:(e,t,r)=>{var n=r(4380);e.exports=n},561:e=>{e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},3443:(e,t,r)=>{var n=r(372),a=r(3394),i=r(3288);e.exports=function(e,t){if(n(e),a(t)&&t.constructor===e)return t;var r=i.f(e);return(0,r.resolve)(t),r.promise}},6901:(e,t,r)=>{var n=r(9059);e.exports=function(e,t,r){for(var a in t)n(e,a,t[a],r);return e}},9059:(e,t,r)=>{var a=r(4380),i=r(8528),o=r(2582),s=r(485),c=r(5487),l=r(9676),u=l.get,d=l.enforce,p=String(String).split("String");(e.exports=function(e,t,r,n){var c,l=!!n&&!!n.unsafe,u=!!n&&!!n.enumerable,f=!!n&&!!n.noTargetGet;"function"==typeof r&&("string"!=typeof t||o(r,"name")||i(r,"name",t),(c=d(r)).source||(c.source=p.join("string"==typeof t?t:""))),e!==a?(l?!f&&e[t]&&(u=!0):delete e[t],u?e[t]=r:i(e,t,r)):u?e[t]=r:s(t,r)})(n.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||c(this)}))},3519:(e,t,r)=>{var n=r(4849),a=r(7879);e.exports=function(e,t){var r=e.exec;if("function"==typeof r){var i=r.call(e,t);if("object"!=typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==n(e))throw TypeError("RegExp#exec called on incompatible receiver");return a.call(e,t)}},7879:(e,t,r)=>{"use strict";var n,a,i=r(2530),o=r(4016),s=r(138),c=r(8561),l=r(9676).get,u=r(2198),d=r(5618),p=RegExp.prototype.exec,f=s("native-string-replace",String.prototype.replace),h=p,g=(n=/a/,a=/b*/g,p.call(n,"a"),p.call(a,"a"),0!==n.lastIndex||0!==a.lastIndex),v=o.UNSUPPORTED_Y||o.BROKEN_CARET,m=void 0!==/()??/.exec("")[1];(g||m||v||u||d)&&(h=function(e){var t,r,n,a,o,s,u,d=this,y=l(d),b=y.raw;if(b)return b.lastIndex=d.lastIndex,t=h.call(b,e),d.lastIndex=b.lastIndex,t;var _=y.groups,w=v&&d.sticky,I=i.call(d),S=d.source,k=0,C=e;if(w&&(-1===(I=I.replace("y","")).indexOf("g")&&(I+="g"),C=String(e).slice(d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==e[d.lastIndex-1])&&(S="(?: "+S+")",C=" "+C,k++),r=new RegExp("^(?:"+S+")",I)),m&&(r=new RegExp("^"+S+"$(?!\\s)",I)),g&&(n=d.lastIndex),a=p.call(w?r:d,C),w?a?(a.input=a.input.slice(k),a[0]=a[0].slice(k),a.index=d.lastIndex,d.lastIndex+=a[0].length):d.lastIndex=0:g&&a&&(d.lastIndex=d.global?a.index+a[0].length:n),m&&a&&a.length>1&&f.call(a[0],r,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(a[o]=void 0)})),a&&_)for(a.groups=s=c(null),o=0;o<_.length;o++)s[(u=_[o])[0]]=a[u[1]];return a}),e.exports=h},2530:(e,t,r)=>{"use strict";var n=r(372);e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},4016:(e,t,r)=>{var n=r(4330),a=function(e,t){return RegExp(e,t)};t.UNSUPPORTED_Y=n((function(){var e=a("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=n((function(){var e=a("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},2198:(e,t,r)=>{var n=r(4330);e.exports=n((function(){var e=RegExp(".","string".charAt(0));return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},5618:(e,t,r)=>{var n=r(4330);e.exports=n((function(){var e=RegExp("(?<a>b)","string".charAt(5));return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},6190:e=>{e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},485:(e,t,r)=>{var n=r(4380),a=r(8528);e.exports=function(e,t){try{a(n,e,t)}catch(r){n[e]=t}return t}},8505:(e,t,r)=>{"use strict";var n=r(6274),a=r(4142),i=r(3461),o=r(1644),s=i("species");e.exports=function(e){var t=n(e),r=a.f;o&&t&&!t[s]&&r(t,s,{configurable:!0,get:function(){return this}})}},923:(e,t,r)=>{var n=r(4142).f,a=r(2582),i=r(3461)("toStringTag");e.exports=function(e,t,r){e&&!a(e=r?e:e.prototype,i)&&n(e,i,{configurable:!0,value:t})}},1453:(e,t,r)=>{var n=r(138),a=r(992),i=n("keys");e.exports=function(e){return i[e]||(i[e]=a(e))}},4386:(e,t,r)=>{var n=r(4380),a=r(485),i="__core-js_shared__",o=n[i]||a(i,{});e.exports=o},138:(e,t,r)=>{var n=r(3481),a=r(4386);(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.15.1",mode:n?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},1749:(e,t,r)=>{var n=r(372),a=r(2799),i=r(3461)("species");e.exports=function(e,t){var r,o=n(e).constructor;return void 0===o||null==(r=n(o)[i])?t:a(r)}},2430:(e,t,r)=>{var n=r(4072),a=r(6190),i=function(e){return function(t,r){var i,o,s=String(a(t)),c=n(r),l=s.length;return c<0||c>=l?e?"":void 0:(i=s.charCodeAt(c))<55296||i>56319||c+1===l||(o=s.charCodeAt(c+1))<56320||o>57343?e?s.charAt(c):i:e?s.slice(c,c+2):o-56320+(i-55296<<10)+65536}};e.exports={codeAt:i(!1),charAt:i(!0)}},4532:(e,t,r)=>{var n=r(661);e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(n)},3295:(e,t,r)=>{var n=r(4353),a=r(3067),i=r(6190),o=Math.ceil,s=function(e){return function(t,r,s){var c,l,u=String(i(t)),d=u.length,p=void 0===s?" ":String(s),f=n(r);return f<=d||""==p?u:(c=f-d,(l=a.call(p,o(c/p.length))).length>c&&(l=l.slice(0,c)),e?u+l:l+u)}};e.exports={start:s(!1),end:s(!0)}},3067:(e,t,r)=>{"use strict";var n=r(4072),a=r(6190);e.exports=function(e){var t=String(a(this)),r="",i=n(e);if(i<0||i==1/0)throw RangeError("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(t+=t))1&i&&(r+=t);return r}},4128:(e,t,r)=>{var n=r(4330),a=r(7612);e.exports=function(e){return n((function(){return!!a[e]()||"​᠎"!="​᠎"[e]()||a[e].name!==e}))}},1380:(e,t,r)=>{var n=r(6190),a="["+r(7612)+"]",i=RegExp("^"+a+a+"*"),o=RegExp(a+a+"*$"),s=function(e){return function(t){var r=String(n(t));return 1&e&&(r=r.replace(i,"")),2&e&&(r=r.replace(o,"")),r}};e.exports={start:s(1),end:s(2),trim:s(3)}},4869:(e,t,r)=>{var a,i,o,s=r(4380),c=r(4330),l=r(1466),u=r(7162),d=r(8370),p=r(5692),f=r(3986),h=s.location,g=s.setImmediate,v=s.clearImmediate,m=s.process,y=s.MessageChannel,b=s.Dispatch,_=0,w={},I="onreadystatechange",S=function(e){if(w.hasOwnProperty(e)){var t=w[e];delete w[e],t()}},k=function(e){return function(){S(e)}},C=function(e){S(e.data)},T=function(e){s.postMessage(e+"",h.protocol+"//"+h.host)};g&&v||(g=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return w[++_]=function(){("function"==typeof e?e:n(e)).apply(void 0,t)},a(_),_},v=function(e){delete w[e]},f?a=function(e){m.nextTick(k(e))}:b&&b.now?a=function(e){b.now(k(e))}:y&&!p?(o=(i=new y).port2,i.port1.onmessage=C,a=l(o.postMessage,o,1)):s.addEventListener&&"function"==typeof postMessage&&!s.importScripts&&h&&"file:"!==h.protocol&&!c(T)?(a=T,s.addEventListener("message",C,!1)):a=I in d("script")?function(e){u.appendChild(d("script"))[I]=function(){u.removeChild(this),S(e)}}:function(e){setTimeout(k(e),0)}),e.exports={set:g,clear:v}},6156:(e,t,r)=>{var n=r(4072),a=Math.max,i=Math.min;e.exports=function(e,t){var r=n(e);return r<0?a(r+t,0):i(r,t)}},2961:(e,t,r)=>{var n=r(4072),a=r(4353);e.exports=function(e){if(void 0===e)return 0;var t=n(e),r=a(t);if(t!==r)throw RangeError("Wrong length or index");return r}},4749:(e,t,r)=>{var n=r(3043),a=r(6190);e.exports=function(e){return n(a(e))}},4072:e=>{var t=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:t)(e)}},4353:(e,t,r)=>{var n=r(4072),a=Math.min;e.exports=function(e){return e>0?a(n(e),9007199254740991):0}},5141:(e,t,r)=>{var n=r(6190);e.exports=function(e){return Object(n(e))}},1477:(e,t,r)=>{var n=r(1048);e.exports=function(e,t){var r=n(e);if(r%t)throw RangeError("Wrong offset");return r}},1048:(e,t,r)=>{var n=r(4072);e.exports=function(e){var t=n(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}},5698:(e,t,r)=>{var n=r(3394);e.exports=function(e,t){if(!n(e))return e;var r,a;if(t&&"function"==typeof(r=e.toString)&&!n(a=r.call(e)))return a;if("function"==typeof(r=e.valueOf)&&!n(a=r.call(e)))return a;if(!t&&"function"==typeof(r=e.toString)&&!n(a=r.call(e)))return a;throw TypeError("Can't convert object to primitive value")}},7427:(e,t,r)=>{var n={};n[r(3461)("toStringTag")]="z",e.exports="[object z]"===String(n)},9140:(e,t,r)=>{"use strict";var n=r(6753),a=r(4380),i=r(1644),o=r(9668),s=r(9064),c=r(8806),l=r(2378),u=r(1074),d=r(8528),p=r(4353),f=r(2961),h=r(1477),g=r(5698),v=r(2582),m=r(9085),y=r(3394),b=r(8561),_=r(8476),w=r(9819).f,I=r(9627),S=r(7139).forEach,k=r(8505),C=r(4142),T=r(294),E=r(9676),A=r(2612),P=E.get,x=E.set,M=C.f,R=T.f,D=Math.round,L=a.RangeError,N=c.ArrayBuffer,O=c.DataView,B=s.NATIVE_ARRAY_BUFFER_VIEWS,j=s.TYPED_ARRAY_TAG,F=s.TypedArray,U=s.TypedArrayPrototype,W=s.aTypedArrayConstructor,G=s.isTypedArray,V="BYTES_PER_ELEMENT",$="Wrong length",q=function(e,t){for(var r=0,n=t.length,a=new(W(e))(n);n>r;)a[r]=t[r++];return a},z=function(e,t){M(e,t,{get:function(){return P(this)[t]}})},Z=function(e){var t;return e instanceof N||"ArrayBuffer"==(t=m(e))||"SharedArrayBuffer"==t},H=function(e,t){return G(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},K=function(e,t){return H(e,t=g(t,!0))?u(2,e[t]):R(e,t)},J=function(e,t,r){return!(H(e,t=g(t,!0))&&y(r)&&v(r,"value"))||v(r,"get")||v(r,"set")||r.configurable||v(r,"writable")&&!r.writable||v(r,"enumerable")&&!r.enumerable?M(e,t,r):(e[t]=r.value,e)};i?(B||(T.f=K,C.f=J,z(U,"buffer"),z(U,"byteOffset"),z(U,"byteLength"),z(U,"length")),n({target:"Object",stat:!0,forced:!B},{getOwnPropertyDescriptor:K,defineProperty:J}),e.exports=function(e,t,r){var i=e.match(/\d+$/)[0]/8,s=e+(r?"Clamped":"")+"Array",c="get"+e,u="set"+e,g=a[s],v=g,m=v&&v.prototype,C={},T=function(e,t){M(e,t,{get:function(){return function(e,t){var r=P(e);return r.view[c](t*i+r.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,n){var a=P(e);r&&(n=(n=D(n))<0?0:n>255?255:255&n),a.view[u](t*i+a.byteOffset,n,!0)}(this,t,e)},enumerable:!0})};B?o&&(v=t((function(e,t,r,n){return l(e,v,s),A(y(t)?Z(t)?void 0!==n?new g(t,h(r,i),n):void 0!==r?new g(t,h(r,i)):new g(t):G(t)?q(v,t):I.call(v,t):new g(f(t)),e,v)})),_&&_(v,F),S(w(g),(function(e){e in v||d(v,e,g[e])})),v.prototype=m):(v=t((function(e,t,r,n){l(e,v,s);var a,o,c,u=0,d=0;if(y(t)){if(!Z(t))return G(t)?q(v,t):I.call(v,t);a=t,d=h(r,i);var g=t.byteLength;if(void 0===n){if(g%i)throw L($);if((o=g-d)<0)throw L($)}else if((o=p(n)*i)+d>g)throw L($);c=o/i}else c=f(t),a=new N(o=c*i);for(x(e,{buffer:a,byteOffset:d,byteLength:o,length:c,view:new O(a)});u<c;)T(e,u++)})),_&&_(v,F),m=v.prototype=b(U)),m.constructor!==v&&d(m,"constructor",v),j&&d(m,j,s),C[s]=v,n({global:!0,forced:v!=g,sham:!B},C),V in v||d(v,V,i),V in m||d(m,V,i),k(s)}):e.exports=function(){}},9668:(e,t,r)=>{var n=r(4380),a=r(4330),i=r(5987),o=r(9064).NATIVE_ARRAY_BUFFER_VIEWS,s=n.ArrayBuffer,c=n.Int8Array;e.exports=!o||!a((function(){c(1)}))||!a((function(){new c(-1)}))||!i((function(e){new c,new c(null),new c(1.5),new c(e)}),!0)||a((function(){return 1!==new c(new s(2),1,void 0).length}))},9627:(e,t,r)=>{var n=r(5141),a=r(4353),i=r(5225),o=r(588),s=r(1466),c=r(9064).aTypedArrayConstructor;e.exports=function(e){var t,r,l,u,d,p,f=n(e),h=arguments.length,g=h>1?arguments[1]:void 0,v=void 0!==g,m=i(f);if(null!=m&&!o(m))for(p=(d=m.call(f)).next,f=[];!(u=p.call(d)).done;)f.push(u.value);for(v&&h>2&&(g=s(g,arguments[2],2)),r=a(f.length),l=new(c(this))(r),t=0;r>t;t++)l[t]=v?g(f[t],t):f[t];return l}},992:e=>{var t=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++t+r).toString(36)}},7665:(e,t,r)=>{var n=r(5845);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},1806:(e,t,r)=>{var n=r(3461);t.f=n},3461:(e,t,r)=>{var n=r(4380),a=r(138),i=r(2582),o=r(992),s=r(5845),c=r(7665),l=a("wks"),u=n.Symbol,d=c?u:u&&u.withoutSetter||o;e.exports=function(e){return i(l,e)&&(s||"string"==typeof l[e])||(s&&i(u,e)?l[e]=u[e]:l[e]=d("Symbol."+e)),l[e]}},7612:e=>{e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},4521:(e,t,r)=>{"use strict";var n=r(6753),a=r(4879),i=r(8476),o=r(8561),s=r(8528),c=r(1074),l=r(3984),u=function(e,t){var r=this;if(!(r instanceof u))return new u(e,t);i&&(r=i(new Error(void 0),a(r))),void 0!==t&&s(r,"message",String(t));var n=[];return l(e,n.push,{that:n}),s(r,"errors",n),r};u.prototype=o(Error.prototype,{constructor:c(5,u),message:c(5,""),name:c(5,"AggregateError")}),n({global:!0},{AggregateError:u})},1142:(e,t,r)=>{"use strict";var n=r(6753),a=r(4380),i=r(8806),o=r(8505),s="ArrayBuffer",c=i[s];n({global:!0,forced:a[s]!==c},{ArrayBuffer:c}),o(s)},9525:(e,t,r)=>{"use strict";var n=r(6753),a=r(4330),i=r(8806),o=r(372),s=r(6156),c=r(4353),l=r(1749),u=i.ArrayBuffer,d=i.DataView,p=u.prototype.slice;n({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:a((function(){return!new u(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(void 0!==p&&void 0===t)return p.call(o(this),e);for(var r=o(this).byteLength,n=s(e,r),a=s(void 0===t?r:t,r),i=new(l(this,u))(c(a-n)),f=new d(this),h=new d(i),g=0;n<a;)h.setUint8(g++,f.getUint8(n++));return i}})},685:(e,t,r)=>{"use strict";var n=r(6753),a=r(6614),i=r(5141),o=r(4353),s=r(2799),c=r(5484);n({target:"Array",proto:!0},{flatMap:function(e){var t,r=i(this),n=o(r.length);return s(e),(t=c(r,0)).length=a(t,r,r,n,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},5091:(e,t,r)=>{"use strict";var n=r(6753),a=r(6614),i=r(5141),o=r(4353),s=r(4072),c=r(5484);n({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=i(this),r=o(t.length),n=c(t,0);return n.length=a(n,t,t,r,0,void 0===e?1:s(e)),n}})},3683:(e,t,r)=>{"use strict";var n=r(6753),a=r(4067).right,i=r(9813),o=r(2136),s=r(3986);n({target:"Array",proto:!0,forced:!i("reduceRight")||!s&&o>79&&o<83},{reduceRight:function(e){return a(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},1456:(e,t,r)=>{"use strict";var n=r(6753),a=r(4067).left,i=r(9813),o=r(2136),s=r(3986);n({target:"Array",proto:!0,forced:!i("reduce")||!s&&o>79&&o<83},{reduce:function(e){return a(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},9293:(e,t,r)=>{"use strict";var n=r(6753),a=r(3396),i=[].reverse,o=[1,2];n({target:"Array",proto:!0,forced:String(o)===String(o.reverse())},{reverse:function(){return a(this)&&(this.length=this.length),i.call(this)}})},8495:(e,t,r)=>{"use strict";var n=r(6753),a=r(2799),i=r(5141),o=r(4353),s=r(4330),c=r(9091),l=r(9813),u=r(6173),d=r(5308),p=r(2136),f=r(9632),h=[],g=h.sort,v=s((function(){h.sort(void 0)})),m=s((function(){h.sort(null)})),y=l("sort"),b=!s((function(){if(p)return p<70;if(!(u&&u>3)){if(d)return!0;if(f)return f<603;var e,t,r,n,a="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)h.push({k:t+n,v:r})}for(h.sort((function(e,t){return t.v-e.v})),n=0;n<h.length;n++)t=h[n].k.charAt(0),a.charAt(a.length-1)!==t&&(a+=t);return"DGBEFHACIJK"!==a}}));n({target:"Array",proto:!0,forced:v||!m||!y||!b},{sort:function(e){void 0!==e&&a(e);var t=i(this);if(b)return void 0===e?g.call(t):g.call(t,e);var r,n,s=[],l=o(t.length);for(n=0;n<l;n++)n in t&&s.push(t[n]);for(s=c(s,function(e){return function(t,r){return void 0===r?-1:void 0===t?1:void 0!==e?+e(t,r)||0:String(t)>String(r)?1:-1}}(e)),r=s.length,n=0;n<r;)t[n]=s[n++];for(;n<l;)delete t[n++];return t}})},7703:(e,t,r)=>{r(6964)("flatMap")},5150:(e,t,r)=>{r(6964)("flat")},560:(e,t,r)=>{r(6753)({global:!0},{globalThis:r(4380)})},7516:(e,t,r)=>{var n=r(6753),a=r(6274),i=r(4330),o=a("JSON","stringify"),s=/[\uD800-\uDFFF]/g,c=/^[\uD800-\uDBFF]$/,l=/^[\uDC00-\uDFFF]$/,u=function(e,t,r){var n=r.charAt(t-1),a=r.charAt(t+1);return c.test(e)&&!l.test(a)||l.test(e)&&!c.test(n)?"\\u"+e.charCodeAt(0).toString(16):e},d=i((function(){return'"\\udf06\\ud834"'!==o("\udf06\ud834")||'"\\udead"'!==o("\udead")}));o&&n({target:"JSON",stat:!0,forced:d},{stringify:function(e,t,r){var n=o.apply(null,arguments);return"string"==typeof n?n.replace(s,u):n}})},4541:(e,t,r)=>{var n=r(6753),a=Math.hypot,i=Math.abs,o=Math.sqrt;n({target:"Math",stat:!0,forced:!!a&&a(1/0,NaN)!==1/0},{hypot:function(e,t){for(var r,n,a=0,s=0,c=arguments.length,l=0;s<c;)l<(r=i(arguments[s++]))?(a=a*(n=l/r)*n+1,l=r):a+=r>0?(n=r/l)*n:r;return l===1/0?1/0:l*o(a)}})},6328:(e,t,r)=>{var n=r(6753),a=r(8787);n({target:"Number",stat:!0,forced:Number.parseFloat!=a},{parseFloat:a})},1358:(e,t,r)=>{var n=r(6753),a=r(5686).entries;n({target:"Object",stat:!0},{entries:function(e){return a(e)}})},9983:(e,t,r)=>{var n=r(6753),a=r(3984),i=r(7556);n({target:"Object",stat:!0},{fromEntries:function(e){var t={};return a(e,(function(e,r){i(t,e,r)}),{AS_ENTRIES:!0}),t}})},842:(e,t,r)=>{var n=r(6753),a=r(5686).values;n({target:"Object",stat:!0},{values:function(e){return a(e)}})},9356:(e,t,r)=>{"use strict";var n=r(6753),a=r(2799),i=r(3288),o=r(561),s=r(3984);n({target:"Promise",stat:!0},{allSettled:function(e){var t=this,r=i.f(t),n=r.resolve,c=r.reject,l=o((function(){var r=a(t.resolve),i=[],o=0,c=1;s(e,(function(e){var a=o++,s=!1;i.push(void 0),c++,r.call(t,e).then((function(e){s||(s=!0,i[a]={status:"fulfilled",value:e},--c||n(i))}),(function(e){s||(s=!0,i[a]={status:"rejected",reason:e},--c||n(i))}))})),--c||n(i)}));return l.error&&c(l.value),r.promise}})},1773:(e,t,r)=>{"use strict";var n=r(6753),a=r(2799),i=r(6274),o=r(3288),s=r(561),c=r(3984),l="No one promise resolved";n({target:"Promise",stat:!0},{any:function(e){var t=this,r=o.f(t),n=r.resolve,u=r.reject,d=s((function(){var r=a(t.resolve),o=[],s=0,d=1,p=!1;c(e,(function(e){var a=s++,c=!1;o.push(void 0),d++,r.call(t,e).then((function(e){c||p||(p=!0,n(e))}),(function(e){c||p||(c=!0,o[a]=e,--d||u(new(i("AggregateError"))(o,l)))}))})),--d||u(new(i("AggregateError"))(o,l))}));return d.error&&u(d.value),r.promise}})},7691:(e,t,r)=>{"use strict";var n=r(6753),a=r(3481),i=r(3535),o=r(4330),s=r(6274),c=r(1749),l=r(3443),u=r(9059);if(n({target:"Promise",proto:!0,real:!0,forced:!!i&&o((function(){i.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=c(this,s("Promise")),r="function"==typeof e;return this.then(r?function(r){return l(t,e()).then((function(){return r}))}:e,r?function(r){return l(t,e()).then((function(){throw r}))}:e)}}),!a&&"function"==typeof i){var d=s("Promise").prototype.finally;i.prototype.finally!==d&&u(i.prototype,"finally",d,{unsafe:!0})}},5470:(e,t,r)=>{"use strict";var n,a,i,o,s=r(6753),c=r(3481),l=r(4380),u=r(6274),d=r(3535),p=r(9059),f=r(6901),h=r(8476),g=r(923),v=r(8505),m=r(3394),y=r(2799),b=r(2378),_=r(5487),w=r(3984),I=r(5987),S=r(1749),k=r(4869).set,C=r(1684),T=r(3443),E=r(916),A=r(3288),P=r(561),x=r(9676),M=r(5476),R=r(3461),D=r(8623),L=r(3986),N=r(2136),O=R("species"),B="Promise",j=x.get,F=x.set,U=x.getterFor(B),W=d&&d.prototype,G=d,V=W,$=l.TypeError,q=l.document,z=l.process,Z=A.f,H=Z,K=!!(q&&q.createEvent&&l.dispatchEvent),J="function"==typeof PromiseRejectionEvent,Y="unhandledrejection",Q=!1,X=M(B,(function(){var e=_(G)!==String(G);if(!e&&66===N)return!0;if(c&&!V.finally)return!0;if(N>=51&&/native code/.test(G))return!1;var t=new G((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};return(t.constructor={})[O]=r,!(Q=t.then((function(){}))instanceof r)||!e&&D&&!J})),ee=X||!I((function(e){G.all(e).catch((function(){}))})),te=function(e){var t;return!(!m(e)||"function"!=typeof(t=e.then))&&t},re=function(e,t){if(!e.notified){e.notified=!0;var r=e.reactions;C((function(){for(var n=e.value,a=1==e.state,i=0;r.length>i;){var o,s,c,l=r[i++],u=a?l.ok:l.fail,d=l.resolve,p=l.reject,f=l.domain;try{u?(a||(2===e.rejection&&oe(e),e.rejection=1),!0===u?o=n:(f&&f.enter(),o=u(n),f&&(f.exit(),c=!0)),o===l.promise?p($("Promise-chain cycle")):(s=te(o))?s.call(o,d,p):d(o)):p(n)}catch(e){f&&!c&&f.exit(),p(e)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&ae(e)}))}},ne=function(e,t,r){var n,a;K?((n=q.createEvent("Event")).promise=t,n.reason=r,n.initEvent(e,!1,!0),l.dispatchEvent(n)):n={promise:t,reason:r},!J&&(a=l["on"+e])?a(n):e===Y&&E("Unhandled promise rejection",r)},ae=function(e){k.call(l,(function(){var t,r=e.facade,n=e.value;if(ie(e)&&(t=P((function(){L?z.emit("unhandledRejection",n,r):ne(Y,r,n)})),e.rejection=L||ie(e)?2:1,t.error))throw t.value}))},ie=function(e){return 1!==e.rejection&&!e.parent},oe=function(e){k.call(l,(function(){var t=e.facade;L?z.emit("rejectionHandled",t):ne("rejectionhandled",t,e.value)}))},se=function(e,t,r){return function(n){e(t,n,r)}},ce=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=2,re(e,!0))},le=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw $("Promise can't be resolved itself");var n=te(t);n?C((function(){var r={done:!1};try{n.call(t,se(le,r,e),se(ce,r,e))}catch(t){ce(r,t,e)}})):(e.value=t,e.state=1,re(e,!1))}catch(t){ce({done:!1},t,e)}}};if(X&&(V=(G=function(e){b(this,G,B),y(e),n.call(this);var t=j(this);try{e(se(le,t),se(ce,t))}catch(e){ce(t,e)}}).prototype,(n=function(e){F(this,{type:B,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=f(V,{then:function(e,t){var r=U(this),n=Z(S(this,G));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=L?z.domain:void 0,r.parent=!0,r.reactions.push(n),0!=r.state&&re(r,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),a=function(){var e=new n,t=j(e);this.promise=e,this.resolve=se(le,t),this.reject=se(ce,t)},A.f=Z=function(e){return e===G||e===i?new a(e):H(e)},!c&&"function"==typeof d&&W!==Object.prototype)){o=W.then,Q||(p(W,"then",(function(e,t){var r=this;return new G((function(e,t){o.call(r,e,t)})).then(e,t)}),{unsafe:!0}),p(W,"catch",V.catch,{unsafe:!0}));try{delete W.constructor}catch(e){}h&&h(W,V)}s({global:!0,wrap:!0,forced:X},{Promise:G}),g(G,B,!1,!0),v(B),i=u(B),s({target:B,stat:!0,forced:X},{reject:function(e){var t=Z(this);return t.reject.call(void 0,e),t.promise}}),s({target:B,stat:!0,forced:c||X},{resolve:function(e){return T(c&&this===i?G:this,e)}}),s({target:B,stat:!0,forced:ee},{all:function(e){var t=this,r=Z(t),n=r.resolve,a=r.reject,i=P((function(){var r=y(t.resolve),i=[],o=0,s=1;w(e,(function(e){var c=o++,l=!1;i.push(void 0),s++,r.call(t,e).then((function(e){l||(l=!0,i[c]=e,--s||n(i))}),a)})),--s||n(i)}));return i.error&&a(i.value),r.promise},race:function(e){var t=this,r=Z(t),n=r.reject,a=P((function(){var a=y(t.resolve);w(e,(function(e){a.call(t,e).then(r.resolve,n)}))}));return a.error&&n(a.value),r.promise}})},2266:(e,t,r)=>{var n=r(6753),a=r(4380),i=r(923);n({global:!0},{Reflect:{}}),i(a.Reflect,"Reflect",!0)},8827:(e,t,r)=>{var n=r(1644),a=r(4380),i=r(5476),o=r(2612),s=r(8528),c=r(4142).f,l=r(9819).f,u=r(8410),d=r(2530),p=r(4016),f=r(9059),h=r(4330),g=r(2582),v=r(9676).enforce,m=r(8505),y=r(3461),b=r(2198),_=r(5618),w=y("match"),I=a.RegExp,S=I.prototype,k=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,C=/a/g,T=/a/g,E=new I(C)!==C,A=p.UNSUPPORTED_Y,P=n&&(!E||A||b||_||h((function(){return T[w]=!1,I(C)!=C||I(T)==T||"/a/i"!=I(C,"i")})));if(i("RegExp",P)){for(var x=function(e,t){var r,n,a,i,c,l,p=this instanceof x,f=u(e),h=void 0===t,m=[],y=e;if(!p&&f&&h&&e.constructor===x)return e;if((f||e instanceof x)&&(e=e.source,h&&(t="flags"in y?y.flags:d.call(y))),e=void 0===e?"":String(e),t=void 0===t?"":String(t),y=e,b&&"dotAll"in C&&(n=!!t&&t.indexOf("s")>-1)&&(t=t.replace(/s/g,"")),r=t,A&&"sticky"in C&&(a=!!t&&t.indexOf("y")>-1)&&(t=t.replace(/y/g,"")),_&&(i=function(e){for(var t,r=e.length,n=0,a="",i=[],o={},s=!1,c=!1,l=0,u="";n<=r;n++){if("\\"===(t=e.charAt(n)))t+=e.charAt(++n);else if("]"===t)s=!1;else if(!s)switch(!0){case"["===t:s=!0;break;case"("===t:k.test(e.slice(n+1))&&(n+=2,c=!0),a+=t,l++;continue;case">"===t&&c:if(""===u||g(o,u))throw new SyntaxError("Invalid capture group name");o[u]=!0,i.push([u,l]),c=!1,u="";continue}c?u+=t:a+=t}return[a,i]}(e),e=i[0],m=i[1]),c=o(I(e,t),p?this:S,x),(n||a||m.length)&&(l=v(c),n&&(l.dotAll=!0,l.raw=x(function(e){for(var t,r=e.length,n=0,a="",i=!1;n<=r;n++)"\\"!==(t=e.charAt(n))?i||"."!==t?("["===t?i=!0:"]"===t&&(i=!1),a+=t):a+="[\\s\\S]":a+=t+e.charAt(++n);return a}(e),r)),a&&(l.sticky=!0),m.length&&(l.groups=m)),e!==y)try{s(c,"source",""===y?"(?:)":y)}catch(e){}return c},M=function(e){e in x||c(x,e,{configurable:!0,get:function(){return I[e]},set:function(t){I[e]=t}})},R=l(I),D=0;R.length>D;)M(R[D++]);S.constructor=x,x.prototype=S,f(a,"RegExp",x)}m("RegExp")},6314:(e,t,r)=>{var n=r(1644),a=r(2198),i=r(4142).f,o=r(9676).get,s=RegExp.prototype;n&&a&&i(s,"dotAll",{configurable:!0,get:function(){if(this!==s){if(this instanceof RegExp)return!!o(this).dotAll;throw TypeError("Incompatible receiver, RegExp required")}}})},9437:(e,t,r)=>{"use strict";var n=r(6753),a=r(7879);n({target:"RegExp",proto:!0,forced:/./.exec!==a},{exec:a})},6559:(e,t,r)=>{var n=r(1644),a=r(4142),i=r(2530),o=r(4330);n&&o((function(){return"sy"!==Object.getOwnPropertyDescriptor(RegExp.prototype,"flags").get.call({dotAll:!0,sticky:!0})}))&&a.f(RegExp.prototype,"flags",{configurable:!0,get:i})},3187:(e,t,r)=>{"use strict";var n=r(6753),a=r(8859),i=r(6190),o=r(4353),s=r(2799),c=r(372),l=r(4849),u=r(8410),d=r(2530),p=r(8528),f=r(4330),h=r(3461),g=r(1749),v=r(8501),m=r(9676),y=r(3481),b=h("matchAll"),_="RegExp String",w=_+" Iterator",I=m.set,S=m.getterFor(w),k=RegExp.prototype,C=k.exec,T="".matchAll,E=!!T&&!f((function(){"a".matchAll(/./)})),A=a((function(e,t,r,n){I(this,{type:w,regexp:e,string:t,global:r,unicode:n,done:!1})}),_,(function(){var e=S(this);if(e.done)return{value:void 0,done:!0};var t=e.regexp,r=e.string,n=function(e,t){var r,n=e.exec;if("function"==typeof n){if("object"!=typeof(r=n.call(e,t)))throw TypeError("Incorrect exec result");return r}return C.call(e,t)}(t,r);return null===n?{value:void 0,done:e.done=!0}:e.global?(""==String(n[0])&&(t.lastIndex=v(r,o(t.lastIndex),e.unicode)),{value:n,done:!1}):(e.done=!0,{value:n,done:!1})})),P=function(e){var t,r,n,a,i,s,l=c(this),u=String(e);return t=g(l,RegExp),void 0===(r=l.flags)&&l instanceof RegExp&&!("flags"in k)&&(r=d.call(l)),n=void 0===r?"":String(r),a=new t(t===RegExp?l.source:l,n),i=!!~n.indexOf("g"),s=!!~n.indexOf("u"),a.lastIndex=o(l.lastIndex),new A(a,u,i,s)};n({target:"String",proto:!0,forced:E},{matchAll:function(e){var t,r,n,a=i(this);if(null!=e){if(u(e)&&!~String(i("flags"in k?e.flags:d.call(e))).indexOf("g"))throw TypeError("`.matchAll` does not allow non-global regexes");if(E)return T.apply(a,arguments);if(void 0===(r=e[b])&&y&&"RegExp"==l(e)&&(r=P),null!=r)return s(r).call(e,a)}else if(E)return T.apply(a,arguments);return t=String(a),n=new RegExp(e,"g"),y?P.call(n,t):n[b](t)}}),y||b in k||p(k,b,P)},7506:(e,t,r)=>{"use strict";var n=r(6753),a=r(3295).end;n({target:"String",proto:!0,forced:r(4532)},{padEnd:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},416:(e,t,r)=>{"use strict";var n=r(6753),a=r(3295).start;n({target:"String",proto:!0,forced:r(4532)},{padStart:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},235:(e,t,r)=>{"use strict";var n=r(6753),a=r(6190),i=r(8410),o=r(2530),s=r(1884),c=r(3461),l=r(3481),u=c("replace"),d=RegExp.prototype,p=Math.max,f=function(e,t,r){return r>e.length?-1:""===t?r:e.indexOf(t,r)};n({target:"String",proto:!0},{replaceAll:function(e,t){var r,n,c,h,g,v,m,y,b=a(this),_=0,w=0,I="";if(null!=e){if((r=i(e))&&!~String(a("flags"in d?e.flags:o.call(e))).indexOf("g"))throw TypeError("`.replaceAll` does not allow non-global regexes");if(void 0!==(n=e[u]))return n.call(e,b,t);if(l&&r)return String(b).replace(e,t)}for(c=String(b),h=String(e),(g="function"==typeof t)||(t=String(t)),v=h.length,m=p(1,v),_=f(c,h,0);-1!==_;)y=g?String(t(h,_,c)):s(h,c,_,[],void 0,t),I+=c.slice(w,_)+y,w=_+v,_=f(c,h,_+m);return w<c.length&&(I+=c.slice(w)),I}})},5441:(e,t,r)=>{"use strict";var n=r(225),a=r(4330),i=r(372),o=r(4353),s=r(4072),c=r(6190),l=r(8501),u=r(1884),d=r(3519),p=r(3461)("replace"),f=Math.max,h=Math.min,g="$0"==="a".replace(/./,"$0"),v=!!/./[p]&&""===/./[p]("a","$0");n("replace",(function(e,t,r){var n=v?"$":"$0";return[function(e,r){var n=c(this),a=null==e?void 0:e[p];return void 0!==a?a.call(e,n,r):t.call(String(n),e,r)},function(e,a){if("string"==typeof a&&-1===a.indexOf(n)&&-1===a.indexOf("$<")){var c=r(t,this,e,a);if(c.done)return c.value}var p=i(this),g=String(e),v="function"==typeof a;v||(a=String(a));var m=p.global;if(m){var y=p.unicode;p.lastIndex=0}for(var b=[];;){var _=d(p,g);if(null===_)break;if(b.push(_),!m)break;""===String(_[0])&&(p.lastIndex=l(g,o(p.lastIndex),y))}for(var w,I="",S=0,k=0;k<b.length;k++){_=b[k];for(var C=String(_[0]),T=f(h(s(_.index),g.length),0),E=[],A=1;A<_.length;A++)E.push(void 0===(w=_[A])?w:String(w));var P=_.groups;if(v){var x=[C].concat(E,T,g);void 0!==P&&x.push(P);var M=String(a.apply(void 0,x))}else M=u(C,g,T,E,P,a);T>=S&&(I+=g.slice(S,T)+M,S=T+C.length)}return I+g.slice(S)}]}),!!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!g||v)},9103:(e,t,r)=>{"use strict";var n=r(6753),a=r(1380).end,i=r(4128)("trimEnd"),o=i?function(){return a(this)}:"".trimEnd;n({target:"String",proto:!0,forced:i},{trimEnd:o,trimRight:o})},9928:(e,t,r)=>{"use strict";var n=r(6753),a=r(1380).start,i=r(4128)("trimStart"),o=i?function(){return a(this)}:"".trimStart;n({target:"String",proto:!0,forced:i},{trimStart:o,trimLeft:o})},4057:(e,t,r)=>{"use strict";var n=r(6753),a=r(1380).trim;n({target:"String",proto:!0,forced:r(4128)("trim")},{trim:function(){return a(this)}})},8610:(e,t,r)=>{r(1205)("asyncIterator")},1751:(e,t,r)=>{"use strict";var n=r(6753),a=r(1644),i=r(4380),o=r(2582),s=r(3394),c=r(4142).f,l=r(8646),u=i.Symbol;if(a&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var d={},p=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof p?new u(e):void 0===e?u():u(e);return""===e&&(d[t]=!0),t};l(p,u);var f=p.prototype=u.prototype;f.constructor=p;var h=f.toString,g="Symbol(test)"==String(u("test")),v=/^Symbol\((.*)\)[^)]+$/;c(f,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=h.call(e);if(o(d,e))return"";var r=g?t.slice(7,-1):t.replace(v,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:p})}},4017:(e,t,r)=>{r(1205)("matchAll")},5839:(e,t,r)=>{"use strict";var n=r(9064),a=r(9625),i=n.aTypedArray;(0,n.exportTypedArrayMethod)("fill",(function(e){return a.apply(i(this),arguments)}))},9969:(e,t,r)=>{r(9140)("Float32",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},9369:(e,t,r)=>{r(9140)("Float64",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},3600:(e,t,r)=>{"use strict";var n=r(9668);(0,r(9064).exportTypedArrayStaticMethod)("from",r(9627),n)},5954:(e,t,r)=>{r(9140)("Int16",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},8218:(e,t,r)=>{r(9140)("Int32",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},9005:(e,t,r)=>{r(9140)("Int8",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},33:(e,t,r)=>{"use strict";var n=r(9064),a=r(9668),i=n.aTypedArrayConstructor;(0,n.exportTypedArrayStaticMethod)("of",(function(){for(var e=0,t=arguments.length,r=new(i(this))(t);t>e;)r[e]=arguments[e++];return r}),a)},2032:(e,t,r)=>{"use strict";var n=r(9064),a=r(4353),i=r(1477),o=r(5141),s=r(4330),c=n.aTypedArray;(0,n.exportTypedArrayMethod)("set",(function(e){c(this);var t=i(arguments.length>1?arguments[1]:void 0,1),r=this.length,n=o(e),s=a(n.length),l=0;if(s+t>r)throw RangeError("Wrong length");for(;l<s;)this[t+l]=n[l++]}),s((function(){new Int8Array(1).set({})})))},4433:(e,t,r)=>{"use strict";var n=r(9064),a=r(4380),i=r(4330),o=r(2799),s=r(4353),c=r(9091),l=r(6173),u=r(5308),d=r(2136),p=r(9632),f=n.aTypedArray,h=n.exportTypedArrayMethod,g=a.Uint16Array,v=g&&g.prototype.sort,m=!!v&&!i((function(){var e=new g(2);e.sort(null),e.sort({})})),y=!!v&&!i((function(){if(d)return d<74;if(l)return l<67;if(u)return!0;if(p)return p<602;var e,t,r=new g(516),n=Array(516);for(e=0;e<516;e++)t=e%4,r[e]=515-e,n[e]=e-2*t+3;for(r.sort((function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(r[e]!==n[e])return!0}));h("sort",(function(e){var t=this;if(void 0!==e&&o(e),y)return v.call(t,e);f(t);var r,n=s(t.length),a=Array(n);for(r=0;r<n;r++)a[r]=t[r];for(a=c(t,function(e){return function(t,r){return void 0!==e?+e(t,r)||0:r!=r?-1:t!=t?1:0===t&&0===r?1/t>0&&1/r<0?1:-1:t>r}}(e)),r=0;r<n;r++)t[r]=a[r];return t}),!y||m)},7969:(e,t,r)=>{r(9140)("Uint16",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},6438:(e,t,r)=>{r(9140)("Uint32",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},8457:(e,t,r)=>{r(9140)("Uint8",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},4439:(e,t,r)=>{r(9140)("Uint8",(function(e){return function(t,r,n){return e(this,t,r,n)}}),!0)},4916:(e,t,r)=>{r(4521)},6832:(e,t,r)=>{"use strict";var n=r(6753),a=r(5141),i=r(4353),o=r(4072),s=r(6964);n({target:"Array",proto:!0},{at:function(e){var t=a(this),r=i(t.length),n=o(e),s=n>=0?n:r+n;return s<0||s>=r?void 0:t[s]}}),s("at")},8591:(e,t,r)=>{"use strict";var n=r(6753),a=r(4832).findLastIndex,i=r(6964);n({target:"Array",proto:!0},{findLastIndex:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),i("findLastIndex")},7193:(e,t,r)=>{"use strict";var n=r(6753),a=r(4832).findLast,i=r(6964);n({target:"Array",proto:!0},{findLast:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),i("findLast")},7002:(e,t,r)=>{"use strict";var n=r(6753),a=r(2378),i=r(8528),o=r(2582),s=r(3461),c=r(9415),l=r(3481),u=s("toStringTag"),d=function(){a(this,d)};d.prototype=c,o(c,u)||i(c,u,"AsyncIterator"),o(c,"constructor")&&c.constructor!==Object||i(c,"constructor",d),n({global:!0,forced:l},{AsyncIterator:d})},3982:(e,t,r)=>{"use strict";var n=r(6753),a=r(372),i=r(1048),o=r(7303)((function(e,t){var r=this;return new t((function(n,i){var o=function(){try{t.resolve(a(r.next.call(r.iterator,r.remaining?void 0:e))).then((function(e){try{a(e).done?(r.done=!0,n({done:!0,value:void 0})):r.remaining?(r.remaining--,o()):n({done:!1,value:e.value})}catch(e){i(e)}}),i)}catch(e){i(e)}};o()}))}));n({target:"AsyncIterator",proto:!0,real:!0},{drop:function(e){return new o({iterator:a(this),remaining:i(e)})}})},4457:(e,t,r)=>{"use strict";var n=r(6753),a=r(4445).every;n({target:"AsyncIterator",proto:!0,real:!0},{every:function(e){return a(this,e)}})},3655:(e,t,r)=>{"use strict";var n=r(6753),a=r(2799),i=r(372),o=r(7303)((function(e,t){var r=this,n=r.filterer;return new t((function(a,o){var s=function(){try{t.resolve(i(r.next.call(r.iterator,e))).then((function(e){try{if(i(e).done)r.done=!0,a({done:!0,value:void 0});else{var c=e.value;t.resolve(n(c)).then((function(e){e?a({done:!1,value:c}):s()}),o)}}catch(e){o(e)}}),o)}catch(e){o(e)}};s()}))}));n({target:"AsyncIterator",proto:!0,real:!0},{filter:function(e){return new o({iterator:i(this),filterer:a(e)})}})},3296:(e,t,r)=>{"use strict";var n=r(6753),a=r(4445).find;n({target:"AsyncIterator",proto:!0,real:!0},{find:function(e){return a(this,e)}})},5284:(e,t,r)=>{"use strict";var n=r(6753),a=r(2799),i=r(372),o=r(7303),s=r(153),c=o((function(e,t){var r,n,o=this,c=o.mapper;return new t((function(l,u){var d=function(){try{t.resolve(i(o.next.call(o.iterator,e))).then((function(e){try{i(e).done?(o.done=!0,l({done:!0,value:void 0})):t.resolve(c(e.value)).then((function(e){try{if(void 0!==(n=s(e)))return o.innerIterator=r=i(n.call(e)),o.innerNext=a(r.next),p();u(TypeError(".flatMap callback should return an iterable object"))}catch(e){u(e)}}),u)}catch(e){u(e)}}),u)}catch(e){u(e)}},p=function(){if(r=o.innerIterator)try{t.resolve(i(o.innerNext.call(r))).then((function(e){try{i(e).done?(o.innerIterator=o.innerNext=null,d()):l({done:!1,value:e.value})}catch(e){u(e)}}),u)}catch(e){u(e)}else d()};p()}))}));n({target:"AsyncIterator",proto:!0,real:!0},{flatMap:function(e){return new c({iterator:i(this),mapper:a(e),innerIterator:null,innerNext:null})}})},5143:(e,t,r)=>{"use strict";var n=r(6753),a=r(4445).forEach;n({target:"AsyncIterator",proto:!0,real:!0},{forEach:function(e){return a(this,e)}})},4872:(e,t,r)=>{var n=r(6753),a=r(3759),i=r(2799),o=r(372),s=r(5141),c=r(7303),l=r(153),u=a.AsyncIterator,d=c((function(e){return o(this.next.call(this.iterator,e))}),!0);n({target:"AsyncIterator",stat:!0},{from:function(e){var t,r=s(e),n=l(r);if(null!=n){if((t=i(n).call(r))instanceof u)return t}else t=r;return new d({iterator:t})}})},4168:(e,t,r)=>{"use strict";var n=r(6753),a=r(2799),i=r(372),o=r(7303)((function(e,t){var r=this,n=r.mapper;return t.resolve(i(r.next.call(r.iterator,e))).then((function(e){return i(e).done?(r.done=!0,{done:!0,value:void 0}):t.resolve(n(e.value)).then((function(e){return{done:!1,value:e}}))}))}));n({target:"AsyncIterator",proto:!0,real:!0},{map:function(e){return new o({iterator:i(this),mapper:a(e)})}})},1731:(e,t,r)=>{"use strict";var n=r(6753),a=r(2799),i=r(372),o=r(6274)("Promise");n({target:"AsyncIterator",proto:!0,real:!0},{reduce:function(e){var t=i(this),r=a(t.next),n=arguments.length<2,s=n?void 0:arguments[1];return a(e),new o((function(a,c){var l=function(){try{o.resolve(i(r.call(t))).then((function(t){try{if(i(t).done)n?c(TypeError("Reduce of empty iterator with no initial value")):a(s);else{var r=t.value;n?(n=!1,s=r,l()):o.resolve(e(s,r)).then((function(e){s=e,l()}),c)}}catch(e){c(e)}}),c)}catch(e){c(e)}};l()}))}})},534:(e,t,r)=>{"use strict";var n=r(6753),a=r(4445).some;n({target:"AsyncIterator",proto:!0,real:!0},{some:function(e){return a(this,e)}})},2216:(e,t,r)=>{"use strict";var n=r(6753),a=r(372),i=r(1048),o=r(7303)((function(e,t){var r,n,a=this.iterator;return this.remaining--?this.next.call(a,e):(n={done:!0,value:void 0},this.done=!0,void 0!==(r=a.return)?t.resolve(r.call(a)).then((function(){return n})):n)}));n({target:"AsyncIterator",proto:!0,real:!0},{take:function(e){return new o({iterator:a(this),remaining:i(e)})}})},5132:(e,t,r)=>{"use strict";var n=r(6753),a=r(4445).toArray;n({target:"AsyncIterator",proto:!0,real:!0},{toArray:function(){return a(this)}})},5543:(e,t,r)=>{r(560)},4925:(e,t,r)=>{"use strict";var n=r(6753),a=r(4380),i=r(2378),o=r(8528),s=r(4330),c=r(2582),l=r(3461),u=r(2937).IteratorPrototype,d=r(3481),p=l("iterator"),f=l("toStringTag"),h=a.Iterator,g=d||"function"!=typeof h||h.prototype!==u||!s((function(){h({})})),v=function(){i(this,v)};d&&o(u={},p,(function(){return this})),c(u,f)||o(u,f,"Iterator"),!g&&c(u,"constructor")&&u.constructor!==Object||o(u,"constructor",v),v.prototype=u,n({global:!0,forced:g},{Iterator:v})},2141:(e,t,r)=>{"use strict";var n=r(6753),a=r(372),i=r(1048),o=r(8212)((function(e){for(var t,r=this.iterator,n=this.next;this.remaining;)if(this.remaining--,t=a(n.call(r)),this.done=!!t.done)return;if(t=a(n.call(r,e)),!(this.done=!!t.done))return t.value}));n({target:"Iterator",proto:!0,real:!0},{drop:function(e){return new o({iterator:a(this),remaining:i(e)})}})},2181:(e,t,r)=>{"use strict";var n=r(6753),a=r(3984),i=r(2799),o=r(372);n({target:"Iterator",proto:!0,real:!0},{every:function(e){return o(this),i(e),!a(this,(function(t,r){if(!e(t))return r()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},8073:(e,t,r)=>{"use strict";var n=r(6753),a=r(2799),i=r(372),o=r(8212),s=r(9841),c=o((function(e){for(var t,r,n=this.iterator,a=this.filterer,o=this.next;;){if(t=i(o.call(n,e)),this.done=!!t.done)return;if(r=t.value,s(n,a,r))return r}}));n({target:"Iterator",proto:!0,real:!0},{filter:function(e){return new c({iterator:i(this),filterer:a(e)})}})},106:(e,t,r)=>{"use strict";var n=r(6753),a=r(3984),i=r(2799),o=r(372);n({target:"Iterator",proto:!0,real:!0},{find:function(e){return o(this),i(e),a(this,(function(t,r){if(e(t))return r(t)}),{IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},735:(e,t,r)=>{"use strict";var n=r(6753),a=r(2799),i=r(372),o=r(5225),s=r(8212),c=r(2976),l=s((function(e){for(var t,r,n,s,l=this.iterator,u=this.mapper;;)try{if(s=this.innerIterator){if(!(t=i(this.innerNext.call(s))).done)return t.value;this.innerIterator=this.innerNext=null}if(t=i(this.next.call(l,e)),this.done=!!t.done)return;if(r=u(t.value),void 0===(n=o(r)))throw TypeError(".flatMap callback should return an iterable object");this.innerIterator=s=i(n.call(r)),this.innerNext=a(s.next)}catch(e){throw c(l),e}}));n({target:"Iterator",proto:!0,real:!0},{flatMap:function(e){return new l({iterator:i(this),mapper:a(e),innerIterator:null,innerNext:null})}})},8865:(e,t,r)=>{"use strict";var n=r(6753),a=r(3984),i=r(372);n({target:"Iterator",proto:!0,real:!0},{forEach:function(e){a(i(this),e,{IS_ITERATOR:!0})}})},1061:(e,t,r)=>{var n=r(6753),a=r(3759),i=r(2799),o=r(372),s=r(5141),c=r(8212),l=r(5225),u=a.Iterator,d=c((function(e){var t=o(this.next.call(this.iterator,e));if(!(this.done=!!t.done))return t.value}),!0);n({target:"Iterator",stat:!0},{from:function(e){var t,r=s(e),n=l(r);if(null!=n){if((t=i(n).call(r))instanceof u)return t}else t=r;return new d({iterator:t})}})},2044:(e,t,r)=>{"use strict";var n=r(6753),a=r(2799),i=r(372),o=r(8212),s=r(9841),c=o((function(e){var t=this.iterator,r=i(this.next.call(t,e));if(!(this.done=!!r.done))return s(t,this.mapper,r.value)}));n({target:"Iterator",proto:!0,real:!0},{map:function(e){return new c({iterator:i(this),mapper:a(e)})}})},7754:(e,t,r)=>{"use strict";var n=r(6753),a=r(3984),i=r(2799),o=r(372);n({target:"Iterator",proto:!0,real:!0},{reduce:function(e){o(this),i(e);var t=arguments.length<2,r=t?void 0:arguments[1];if(a(this,(function(n){t?(t=!1,r=n):r=e(r,n)}),{IS_ITERATOR:!0}),t)throw TypeError("Reduce of empty iterator with no initial value");return r}})},938:(e,t,r)=>{"use strict";var n=r(6753),a=r(3984),i=r(2799),o=r(372);n({target:"Iterator",proto:!0,real:!0},{some:function(e){return o(this),i(e),a(this,(function(t,r){if(e(t))return r()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},5749:(e,t,r)=>{"use strict";var n=r(6753),a=r(372),i=r(1048),o=r(8212),s=r(2976),c=o((function(e){var t=this.iterator;if(!this.remaining--)return this.done=!0,s(t);var r=a(this.next.call(t,e));return(this.done=!!r.done)?void 0:r.value}));n({target:"Iterator",proto:!0,real:!0},{take:function(e){return new c({iterator:a(this),remaining:i(e)})}})},9037:(e,t,r)=>{"use strict";var n=r(6753),a=r(3984),i=r(372),o=[].push;n({target:"Iterator",proto:!0,real:!0},{toArray:function(){var e=[];return a(i(this),o,{that:e,IS_ITERATOR:!0}),e}})},2810:(e,t,r)=>{r(6753)({target:"Object",stat:!0},{hasOwn:r(2582)})},1848:(e,t,r)=>{r(9356)},4644:(e,t,r)=>{r(1773)},8767:(e,t,r)=>{r(3187)},4862:(e,t,r)=>{r(235)},9715:(e,t,r)=>{r(1205)("dispose")},9231:(e,t,r)=>{"use strict";var n=r(9064),a=r(4353),i=r(4072),o=n.aTypedArray;(0,n.exportTypedArrayMethod)("at",(function(e){var t=o(this),r=a(t.length),n=i(e),s=n>=0?n:r+n;return s<0||s>=r?void 0:t[s]}))},4856:(e,t,r)=>{"use strict";var n=r(9064),a=r(4832).findLastIndex,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLastIndex",(function(e){return a(i(this),e,arguments.length>1?arguments[1]:void 0)}))},6486:(e,t,r)=>{"use strict";var n=r(9064),a=r(4832).findLast,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLast",(function(e){return a(i(this),e,arguments.length>1?arguments[1]:void 0)}))},4348:(e,t,r)=>{var n=r(7967);n.keys().forEach((e=>{a[e.substr(2)]=n(e)}))},4476:(e,t,r)=>{"use strict";r.r(t);r(1751),r(8610),r(4017),r(4521),r(5091),r(685),r(1456),r(3683),r(9293),r(8495),r(5150),r(7703),r(1142),r(9525),r(560),r(7516),r(4541),r(6328),r(1358),r(9983),r(842),r(5470),r(9356),r(1773),r(7691),r(2266),r(8827),r(6314),r(9437),r(6559),r(3187),r(7506),r(416),r(5441),r(235),r(4057),r(9103),r(9928),r(9969),r(9369),r(9005),r(5954),r(8218),r(8457),r(4439),r(7969),r(6438),r(5839),r(3600),r(33),r(2032),r(4433),r(4916),r(6832),r(7193),r(8591),r(5543),r(2810),r(1848),r(4644),r(8767),r(4862),r(9231),r(6486),r(4856),r(7002),r(3982),r(4457),r(3655),r(3296),r(5284),r(5143),r(4872),r(4168),r(1731),r(534),r(2216),r(5132),r(4925),r(2141),r(2181),r(8073),r(106),r(735),r(8865),r(1061),r(2044),r(7754),r(938),r(5749),r(9037),r(9715);["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach((e=>{var t=globalThis[e];t&&t.name!==e&&Object.defineProperty(t,"name",{value:e})}))}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new n("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{r.g.__polyfill_injecting=!0;var e=!1,t=!1;if(r.g.__wxConfig&&"string"==typeof r.g.__wxConfig.platform)"ios"===r.g.__wxConfig.platform.toLowerCase()?e=!0:"mac"===r.g.__wxConfig.platform.toLowerCase()&&(t=!0);else if("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent){var n=navigator.userAgent.toLowerCase();n.indexOf("iphone")>=0||n.indexOf("ipad")>=0?e=!0:n.indexOf("miniprogramenv/mac")>=0&&(t=!0)}var a=[];(e||t)&&(r.g.Promise=void 0,a.push("Promise")),r(2874)({usePolyfill:a,useNative:["WeakMap"]}),r(4476),r(4348),delete r.g.__polyfill_injecting})()})();var i,o,s=function(e){e()};(()=>{"use strict";var e={n:t=>{var r=t&&t.__esModule?()=>t.default:()=>t;return e.d(r,{a:r}),r},d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new n("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var s={};(()=>{e.d(s,{default:()=>tt});var o={};e.r(o),e.d(o,{convertToErrorObj:()=>Y,emitFrameworkError:()=>te,emitUnhandledError:()=>re,emitUnhandledRejection:()=>Q,onFrameworkError:()=>ae,onUnhandledError:()=>ie,onUnhandledRejection:()=>ne});var l=a.objectSpread2,u=e.n(l),d=e.g.__wxLibrary,p=e.g.__wxConfig,h=d.envType,g=d.contextType,v="Service"===h,m="WebView"===h,y="Worker"===h,b=m||v&&0===g.indexOf("App:"),_=v&&0===g.indexOf("Game:"),I=!!p.isIsolateContext,S=I&&v&&g.indexOf("MainContext")>=0,C=I&&v&&g.indexOf("SubContext")>=0,T=C&&g.indexOf("Safe")>=0,E=S||C,A="wxlib"===p.workerContentType,P=m||S||T||A,x=function(){var e,t,r=p.platform;if(!r&&"string"==typeof(null===(e=window)||void 0===e||null===(t=e.navigator)||void 0===t?void 0:t.userAgent)){var n=window.navigator.userAgent.toLowerCase();n.indexOf("devtools")>=0?r="devtools":n.indexOf("miniprogramenv/windows")>=0?r="windows":n.indexOf("miniprogramenv/mac")>=0?r="mac":n.indexOf("miniprogramenv/mina")>=0?r="mina":n.indexOf("iphone")>=0||n.indexOf("ipad")>=0?r="ios":n.indexOf("android")>=0&&(r="android")}return(r||"unknown").toLowerCase()}(),M={platform:x,SDKVersion:void 0===t||"develop"===t.version?"9.9.9":t.version,isIsolateContext:E,isGame:_,isApp:b,isMainContext:S,isSubContext:C,isSafeEnv:P,isService:v,isWebView:m,isWorker:y,isWidget:!1,typeStr:C?"SubContext":h,isWXLibWorker:A,workerType:"user",contextName:"",mayHaveSnapShot:!!d.mayHaveSnapshot},R=()=>{},D="devtools"===M.platform;"undefined"!=typeof performance&&performance.now;function L(e,t=(()=>R)){return e.reduce(((e,r)=>(e[r]=t(r),e)),{})}function N(){var t=i||e.g.__wxConfig;if(t&&"debug"in t&&void 0!==t.debug)return!!t.debug}var O=()=>{},B=["log","info","warn","error","debug"],j=L(B),F=["log","info","warn","error","profile","profileSync","traceBegin","traceEnd"],U=(()=>{var e=L(F);return e})(),W=U,G=Symbol("error"),V=Symbol("slow");class ${constructor(){this.$=Object.create(null),this.$$=Object.create(null)}onInternalEvent(e,t){var r=this.$$[e];return r?r.push(t):this.$$[e]=[t],this}emitPrivate(e,...t){var r=this.$$[e];return!!(r&&r.length>0)&&(r.forEach((e=>{try{e(...t)}catch(e){console.error("EventEmitter error:",e)}})),!0)}onError(e){return this.onInternalEvent(G,e),this}onSlow(e){return this.onInternalEvent(V,e),this}_privEmit(e,t,...r){var n=this.$[e];if(n&&n.length>0){var a,i=!1;for(var o of n){if(0!==o.count)try{var s=Date.now();a=o.cb(...r);var c=Date.now();c-s>$.SLOW_CALLBACK_THRESHOLD&&this.emitPrivate(V,e,s,c,o.cb)}catch(t){if(!this.emitPrivate(G,e,t))throw t}if(o.count>0&&o.count--,0===o.count&&(i=!0),!1===a&&t.cancelable)break}return i&&(this.$[e]=n.filter((e=>0!==e.count))),!0}return!1}emit(e,...t){return this._privEmit(e,{},...t)}emitCancelable(e,...t){return this._privEmit(e,{cancelable:!0},...t)}many(e,t,r,n={}){if(!t)return this;var a={count:r,cb:t},i=this.$[e];return i?n.prepend?i.unshift(a):i.push(a):this.$[e]=[a],this}on(e,t,r){return this.many(e,t,-1,r)}once(e,t,r){return this.many(e,t,1,r)}off(e,t){var r=this.$[e];if(!r)return!1;var n=r.findIndex((e=>e.cb===t));return!(n<0)&&(r.splice(n,1),!0)}}$.SLOW_CALLBACK_THRESHOLD=50;var q=new $,z="unhandlederror",Z="unhandledrejection",H="frameworkerror",K=new WeakMap;var J=Object.prototype.hasOwnProperty;function Y(e){var t;if(e&&"Object"===(null===(t=e.constructor)||void 0===t?void 0:t.name)&&"string"==typeof e.message&&"string"==typeof e.stack){var r=new Error(e.message);return Object.assign(r,e),r}return e}function Q(e,t){e=Y(e),Be.onLoad((()=>{q.emit(Z,{reason:e,promise:t})||console.error("Uncaught (in promise)",e)}),!0)}var X=!1,ee=!1;function te(e,t){if(e instanceof Error&&t&&(e.message=`${t} fail: ${e.message}`),e=Y(e),i.isSnapshoting)throw e;Be.onLoad((()=>{if(X)console.error("[ErrorHandler] recursive framework error detected.",e);else{X=!0;try{q.emit(H,e)||re(e)}catch(e){console.error("Framework",e)}X=!1}}),!0)}function re(e){if(e=Y(e),i.isSnapshoting)throw e;Be.onLoad((()=>{if(ee)console.error("[ErrorHandler] recursive uncaught error detected.",e);else{ee=!0;try{q.emit(z,e)||"windows"===i.platform&&"undefined"!=typeof WORKER_RUNTIME&&WORKER_RUNTIME&&4===i.appType||console.error("Uncaught",e)}catch(e){console.error("Uncaught",e)}ee=!1}}),!0)}function ne(e){q.on(Z,e)}function ae(e){q.on(H,e)}function ie(e){q.on(z,e)}!function(e){"object"==typeof e&&"function"==typeof e.addEventListener?(e.addEventListener("unhandledrejection",(e=>{Q(e.reason,e.promise),e.reason&&e.preventDefault()})),e.addEventListener("error",(t=>{var r,n;re(t.error||{message:t.message,stack:`${t.message}\nEmpty stack, maybe muted error. (xweb=${(null===(r=e.navigator)||void 0===r||null===(n=r.userAgent)||void 0===n?void 0:n.toUpperCase().indexOf("XWEB"))>=0})`}),t.error&&t.preventDefault()}))):void 0===e.onunhandledrejection&&Object.defineProperty(e,"onunhandledrejection",{value(e={}){var t,r;J.call(e,"type")?(t={type:e.type,reason:e.reason,promise:e.promise},(r=t.promise)&&(K.has(r)||setTimeout((()=>{var e=K.get(r);0===(null==e?void 0:e.type)&&Q(e.reason,e.promise),K.delete(r)}),0),K.set(r,t))):Q(e.reason,e.promise)}})}(e.g);var oe,se=JSON.parse,ce=JSON.stringify;function le(e){return se(ce(e))}function ue(e){e.platform=M.platform,e.brand||"ios"!==e.platform||(e.brand="iPhone"),e.sdkVersion=e.SDKVersion=M.SDKVersion,e.isReady=!1,e.onReady=Be.onStart}function de(e){var r;ue(e),M.isSubContext||(e.preload=!0===e.preload),"number"==typeof e.pixelRatio?e.devicePixelRatio=e.pixelRatio:"number"==typeof e.devicePixelRatio&&(e.pixelRatio=e.devicePixelRatio);var n=null===(r=t.debugOptions)||void 0===r?void 0:r.overwriteExpt;n&&(e.expt=Object.assign(e.expt||{},n))}function pe(e){if(de(e),e.isReady=!0,e.appLaunchInfo=e.appLaunchInfo||{},e.preloadType=e.preloadType||e.appLaunchInfo.preloadType||e.preload,"ios"===e.platform){var t=(i=e.appLaunchInfo.clickTimestampInMs)?i+9782784e5-(new Date).getTimezoneOffset()/60*3600*1e3:0,r=Number.MAX_SAFE_INTEGER,n=e.instanceId;if(n)try{var a=n.split("&").filter((e=>0===e.indexOf("ts=")));a.length>0&&(r=parseInt(a[0].slice(3),10))}catch(e){te(e,"parseInstanceId")}e.coldLaunchTime=Math.min(t,r)}else e.coldLaunchTime=e.appLaunchInfo.clickTimestamp||0;var i}var fe=!(null===(oe=t.features)||void 0===oe||!oe.pruneWxConfigByPage),he=Object.defineProperty,ge=["env","appLaunchInfo","ext","wxAppInfo","debug","entryPagePath","envVersion","tabBar","pages","page","accountInfo","global","platform","system","appType","networkTimeout","navigateToMiniProgramAppIdList","plugins","extAppid","host","prerender"];function ve(e,t,r,n){he(e,r,{configurable:!0,enumerable:!0,get(){if(r in t)return t[r];try{var e;j.warn("[__wxConfig usage] developer uses __wxConfig."+r),"function"==typeof(null===(e=w)||void 0===e?void 0:e.reportKeyValue)&&w.reportKeyValue({key:"DeprecatedAPI",value:"__wxConfig."+r,force:!0})}catch(e){te(e,"report __wxConfig usage")}try{return"function"!=typeof n?n:n()}catch(e){return void te(e,`read mock wxConfig.${r}`)}},set(e){t[r]=e}})}var me=M.isSafeEnv,ye=Object.create(null),be=M.isService?function(e){return new Proxy(e,{set(e,t,r,n){if("__siblings__"===t)return Reflect.set(e,t,r,n);var a=Reflect.get(e,"__siblings__",n);return Array.isArray(a)?(a.length>1&&j.log(`[WXConfig] write __wxConfig.${t.toString()}, sync to all contexts.`),a.forEach((e=>{Reflect.set(e,t,r)})),!0):Reflect.set(e,t,r,n)}})}(ye):ye,_e=e=>{},we="wxConfig:updatePage";function Ie(t,r=!1){return _e(!1),ye.currentPhase="onStart",void 0===t||(r?(Object.assign(ye,t),Object.defineProperty(ye,"__siblings__",{value:t.__siblings__,enumerable:!1,writable:!1,configurable:!1})):(Object.assign(ye,me?t:le(t)),pe(ye),function(t,r){var n;Array.isArray(null==t||null===(n=t.tabBar)||void 0===n?void 0:n.list)&&t.tabBar.list.forEach((e=>{delete e.iconData,delete e.selectedIconData})),delete t.permission;var a=t.subPackages||t.subpackages;Array.isArray(a)&&a.length>0&&(a.forEach((e=>{delete e.pages})),t.subPackages=t.subpackages=a),"devtools"===t.platform&&(t.__globalComponentsCount=Object.keys(t.usingComponents||{}).length),fe&&(M.isSubContext||(delete t.usingComponents,Object.values(t.page||{}).forEach((e=>{null!=e&&e.window&&delete e.window.usingComponents})),t._preloadRule=t.preloadRule||{},t._page=t.page||{},delete t.preloadRule,delete t.page),t.updatePage=function(e,t){null!=t&&t.window&&delete t.window.usingComponents,r(e,t)},t.updatePreloadRule=function(e,r){t.preloadRule=t.preloadRule||{},t.preloadRule[e]=r}),e.g.__wxConfig.page=e.g.__wxConfig.page||{},t.page=t.page||{}}(ye,((e,t)=>{Be.emit(we,{key:e,value:t})})),Object.defineProperty(ye,"__siblings__",{value:[],enumerable:!1,writable:!1,configurable:!1})),Array.isArray(ye.__siblings__)&&ye.__siblings__.push(ye),ye.onPageUpdate((({key:e,value:t})=>{ye.page=ye.page||{},ye.page[e]=ye.page[e+".html"]=t,n&&(n[e+".html"]=le(t))})),me||(n=function(){var t=e.g.__wxConfig,r={},n={},a=fe?{}:t.page||{};try{ve(n,r,"deprecated",!0),ge.forEach((e=>{if(e in t){var i=t[e];switch(e){case"page":ve(n,r,e,a);break;case"env":ve(n,r,e,(()=>(console.warn("[Deprecation] __wxConfig.env is deprecated, please use wx.env instead."),{USER_DATA_PATH:i.USER_DATA_PATH})));break;case"accountInfo":ve(n,r,e,{appId:i.appId,icon:i.icon,nickname:i.nickname});break;case"appLaunchInfo":ve(n,r,e,(()=>(console.warn("[Deprecation] __wxConfig.appLaunchInfo is deprecated, please use wx.getLaunchOptionsSync() instead."),k&&"function"==typeof k.getLaunchOptionsSync?k.getLaunchOptionsSync():{})));break;case"wxAppInfo":ve(n,r,e,{maxRequestConcurrent:i.maxRequestConcurrent,maxUploadConcurrent:i.maxUploadConcurrent,maxDownloadConcurrent:i.maxDownloadConcurrent,maxWorkerConcurrent:i.maxWorkerConcurrent,maxWebsocketConnect:i.maxWebsocketConnect});break;default:ve(n,r,e,i)}}})),e.g.__wxConfig=n}catch(r){te(r,"mockGloablWxConfig"),e.g.__wxConfig=t}return a}())),be;var n}var Se=new $,ke=new $,Ce={},Te="WeixinJSBridgeReady",Ee="libraryEnd",Ae="load",Pe="postLoad",xe="start",Me="postStart";function Re(e,t){if(e in Ce)try{t(Ce[e])}catch(t){te(t,"LifeCycle."+e)}else ke.once(e,t)}function De(e,t){return!(e in Ce)&&(Ce[e]=t,ke.emit(e,t))}var Le,Ne=Re.bind(null,Ee),Oe=Re.bind(null,Ae),Be={EventEmitter:$,on:Se.on.bind(Se),emit:Se.emit.bind(Se),once:Se.once.bind(Se),getIsLoaded:()=>Ae in Ce,getIsStarted:()=>xe in Ce,onBridgeReady(e){Re(Te,e)},setWeixinJSBridge(e){De(Te,e)},onLibraryEnd:Ne,onCreate(e){e()},onLoadInstant(e){i.isSnapshoting&&M.mayHaveSnapShot?Oe((()=>{e()})):e()},onLoad(e,t=!1){t?Ne((()=>{Oe(e)})):Oe(e)},_onPostLoad:Re.bind(null,Pe),onStart:Re.bind(null,xe),onPostStart:Re.bind(null,Me)};ke.onError(((e,t)=>{j.error(`[LifeCycle/${M.typeStr}] ${e.toString()} failed: `,t),te(t,"LifeCycle."+e.toString())})).onSlow(((e,t,r,n)=>{W.warn(`[LifeCycle/${M.typeStr}] slow ${e.toString()} callback (${r-t}ms)\n${n+""}`)})),e.g.__wxLibrary.onEnd=function(){De(Ee)},Le=e.g.__wxConfig,ye.currentPhase="onCreate",void 0===Le||(_e(!1),Object.assign(ye,me?Le:le(Le)),ue(ye),_e(!0));var je=!1,Fe=!1;function Ue(){je||Fe?te(new Error(`LifeCycle error: undesired onLoad(${je}/${Fe})`)):(je=!0,i=function(e){return ye.currentPhase="onLoad",void 0===e||(_e(!1),Object.assign(ye,me?e:le(e)),ye.onPageUpdate=Be.on.bind(null,we),de(ye),_e(!0)),be}(e.g.__wxConfig),De(Ae,i),M.isSubContext?i.__readyHandler=e=>{We(e,!0)}:!0===i.preload?Be.onBridgeReady((t=>{t.on("onWxConfigReady",(()=>{We(e.g.__wxConfig)}))})):Be.onLibraryEnd((()=>{We(e.g.__wxConfig)})),De(Pe,i))}function We(e,t=!1){if(je&&!Fe){Fe=!0;var r=Date.now();"onReadyStart"in(i=Ie(e,t))||(i.onReadyStart=r),De(xe,i),i.onReadyEnd=Date.now(),De(Me,i)}else te(new Error(`LifeCycle error: undesired onStart(${je}/${Fe})`))}(i=be).isSnapshoting?e.g.WeixinSnapshot={snapshotContextReady(){delete e.g.WeixinSnapshot,i.isSnapshoting=!1,Ue()}}:M.mayHaveSnapShot?Be.onLibraryEnd(Ue):Ue();class Ge{constructor(e,t,r){this.num=e,this.type=t,this.bindingFn=void 0,this.bindingFn="function"==typeof r?r:O}}var Ve={ALL:new Ge(Number.MIN_VALUE,"ALL"),DEBUG:new Ge(5e3,"DEBUG",console.debug),LOG:new Ge(1e4,"LOG",console.log),INFO:new Ge(2e4,"INFO",console.info),WARN:new Ge(3e4,"WARN",console.warn),ERROR:new Ge(4e4,"ERROR",console.error),OFF:new Ge(Number.MAX_VALUE,"OFF")},$e=(e,t)=>({debug:e(Ve.DEBUG,t),log:e(Ve.LOG,t),info:e(Ve.INFO,t),warn:e(Ve.WARN,t),error:e(Ve.ERROR,t)}),qe=Ve.INFO,ze=(()=>{if(M.isWorker||M.isWidget){return Object.assign({createLogger:function(){return j}},j)}return M.isSubContext&&M.isIsolateContext?(e=[],t=(t,r)=>(...n)=>{e.push({level:t,logs:n,category:r})},r=()=>{setTimeout((()=>{var t=f.__isFromMainContext?f.__mergeSubContextLogs:null;t?(t(e),e=[]):r()}),1e3)},Be.onStart(r),u()(u()({},$e(t)),{},{createLogger:e=>$e(t,"string"==typeof e?e:"default"),__isFromMainContext:!1})):(()=>{var e=M.platform,t="android"!==e,r=[],n=function(t){"android"!==e?c.invoke("systemLog",{dataArray:t.map((t=>{return{message:`\n${r=t.date,n=("0"+(r.getMonth()+1)).slice(-2),a=("0"+r.getDate()).slice(-2),i=("0"+r.getHours()).slice(-2),o=("0"+r.getMinutes()).slice(-2),s=("0"+r.getSeconds()).slice(-2),c=("00"+r.getMilliseconds()).slice(-3),l=r.getFullYear()+"-"+n+"-"+a,u=i+":"+o+":"+s+"."+c,"ios"===e?l+" "+u+"000"+(r.getTimezoneOffset()/6e3*-1).toFixed(4).replace(/^0\./,"+").replace(/-0\./,"-"):l+" "+(r.getTimezoneOffset()/60*-1).toFixed(1).replace(/^(\d)/,"+$1")+" "+u} [${t.level.type[0].toUpperCase()}][wxapplib]] ${t.content}`};var r,n,a,i,o,s,c,l,u}))}):t.forEach((e=>{e.level.bindingFn("[wxapplib]] "+e.content)}))},a=e=>{if(e instanceof Error)return`${e.message}\n${e.stack}`;if(e&&"string"==typeof e.stack&&"string"==typeof e.message)return`${e.message}\n${e.stack}`;switch(typeof e){case"bigint":case"boolean":case"function":case"number":case"symbol":return e.toString();case"string":return e;case"undefined":return"undefined";case"object":var t;try{t=JSON.stringify(e)}catch(e){t="[对象含有循环引用]"}return t;default:return}},i=function(e,i){return function(...o){var s;if(i&&Array.prototype.unshift.call(o,"["+i+"]"),(N()||e.num>=Ve.WARN.num)&&(null===(s=j[e.type.toLowerCase()])||void 0===s||s.call(j,...o)),e.num>=qe.num){var c=Array.prototype.slice.call(o).map(a).join(" ");if(t){var l=new Date;r&&r.length>1024&&r.shift(),r.push({date:l,level:e,content:c})}else n([{level:e,content:c}])}}};return Be.onStart((()=>{setTimeout((function e(){setTimeout(e,4e3),0!==r.length&&(n(r),r=[])}),4e3)})),u()(u()({},$e(i)),{},{createLogger:function(e){return $e(i,"string"==typeof e?e:"default")},__mergeSubContextLogs:e=>{Array.isArray(e)&&e.forEach((e=>{var{level:t,logs:r,category:n}=e;i(t,n)(...r)}))},__isFromMainContext:!0})})();var e,t,r})();Be.onLoad((()=>{ze.info("[BaseLibVersion] "+JSON.stringify(t))}));var Ze,He=ze,Ke=L(["log","info","warn","error"],(e=>function(...t){(D||N())&&console[e]("[system]",...t)}));function Je(){return Ze||("undefined"!=typeof NativeGlobal&&void 0!==NativeGlobal.WebAssembly?NativeGlobal.WebAssembly:void 0!==globalThis.WebAssembly?globalThis.WebAssembly:void 0)}Be.onLoad((()=>{Ze=Je()}));var Ye=Object.create(null);Object.defineProperty(Ye,"WebAssembly",{enumerable:!0,get:Je});var Qe=Ye,Xe=e.g,et=u()(u()(u()({env:M,global:Xe,get isConfigReady(){return Be.getIsStarted()},get isStarted(){return Be.getIsStarted()},get isLoaded(){return Be.getIsLoaded()}},Be),o),{},{wxConsole:j,wxPerfConsole:W,wxNativeConsole:He,libConsole:Ke,libGlobal:Qe,globalShare:{}});void 0!==r&&(n=function(){return"return this"===arguments[arguments.length-1]?function(){return Xe}:new r(...arguments)},n.prototype=r.prototype);var tt=et})(),o=s.default})();var c,l,u,d,p=o.wxConsole,f=(o.wxPerfConsole,o.wxNativeConsole);o.libConsole,o.libGlobal;(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new n("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var t={};e.d(t,{default:()=>E});class r{constructor(e=0){this.id=e,this.$={}}add(e){var t=this.id++;return"function"==typeof e&&(this.$[t]=e),t}has(e){return"function"==typeof this.$[e]}callAndRemove(e,t){if(e in this.$){var r=this.$[e];delete this.$[e],"function"==typeof r&&r(t)}}}class a{constructor(){this.$={}}set(e,t){this.$[e]=t}emit(e,...t){var r=this.$[e];"function"==typeof r&&r(...t)}}var s=()=>{},u=JSON.parse,d=JSON.stringify,p="custom_event_",f=0;function h(t){var n=function(){var t=e.g.webkit;return delete e.g.webkit,t}(),c=function(){var t=e.g.WeixinJSCore;return"object"==typeof t&&"function"!=typeof t.publishHandler&&(t.publishHandler=s),o.env.isWorker&&"function"==typeof e.g.workerInvokeJsApi&&(t={invokeHandler:e.g.workerInvokeJsApi,publishHandler:s,invokeThirdHandler:s},f=1<<25),e.g.WeixinJSCore={invokeHandler:s,publishHandler:s,setTimerHandler:s,clearTimerHandler:s},t}(),h=new r(f),g=new a,v=new a;function m(e,t){if(void 0!==e&&h.has(t)&&""!==e&&null!==e){if("string"==typeof e)try{e=u(e),e=l.unpack(e)}catch(t){e={}}h.callAndRemove(t,e)}}var y={},b={},_=0;function w(e,t,r){var n,a=++_;y[a]=r;try{n=c.invokeThirdHandler(e,t,a)}catch(e){console.error("Third SDK Error: unexpected error:",e)}if(void 0!==n&&"function"==typeof y[a]&&""!==n&&null!==n){if("string"==typeof n)try{n=u(n)}catch(e){n={}}var i=y[a];delete y[a],"function"==typeof i&&i(n)}}var I=function(e,t){b[e]=t},S=(e,t)=>{var r=b[e];r&&r(t)},k=(e,t,r,n)=>{var a=y[e];delete y[e],"function"==typeof a&&a(t)};return{invoke(e,r,a,s={}){var u=r;s.keepOriginalParams||t.directInvokeJS||(r=l.pack(r),u=d(r||{})),delete s.keepOriginalParams,function(e,r,a,s={}){if(c){var l,u;m("splashad"===o.env.workerType||i.supportInvokeWithAppId?null===(l=c.invokeHandler)||void 0===l?void 0:l.call(c,e,r,a,s):null===(u=c.invokeHandler)||void 0===u?void 0:u.call(c,e,r,a),a)}else{var p={event:e,paramsString:r,callbackId:a,privateArgs:d(s)};if(t.isWebMiniGame)m(prompt("webgame_invoke",d(p)),a);else{var f=null==n?void 0:n.messageHandlers.invokeHandler.postMessage(p);null!=f&&f.catch&&f.catch((t=>{var n=console.error.bind(console);n("webkit.messageHandlers.invokeHandler.postMessage fail"),n(`event=${e}`),n("params=",r),n("err=",t),n("err.code=",t.code),n("err.message=",t.message),n("err.name=",t.name)}))}}}(e,u,h.add(a),s)},on(e,t){g.set(e,t)},subscribe(e,t){v.set(p+e,t)},publish(e,r,a){e=p+e;var i=a,o=r;t.directInvokeJS||(o=d(r),i=d(a)),function(e,t,r){if(c){var a;null===(a=c.publishHandler)||void 0===a||a.call(c,e,t,r)}else{var i=null==n?void 0:n.messageHandlers.publishHandler.postMessage({event:e,paramsString:t,webviewIds:r});null!=i&&i.catch&&i.catch((r=>{var n=console.error.bind(console);n("webkit.messageHandlers.publishHandler.postMessage fail"),n(`event=${e}`),n("params=",t),n("err=",r),n("err.code=",r.code),n("err.message=",r.message),n("err.name=",r.name)}))}}(e,o,i)},invokeCallbackHandler:function(e,t){t=l.unpack(t),h.callAndRemove(e,t)},subscribeHandler:function(e,t,r,n){t=l.unpack(t),-1!==e.indexOf(p)?v.emit(e,t,r,n||{}):g.emit(e,t,r,n||{})},get invokeThird(){return w},get onThird(){return I},get subscribeThirdHandler(){return S},get invokeThirdCallbackHandler(){return k}}}var g=!0,v={},m={},y=new Set(["getSystemInfo","getNetworkType","isGameRecorderSupported","getDeviceInfo"]);o.onPostStart((()=>{g=!1,v={},m={}}));var b=new Set(["onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","onTextViewDrag","onImageViewLoad","onScrollViewScroll"]);"function"==typeof logxx&&logxx("jsbridge start");var _=null;var w=new class{constructor(){this.value=void 0,this.pending=[]}ready(e){"function"==typeof e&&(void 0===this.value?this.pending.push(e):e(this.value))}hasValue(){return void 0!==this.value}done(e){this.value=e,this.pending.forEach((t=>{t(e)})),this.pending=[]}},I=w.ready.bind(w),S=new class{constructor(e){this.onNewEvent=e,this.$={},this.$e=new o.EventEmitter,this.knownEvents=new Set}emitNewEvent(e){this.knownEvents.has(e)||(this.knownEvents.add(e),this.onNewEvent(e,this))}add(e,t,r){this.emitNewEvent(e),this.$e.on(e,t,r)}remove(e,t){this.$e.off(e,t)}setSingle(e,t){this.emitNewEvent(e),this.$[e]=t}emit(e,...t){var r=this.$[e];"function"==typeof r&&r(...t),this.$e.emit(e,...t)}emitCancelable(e,...t){this.$e.emitCancelable(e,...t)}}(((e,t)=>{b.has(e)?I((r=>{r.on(e,t.emitCancelable.bind(t,e))})):I((r=>{r.on(e,t.emit.bind(t,e))}))})),k=()=>{},C=[],T={on(e,t){b.has(e)?S.add(e,t):S.setSingle(e,t)},addEventListener(e,t,r){S.add(e,t,r)},removeEventListener(e,t){S.remove(e,t)},invoke(e,t,r,n={}){var a=!0,i=!1,o=[],s=e=>{for(var t of(i||(a=!1),o))t(e,a);null==r||r(e)};if(_){var c=e=>{o.push(e)};for(var l of C){var u=l(e,t,c);if(u)return u instanceof Promise?(u.then((e=>{s(e)})),!0):(s(u),!1)}_.invoke(e,t,s,n)}else console.error(`[jsbridge] invoke ${e} fail: jsbridge not ready.`,new Error("jsbridge not ready").stack),s({errMsg:`${e}:fail jsbridge not ready`,errno:4});return i=!0,a},get invokeCallbackHandler(){var e;return null===(e=_)||void 0===e?void 0:e.invokeCallbackHandler},get subscribeHandler(){var e;return null===(e=_)||void 0===e?void 0:e.subscribeHandler},publish:k,subscribe:k,addSubscribeListener:k,removeSubscribeListener:k,addInvokeInterceptor(e){return C.push(e),this},get invokeThird(){var e;return null===(e=_)||void 0===e?void 0:e.invokeThird},get onThird(){var e;return null===(e=_)||void 0===e?void 0:e.onThird},get invokeThirdCallbackHandler(){return null},get subscribeThirdHandler(){return null}};o.onLoad((()=>{!function(t){if(!("devtools"===o.env.platform&&!o.env.isWorker||e.g.useGlobalJSBridge||e.g.OSUseGlobalJSBridge)){var r=h({directInvokeJS:!!i.wmpfDirectInvokeJs,isWebMiniGame:!!i.isWK}),n={get invokeCallbackHandler(){return r.invokeCallbackHandler},get subscribeHandler(){return r.subscribeHandler},get subscribeThirdHandler(){return r.subscribeThirdHandler},get invokeThirdCallbackHandler(){return r.invokeThirdCallbackHandler}};return i.clientDebug&&Object.assign(n,{on:T.on,publish:T.publish,invoke:T.invoke,subscribe:T.subscribe}),e.g.WeixinJSBridge=n,t(r,!1)}if(void 0!==e.g.WeixinJSBridge)return t(e.g.WeixinJSBridge,!0);document.addEventListener("WeixinJSBridgeReady",(()=>{t(e.g.WeixinJSBridge,!0)}),!1)}(((t,r)=>{_=t,r&&e.g.WeixinJSBridge===c&&Object.keys(t).forEach((e=>{e in T||(T[e]=(...r)=>t[e](...r))})),w.done(_)}))})),T.addInvokeInterceptor((e=>{if(!o.isStarted&&"splashad"!==o.env.workerType)return console.error(`[jsbridge] invoke ${e} fail: too eayly.`,new Error("invoke too eayly").stack),{errMsg:`${e}:fail too early`,errno:4}})).addInvokeInterceptor(((e,t,r)=>{if(g&&y.has(e)){if(e in v)return v[e];if(e in m)return m[e];if(y.has(e)){var n=new Promise((t=>{r(((r,n)=>{n?t(r):(delete m[e],v[e]=r)}))}));m[e]=n}}}));new Map;o.setWeixinJSBridge(T);var E=T;c=t.default})(),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new n("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var t={};(()=>{e.d(t,{default:()=>_});var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function n(e){for(var t="",n=new Uint8Array(e),a=n.byteLength,i=0;i<a;i++)t+=String.fromCharCode(n[i]);return function(e){if("function"==typeof btoa)return btoa(e);for(var t,n,a=String(e),i="",o=0,s=r;a.charAt(0|o)||(s="=",o%1);i+=s.charAt(63&t>>8-o%1*8)){if((n=a.charCodeAt(o+=3/4))>255)throw new Error('"btoa" failed');t=t<<8|n}return i}(t)}function a(e){for(var t=function(e){if("function"==typeof atob)return atob(e);var t=String(e).replace(/=+$/,""),n="";if(t.length%4==1)throw new Error('"atob" failed');for(var a,i,o=0,s=0;i=t.charAt(s++);~i&&(a=o%4?64*a+i:i,o++%4)?n+=String.fromCharCode(255&a>>(-2*o&6)):0)i=r.indexOf(i);return n}(e),n=t.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=t.charCodeAt(i);return a.buffer}var s,c=i.platform,l="ios"===c||"mac"===c,u="android"===c||"windows"===c||"mina"===c;l&&(s=e.g.WeixinNativeBuffer);var d=null;function p(e,t=!1){var r={};if(d&&!t){var a=!1,i=Object.getPrototypeOf(e);i!==ArrayBuffer.prototype&&(a=!0,Object.setPrototypeOf(e,ArrayBuffer.prototype)),r.id=d.create(e),a&&Object.setPrototypeOf(e,i)}else r.base64=n(e);return r}function f(e){if(null!=e)return d&&void 0!==e.id?d.get(e.id):void 0!==e.base64?a(e.base64):void 0}o.onLoad((()=>{d=function(e){var t=s,r=e.getNativeBufferId,n=e.setNativeBuffer,a=e.getNativeBuffer;delete e.getNativeBufferId,delete e.setNativeBuffer,delete e.getNativeBuffer;var o=null;return u&&"function"==typeof r&&"function"==typeof n&&"function"==typeof a&&i.nativeBufferEnabled?o={create(e){var t=r();return n(t,e),t},get:e=>a(e),useCompatibleMode(){}}:l&&t&&(o={create:e=>t.new(e),get:e=>t.get(e),useCompatibleMode(e){t.useCompatibleMode(e)}}),o}(e.g)}));var h=Object.prototype.toString;function g(e){return"[object Array]"===h.call(e)}function v(e){return"[object ArrayBuffer]"===h.call(e)}function m(e,t){if(!t)return null;var r=t.split(".");if(!r.length)return null;for(var n=r[r.length-1],a=e,i=0;i<r.length-1;i++){if(!a)return null;a=a[r[i]]}return[a,n]}function y(e,t=!1,r=!1){if(null==e)return e;var n;if(t)n=function(e,t=!1){var r=[],n=new WeakMap,a=function(e,r,i=[]){var o,s=n.get(e);if(s){if(s>50)throw console.error("[SDK ERROR] worker postMessage object occur circular reference. please check your postMessage argument:",e),new Error("worker postMessage object occur circular reference");n.set(e,s+1)}else n.set(e,1);for(var c in e){var l=e[c];if(o=l,"[object Object]"===h.call(o)||g(l)){var u=[...i];u.push(c),a(l,r,u)}else if(v(l)){if(e._sabId)continue;var d=p(l,t),f=Array.prototype.concat.call(i,c).join(".");d.key=f,delete e[c],r.push(d)}}};return a(e,r),r}(e,r);else{for(var a in n=[],e){var i=e[a];if(v(i)){var o=p(i,r);o.key=a,n.push(o)}}if(n.length>0)for(var s of n)delete e[s.key]}return n.length>0&&(e.__nativeBuffers__=n),e}function b(e,t=!1){if(null==e||null==e.__nativeBuffers__)return e;var r=e.__nativeBuffers__;delete e.__nativeBuffers__;var n=[];for(var a of r)if(null!=a){var i=f(a);if(v(i)){if(t){var o=m(e,a.key);if(!o)return;var[s,c]=o;s[c]=i}else e[a.key]=i;n.push(a.key)}}return e.__wx_dont_hook_sdk_inner_variable_packkeys_otherwise_you_will_regret_and_occur_bug__=n,e}var _={new:p,get:f,useCompatibleMode:function(e){var t;null===(t=d)||void 0===t||t.useCompatibleMode(e)},pack:y,unpack:b,packPostMessage:(e,t=!1)=>y(e,!0,t),unpackPostMessage:e=>b(e,!0)}})(),l=t.default})(),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new n("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var t={};e.d(t,{default:()=>C});var r,a,s=["request","createSocketTask","operateSocketTask","onSocketTaskStateChange","createRequestTask","createRequestTaskAsync","operateRequestTask","onRequestTaskStateChange","createDownloadTask","createDownloadTaskAsync","operateDownloadTask","onDownloadTaskStateChange","createUploadTask","createUploadTaskAsync","operateUploadTask","onUploadTaskStateChange","getNetworkType","createAudioInstance","createAudioInstanceAsync","operateAudio","destroyAudioInstance","getAudioState","setAudioState","onAudioStateChange","uploadFile","downloadFile","saveFile","getFileInfo","getSavedFileInfo","getSavedFileList","removeSavedFile","readFile","readCompressedFile","writeFile","mkdir","readdir","rmdir","access","unlink","stat","copyFile","rename","fs_appendFile","fs_appendFileSync","fs_copyFile","fs_copyFileSync","fs_rename","fs_renameSync","getABTestConfig","reportKeyValue","reportIDKey","getPermissionBytes"],c=i.supportWorkerMultiContext||i.supoortWorkerMultiContext,d=()=>{if("windows"===i.platform||"mac"===i.platform)return!0;var e="ios"===i.platform&&"clicfg_appbrand_ios_allow_multi_context_worker";return!e||1===Number(i.expt&&i.expt[e])},p=[],f=[],h=[],g={},v=function(e){return g[e]},m=function(e,t){g[e]=t},y=function(e){e=l.unpackPostMessage(e),f.forEach((t=>{"function"==typeof t&&t(e)}))},b=function(e,t){t=l.unpackPostMessage(t),p.forEach((r=>{"function"==typeof r&&r(e,t)}))},_=function(e,t){h.forEach((r=>{"function"==typeof r&&r(e,t)}))},w=(e,t)=>{a.sendMsgToAppService({__cmd__:"workerUncaughtError",__data__:e,__contextId__:t})},I=function(e,t){WORKER_RUNTIME&&c&&d()?w(e,t):o.emitUnhandledError(e)},S={get appServiceMsgHandler(){return y},get workerMsgHandler(){return b},get workerCreatedHandler(){return _},get errorHandler(){return I},get __workerId__(){return a.__workerId__}},k={create:function(e,t){var n,i,o=!(!(t=t||{}).useExperimentalWorker||!r);if(o?(i=r,n=JSON.stringify(t)):(i=a,n={APIList:s,pluginId:t.PluginId}),"function"==typeof i.create){var c=i.create.call(i,e,n);return m(c,i),{workerId:c,useWKWorker:o}}return{workerId:-1,useWKWorker:o}},createWXLibWorker:function(e,t){var r={APIList:s};t.APIList&&(r.APIList=s.concat(t.APIList)),t.type&&(r.type=t.type);var n=a;if("function"==typeof n.createWXLibWorker){var i=n.createWXLibWorker.call(n,e,JSON.stringify(r));return m(i,n),{workerId:i}}return{workerId:-1}},terminate:function(e){var t=v(e);if("function"==typeof(null==t?void 0:t.terminate))return function(e){delete g[e]}(e),t.terminate.call(t,e)},postMsgToAppService:function(e,t){try{!1!==t&&(e=l.packPostMessage(e),e=JSON.stringify(e))}catch(e){console.error(e)}a.postMsgToAppService(e)},postMsgToWorker:function(e,t,r,n){var a=v(e);try{!1!==r&&(t=l.packPostMessage(t,n),t=JSON.stringify(t)),null==a||a.postMsgToWorker(e,t)}catch(e){console.error(e)}},onWorkerMsg:function(e){p.push(e)},onWorkerCreated:function(e){h.push(e)},onAppServiceMsg:function(e){f.push(e)},get WebAssembly(){return a.WebAssembly},isSupportWXLibWorker:function(){return"function"==typeof a.createWXLibWorker},sendMsgToWorker:function(e,t){var r=v(e);t=l.packPostMessage(t,!1),null==r||r.sendMsgToWorker(e,t)},sendMsgToAppService:function(e){e=l.packPostMessage(e,!1),a.sendMsgToAppService(e)}};o.onLoadInstant((()=>{r=e.g.WeAppWorker,a=e.g.WeixinWorker,e.g.WeixinWorker=S,e.g.WeAppWorker=S,("devtools"===i.platform||"undefined"!=typeof WORKER_RUNTIME&&WORKER_RUNTIME&&c&&d())&&(k.appServiceMsgHandler=S.appServiceMsgHandler,k.workerMsgHandler=S.workerMsgHandler,k.errorHandler=S.errorHandler,k.__workerId__=S.__workerId__)}));var C=k;u=t.default})(),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};e.d(t,{default:()=>r});var r={requirePlugin:e=>{(()=>{if(void 0===i||void 0===i.plugins&&void 0===i.gamePlugins)throw new Error("This application has not registered any plugins yet.")})(),(e=>{if("string"!=typeof e)throw new Error("requirePlugin args must be a string.")})(e);var t=(e=>{var t=e.match(/([^/]*)\/?(.*)/);if(!t||t.length<2)throw new Error(`Plugin "${e}" has not registered.`);var r=t[1],n=t[2],a=(i.plugins||i.gamePlugins)[r];if(void 0===a)throw new Error(`Plugin "${e}" has not registered.`);return{pluginId:a.provider,version:"0",path:n}})(e),r=(e=>{var t=`__plugin__/${e.pluginId}`;return e.path&&(t+=`/${e.path}`),t})(t),n=S(r);if(void 0===n)throw new Error(`Plugin "${r}" is not defined.`);return n}};d=t.default})();d.definePlugin;var h,g=d.requirePlugin;(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{define:()=>u,require:()=>T,requireOnce:()=>E});var r=globalThis,n={},a={};if(globalThis.wxModuleVersion){var o=~~globalThis.wxModuleVersion;globalThis.enableWxModule=2>o}else globalThis.wxModuleVersion=2,globalThis.enableWxModule=!0;var s=()=>({__wxRoute:r.__wxRoute,__wxAppCurrentFile__:r.__wxAppCurrentFile__,__wxRouteBegin:r.__wxRouteBegin}),l=e=>{r.__wxRoute=e.__wxRoute,r.__wxAppCurrentFile__=e.__wxAppCurrentFile__,r.__wxRouteBegin=e.__wxRouteBegin};function u(e,t){if(n[e]&&n[e].factory){var r=n[e],a=t.toString();r.factoryString||(r.factoryString=r.factory.toString()),a!==r.factoryString&&(n[e]={status:1,factory:t,factoryString:a})}else n[e]={status:1,factory:t}}var d=e=>{if(e&&i.subPackages)for(var t=0,r=i.subPackages.length;t<r;t++)if(0===e.indexOf(i.subPackages[t].root))return i.subPackages[t]},p=e=>{for(var t=[],r=e.split("/"),n=0,a=r.length;n<a;++n){var i=r[n];if(""!==i&&"."!==i)if(".."===i){if(0===t.length){t=null;break}t.pop()}else n+1<a&&".."===r[n+1]?n++:t.push(i)}return t},g=e=>{var t=p(e+"/index.js").join("/");return n[t]?t:(t=p(e).join("/"),/\.js$/.test(t)||(t+=".js"),n[t]?t:"")},v=["wx0354ba48aadc0ab2","wxfa43a4a7041a84de"];function m(e,t){var r="__APP__"===e;"/"===e.slice(-1)||r||(e+="/"),"devtools"===i.platform?(f.info("[WebNode] injectSubPackages: "+e),c.invoke("injectSubPackages",{subPackages:[e]},t)):(f.info("[WebNode] loadSubpackage: "+e),I.loadSubpackage({name:e,success(){var n=i.subPackages.find((t=>t.root===e))||{},a=Object.assign({},n.plugins);r&&Object.assign(a,i.plugins);var o=Object.keys(a||{}).map((e=>{var t=a[e].provider,r="__plugin__/"+t;return{plugin_id:t,prefix_path:v.includes(t)?null:r}}));b.injectEntryFile(r?"":e,o),t({errMsg:"loadSubPackage:ok",loaded:!0})},fail(){f.error(`[WebNode] loadSubPackage fail ${e}`),t({errMsg:"loadSubPackage:false",loaded:!1})}}))}var y=e=>{var t=i&&i.subPackages;t||(t=[]);for(var r=0;r<t.length;++r){var n=t[r].root||"";if(n&&"/"!==n.slice(-1)&&(n+="/"),e.slice(0,n.length)===n)return{subPackage:n,independent:!!t[r].independent}}return{subPackage:"__APP__",independent:!1}},_=!1,S=[],k=e=>{Object.keys(e).forEach((t=>{var r=t;t.endsWith("*")&&(r=r.slice(0,-1));var n=e[t];e[t].endsWith("*")&&(n=n.slice(0,-1)),S.push({key:r,value:n})}))};"function"==typeof i.onReady?i.onReady((()=>{"object"==typeof i.resolveAlias&&(_=!!Object.keys(i.resolveAlias).length)&&k(i.resolveAlias)})):"object"==typeof i.resolveAlias&&(_=!!Object.keys(i.resolveAlias).length)&&k(i.resolveAlias);var C=e=>{var t=(e=>{var t=e.match(/(.*)\/([^/]+)?$/);return t&&t[1]?t[1]:"./"})(e),r=function(r,a,o){var s,c=t;if("string"!=typeof r)throw new Error("require args must be a string");if("/__wx__/private-api"===r?s=p(r).join("/"):(_&&(s=(e=>{var t={key:""},r=!1;if(S.forEach((n=>{e.startsWith(n.key)&&t.key.length<n.key.length&&(t=n,r=!0)})),r){var n=e.replace(t.key,t.value);return"/"===n[0]&&(n=n.slice(1)),n}})(r)),void 0!==s?(c="",s=p(s).join("/")):s=p(c+"/"+r).join("/")),!s)throw new Error(`can not find module : ${s}, require args is ${r}`);try{var l=((e,t,r)=>{var a=e;if(/\.js$/.test(a)||(a+=".js"),"string"==typeof a&&n[a])return a;var i=p(t);if(!i)throw new Error("can not find module : "+r);for(var o,s,c=e.substring(i.join("/").length);i.length&&(s=i.join("/")+"/miniprogram_npm"+c,!(o=g(s)));)i.pop();return o||(c="/"===c[0]?c:"/"+c,o=g(s="miniprogram_npm"+c)),o||e})(s,c,r),u=e=>"functional-pages"===p(e)[0];if(u(l)!==u(e)&&w.thirdErrorReport({error:new Error('should not require across "functional-pages" folder'),extend:'at require("'+r+'") in '+e}),"devtools"===i.platform&&i.subPackages&&void 0===a){var f=d(l),h=d(e);f&&f!==h&&console.warn(`Requires "${r}" from "${e}" without a callback may fail in production, since they are in different subPackages`)}return T(l,void 0,a,r,t,o)}catch(e){throw e}};return r.async=e=>new Promise(((t,n)=>{try{return r(e,t,n)}catch(e){n(e)}})),r};function T(e,t,r,o="",c,u){if(void 0===t&&(t=!0),"string"!=typeof e)throw new Error("require args must be a string");var d=n[e];if(!d){var p=-1===e.indexOf("/")?e+"/index.js":e;/\.js$/.test(p="miniprogram_npm/"+p)||(p+=".js"),d=n[p]}if(e.endsWith(".js")||(e+=".js"),!d&&"devtools"!==i.platform&&void 0!==b&&i.isLazyLoad){var f=e.slice(0,e.length-3),h=`${"undefined"!=typeof __LAZY_CODE_LOADING_CHUNK_MAP__&&"string"==typeof __LAZY_CODE_LOADING_CHUNK_MAP__[f]?__LAZY_CODE_LOADING_CHUNK_MAP__[f]:f}.appservice.js`,g=s(),v=b.loadJsFiles([h],null,{waitResult:!0,reportKey:`webnode-require-${e.slice(0,e.length-3)}`});l(g),d=n[e],v&&v(!!d)}if("function"!=typeof r){if(!d)throw new Error(`module '${e}' is not defined, require args is '${""===o?e:o}'`);var _={exports:{}},w=d.factory;if(!t||a[e])return delete d.exports,d.status=1,a[e]=!0,w&&w(C(e),_,_.exports),_.exports;if(1===d.status){var I;d.exports=_.exports,d.status=2;try{w&&(I=w(C(e),_,_.exports))}catch(e){throw d.status=1,e}d.exports=void 0!==_.exports?_.exports:I}return d.exports}var S=t=>{var r="function"==typeof u?u:()=>{},n="async require: fail";"object"==typeof t&&t&&t.message&&(n=t.message),r({errMsg:n,mod:e})},k=function(...e){try{var t=T(...e);r(t)}catch(e){S(e)}};if(d)setTimeout((()=>k(e)));else{var E=s(),A="string"==typeof c&&y(c).independent,{subPackage:P,independent:x}=y(e);!x&&A?m("__APP__",(t=>t&&!1===t.loaded?(S(new Error("loadSubPackage: fail, subPackage: __APP__")),void l(E)):"__APP__"===P?(r(k(e)),void l(E)):void m(P,(t=>{t&&!1===t.loaded?S(new Error(`loadSubPackage: fail, subPackage: ${P}`)):k(e),l(E)})))):m(P,(t=>{t&&!1===t.loaded?S(new Error(`loadSubPackage: fail, subPackage: ${P}`)):k(e),l(E)}))}}function E(e){return T(e,!1)}r.__modules__=n,h=t})();globalThis.define=h.define;var v,m,y,b,_,w,I,S=globalThis.require=h.require;globalThis.requireOnce=h.requireOnce,(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new n("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var t={};e.d(t,{default:()=>M});var r,a,s,c,l,u,d,p,h,g,m,y,b,_=Object.prototype.toString,w=(Object.getPrototypeOf,Object.getOwnPropertyNames,Object.getOwnPropertyDescriptor,Object.defineProperty,{}),I={},S=[],k=0,C=[],T=(e,t,n)=>{if(void 0!==t&&void 0!==e&&e===r){var a=void 0!==n?n:++k;return I[a]=t,S.push(a),C.forEach((e=>{"function"==typeof e&&e(a)})),a}},E=(e,t,n,a)=>{if(void 0!==e&&e===r){var i=(e=>{for(var t=S.length,r=0;r<t;r++){var n=S[r];if(I[n]===e)return n}})(t);if(void 0!==i){var o=w[n];return"function"==typeof o?o(a,i):void 0}}},A=(e,t)=>{w[e]=t},P=(e,t)=>{if(void 0===h||"function"!=typeof h)return"failed: loadLibFiles not supported";if("devtools"===i.platform&&"number"!=typeof g)return"failed: loadLibFiles not supported";try{if(0===h(e,JSON.stringify(t)))throw`WAFiles: ${t} is not exist.`;return"success"}catch(e){return"failed: "+e}},x={__init__:e=>{void 0===r&&void 0!==e&&((r=e).register=T,r.subscribeHandler=E,a=r.alloc,s=r.create,c=r.destroy,l=r.evaluateScriptFile,u=r.loadJsFiles,h=r.loadLibFiles,d=r.allocEmpty,p=r.allocFromSnapshot,g=r.mainContextId,m=r.errorHandler,r.waitingChannel={},y=r.notifyGameEngineReady,delete r.alloc,delete r.create,delete r.destroy,delete r.evaluateScriptFile,delete r.loadJsFiles,delete r.loadLibFiles,delete r.allocEmpty,delete r.allocFromSnapshot,delete r.mainContextId,delete r.errorHandler,delete r.notifyGameEngineReady)},publish:(e,t={},n,a)=>{var i,o=(i=t,_.call(i).split(" ")[1].split("]")[0]);if("Object"!==o&&"Undefined"!==o)throw new Error("params should be an object.");return n.map((n=>{var i=I[n];if(i)return i.subscribeHandler(r,e,t);a&&void 0!==n&&(r.waitingChannel[n]||(r.waitingChannel[n]=[]),r.waitingChannel[n].push({event:e,params:t}))}))},subscribe:A,onRegister:e=>{C.push(e)},evaluateScriptFile:(e,t,r)=>l(e,t,r),batchLoadJsFiles:(e,t,r)=>{if(void 0===u||"function"!=typeof u)return"failed: loadJsFiles not supported";var n="devtools"===i.platform?void 0:JSON.stringify(r);try{var a=u(e,JSON.stringify(t),n);return(e=>"[object Promise]"===Object.prototype.toString.call(e))(a)?a.then((()=>"success")).catch((e=>"failed: "+e)):"success"}catch(e){return"failed: "+e}},alloc:(e,t)=>"function"==typeof a?a.call(r,e,t):-9999,create:(e,t)=>"function"==typeof s?s.call(r,e,t):-9999,destroy:(e,t)=>"function"==typeof c?c(e,t):-9999,isAsync:()=>r&&!0===r.async,supportAlloc:()=>"function"==typeof a,loadLibFiles:P,allocEmpty:(e,t)=>"function"==typeof d?d.call(r,e,t):-9999,supportAllocEmpty:()=>"function"==typeof d,allocFromSnapshot:(e,t)=>{if("function"==typeof p){var n=p.call(r,e,t);return n}return-9999},supportAllocFromSnapshot:()=>"function"==typeof p,loadMainContextLibFile:(e,t)=>{if("android"===i.platform||"ios"===i.platform||"devtools"===i.platform||"windows"===i.platform||"mac"===i.platform||"mina"===i.platform){var r=Date.now(),n=P(1,[e]);f.info(`inject subPackage: ${e} coast: `,Date.now()-r),t(n)}else f.error("不支持loadJSFiles")},errorHandler:(e,t)=>{m?m(e,t):b?b[e]=t:(b={[e]:t},A("subContextError",(({contextId:e,err:t})=>{b[e](t)})))},notifyGameEngineReady:()=>{"function"==typeof y&&y()}};o.onLoad((()=>{"undefined"!=typeof WeixinJSContext&&(x.__init__(WeixinJSContext),delete x.__init__,delete e.g.WeixinJSContext)}));var M=x;v=t.default})(),(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new n("return this")()}catch(e){if("object"==typeof window)return window}}();var t=(()=>(i.onReady((()=>{t!==i&&void 0!==t&&Object.assign(t,i)})),i))(),r=t,a=(()=>r.platform)(),s=(()=>"android"===a)(),c=(()=>"ios"===a)();var l=["shouldShowSplashAd","onSplashAdShow","onSplashAdHide","onSplashAdClose","onSplashAdWillLayout","onSplashAdButtonClicked","showSplashAd","closeSplashAd","showSplashAdMenu","insertTextView","updateTextView","removeTextView","insertImageView","updateImageView","removeImageView","animateCoverView","onTextViewClick","onImageViewClick","insertVideoPlayer","removeVideoPlayer","updateVideoPlayer","operateVideoPlayer","onVideoProgress","onVideoTimeUpdate","onVideoWaiting","splashAdFirstStepViewLayoutStateChange","splashAdAllViewLayoutStateChange","getInstallState","getDeviceInfo","getOAID","private_addContact","launchApplication","downloadAppInternal","navigateToMiniProgram","openADCanvas","private_openUrl","adOperateWXData","operateWXData","reportIDKey","reportKeyValue","adDataReport","getSystemInfo","accessSync","getPermissionBytes","readFileSync","statSync","reportRealtimeAction","measureText","openChannelsActivity","openChannelsLive","openChannelsUserProfile","openChannelsRewardedVideoAd","getAdPushMsg","clearAdPushMsg"];try{(s||c)&&o.onLoadInstant((()=>{var e=u.createWXLibWorker("WASplashadWorker.js",{APIList:l,type:"ad"});-1!==e.workerId&&(o.globalShare.reusableWorkerId=e.workerId)}))}catch(e){o.emitFrameworkError(e,"LifeCycle.load")}})(),(()=>{var e={333:(e,t,r)=>{"use strict";r.r(t);var n=(()=>(i.onReady((()=>{n!==i&&void 0!==n&&Object.assign(n,i)})),i))();t.default=n},581:(e,t,r)=>{"use strict";r.r(t),r.d(t,{reportDeprecatedAPI:()=>n});var n=e=>{w.reportKeyValue({key:"DeprecatedAPI",value:e})}},578:(e,t,r)=>{var{reportDeprecatedAPI:n}=r(581),{default:a}=r(333);e.exports={hijack:function(e=!0,t=!0){!function(e){if("function"==typeof globalThis.Function){var t={};r.prototype=globalThis.Function.prototype,r.prototype.constructor=r,globalThis.Function=r}function r(){if(arguments.length>0&&"return this"===arguments[arguments.length-1])return function(){return e?t:{}}}}(t),"undefined"!=typeof eval&&("ios"===a.platform&&r.g.__isAppServiceRemoteDebugMode__||a.debug||(globalThis.eval=void 0)),e&&function(){if("undefined"!=typeof setTimeout){var e=setTimeout;globalThis.setTimeout=function(t,r=0){if("function"!=typeof t)throw new TypeError(`setTimeout expects a function as first argument but got ${typeof t}.`);var n=_.surroundThirdByTryCatch(t,"at setTimeout callback function"),a=[].slice.call(arguments,2);return e((()=>{n.apply(globalThis,a)}),r)};var t=setInterval;globalThis.setInterval=function(e,r){if("function"!=typeof e)throw new TypeError(`setInterval expects a function as first argument but got ${typeof e}.`);var n=_.surroundThirdByTryCatch(e,"at setInterval callback function"),a=[].slice.call(arguments,2);return t((()=>{n.apply(globalThis,a)}),r)}}}(),"undefined"!=typeof WebAssembly&&["compile","compileStreaming","instantiate","instantiateStreaming","validate","Module"].forEach((e=>{if(void 0!==WebAssembly[e]){var t=WebAssembly[e];Object.defineProperty(WebAssembly,e,{get:()=>(n("globalWa"),t),set:t=>{Object.defineProperty(WebAssembly,e,{value:t,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})}}))}}},585:()=>{if("undefined"==typeof navigator){try{new n('var GeneratorFunctionProto = Object.getPrototypeOf(function* () {});var FakeGeneratorFunction = function () {};FakeGeneratorFunction.prototype = GeneratorFunctionProto;Object.defineProperty(GeneratorFunctionProto, "constructor", { value: FakeGeneratorFunction });')()}catch(e){}try{new n('var AsyncFunctionProto = Object.getPrototypeOf(async function () {});var FakeAsyncFunction = function () {};FakeAsyncFunction.prototype = AsyncFunctionProto;Object.defineProperty(AsyncFunctionProto, "constructor", { value: FakeAsyncFunction });')()}catch(e){}try{new n('var AsyncGeneratorFunctionProto = Object.getPrototypeOf(async function* () {});var FakeAsyncGeneratorFunction = function () {};FakeAsyncGeneratorFunction.prototype = AsyncGeneratorFunctionProto;Object.defineProperty(AsyncGeneratorFunctionProto, "constructor", { value: FakeAsyncGeneratorFunction });')()}catch(e){}}}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new n("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};(()=>{"use strict";r.r(a),r.d(a,{bridgeGlobalInstanceOf:()=>ee,deepFreezeGlobalObjs:()=>z,deepFreezeObj:()=>R,deepFreezeObjProperty:()=>M,doNotWriteGlobalObjs:()=>q,doNotWriteObj:()=>O,doNotWriteObjProperty:()=>D,globalEsHiddenObjs:()=>t,globalEsObjs:()=>n,hijack:()=>Z.hijack,overwriteSetPrototypeOf:()=>$});r(585);var e=globalThis.Function,t=[()=>Object.getPrototypeOf(Uint8Array.prototype).constructor,()=>new e("return Object.getPrototypeOf((function* () {})()).constructor")(),()=>new e("return Object.getPrototypeOf(function* () {}).constructor")(),()=>new e("return Object.getPrototypeOf(async function () {}).constructor")(),()=>new e("return Object.getPrototypeOf(async function* () {}).constructor")()].map((e=>{try{return e()}catch(e){}})).filter(Boolean),n=["AggregateError","Array","ArrayBuffer","Atomics","BigInt","BigInt64Array","BigUint64Array","Boolean","DataView","Date","Error","EvalError","FinalizationRegistry","Float32Array","Float64Array","Function","globalThis","Infinity","Int16Array","Int32Array","Int8Array","Intl","JSON","Map","Math","NaN","Number","Object","Promise","Proxy","RangeError","ReferenceError","Reflect","RegExp","Set","SharedArrayBuffer","String","Symbol","SyntaxError","TypeError","URIError","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray","WeakMap","WeakSet","WebAssembly","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","null","parseFloat","parseInt","undefined","unescape","uneval"],i=["getApp","getCurrentPages","define","require","Reporter","Protect","requirePlugin","definePlugin"],o=globalThis,s=r(333),c=(()=>s.default.platform)(),l=(()=>"ios"===c)();var u=/^\s*at .*(\S+:\d+|\(native\))/m,d=/^(eval@)?(\[native code\])?$/;function p(e,t=1/0){if("string"!=typeof e.stack)throw new Error("Cannot parse given Error object");var r=e.stack;return l?function(e,t){for(var r=[],n=e.split("\n"),a=0,i=0;a<n.length&&i<t;++a){var o=n[a];if(!d.test(o)){++i;var s=o.indexOf("@");if(-1===s){var c=f(o);r.push({fileName:c.URI,lineNumber:c.line,columnNumber:c.column,source:o})}else{var l=o.substring(0,s),u=f(o.substr(s+1));r.push({functionName:l,fileName:u.URI,lineNumber:u.line,columnNumber:u.column,source:o})}}}return r}(r,t):function(e,t){for(var r=[],n=e.split("\n"),a=0,i=0;a<n.length&&i<t;++a){var o=n[a];u.test(o)&&(r.push(o),++i)}return r.map((e=>{e.indexOf("(eval ")>-1&&(e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var t=e.replace(/^\s+/,"").replace(/\(eval code/g,"("),r=t.match(/ (\((.+):(\d+):(\d+)\)$)/),n=(t=r?t.replace(r[0],""):t).split(/\s+/).slice(1),a=f(r?r[1]:n.pop());return{functionName:n.join(" ")||void 0,fileName:["eval","<anonymous>"].indexOf(a[0])>-1?void 0:a[0],lineNumber:a[1],columnNumber:a[2],source:e}}))}(r,t)}function f(e){var t=/(?::(\d+))?(?::(\d+))?$/.exec(e);return t?{URI:e.substring(0,e.length-t[0].length),line:t[1],column:t[2]}:{URI:e}}var h=Object.freeze,g=Object.setPrototypeOf,v=Object.defineProperty,m=Object.getOwnPropertyDescriptor,y=Object.getOwnPropertyNames,b=Object.getOwnPropertySymbols,_=Object.getPrototypeOf,w=Object.preventExtensions;var I=[[e=>!/(WAServiceMainContext|WAGame)\.js/.test(e)]];function S(){var e,t,r=Date.now(),n=p(new Error,3),a=n[1],i=n[2],o=!(a.fileName&&i.fileName&&i.fileName!==a.fileName&&(e=i.fileName,t=a.fileName,!I.some((r=>r.some((t=>t(e)))&&r.some((e=>e(t)))))));return Date.now()-r,o}function k(e,t=!1){if("function"==typeof e||"object"==typeof e&&null!==e){var r=m(e,"__proto__");r&&!r.configurable||(r||Object.isExtensible(e))&&v(e,"__proto__",{get(){return _(this)},set(r){if(this===e)t&&S()&&g(e,r);else{if("function"!=typeof this&&("object"!=typeof this||null===e))return;g(this,r)}},enumerable:!1,configurable:!1})}}var C=new Map,T=(e,t,r)=>{C.has(e)||C.set(e,new Map);var n=C.get(e);n.has(t)?Object.assign(n.get(t),r):n.set(t,r)};function E(e,t,r=!1){if("function"!=typeof e&&("object"!=typeof e||null===e))return!1;try{var n=m(e,t);return!!n&&(n.configurable&&(v(e,t,{get:n.get||(()=>n.value),set(a){if(this===e)r&&S()&&(n.set?n.set.call(this,a):n.writable&&(n.value=a));else{if("function"!=typeof this&&"object"!=typeof this)return;!function(e,t,r){try{"__proto__"===t?g(e,r):v(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}catch(e){}}(this,t,a)}},enumerable:n.enumerable,configurable:!1}),r&&T(e,t,n)),!n.get&&("function"==typeof n.value||"object"==typeof n.value&&null!==n.value))}catch(e){throw e.message,e}}var A=new WeakSet;function P(e){A.add(e)}function x(e){return A.has(e)}function M(e,t,r){E(e,t)&&R(e[t],r)}function R(e,t){if(e&&!x(e)&&("function"==typeof e||"object"==typeof e)&&e!==globalThis)if(e!==Error){P(e);for(var r=y(e),n=b(e),a=0;a<r.length;++a)M(e,r[a],t);for(var i=0;i<n.length;++i)M(e,n[i],t);t?w(e):k(e,!1)}else if(t){var o=e=>{if(e&&!x(e)&&("function"==typeof e||"object"==typeof e)&&e!==globalThis){P(e),h(e);for(var t=y(e),r=b(e),n=0;n<t.length;++n)o(e[t[n]]);for(var a=0;a<r.length;++a)o(e[r[a]])}};o(Error)}}function D(e,t){E(e,t,!0)&&O(e[t])}var L=new WeakSet;function N(e){return L.has(e)}function O(e){if(e&&!N(e)&&("function"==typeof e||"object"==typeof e)&&e!==globalThis){!function(e){L.add(e)}(e);for(var t=y(e),r=b(e),n=0;n<t.length;++n)D(e,t[n]);for(var a=0;a<r.length;++a)D(e,r[a]);k(e,!0)}}var B=Object.prototype.hasOwnProperty,j=Object.defineProperty,F=Object.defineProperties,U=Object.getOwnPropertyNames,W=Object.getOwnPropertySymbols,G=Object.getOwnPropertyDescriptor,V=!1,$=function(){V||(V=!0,j(o.Object,"setPrototypeOf",{value:(e,t)=>(e.__proto__=t,e),configurable:!0}),j(o.Object,"defineProperty",{value(e,t,r){if(!N(e))return j(e,t,r);if(!S())return r;var n=G(e,t);if(!n||n.configurable){var a=j(e,t,r);return D(e,t),a}return T(e,t,r),r},configurable:!0}),j(o.Object,"defineProperties",{value(e,t){if(!N(e))return F(e,t);if(!S())return t;var r=r=>{var n=G(e,r);if(!n||n.configurable){var a=j(e,r,t[r]);return D(e,r),a}return T(e,r,t[r]),t[r]};return U(t).forEach(r),W(t).forEach(r),t},configurable:!0}))},q=function(e=[]){try{for(var r=[...n,...i,...t,...e],a=(Date.now(),0);a<r.length;++a){var s=r[a],c=typeof s;"string"===c?B.call(o,s)&&D(o,s):"function"!==c&&"object"!==c||O(s)}Date.now()}catch(e){}},z=function(e=[],r=!1){try{for(var a=[...n,...i,...t,...e],s=(Date.now(),0);s<a.length;++s){var c=a[s],l=typeof c;"string"===l?B.call(o,c)&&M(o,c,r):"function"!==l&&"object"!==l||R(c,r)}Date.now()}catch(e){}},Z=r(578),H=Object.prototype.isPrototypeOf,K=Object.defineProperty,J=Object.prototype.hasOwnProperty,Y=Symbol.hasInstance,Q=function(e){return!("function"!=typeof this||!X(e))&&((e,t)=>H.call(t.prototype,e))(e,this)},X=e=>"object"==typeof e?null!==e:"function"==typeof e;function ee(e,t){for(var r=function(){var r=e[n],a=t[n];if("function"!=typeof r)return"continue";var i=J.call(r,Y)?r[Y]:Q,o=J.call(a,Y)?a[Y]:Q;K(r,Y,{value(e){return i.call(this,e)||o.call(a,e)},writable:!0,enumerable:!1,configurable:!0}),K(a,Y,{value(e){return o.call(this,e)||i.call(r,e)},writable:!0,enumerable:!1,configurable:!0})},n=0;n<e.length;++n)r()}})(),m=a})(),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{actionController:()=>o,allowReportLoadingTime:()=>se,clearAsyncCallApiRelatedEvent:()=>X,clearCurrentEventApiList:()=>R,clearCurrentEventInfo:()=>B,closeTrackUserAction:()=>x,convert24247SchemaToSensitiveQueryJudgeSchema:()=>j,convertClassList:()=>V,convertReportInfo2Strategys:()=>l,endLoading:()=>oe,endTraceHandler:()=>W,endTraceLastRouteStayTime:()=>k,filterApiReportReq:()=>c,getActionTime:()=>s,getAppServiceVariable:()=>ne,getAsyncCallApiRelatedEvent:()=>Y,getAsyncCallbackJoinEventInterval:()=>ee,getCurrentEventApiList:()=>L,getCurrentEventInfo:()=>O,getCurrentRawRoutePath:()=>K,getCurrentRoutePath:()=>E,getCurrentRoutePathWithoutQuery:()=>I,getCurrentRouteStartTime:()=>ce,getPageTitle:()=>ue,getQualityConfig:()=>pe,getReportEvent:()=>v,getSafeRoutePath:()=>F,getSamplePercent:()=>u,getSessionId:()=>g,getTextContentMaxLayer:()=>b,getTextContentMaxLength:()=>_,getTrackUserAction:()=>D,limitContent:()=>$,pushApiToEventApiList:()=>Z,reportInteractionAPI:()=>z,setActionChainReportTypes:()=>G,setAppServiceVariable:()=>ae,setAsyncCallApiRelatedEvent:()=>Q,setAsyncCallbackJoinEventInterval:()=>te,setCurrentEventApiList:()=>M,setCurrentEventInfo:()=>N,setCurrentRouteStartTime:()=>le,setEventJoinInterval:()=>J,setQualityConfig:()=>de,setReportSetting:()=>re,setSessionId:()=>w,shouldReportEvent:()=>d,shouldReportLifetime:()=>p,shouldStartReport:()=>f,shouldUpdateReportInfo:()=>h,startActionChainReport:()=>m,startLoading:()=>ie,startTraceHandler:()=>U,startTraceLastRouteStayTime:()=>S,startTrackUserAction:()=>P,traceApi:()=>r,traceBootRoutePath:()=>A,traceEvent:()=>a,traceLife:()=>i,traceNewRoute:()=>q,traceRawRoutePath:()=>H,traceRoute:()=>n,traceRoutePath:()=>T,traceRoutePathWithoutQuery:()=>C});var r=()=>{},n=()=>{},a=()=>{},i=()=>{};var o=new class{create(){}intervalSend(){}clearIntervalSend(){}getCurrentId(){}add(){}send(){}protect(){}},s=()=>{},c=()=>{},l=()=>{},u=()=>{},d=()=>{},p=()=>{},f=()=>{},h=()=>{},g=()=>{},v=()=>{},m=()=>{},b=()=>{},_=()=>{},w=()=>{},I=()=>{},S=()=>{},k=()=>{},C=()=>{},T=()=>{},E=()=>{},A=()=>{},P=()=>{},x=()=>{},M=()=>{},R=()=>{},D=()=>{},L=()=>{},N=()=>{},O=()=>{},B=()=>{},j=()=>{},F=()=>{},U=()=>{},W=()=>{},G=()=>{},V=()=>{},$=()=>{},q=()=>{},z=()=>{},Z=()=>{},H=()=>{},K=()=>{},J=()=>{},Y=()=>{},Q=()=>{},X=()=>{},ee=()=>{},te=()=>{},re=()=>{},ne=()=>{},ae=()=>{},ie=()=>{},oe=()=>{},se=()=>{},ce=()=>{},le=()=>{},ue=()=>{},de=()=>{},pe=()=>{};y=t})(),(()=>{var e={421:(e,t,r)=>{r.d(t,{D:()=>a,m:()=>n});var n={APP:"app",APP_RENDER:"app_sub_render",APP_XRFRAME_RENDER:"app_xrframe_render",APP_SCL:"app_sub_scl",GAME:"game",GAME_OPEN_DATA:"gameOpenData"},a={GAME_PLUGIN_PRELOAD:"gamePlugin_preload_",GAME_PLUGIN:"gamePlugin_"}},159:(e,t,r)=>{var n=r(407),a=r(369);o.onBridgeReady((()=>{c.on("onError",(e=>{o.emitUnhandledError(e)})),c.on("unhandledRejection",(e=>{o.emitUnhandledRejection(null==e?void 0:e.reason,null==e?void 0:e.promise)}))})),o.onUnhandledRejection((function(e={}){(0,n.N0)()?("function"==typeof __wxSourceMapRetrace__&&(e.reason=__wxSourceMapRetrace__(e.reason)),f.error("Uncaught (in promise) FrameworkError",e.reason)):(0,n.sK)(e.reason,"",e.promise||null)})),o.onUnhandledError((function(e){e=(0,a.Bs)(e),(0,n.N0)()?("function"==typeof __wxSourceMapRetrace__&&(e=__wxSourceMapRetrace__(e)),f.error("Uncaught FrameworkError",e)):(0,n.sK)(e,"")})),o.onFrameworkError((function(e){"function"==typeof __wxSourceMapRetrace__&&(e=__wxSourceMapRetrace__(e)),f.error("FrameworkError",e)}))},112:(e,t,r)=>{r.d(t,{OJ:()=>i,YZ:()=>a,yQ:()=>n});function n(){if(r.g.PerfDog)return r.g.PerfDog}function a(){if("undefined"!=typeof NativeGlobal&&NativeGlobal.Profiler)return NativeGlobal.Profiler}var i=new class{constructor(){this.callbacks=new Map}sendPackage(e,t){var r=this.callbacks.get(e);r&&Array.isArray(r)&&r.forEach((r=>{r(e,t)}))}registerCallback(e,t){if(this.callbacks.get(e)){this.callbacks.get(e).push(t)}else{var r=[t];this.callbacks.set(e,r)}}}},962:(e,t,r)=>{var n=r(826);i.onReady((()=>{"undefined"!=typeof __wxSourceMap&&(__wxSourceMap.get=function(e){if(__wxSourceMap[e])return __wxSourceMap[e];for(var t=(0,n.M)(),r=0;r<t.length;r++){var a=t[r].contextGlobal.__wxSourceMap;if("object"==typeof a&&a[e]){var i=void 0;try{i=JSON.parse(JSON.stringify(a[e]))}catch(e){console.error("[SourceMap] clone soucemap failed.")}return i}}})}))},251:(e,t,r)=>{var n,a=r(888),s=r.n(a),c=r(97),l=r.n(c),u=r(407),d=r(369),p=r(421),h={},g={},m={},y={},b={},_={},w={},S=0;v.subscribe("subContextMessage",((e,t)=>{var r=m[t];return r&&r.__onMessageHandler(e)})),v.subscribe("subContextReady",((e,t)=>{var r;if(((0,u.G$)()||(0,u.oi)())&&(r=m[t]),o.env.isGame)if("game"===n.__name__||r&&"game"===r.__name__||"string"==typeof n.__name__&&n.__name__.includes("preload")||r&&"string"==typeof r.__name__&&r.__name__.includes("preload")){var a=n;if((r?n&&"game"===n.name?n:r:n).delaySubContextReadyCallback=()=>{(0,u.G$)()||(0,u.oi)()?m[t].__onReadyHandler(t,e):a&&a.__onReadyHandler(t,e)},(0,u.G$)()||(0,u.oi)())return void m[t].__onPreloadReadyHandler(t,e);if(!a)return;a.__onPreloadReadyHandler(t,e),n=void 0}else{if((0,u.G$)()||(0,u.oi)())return void m[t].__onReadyHandler(t,e);if(!n)return;n.__onReadyHandler(t,e),n=void 0}else{if((0,u.G$)()||v.isAsync())return void m[t].__onReadyHandler(t,e);if(!n)return;n.__onReadyHandler(t,e),n=void 0}})),v.subscribe("subContextLibVarReady",((e,t)=>{m[t].__onLibVarReadyHandler(e)}));var k=function(e){var t=v.create(e);return h[this.__guid__]=t,t},C=function(e,t,r){var n,a,i=(0,u.G$)()||v.isAsync(),o=!1;if("number"==typeof t&&v.supportAllocFromSnapshot()?(f.info(`[JSContext] alloc(fromSnapshot) name=${e}, snapshotCtxIdx=${t}`),n=v.allocFromSnapshot(e,t)):r&&v.supportAllocEmpty()?(f.info(`[JSContext] alloc(empty) name=${e}`),o=!0,i?a=new Promise((t=>{n=v.allocEmpty(e,(()=>{t(n)}))})):n=v.allocEmpty()):(r&&f.warn("SubContext: allocEmpty is not supported"),f.info(`[JSContext] alloc name=${e}`),n=i?v.alloc(e):v.alloc()),i&&(m[n]=this),h[this.__guid__]=n,o&&n>0)if(a)a=a.then((e=>{var t=this.loadLibFiles(r);return f.info(`[JSContext] loadLibFiles(${r.join(",")}) ret=${t}`),e}));else{var s=this.loadLibFiles(r);f.info(`[JSContext] loadLibFiles(${r.join(",")}) ret=${s}`)}return a||n},T=function(e,t,r){Object.defineProperty(this,e,l()({value:t},r?{writable:!0,configurable:!1}:{writable:!1,configurable:!1}))},E=function(){void 0!==g[this.__guid__]&&(_[this.__guid__].forEach((e=>{this.postMessage(e)})),_[this.__guid__]=[])},A=function(){void 0!==g[this.__guid__]&&(0,d.YF)((()=>{w[this.__guid__].forEach((e=>{this.postMessage(e)})),w[this.__guid__]=[]}))},P=(e,t)=>(I.traceBeginEvent("Framework","evaluateScript",{moduleName:t,fileList:e}),e=>{I.traceEndEvent({isSuccess:e})}),x=new Set;t.Z=class{constructor({name:e,secure:t=!0,env:r={},entry:n=[],entryLibs:a=null,injectAfterAlloc:i=!0,snapshotContextName:o="",isPreload:s=!1}){T.call(this,"__name__",e,s),T.call(this,"__guid__",S++,s),T.call(this,"__secure__",t,s),T.call(this,"__entry__",n,s),T.call(this,"__entryLibs__",a,s),T.call(this,"__injectAfterAlloc__",i,s),T.call(this,"__snapshotContextName__",o,s),this.contextGlobal=globalThis,this.alreadyLoadedJsFiles=new Set,this.alreadyLoadedLibFiles=new Set,this.firstLoadJsFilesStartTime=null,this.initialScriptInjected=!1,this.setExportEnv(r),b[this.__guid__]=[],_[this.__guid__]=[],w[this.__guid__]=[]}static supportEntryLibs(){return v.supportAllocEmpty()}getInnerId(){return g[this.__guid__]}getSnapshotCtxIdx(){var e,t;if(!this.__snapshotContextName__)return null;var r=null===(e=i)||void 0===e||null===(t=e.snapshotMetaInfo)||void 0===t?void 0:t[this.__snapshotContextName__];return"number"==typeof r?r:null}init(){var e=this;if(n=this,!v.supportAlloc())return k.call(this,this.__entry__);var t=C.call(this,this.__name__,this.getSnapshotCtxIdx(),this.__entryLibs__);if(t instanceof Promise)return t.then((e=>(f.info(`[JSContext] alloc done, name=${this.__name__}, ret=${e}`),e)));if(f.info(`[JSContext] alloc done, name=${this.__name__}, ret=${t}`),this.__injectAfterAlloc__){if(((0,u.G$)()||v.isAsync())&&(0,u.N0)())return s()((function*(){for(var t=0,r=e.__entry__.length;t<r;t++)yield e.evaluateScriptFile(e.__entry__[t])}))();this.__entry__.forEach((e=>this.evaluateScriptFile(e)))}}preInit(e,t){var r=this;if(this.preHandleExportEnv=e,this.skipCondomList=t,n=this,!v.supportAlloc())return k.call(this,this.__entry__);C.call(this,this.__name__,this.getSnapshotCtxIdx()),this.__injectAfterAlloc__&&(this.delayExecuteJsFile=()=>{if(((0,u.G$)()||v.isAsync())&&(0,u.N0)())return s()((function*(){for(var e=0,t=r.__entry__.length;e<t;e++)yield r.evaluateScriptFile(r.__entry__[e])}))();this.__entry__.forEach((e=>this.evaluateScriptFile(e)))})}callDelayFn(){return new Promise(((e,t)=>{var r=Date.now(),a=()=>{if(this.delaySubContextReadyCallback){n=this,this.delaySubContextReadyCallback&&this.delaySubContextReadyCallback();var i=this.delayExecuteJsFile&&this.delayExecuteJsFile();n=void 0,e(i)}else{if(Date.now()-r>2e4)return o.env.platform,t();setTimeout(a)}};a()}))}callDelayFnSync(){n=this,this.delaySubContextReadyCallback&&this.delaySubContextReadyCallback();var e=this.delayExecuteJsFile&&this.delayExecuteJsFile();return n=void 0,e}unShiftEntries(e){this.__entry__.unshift(...e)}afterPreloadInit(){return("android"===o.env.platform||"ios"===o.env.platform)&&!v.isAsync()?this.callDelayFnSync():this.callDelayFn()}onMessage(e){(this.__onMsgCallback=e,"function"==typeof this.__onMsgCallback)&&(b[this.__guid__].forEach((e=>{this.__onMsgCallback(e)})),b[this.__guid__]=[])}postMessage(e){var t=g[this.__guid__];return void 0!==t?v.publish("mainContextMessage",e,[t])[0]:void _[this.__guid__].push(e)}postMessageAsync(e){var t=g[this.__guid__];void 0!==t?(0,d.YF)((()=>{v.publish("mainContextMessage",e,[t])})):w[this.__guid__].push(e)}onInitReady(e){this.__onInitReadyCallbacks=this.__onInitReadyCallbacks||[],this.__onInitReadyCallbacks.push(e)}setExportEnv(e){e.contextName=this.__name__,e.contextSecure=this.__secure__,y[this.__guid__]=e}setName(e){this.name=e,this.__name__=e}setEntry(e){this.__entry__&&this.__entry__.pop?(this.__entry__.splice(0,this.__entry__.length),this.__entry__.push(...e)):this.__entry__=[...e]}getEntry(){return this.__entry__}refreshExportEnv(e){return new Promise((t=>{if(!e)throw Error("refreshExportEnv: missing arguments.");this.setExportEnv(e);var r=y[this.__guid__],n=g[this.__guid__];v.publish("subContextEnvReady",r,[n],!0),v.subscribe("subContextRefreshEnvReady",((e,r)=>{n===r&&t()}))}))}refreshWxConfig(e,t){var r=g[this.__guid__];v.publish("subContextRefreshWxConfig",{key:e,value:t},[r])}dynamicExportGlobal(e={name:"",value:"",needCondom:!0},t){var r=()=>{var r=g[this.__guid__];v.publish("exportGlobalRequire",e,[r]),t&&t()};void 0!==h[this.__guid__]?r():this.onInitReady(r)}evaluateScriptFile(e,t){var r=h[this.__guid__];if(void 0!==r){"game.js"===e&&v.notifyGameEngineReady();var n=P([e],t);if(((0,u.G$)()||v.isAsync())&&(0,u.N0)())return new Promise((t=>{var a=v.evaluateScriptFile(r,e,(()=>t(a)));if(1!==a)throw n(!1),new Error(`SubContext evaluateScriptFile "${e}" failed: error code ${a}`)})).then((()=>{n(!0)}));var a=v.evaluateScriptFile(r,e);if(1!==a)throw n(!1),new Error(`SubContext evaluateScriptFile "${e}" failed: error code ${a}`);n(!0),this.alreadyLoadedJsFiles.add(e)}}loadLibFiles(e){var t=h&&h[this.__guid__];if(void 0===t)return"fail: no clientId";if(!v||!v.loadLibFiles)return"fail: not support loadLibFiles";try{e=e.filter((e=>!this.alreadyLoadedLibFiles.has(e)));var r=v.loadLibFiles(t,e);return e.forEach((e=>this.alreadyLoadedLibFiles.add(e))),r}catch(t){throw new Error(`SubContext loadLibFiles "${e}" failed: error ${t}`)}}loadJsFiles(e,t,{waitResult:r=!1,reportKey:n,isPageInitialScript:a=!1}={}){e=e.map((e=>"/"===e[0]?e:"/"+e));var o=h&&h[this.__guid__],s=e.filter((e=>this.alreadyLoadedJsFiles.has(e)));s.length>0&&f.info("[SubContext] loadJsFiles ignored loaded: "+s.join(","));var c=null;if(0===(e=e.filter((e=>!this.alreadyLoadedJsFiles.has(e)))).length)return f.info("[SubContext] loadJsFiles have no files to load, return"),c;var l={};if(void 0!==o){var u="android"===i.platform?"key":"reportKey",d=n;if(void 0!==d){if(x.has(d)){var g=1;do{d=n+"-#"+g++}while(x.has(d))}x.add(d)}if(l[u]=d,null===this.firstLoadJsFilesStartTime&&(this.firstLoadJsFilesStartTime=Date.now()),a&&!this.initialScriptInjected&&this.__name__===p.m.APP&&(this.initialScriptInjected=!0,l.initialScript=!0,l.initialScriptStartTime=this.firstLoadJsFilesStartTime),v&&v.batchLoadJsFiles)try{var m=Date.now(),y=P(e,t);try{v.batchLoadJsFiles(o,e,l)}catch(e){throw y(!1),e}r?c=e=>{y(!!e)}:y(!0),f.info("[SubContext] loadJsFiles done, cost "+(Date.now()-m)),e.forEach((e=>this.alreadyLoadedJsFiles.add(e)))}catch(t){throw new Error(`SubContext loadJsFiles "${e}" failed: error ${t}`)}}return c}destroy(){var e=h[this.__guid__],t=g[this.__guid__];e>0&&(v.publish("subContextDestroy",{},[t]),v.destroy(e)),delete m[t],delete h[this.__guid__],delete g[this.__guid__],delete y[this.__guid__],delete b[this.__guid__],delete _[this.__guid__],delete w[this.__guid__],delete this.__guid__,delete this.contextGlobal}__onMessageHandler(e){return"function"==typeof this.__onMsgCallback?this.__onMsgCallback(e):void b[this.__guid__].push(e)}__onReadyHandler(e,t){m[e]=this,g[this.__guid__]=e,this.contextGlobal=t.contextGlobal;var r=y[this.__guid__];r&&v.publish("subContextEnvReady",r,[e],!0),this.__onInitReadyCallbacks&&(this.__onInitReadyCallbacks.forEach((e=>{e(t)})),delete this.__onInitReadyCallbacks),delete this.__onReadyHandler,E.call(this),A.call(this)}__onPreloadReadyHandler(e,t){m[e]=this,g[this.__guid__]=e,this.contextGlobal=t.contextGlobal;var r=y[this.__guid__];r&&(r.preHandleEnv=this.preHandleExportEnv,r.skipCondomList=this.skipCondomList,v.publish("preloadSubContextEnvReady",r,[e],!0))}}},826:(e,t,r)=>{r.d(t,{M:()=>i,z:()=>a});var n=[],a=function(e){n.push(e)},i=function(){return n}},407:(e,t,r)=>{r.d(t,{F:()=>l,G$:()=>f,Hw:()=>p,N0:()=>s,NG:()=>y,QT:()=>u,Qj:()=>b,c6:()=>_,cF:()=>g,gn:()=>h,oi:()=>I,sK:()=>d,xJ:()=>o});var n=r(888),a=r.n(n),o=globalThis;var s=function(){return void 0!==i&&i.isIsolateContext},l=function(){m.deepFreezeGlobalObjs(["console"],!0)},u=function(){var e=a()((function*(e,t){w.reportIDKey({key:t});try{yield e()}catch(e){w.reportIDKey({key:`${t}_fail`,force:!0});var r=t.indexOf("initGame")>=0?"gameSDKScriptError":"appServiceSDKScriptError";w.errorReport({key:r,error:e,extend:""})}}));return function(t,r){return e.apply(this,arguments)}}(),d=function(e,t,r){void 0!==r?w.thirdErrorReport({error:e,isUnhandledRejection:!0,promise:r,extend:t}):w.thirdErrorReport({error:e,isUnhandledRejection:!1,extend:t})},p=function(e,t){return function(){try{return t.apply(t,arguments)}catch(t){w.errorReport({key:e,error:t,extend:""})}}},f=function(){return"devtools"===i.platform},h=function(){return"ios"===i.platform},g=e=>{var t;if(c.invoke("accessSync",{path:e},(e=>{/:fail/.test(e.errMsg)&&(t=e.errMsg)})),t)throw new Error(t)},y=e=>{var t,r;if(c.invoke("readFileSync",{filePath:e,encoding:"utf-8"},(e=>{/:fail/.test(e.errMsg)?r=e.errMsg:t=e.data})),r)throw new Error(r);return t},b=(e="",t=[])=>{if(e&&"string"==typeof e&&!/^index/.test(e)){var r=e.replace(/(^\/+)|(\/+$)/g,"").split("/"),n=t.find((t=>{if(t.independent){var n=t.root||"",a=t.alias||"",i=n.replace(/(^\/+)|(\/+$)/g,"").split("/");if(r.length>=i.length){var o=i.every(((e,t)=>e===r[t]));if(o)return o}if(a&&0===e.indexOf(a))return!0}return!1}));if(n)return n}return!1},_=e=>[1001,1011,1007,1008,1074,1088,1044,1010,1096,1014,1043,1107,1155].indexOf(e)>=0,I=()=>v.isAsync()},551:(e,n,a)=>{a.d(n,{E:()=>D,F:()=>L});var s=a(97),l=a.n(s),u=a(251),d=a(112),p=a(407),h=a(625),g=a(421);a.g.LanDebug=d.OJ,a.g.getPerfDog=d.yQ,a.g.getProfiler=d.YZ;var m="undefined"!=typeof __AppServiceRemoteDebugger__,b=null,_={};o.onLoad((()=>{b=m?__AppServiceRemoteDebugger__(i.platform,h.M,h.O,p.NG,a.g.WeixinJSBridge):null,m&&b&&((_=(0,p.gn)()?b.runtime.getSubContextGlobals():{}).BaseConsole&&b.runtime.setupConsole(console,_.BaseConsole),a.g.__remoteDebug__=b.__remoteDebug__,a.g.__isAppServiceRemoteDebugMode__=!0,a.g.__debuggerMessager__=h.O)}));var S="app-service.js",k="appservice.app.js",C="common.app.js",T="appservice.js",E=new u.Z({name:g.m.APP,secure:!1,entry:[S],injectAfterAlloc:!1,snapshotContextName:"app:sub"}),A=new Set;i.onReady((()=>{"develop"!==i.envVersion&&"trial"!==i.envVersion||(A.add("wx0354ba48aadc0ab2"),A.add("wxfa43a4a7041a84de"))}));var P=e=>f.info("[injectEntryFile] "+e),x=new Set,M=(e,t)=>{if(!x.has(e)){m&&b&&(0,p.gn)()&&b.runtime.registerScript(e);var r=-1,n=-1;x.add(e),P(`isLazyLoad: ${i.isLazyLoad}`),P(`moduleName: ${e}`),P(`separatedPlugins: ${JSON.stringify(t)}`);var a=[];if(i.isLazyLoad){console.info("Lazy code loading is enabled. Only injecting required components."),t.forEach((t=>{var r=(e+t.prefix_path+"/").replace(/\/\/$/,"/");t.prefix_path||(r+=`__extended__/${t.plugin_id}/`,A.add(t.plugin_id));try{P(`accessSync path: ${r+C}`),(0,p.cF)(r+C),a.push(r+C,r+k),t.prefix_path||((e,t)=>{f.info(`[loadPluginJson] try loading ${t} in module ${e}`);var r=(0,p.NG)(t);if(r){var n;try{n=JSON.parse(r)}catch(e){n={}}f.info(`[loadPluginJson] ${t} typeof result.allExtendedComponents=${typeof n.allExtendedComponents}`),(i.subPackages||[]).forEach((t=>{"/"+t.root===e&&t.useExtendedLib&&n.allExtendedComponents&&(t.allExtendedComponents=n.allExtendedComponents,f.info(`[loadPluginJson] updated subPackage ${t.root} allExtendedComponents`))})),E.refreshWxConfig("subPackages",i.subPackages)}})(e,r+"plugin.json")}catch(e){a.push(r+T)}})),a.push(e+C,e+k),P(`using separated plugins: ${JSON.stringify(a)}`);var o=e||"__APP__";r=Date.now(),E.loadJsFiles(a,o,{reportKey:`entry-${o}`}),n=Date.now()}else(a=t.map((t=>{var r=(e+t.prefix_path+"/").replace(/\/\/$/,"/");return t.prefix_path||(r+=`__extended__/${t.plugin_id}/`,A.add(t.plugin_id)),r+T}))).push(e+S),P(`using separated plugins: ${JSON.stringify(a)}`),r=Date.now(),a.forEach((t=>{if(t="/"===t[0]?t:"/"+t,!E.alreadyLoadedJsFiles.has(t)){try{E.evaluateScriptFile(t,e||"__APP__")}catch(e){P(`inject ${t} failed, reason: ${e.message}`)}E.alreadyLoadedJsFiles.add(t)}})),n=Date.now();E.refreshWxConfig("extendedLibList",Array.from(A)),r>0&&n>0&&P("time cost: "+(n-r))}},R=(0,p.Hw)("appServiceSDKScriptError",(e=>{var t=e.moduleName,r="__APP__"===t,n=e.separatedPlugins||[];"string"!=typeof t&&console.error("SubContext onSubPackageReady error: moduleName is empty"),t.endsWith("/")||(t=`${t}/`),i.onReady((()=>{(0,p.gn)()&&m?(t=r?"":t,b.runtime.isInitialInject()?(b.runtime.startBufferBridgeMessages(),b.runtime.runAfterAttached((()=>{M(t,n),b.runtime.dispatchBridgeMessages()}))):M(t,n)):M(r?"":t,n)}))})),D=function(){var e,n={};m&&b&&(n=l()({__isAppServiceRemoteDebugMode__:!0,__remoteDebug__:b.__remoteDebug__},_));var a=(null===(e=t)||void 0===e?void 0:e.version)||"9.9.9",o=l()(l()({wxLibVersion:a,__Function__:r,console:Object.assign({group:()=>{},groupEnd:()=>{}},console),setTimeout:setTimeout,clearTimeout:clearTimeout,setInterval:setInterval,clearInterval:clearInterval,__sclEngine__:__sclEngine__,__wxConfig:i,Reporter:w,BaseConsole:__appServiceConsole__.BaseConsole,wxNativeConsole:f,getWxSourceMap(){if("undefined"!=typeof __wxSourceMap)return __wxSourceMap},__subContextEngineBridge__:__subContextEngineBridge__,__freezeLibContextGlobal__:()=>(0,p.F)(),originConsole:console},n),{},{debuggerMessager:h.O,__userActionTracer__:y,__appServiceSDK__:I,WeixinJSBridge:c});o.Trace=Trace,I.onSubPackageReady(R),E.setExportEnv(o),E.init()},L=function(){return E};v&&v.subscribe&&v.subscribe("injectEntryFile",(e=>{M(e.moduleName,e.separatedPlugins)}))},220:(e,t,r)=>{r.d(t,{DW:()=>o,Tq:()=>l,vh:()=>s});var n=r(421),a=new(r(251).Z)({name:n.m.APP_RENDER,secure:!0,entry:[],entryLibs:["WARenderContext.js"],snapshotContextName:"app:subRender"}),o=function(){var e={setTimeout:setTimeout,clearTimeout:clearTimeout,setInterval:setInterval,clearInterval:clearInterval,__wxConfig:i,Reporter:w,BaseConsole:__appServiceConsole__.BaseConsole,NativeGlobal:r.g.NativeGlobal,WeixinCanvas:r.g.WeixinCanvas,WeixinArrayBuffer:r.g.WeixinArrayBuffer,wxNativeConsole:f,WeixinJSBridge:c,__sclEngine__:__sclEngine__,__appServiceConsole__:__appServiceConsole__,SkylineGlobal:"undefined"==typeof SkylineGlobal?{}:SkylineGlobal};return e.Trace=Trace,a.setExportEnv(e),a.__initPromise__=a.init(),a},s=function(){return a},l=(e,t)=>v.publish(e,t,[a.getInnerId()])},286:(e,t,r)=>{r.d(t,{Nz:()=>l,Pc:()=>s,dx:()=>o});var n=r(421),a=new(r(251).Z)({name:n.m.APP_SCL,secure:!1,entry:["common.app.js","webview.app.js"],entryLibs:["WASclContext.js"]}),o=function(){var e={setTimeout:setTimeout,clearTimeout:clearTimeout,setInterval:setInterval,clearInterval:clearInterval,__wxConfig:i,Reporter:w,NativeGlobal:r.g.NativeGlobal,WeixinCanvas:r.g.WeixinCanvas,WeixinArrayBuffer:r.g.WeixinArrayBuffer,wxNativeConsole:f,WeixinJSBridge:c,__sclEngine__:__sclEngine__};return e.Trace=Trace,a.setExportEnv(e),a.__initPromise__=a.init(),a},s=function(){return a},l=(e,t)=>v.publish(e,t,[a.getInnerId()])},445:(e,t,r)=>{r.d(t,{$:()=>s,k:()=>l});var n,a=r(421),o=r(251),s=function(e){if(n)return console.error(new Error("createAppXRFrameRenderContext: exceed max concurrent XRFrameRenderContext limit.")),n;n=new o.Z({name:a.m.APP_XRFRAME_RENDER,secure:!1,entry:[],entryLibs:"devtools"===i.platform?["WAXRFrameRenderContextDevTools.js"]:["WAXRFrameRenderContext.js"]});var t={setTimeout:setTimeout,clearTimeout:clearTimeout,setInterval:setInterval,clearInterval:clearInterval,__wxConfig:i,Reporter:w,NativeGlobal:r.g.NativeGlobal,WeixinCanvas:r.g.WeixinCanvas,WeixinArrayBuffer:r.g.WeixinArrayBuffer,wxNativeConsole:f,WeixinJSBridge:c,Trace:Trace,console:console,args:e,BaseConsole:__appServiceConsole__.BaseConsole};return n.setExportEnv(t),n.init(),n},l=()=>n},625:(e,t,r)=>{r.d(t,{M:()=>i,O:()=>a});var n=[],a="undefined"!=typeof DebuggerConnection?DebuggerConnection:{};a.registerCallback=e=>{"function"==typeof e&&n.push(e)},a.onCustomMessage=(e,t)=>{n.forEach((r=>{try{r(e,t)}catch(e){}}))};var i="undefined"!=typeof JSThread?JSThread:null},568:(e,t,r)=>{r.d(t,{M:()=>d,eC:()=>p,xC:()=>h});var n=r(251),a=r(407),o=r(112),s=r(625),c=r(421);r.g.LanDebug=o.OJ,r.g.getPerfDog=o.yQ,r.g.__debuggerMessager__=s.O;var l=new n.Z({name:c.m.GAME,secure:!1,entry:["game.js"],snapshotContextName:"game:sub"});function u(){I.getABTestConfig({experimentId:(0,a.gn)()?"clicfg_appbrand_ios_game_split_multi_plugincode":"clicfg_appbrand_game_split_multi_plugincode",experimentType:"Expt",success(e){e&&1===Number(e.testConfig)&&function(){var e=i.plugins||i.gamePlugins;if(e){var t=Object.keys(e).filter((t=>{var{contexts:r}=e[t];return!r||r.some((e=>"gameContext"===e.type))})).map((t=>e[t]));l.unShiftEntries(t.map((e=>{var{provider:t}=e;return`__plugin__/${t}/plugin.js`})))}}()},fail(e){f.error("getABTestConfig fail",e)}})}var d=function(e){return e.__wxConfig=i,l.setExportEnv(e),(0,a.G$)()||v.isAsync()||u(),l.afterPreloadInit()},p=function(){return l},h=function(e,t){return l.preInit(e,t)}},771:(e,t,r)=>{r.d(t,{J:()=>c,r:()=>l});var n=r(421),a=r(251),o=r(407),s=new a.Z({name:n.m.GAME_OPEN_DATA,secure:!0,entry:["subContext.js"],snapshotContextName:"game:sub"});var c=e=>(e.__wxConfig=i,s.setExportEnv(e),(0,o.G$)()||v.isAsync()||function(){var e=i.plugins||i.gamePlugins;if(e){var t=Object.keys(e).filter((t=>{var{contexts:r}=e[t];return!!r&&r.some((e=>"openDataContext"===e.type))})).map((t=>e[t]));s.unShiftEntries(t.map((e=>{var{provider:t}=e;return`__plugin__/${t}/plugin.js`})))}}(),s.init()),l=function(){return s}},311:(e,t,r)=>{r.d(t,{K0:()=>C,dr:()=>S,hS:()=>T,qo:()=>k});var n=r(888),a=r.n(n),s=r(97),c=r.n(s),l=r(421),u=r(251),d=r(826),p=r(407),f=r(568),h=r(771),g={},m={isolatedContext:{},gameContext:{},gameOpenDataContext:{},unknown:{}},y=e=>`__plugin__/${e}/plugin.js`,b=null,_=!1,w=1;o.onLoad((()=>{o.env.isGame&&i.preload&&"android"===o.env.platform&&!v.isAsync()?(b=new u.Z({name:l.D.GAME_PLUGIN_PRELOAD+w,secure:!1,isPreload:!0,snapshotContextName:"game:sub"}),w++,b.preInit()):_=!0}));var S=(e={provider:"",secure:!0,env:null,subContext:!1,isPreload:!1})=>{var{env:t,secure:r,isPreload:n,subContext:o}=e,{provider:s}=e;if(!1===(0,p.N0)())throw new Error("isn't isolateContext mode!");var f,h=g[s=`${s}_${o?"_sub":"main"}`];if(h)return f=h.contextGlobal.__require,!0===h.__isCompleted||!1===h.__isCompleted&&(h.dynamicExportGlobal({name:"pluginEnv",value:t}),m.isolatedContext[s]=f),f;var w,S=l.D.GAME_PLUGIN+s,k=y(s.slice(0,-5));w=_?new u.Z({name:S,secure:r,entry:[k],snapshotContextName:"game:sub"}):b;var C=e=>{if(e.__wxConfig=i,w.setExportEnv(c()(c()({},e),{},{pluginEnv:t})),_)return w.init();w.setName(S),w.setEntry([k]),w.afterPreloadInit(),_=!0};return((0,p.G$)()||v.isAsync())&&!0===n?a()((function*(){return yield(0,p.QT)(a()((function*(){(0,d.z)(w),yield C(I.getIsolatedGamePluginContextEnv(e)),f=w.contextGlobal.__require,w.__isCompleted=!1,g[s]=w})),"initGamePluginContext"),f}))():((0,p.QT)((()=>{(0,d.z)(w),C(I.getIsolatedGamePluginContextEnv(e)),f=w.contextGlobal.__require,w.__isCompleted=!0,g[s]=w}),"initGamePluginContext"),m.isolatedContext[s]=f,f)},k=(e,t,r)=>{var{__name__:n}=e,i=y(t),o="game"===n?"gameContext":"gameOpenData"===n?"gameOpenDataContext":"unknown";return((0,p.G$)()||v.isAsync())&&!0===r?a()((function*(){return yield e.evaluateScriptFile(i),m[o][t]=e.contextGlobal.__require,{provider:t,requireFunc:e.contextGlobal.__require,contextType:o}}))():(e.evaluateScriptFile(i),m[o][t]=e.contextGlobal.__require,{provider:t,requireFunc:e.contextGlobal.__require,contextType:o})},C=function(){var e=a()((function*(){var e,t,r=(e=i.gamePlugins||i.plugins||{},t=[],Object.keys(e).forEach((r=>{if(e[r].contexts)e[r].contexts.forEach((n=>{t.push(c()(c()({},e[r]),{},{context:n,contexts:null}));var a=e[r].provider;"wx20afc706a711eefc"!==a&&"wx4d5893418b75cb20"!==a||t.push(c()(c()({},e[r]),{},{context:n,subContext:!0,contexts:null}))}));else{t.push(c()(c()({},e[r]),{},{context:{type:"gameContext"},contexts:null}));var n=e[r].provider;"wx20afc706a711eefc"!==n&&"wx4d5893418b75cb20"!==n||t.push(c()(c()({},e[r]),{},{context:{type:"gameContext"},subContext:!0,contexts:null}))}})),t),n=(e,t)=>e.getEntry().unshift(t);return Promise.all(r.map((e=>{var{provider:t,context:r}=e;switch(r.type){case"isolatedContext":return S(c()(c()({},e),{},{isPreload:!0}));case"gameContext":return n((0,f.eC)(),y(t));case"openDataContext":return n((0,h.r)(),y(t));default:throw new Error(`pluginConf error: invalid context name: ${r.type}`)}})))}));return function(){return e.apply(this,arguments)}}(),T=()=>m},429:(e,t,r)=>{var n=r(826);v&&v.subscribe&&(v.subscribe("loadJsFiles",(e=>{var t=(0,n.M)().find((t=>t.__name__===e.contextName));if(t)return t.loadJsFiles(e.paths,e.moduleName,e.options);f.warn(`[MainContext] context name with ${e.contextName} not found, loadJsFiles fail`)})),v.subscribe("loadLibFiles",(e=>{var t=(0,n.M)().find((t=>t.__name__===e.contextName));if(t)return t.loadLibFiles(e.paths);f.warn(`[MainContext] context name with ${e.contextName} not found, loadLibFiles fail`)})))},369:(e,t,r)=>{r.d(t,{Bs:()=>n,YF:()=>o});var n=function(e){if("string"!=typeof e)return e;try{return JSON.parse(e.replace(/"/g,'\\"').replace(/'/g,'"').replace(/\n/g,"\\n"))}catch(t){return{message:e,stack:""}}},a=!1,i=[],o=e=>{i.push(e),a||(a=!0,Promise.resolve().then((()=>{for(var e=0;e<i.length;++e)"function"==typeof i[e]&&i[e]();a=!1,i.length=0})))}},888:e=>{e.exports=a.asyncToGenerator},97:e=>{e.exports=a.objectSpread2}},s={};function l(t){var r=s[t];if(void 0!==r)return r.exports;var n=s[t]={exports:{}};return e[t](n,n.exports,l),n.exports}l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},l.d=(e,t)=>{for(var r in t)l.o(t,r)&&!l.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},l.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new n("return this")()}catch(e){if("object"==typeof window)return window}}(),l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var u={};(()=>{l.r(u),l.d(u,{createAppRenderContext:()=>k,createAppSclContext:()=>T,createAppXRFrameRenderContext:()=>A,createGameOpenDataContext:()=>D,createIsolatedGamePlugin:()=>p.dr,getAppContext:()=>r.F,getGameContext:()=>c.eC,getGameOpenDataContext:()=>d.r,getGamePlugins:()=>p.hS,getPool:()=>g.M,initAppRelatedContexts:()=>S,initFunctionalPage:()=>x,initGameJS:()=>M,initGameRelatedContexts:()=>P,injectGamePlugin:()=>p.qo,isIsolateContext:()=>h.N0,isValidGameIndependentSubpackagePath:()=>h.Qj,loadJsFiles:()=>L,onSubContextMessage:()=>B,postMessageToSubContext:()=>N,postMessageToSubContextSync:()=>O,publishToRenderContext:()=>n.Tq,publishToSclContext:()=>s.Nz,waitAppRenderContextInit:()=>C,waitAppSclContextInit:()=>E});var e=l(888),t=l.n(e),r=(l(159),l(551)),n=l(220),a=l(445),s=l(286),c=l(568),d=l(771),p=l(311),h=l(407),g=l(826),y=(l(429),l(962),l(421)),b=Object.keys,_=new o.EventEmitter,S=function(e){(0,h.N0)();for(var t=b(e),n=0;n<t.length;n++){var a=t[n];h.xJ[a]=e[a]}(0,h.N0)()&&(0,h.QT)((()=>{m.hijack(),(0,g.z)((0,r.F)()),(0,r.E)()}),"initAppIsolatedContext"),i.onReady((()=>{!(0,h.N0)()&&i.plugins&&(m.overwriteSetPrototypeOf(),m.deepFreezeGlobalObjs([],!1))}))},k=function(){var e;(0,h.N0)(),(0,h.QT)((()=>{e=(0,n.DW)(),(0,g.z)(e),e.onMessage((e=>{_.emit("subContextMessage",e)})),(0,h.F)()}),"createAppRenderContext")},C=function(){var e=t()((function*(){var e,t=(0,g.M)().find((e=>e.__name__===y.m.APP_RENDER));return t?"function"==typeof(null===(e=t.__initPromise__)||void 0===e?void 0:e.then)?t.__initPromise__:Promise.resolve():Promise.reject("render context not yet added to pool")}));return function(){return e.apply(this,arguments)}}(),T=function(){var e;(0,h.N0)(),(0,h.QT)((()=>{e=(0,s.dx)(),(0,g.z)(e),e.onMessage((e=>{_.emit("subContextMessage",e)})),(0,h.F)()}),"createAppSclContext")},E=function(){var e=t()((function*(){var e,t=(0,g.M)().find((e=>e.__name__===y.m.APP_SCL));return t?"function"==typeof(null===(e=t.__initPromise__)||void 0===e?void 0:e.then)?t.__initPromise__:Promise.resolve():Promise.reject("scl context not yet added to pool")}));return function(){return e.apply(this,arguments)}}(),A=function(e){(0,h.QT)((()=>{var t=(0,a.$)(e);(0,g.z)(t),t.onMessage((e=>{_.emit("subContextMessage",e)}))}),"createAppXRFrameRenderContext")},P=()=>{var e,t;if(1===i.envPreloadType){var r=I.getGameRelatedContextsExportsWx();e=r.game,t=r.gameSkipCondom}function n(){var e=I.getGameRelatedContextsExports(),t=e.game.FunctionalPage,r=i.appLaunchInfo;if(t.parseCompletePath(r.path).isFunctionalPage&&t.VALID_SCENE.includes(r.scene))x(e);else if((0,h.c6)(r.scene)){var n=(0,h.Qj)(r.path,i.subPackages);if(n){var a=(0,c.eC)(),o=n.root;o.endsWith(".js")||(o.endsWith("/")||(o=`${o}/`),o=`${o}game.js`),a.setEntry([o]),R(e,(e=>{e&&(console.error("run game independent subpackage fail",e),f.error("run game independent subpackage fail",e),a.evaluateScriptFile("game.js"),w.reportIDKey({key:"loadGameIndependentSubPackageFail"}))}))}else R(e)}else R(e)}1===i.envPreloadType&&(I.loadPreloadSdkSubPackage(),f.info("load subpackage finish")),(0,c.xC)(e,t),i.onReady((()=>{((0,h.G$)()||v.isAsync())&&(0,h.N0)()?(0,p.K0)().then((()=>(n(),null))):n()}))};function x(e){(e=e||I.getGameRelatedContextsExports()).game.FunctionalPage.initFunctionalPage()}function M(e){e=e||I.getGameRelatedContextsExports(),(0,g.M)().length>0||R(e)}function R(e,t){e=e||I.getGameRelatedContextsExports(),(0,h.N0)()&&(0,h.QT)((()=>{(0,h.F)(),(0,g.z)((0,c.eC)());var r=(0,c.M)(e.game);r&&r.catch&&r.catch((e=>{"function"==typeof t&&t(e)}))}),"initGameIsolatedContext")}function D(e){e=e||I.getGameRelatedContextsExports(),(0,h.QT)((()=>{(0,g.z)((0,d.r)());var t=(0,d.J)(e.gameOpenData);t&&t.catch&&t.catch((e=>{}))}),"initGameOpenDataContext")}var L=()=>{},N=(e,t)=>{"string"==typeof t&&0===t.indexOf("xr-view-")?(0,a.k)().postMessageAsync(e):"string"==typeof t&&4294967298===t?(0,s.Pc)().postMessageAsync(e):(0,n.vh)().postMessageAsync(e)},O=(e,t)=>{"string"==typeof t&&0===t.indexOf("xr-view-")?(0,a.k)().postMessage(e):4294967298===t?(0,s.Pc)().postMessage(e):(0,n.vh)().postMessage(e)},B=e=>{_.on("subContextMessage",e)}})(),b=u})(),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{callMiniProgramOrPluginFunction:()=>p,callSystemFunction:()=>u,callThirdPartyFunction:()=>f,convertStack:()=>a,endSystemFunctionCall:()=>l,findCurrentSource:()=>s,startSystemFunctionCall:()=>c,surroundThirdByTryCatch:()=>v,wrapMiniProgramOrPluginFunction:()=>h,wrapSystemFunction:()=>d,wrapThirdPartyFunction:()=>g,wrapperStack:()=>n});var r=/[ (@]*https?:\/\/([^/]*)\/+(.*?):(\d+):(\d+)/,n=[];function a(e){if(!e||e.__wxOriginalStack__)return!1;var t=e.stack;if(void 0===t)return!1;for(var r=t,a=n.length-1,o=0;o>=0&&a>=0;){var s=r.length,c=0;for(var l in i)if(i[l]){var u=r.indexOf(i[l],o);u<0||s<=u||(s=u,c=i[l].length)}if(s>=r.length)break;var d=`at <${n[a--].description}>`;r=r.slice(0,s)+d+r.slice(s+c),o=s+d.length}return Object.defineProperties(e,{__wxOriginalStack__:{value:t,writable:!0,configurable:!0},stack:{value:r,writable:!0,enumerable:!0,configurable:!0}}),!0}var i={wrapSystemFunction:null,wrapMiniProgramOrPluginFunction:null};function o(e){var t=((new Error).stack||"").match(/.+/gm),n="",a=0;t&&t.forEach((e=>{if(r.test(e)&&2===(a+=1)){var t=e.match(/^(\s*)at /),i=t?t[1].length:0;return n=e.slice(i),!1}return!0})),i[e]=n}function s(){for(var e="",t=n.length-1;t>=0;t--)n[t].pluginAppId&&(e=n[t].pluginAppId);return e}var c=e=>{null===i.wrapSystemFunction&&(i.wrapSystemFunction="",d("","",o)("wrapSystemFunction")),n.push({description:e})},l=()=>{n.pop()};function u(e,t,r,c,l,u=!1){var p;null===i.wrapSystemFunction&&(i.wrapSystemFunction="",d("","",o)("wrapSystemFunction")),n.push({description:t});try{p=r.apply(c,l)}catch(t){if(a(t)){if("AppServiceSdkKnownError"===t.type)throw n.pop(),t;if("ThirdScriptError"===t.type){var f=s();w.thirdErrorReport({error:t,source:f,triggerErrorCallback:!u})}else w.errorReport({key:e,error:t,triggerErrorCallback:!u})}if(u)throw n.pop(),t}return n.pop(),p}function d(e,t,r,n=!1){return function(...a){return u(e,t,r,this,a,n)}}function p(e,t,r,s,c,l=!1){var u;null===i.wrapMiniProgramOrPluginFunction&&(i.wrapMiniProgramOrPluginFunction="",h("","",o)("wrapMiniProgramOrPluginFunction")),n.push({description:t,pluginAppId:e});try{u=r.apply(s,c)}catch(t){if(a(t)&&w.thirdErrorReport({error:t,source:e||"",triggerErrorCallback:!l}),l)throw n.pop(),t}return n.pop(),u}function f(e,t,r,n,a=!1){return p(s(),e,t,r,n,a)}function h(e,t,r,n=!1){return function(...a){return p(e,t,r,this,a,n)}}function g(e,t,r=!1){return function(...n){return p(s(),e,t,this,n,r)}}function v(e,t){var r=(t||"").match(/^\s*(?:at )?([\s\S]*)$/),n=r?r[1]:"",a=e||function(){};return function(...e){return p(s(),n,a,a,e,!1)}}_=t})(),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new n("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var r={};(()=>{e.d(r,{default:()=>se});var a={APP:0,WIDGET:1,GAME:2,GAME_SUBCONTEXT:3,APP_SUBCONTEXT:4},s={Speed:13544,Error:13582,Slow:13968,Clipboard:14367,NetworkAPI:14480,NetworkAPI2:26057,Display:15496,WebviewRecycle:15352,WebviewRestore:15353,PluginDisplay:15364,functionalPageOperation:15804,RecycledAPI:15649,GameReportKV:15677,RecycleView:15864,GameADFunnelModel:15859,CustomComponent:15948,VideoAction:16137,SameLayerRender:16360,MediaCompStatus:16435,NavigateToMiniProgramAlert:16432,LaunchDetailSpeed:16514,CloudReport:16588,DeprecatedAPI:16624,Share:16717,APIUse:17619,SetDataPerf:17176,UserLog:17809,GameInteractiveData:17836,GameRecorder:17833,UserLogFail:17975,WeAppInvoke:18042,RenderCache:18052,RenderStages:18321,ShareCardClick:18352,PerfReport:18748,GameServerInvite:18768,NpmExtendedLib:18874,FirstInteraction:19136,GameComponent:19283,GameWhatsNew:19335,TradeService:19286,LazyCodeLoading:20030,MidasFriendPayment:20285,Handoff:20888,ShareToWeRun:21272,WeAppOperateWXData:21359,WXGameWASMLaunchClose:21494,WXGameWASMLaunchException:21493,WXGameWASMLaunchTime:21492,ExptHit:21627,WeAppInvoke2:21688,GameLifeMiniGameCardAction:21898,ShareImageMenu:22050,WeAppToChannels:22082,RequestPaymentCheckTicket:22273,WeAppNavBan:22762,GameAdsSkipCard:20267,MiniGameOpenDataMonitor:23536,BLEConnection:23886,WeAppRequestError:24247,ClickWechatAppPreviewPage:24298,MiniprogramOnWeakNetwork:24499,PaymentAddOrderCall:27441,MiniprogramOnUserCaptureScreen:26252,MiniprogramDoEvilIdentification:26447,MiniprogramTapRestriction:27322,WeAppRequestErrnoInfo:24321,PublishWechatState:24488,OpenEmbeddedMiniProgramResult:24542,RequestPaymentRiskConfirm:24544,InitRenderDone:24643,SdkInnerApiInvoke:24927,WeAppSensitiveRequest:25214,OpenUrl:25265,WeAppInteractionApiCall:25394,Route:25520,detachFromNestWebviewPage:25651,WeAppInteractiveApiError:25972,WeAppCoreWebVitals:26147,WxappNicknameAvatarAutofill:26249,WeFreeHttpDns:26411,LaunchApplicationInfo:26472,WxappChannelVideo:26614,WeAppSDKSubpackageInject:27065,WXGameSceneLaunchReport:27248,XR_FRAME:27478,MediaApi:27661,WePayVIPAppInteractiveApiError:28022,WePayVIPAppRequestError:28019,PayCompletedPage:28043,Skyline:28287,PageScrollInfo:28458},l={webview2AppService:1,appService2Webview:2,funcReady:3,firstGetData:4,firstRenderTime:5,reRenderTime:6,forceUpdateRenderTime:7,appRoute2newPage:8,newPage2pageReady:9,thirdScriptRunTime:10,pageframe:11,WAWebview:12,WAWidget:13,widgetCanvasReady:14,widgetFirstDataPush:15},u={apiCallback:1,pageInvoke:2,widgetInvoke:3},d={appServiceSDKScriptError:1,webviewSDKScriptError:2,jsEnginScriptError:3,thirdScriptError:4,webviewScriptError:5,exparserScriptError:6,widgetEnginScriptError:7,widgetThirdScriptError:8,gameSDKScriptError:10,gameSubContextSDKScriptError:12,gameThirdScriptError:13,gameSubContextThirdScriptError:14,appSubContextThirdScriptError:15,appSubContextSDKScriptError:16},p={[a.APP]:"thirdScriptError",[a.APP_SUBCONTEXT]:"appSubContextThirdScriptError",[a.WIDGET]:"widgetThirdScriptError",[a.GAME]:"gameThirdScriptError",[a.GAME_SUBCONTEXT]:"gameSubContextThirdScriptError"};var f={offset:0,now:function(){if(0===this.offset)throw Error("offset not ready");return Date.now()-this.offset}},h=0;function g(){var e=0;return{get(){if(e>0)return e;if(0===h)throw Error("initTime not ready");return e=h},since(){return Date.now()-this.get()},set(t){e=t},reset(){e=Date.now()}}}void 0!==o?o.onLoad((()=>{f.offset=Date.now(),h=Date.now()})):(f.offset=Date.now(),h=Date.now());class v{constructor(e,t,r,n){this.BATCH_KEYVALUE_INTERVAL=e,this.REPORT_DECREASE_RATE=t,this.PERIOD_TIME=n,this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE=r,this.periodStartTime=g(),this.currentPeriodSurplusReportCount=this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE,this.currentMiniPeriodReportCount=0,this.currentPeriodReportQueue=[],this._currentMiniPeriodFlag=1,this._lastReportTime=g(),this._periods=parseInt(this.PERIOD_TIME/this.BATCH_KEYVALUE_INTERVAL,10)}get _currentMiniPeriod(){var e=this._evaluateCurrentMiniPeriodBatch();return this._currentMiniPeriodFlag!==e?(this._currentMiniPeriodFlag=e,this.currentPeriodSurplusReportCount-=this.currentMiniPeriodReportCount,this.currentMiniPeriodReportCount=0,this._currentMiniPeriod):e}_evaluateCurrentMiniPeriodBatch(){for(var e=this.periodStartTime.since(),t=1;t<=this._periods;t++)if(e<this.BATCH_KEYVALUE_INTERVAL*t)return t;return this._periods}get _currentMiniPeriodMaxReportCount(){return this.periodStartTime.since()>this.PERIOD_TIME?(this.periodStartTime.reset(),this.currentPeriodSurplusReportCount=this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE,this._currentMiniPeriodMaxReportCount):this._currentMiniPeriod===this._periods?this.currentPeriodSurplusReportCount:parseInt(this.currentPeriodSurplusReportCount*this.REPORT_DECREASE_RATE,10)}pushReportQueue(e,t=!1){this.currentMiniPeriodReportCount>=this._currentMiniPeriodMaxReportCount?t&&(this.currentPeriodReportQueue.unshift(e),this.currentPeriodReportQueue.pop()):(this.currentPeriodReportQueue.push(e),this.currentMiniPeriodReportCount++)}attemptReportAndGetReportMsgs(e=!1){var t=Date.now();if(t-this._lastReportTime.get()>this.BATCH_KEYVALUE_INTERVAL||e){if(!this.currentPeriodReportQueue.length)return[];var r=this.currentPeriodReportQueue.splice(0,this.currentPeriodReportQueue.length);return this._lastReportTime.set(t),r}return[]}isLimit(){return this.currentMiniPeriodReportCount>=this._currentMiniPeriodMaxReportCount}}class m{constructor(e,t,r,n){this.BATCH_KEYVALUE_INTERVAL=t,this.PERIOD_TIME=n,this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE=r,this.keyStr=e,this._lastReportTime=g(),this._periodStartTime=g(),this._periodReportCountMP={},this.cacheMP={}}pushReportQueue(e,t=!1){var r=e[this.keyStr];this.cacheMP[r]||(this.cacheMP[r]=[]),this._periodReportCountMP[r]||(this._periodReportCountMP[r]=0),this._periodReportCountMP[r]>this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE?t&&(this.cacheMP[r].unshift(e),this.cacheMP[r].pop()):(this._periodReportCountMP[r]++,this.cacheMP[r].push(e))}isLimit(e){return this._periodReportCountMP[e]>this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE}attemptReportAndGetReportMsgs(e){var t=Date.now();if(t-this._lastReportTime.get()>this.BATCH_KEYVALUE_INTERVAL||e){var r=Array.prototype.concat.call([],...Object.values(this.cacheMP));return Object.keys(this.cacheMP).forEach((e=>{this.cacheMP[e].length=0})),this._lastReportTime.set(t),t-this._periodStartTime.get()>this.PERIOD_TIME&&(this._periodStartTime.set(t),this._periodReportCountMP={},this.cacheMP={}),r}return[]}}class y{constructor(e,t,r,n){this.reportTime=g(),this.continueDecreaseReportLimitStrategys={},this.reportLimitStrategy=new m(e,t,r,n),this.BATCH_KEYVALUE_INTERVAL=t,this.keyStr=e}shouldReport(){return this.reportTime.since()>=this.BATCH_KEYVALUE_INTERVAL}setContinueDecreaseReportLimitStrategyKey(e,t,r,n,a){this.continueDecreaseReportLimitStrategys[e]=new v(t,r,n,a)}pushReportQueue(e,t){var r=e[this.keyStr];r in this.continueDecreaseReportLimitStrategys?this.continueDecreaseReportLimitStrategys[r].pushReportQueue(e,t):this.reportLimitStrategy.pushReportQueue(e,t)}attemptReportAndGetReportMsgs(e){if(e||this.shouldReport()){var t=this.reportLimitStrategy.attemptReportAndGetReportMsgs(e),r=Object.values(this.continueDecreaseReportLimitStrategys).reduce(((e,t)=>(e.push(...t.attemptReportAndGetReportMsgs()),e)),[]);return this.reportTime.reset(),t.concat(r)}return[]}isLimit(e){return e in this.continueDecreaseReportLimitStrategys?this.continueDecreaseReportLimitStrategys[e].isLimit():this.reportLimitStrategy.isLimit(e)}}var b=(()=>(i.onReady((()=>{b!==i&&void 0!==b&&Object.assign(b,i)})),i))(),w=b,S=(()=>w.platform)(),k=(()=>"devtools"===S)(),C=(()=>"ios"===S)();var T=(()=>Object.prototype.toString)(),E=n.prototype.call.bind(T);function A(e){return E(e).slice(8,-1)}var P=6e4,x=15e3;function M(...e){c.invoke(...e)}var R={login:1,login_cancel:2,login_fail:3,request_fail:4,connectSocket_fail:5,closeSocket_fail:6,sendSocketMessage_fail:7,uploadFile_fail:8,downloadFile_fail:9,redirectTo_fail:10,navigateTo_fail:11,navigateBack_fail:12,appServiceSDKScriptError:13,webviewSDKScriptError:14,jsEnginScriptError:15,thirdScriptError:16,webviewScriptError:17,exparserScriptError:18,widgetEnginScriptError:113,widgetThirdScriptError:114,gameSDKScriptError:135,gameSubContextSDKScriptError:136,gameThirdScriptError:137,gameSubContextThirdScriptError:138,appSubContextThirdScriptError:191,appSubContextSDKScriptError:192,startRecord:19,startRecord_fail:20,getLocation:21,getLocation_fail:22,chooseLocation:23,chooseLocation_fail:24,openAddress:25,openAddress_fail:26,openLocation:27,openLocation_fail:28,makePhoneCall:29,makePhoneCall_fail:30,operateWXData:31,operateWXData_fail:32,checkLogin:33,checkLogin_fail:34,refreshSession:35,refreshSession_fail:36,chooseVideo:37,chooseVideo_fail:38,chooseImage:39,chooseImage_fail:40,verifyPaymentPassword:41,verifyPaymentPassword_fail:42,requestPayment:43,requestPayment_fail:44,bindPaymentCard:45,bindPaymentCard_fail:46,requestPaymentToBank:47,requestPaymentToBank_fail:48,openDocument:49,openDocument_fail:50,chooseContact:51,chooseContact_fail:52,operateMusicPlayer:53,operateMusicPlayer_fail:54,getMusicPlayerState_fail:55,playVoice_fail:56,setNavigationBarTitle_fail:57,switchTab_fail:58,getImageInfo_fail:59,enableCompass_fail:60,enableAccelerometer_fail:61,getStorage_fail:62,setStorage_fail:63,clearStorage_fail:64,removeStorage_fail:65,getStorageInfo_fail:66,getStorageSync_fail:67,setStorageSync_fail:68,addCard_fail:69,openCard_fail:70,openSetting_fail:71,reLaunch_fail:72,getClipboardData_fail:73,setClipboardData_fail:74,showShareMenu_fail:75,hideShareMenu_fail:76,showToast_fail:77,hideToast_fail:78,openBluetoothAdapter_fail:79,closeBluetoothAdapter_fail:80,getBluetoothAdapterState_fail:81,startBluetoothDevicesDiscovery_fail:82,stopBluetoothDevicesDiscovery_fail:83,getBluetoothDevices_fail:84,getConnectedBluetoothDevices_fail:85,createBLEConnection_fail:86,closeBLEConnection_fail:87,getBLEDeviceServices_fail:88,getBLEDeviceCharacteristics_fail:89,notifyBLECharacteristicValueChanged_fail:90,readBLECharacteristicValue_fail:91,checkIsSupportFacialRecognition_fail:92,startFacialRecognitionVerify_fail:93,startFacialRecognitionVerifyAndUploadVideo_fail:94,startBeaconDiscovery_fail:95,stopBeaconDiscovery_fail:96,getBeacons_fail:97,getSetting_fail:98,setScreenBrightness_fail:99,getScreenBrightness_fail:100,vibrateShort_fail:101,vibrateLong_fail:102,shareAppMessage:103,shareAppMessage_fail:104,shareAppMessage_cancel:105,shareAppMessageDirectly:106,shareAppMessageDirectly_fail:107,shareAppMessageDirectly_cancel:108,sendBizRedPacket_fail:109,addPhoneContact_fail:110,saveImageToPhotosAlbum_fail:111,saveVideoToPhotosAlbum_fail:112,setTopBarText_fail:115,setNavigationBarRightButton_fail:116,setEnableDebug_fail:117,captureScreen_fail:118,setKeepScreenOn_fail:119,createRequestTask:120,createRequestTask_fail:121,createDownloadTask:122,createDownloadTask_fail:123,createUploadTask:124,createUploadTask_fail:125,checkIsSupportSoterAuthentication_fail:126,startSoterAuthentication_fail:127,navigateToMiniProgram_fail:128,navigateBackMiniProgram_fail:129,openDeliveryList_fail:130,setNavigationBarColor_fail:131,setStatusBarStyle_fail:132,getFileInfo_fail:133,global_objs_readonly:134,writeBLECharacteristicValue_fail:206,adData_error:140,adExposureReport_fail:141,adClickReport_fail:142,adNavigateToMiniProgram_fail:143,adOpenUrl_fail:144,initGameIsolatedContext:145,initGameIsolatedContext_fail:146,initGameOpenDataContext:147,initGameOpenDataContext_fail:148,initAppIsolatedContext:149,initAppIsolatedContext_fail:150,adFollowReport_fail:151,adAddContact_fail:152,adDownloadAppInternal_fail:153,adGetInstallState_fail:154,adQueryDownloadTask_fail:155,adAddDownloadTaskStraight_fail:156,adPauseDownloadTask_fail:157,adResumeDownloadTask_fail:158,adInstallDownloadTask_fail:159,pluginDisplayInPage:160,functionalPageSuccess:161,functionalPageFail:162,functionalPageReject:163,insertInputToWebLayer_fail:166,insertVideoToWebLayer_fail:167,insertInputToWebLayer_succ:168,insertVideoToWebLayer_succ:169,insertMapToWebLayer_fail:171,insertMapToWebLayer_succ:172,insertLiveToWebLayer_fail:178,insertLiveToWebLayer_succ:179,insertCanvas2dToWebLayer_fail:180,insertCanvas2dToWebLayer_succ:181,insertWebGLToWebLayer_fail:187,insertWebGLToWebLayer_succ:186,insertVideo2ToWebLayer_fail:182,insertVideo2ToWebLayer_succ:183,insertCameraToWebLayer_fail:184,insertCameraToWebLayer_succ:185,insertTextareaToWebLayer_fail:189,insertTextareaToWebLayer_succ:188,showImageOperateSheet_fail:190,audioInstancesCountReach1024:170,bindUDP:173,sendUDPMessage:174,receiveUDPMessage:175,UDPError:176,sendUDPMessageToInvalidAddress:177,clientLibVersionNotMatch:205,subContextLibVersionNotMatch:207,oaAddContact_fail:201,oaReportBehavior_fail:202,oaGetContactData_fail:203,demoEnterHomePage:210,demoConfigRepeat:211,getUserInteractiveStorage:212,modifyFriendInteractiveStorage:213,modifyFriendInteractiveStorageShowModal:214,modifyFriendInteractiveStorageConfirm:215,modifyFriendInteractiveStorageCancel:216,disableLivePlayer:220,disableLivePusher:221,disableVideo:222,asyncApiCost:226,asyncApiCount:227,requestSubscribeMessageWithNative:230,requestSubscribeMessageWithNativeSuccess:231,requestSubscribeMessageWithNativeFail:232,pageNotFound:234,tradeServiceGetPermissionBytesSuccess:235,tradeServiceGetPermissionBytesFail:236,tradeServiceCanUse:237,tradeServiceCanNotUse:238,tradeServiceTapCard:239,midasLaunchFeatureFail:240,createNormalWorker:241,createWKWorker:242,onWorkerWebViewTerminate:244,loadGameIndependentSubPackageFail:243,requestPaymentCheckTicketCount:245,requestPaymentCheckTicketFail:246,requestPaymentCheckTicketTimeout:247,useLaunchExptInfo:249,useOriginLaunchExptInfo:250,useContactExptInfo:251,reportEventInvoke:252,readdirTraverseRootDir:253,useWxProtobuf:254,useWxLanDebug:255},D=new y("id",x,100,P);function L(e){w.onReady((()=>{M("reportIDKey",{dataArray:e})}))}function N(e,t,r,n=!1){if(Number.isInteger(e)&&!(!Number.isInteger(t)||t<0||t>255)){D.pushReportQueue({id:e,key:t,value:r});var a=D.attemptReportAndGetReportMsgs(n);a.length&&L(a)}}function O(){var e=D.attemptReportAndGetReportMsgs(!0);e.length&&L(e)}var B=[],j=0,F=0,U=0,W={},G={},V={},$=new y("key",x,100,P);function q(e){w.onReady((()=>{M("reportKeyValue",{dataArray:e})}))}function z(){w.onReady((()=>{!B||B.length<=0||(M("systemLog",{dataArray:B}),B=[])}))}function Z(e){var t=w&&w.appContactInfo&&w.appContactInfo.call_plugin_info;if(!t||!Array.isArray(t))return 0;var r=t.find((t=>t.plugin_id===e));return r&&void 0!==r.inner_version?r.inner_version:0}$.setContinueDecreaseReportLimitStrategyKey(18042,x,.5,100,P);var H=()=>{},K=()=>{},J=()=>{},Y=()=>{},Q="",X={},ee=-1,te=0,re=a.APP,ne="";"function"==typeof w.onReady&&w.onReady((()=>{void 0!==w.appType&&(ee=w.appType),"object"==typeof w.appLaunchInfo&&(te=w.appLaunchInfo.scene);var e=w.networkType;e?ne=e:c.invoke("getNetworkType",{},(e=>{e&&e.networkType&&(ne=e.networkType)})),"function"==typeof c.addEventListener&&c.addEventListener("onNetworkStatusChange",(e=>{ne=e.networkType}))}));var ae={surroundThirdByTryCatch:_.surroundThirdByTryCatch,slowReport:({key:e,cost:t,extend:r,force:n})=>{var a=u[e],i=Date.now();if(a&&(n||!(i-U<500))&&!(Object.keys(V).length>50||(V[r]||(V[r]=0),V[r]++,V[r]>3))){U=i;var o=`${t},${encodeURIComponent(r)},${a},${ae.getAppType()}`;ae.reportKeyValue({key:"Slow",value:o})}},isLimitReport:e=>$.isLimit(e),speedReport:({key:e,data:t,timeMark:r,force:n})=>{var a=l[e],i=Date.now(),o=0,s=r.nativeTime;if(a&&(n||!(i-(W[a]||0)<500))&&r.startTime&&r.endTime&&(1!==a&&2!==a||s)){t&&(o=JSON.stringify(t).length),W[a]=i;var c=`${a},${r.startTime},${s},${s},${r.endTime},${o},${ae.getAppType()}`;ae.reportKeyValue({key:"Speed",value:c})}},reportQualityData(e,t,r,n=[]){var a=r-t;a<0&&(a=0),M("reportKeyValue",{version:2,dataArray:[{key:s[e],value:[a,te,t,r,...n].join(",")}]})},reportQualityData2(e,t=[]){M("reportKeyValue",{version:2,dataArray:[{key:s[e],value:t.join(",")}]})},flushReportKeyValueList:()=>{var e=$.attemptReportAndGetReportMsgs(!0);e.length&&q(e)},reportKeyValue:({key:e,value:t,immediately:r=!1,number:n=!1})=>{if(n||s[e]){$.pushReportQueue({key:n?e:s[e],value:t},r);var a=$.attemptReportAndGetReportMsgs(r);a.length&&q(a)}},flushReportIDKeyList:O,reportIDKey:function({id:e,key:t,value:r=1,force:n=!1}){R[t]&&N(e||(C?356:358),R[t],r,n)},reportIDKeyDirectly:function({id:e,key:t,immediately:r=!1}){void 0!==t&&356!==e&&358!==e&&N(e,t=+t,1,r)},assertWithIDKey:function(e,t,r=1){e||N(1872,t,r,!0)},reportFrameworkIDKey:function(e,t=1){N(1874,e,t)},thirdErrorReport:({key:e=re,error:t,triggerErrorCallback:r=!0,isUnhandledRejection:n=!1,promise:a,source:i="",isOpenDataContextError:o})=>{ae.errorReport({key:p[e],error:t,triggerErrorCallback:r,isThirdScriptError:!0,isUnhandledRejection:n,promise:a,source:i,isOpenDataContextError:o})},errorReport:({key:e,error:r,isThirdScriptError:n=!1,triggerErrorCallback:i=!0,isUnhandledRejection:o=!1,promise:s,source:l="",isOpenDataContextError:u})=>{if(d[e]&&r){var p,f;"function"==typeof __wxSourceMapRetrace__&&(r=__wxSourceMapRetrace__(r)),"object"==typeof r&&(r.message||r.stack)?(p=r.message,f=r.stack):(p=function(e){try{return JSON.stringify(e)}catch(e){return e.message,""}}(r),f=A(r));var h=n?"MiniProgramError":`SystemError (${e})`,g=p,v="";r.name&&0!==(f||"").indexOf(r.name)&&(v="\n"+r.name+": "+g);var m=`${h}\n${g}${v}\n${f}`;if(k){var y=new Error(`${h}\n${g}`);"object"==typeof r&&void 0!==r.name&&Object.defineProperty(y,"name",{value:r.name}),"object"==typeof r&&void 0!==r.stack&&Object.defineProperty(y,"stack",{value:r.stack}),console.error(y)}else o?console.error("(in promise) "+m):console.error(m);if(!(u||m.indexOf("subContext.js")>=0||("undefined"!=typeof window&&void 0!==window.__webviewId__?function(...e){c.publish(...e)}("WEBVIEW_ERROR_MSG",{data:{msg:m},options:{timestamp:Date.now()}}):i&&(ae.triggerErrorMessage(m,o,r,s),n&&ae.triggerThirdErrorMessage(m,o,r,s)),Object.keys(G).length>50||o&&"Error"!==A(r)))){var b="",_="";re!==a.APP&&re!==a.GAME||(b=Q,_=function(e){var t="";return Object.keys(e).forEach(((r,n)=>{0!==n&&(t+="&");try{t+=`${encodeURIComponent(r)}=${encodeURIComponent(e[r])}`}catch(e){}})),t}(X));var w=0;if(1004===ae.getAppType())try{ne=I.getGameRelatedContextsExports().game._getCurrentNetworkType();var S=r.stackInfoArr;if(delete r.stackInfoArr,S){var C=S[0];if(C&&"usr"===C.type&&"__plugin__"===C.package&&"string"==typeof C.file){var T=C.file.split("/");w=Z(l=T&&T[0])}}}catch(y){}else w=l.match(/wx[0-9a-f]{16}/)?Z(l):0;var E=[d[e],r.name,...[g,f,void 0!==t&&t.version||"",ae.getAppType(),b,_,void 0!==t&&t.updateTime||"","",o?1:0,l,w,ne].map((e=>{var t;try{t=encodeURIComponent(e)}catch(r){t=e}return t}))].join(",");if(G[E]||(G[E]=0),G[E]++,!(n&&G[E]>3||G[E]>3)){ae.reportIDKey({key:e}),ae.reportKeyValue({key:"Error",value:E});var P=$.attemptReportAndGetReportMsgs(!0);P.length&&q(P),O(),z()}}}},log:(e,t)=>{e&&"string"==typeof e&&(!t&&Date.now()-j<50||(j=Date.now(),B.push(e+""),B.length>=50&&z()))},submit:()=>{Date.now()-F<50||(F=Date.now(),O(),q($.attemptReportAndGetReportMsgs(!0)),z())},registerErrorListener:e=>{"function"==typeof e&&(H=e)},registerThirdErrorListener:e=>{"function"==typeof e&&(K=e)},registerUnhandledRejectionListener:e=>{"function"==typeof e&&(J=e)},registerThirdUnhandledRejectionListener:e=>{"function"==typeof e&&(Y=e)},triggerErrorMessage:(e,t=!1,r,n)=>{setTimeout((()=>{try{t?J(r,n):H(e)}catch(e){console.error(e.message,"at onError callback function")}}),0)},triggerThirdErrorMessage:(e,t=!1,r,n)=>{setTimeout((()=>{try{t?Y(r,n):K(e)}catch(e){console.error(e.message,"at onError callback function")}}),0)},setAsWidget:()=>{re=a.WIDGET},setAsGame:()=>{re=a.GAME},setAsGameSubContext:()=>{re=a.GAME_SUBCONTEXT},getAppType:()=>-1===ee?0:ee+1e3},ie={};function oe(e){Object.defineProperty(ie,e,{get(){return t=ae[e],function(...e){try{return t.apply(t,e)}catch(e){return void console.error("reporter error:"+e.message,e.stack)}};var t},configurable:!0,enumerable:!0})}Object.keys(ae).forEach((e=>{oe(e)})),Object.defineProperty(ie,"__route__",{set(e){Q=e}}),Object.defineProperty(ie,"__method__",{set(){}}),Object.defineProperty(ie,"__query__",{set(e){X=e}}),ie.RunType=a,"undefined"!=typeof window&&Object.defineProperty(window,"onbeforeunload",{configurable:!0,enumerable:!0,writable:!0,value(){ae.submit()}});var se=ie})(),w=r.default})(),(()=>{var e={1328:(e,t,r)=>{"use strict";var n,a;r.d(t,{C2:()=>a,Mi:()=>c,QD:()=>n,XN:()=>l,ZP:()=>o}),function(e){e.STRING="STRING",e.LONGLONG="LONGLONG",e.UINT="UINT",e.INT="INT"}(n||(n={})),function(e){e.SvrReport="SvrReport",e.KvStat="KvStat"}(a||(a={}));var i={[n.STRING]:e=>"string"==typeof e&&e.length<=1024,[n.LONGLONG]:e=>"number"==typeof e&&Math.floor(e)===e,[n.UINT]:e=>"number"==typeof e&&Math.floor(e)===e&&e>=0,[n.INT]:e=>"number"==typeof e&&Math.floor(e)===e};class o{constructor({logid:e,schemas:t={},base:r,debug:n=!1,namespace:a=""}){this.debug=!1,this.base={},this.namespace="",this.asyncGetBase=()=>Promise.resolve({}),this.logid=e,this.schemas=t,r&&this.setBase(r),this.debug=n,this.namespace=a?` ${a} `:" "}setBase(e){this.validate(e),this.base=Object.assign(Object.assign({},this.base),e)}validate(e){if(Object.keys(this.schemas).length)for(var[t,r]of Object.entries(e))if(void 0!==r){var n=this.schemas[t];n?this.validateColumn(n,r)||console.error(`[minigamefe${this.namespace}SchemaValidator]: logid ${this.logid}: ${t} should be ${n}, but now ${r}`):console.warn(`[minigamefe${this.namespace}SchemaValidator]: logid${this.logid}: ${t} 缺少类型定义`)}}validateColumn(e,t){return i[e](t)}}var s="";function c(e,t,r){s?e&&e(s):(t({success:t=>{s=t.networkType,e&&e(s)}}),r((t=>{s=t.networkType,t.isConnected||(s="none"),e&&e(s)})))}var l={wifi:"0",unknown:"1",none:"1","2g":"2","3g":"3","4g":"4","5g":"5"}},373:(e,t,r)=>{"use strict";function n(e){return"number"==typeof e&&isFinite(e)}function a(e){return"[object Object]"===Object.prototype.toString.call(e)}function i(e){var t=e;try{"object"==typeof e&&(t="string"==typeof e.errMsg?e.errMsg:"string"==typeof e.errmsg?e.errmsg:"string"==typeof e.message?e.message:JSON.stringify(e))}catch(e){console.error(e)}return t}r.d(t,{Kn:()=>a,bV:()=>i,hj:()=>n})},7766:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(1328),a={19283:"GameComponent",19335:"GameWhatsNew",20285:"MidasFriendPayment",21494:"WXGameWASMLaunchClose",21493:"WXGameWASMLaunchException",21492:"WXGameWASMLaunchTime",21898:"GameLifeMiniGameCardAction",20267:"GameAdsSkipCard"};class i extends n.ZP{constructor({reportFunc:e,logid:t,protocolParams:r,schemas:n,base:i,asyncGetBase:o=(()=>Promise.resolve({})),debug:s,namespace:c=""}){var l=t;"number"==typeof t&&a[t]&&(l=a[t],s&&console.warn(`[minigamefe${c?` ${c} `:" "}KeyValueReporter]: logid ${t} auto map to ${l}!`)),super({logid:l,schemas:n,base:i,debug:s,namespace:c}),this.asyncGetBase=o,e||console.error(`[minigamefe${this.namespace}KeyValueReporter]: 未传入上报函数。`),this.reportFunc=e||function(){},this.protocolParams=r,this.sendCbk=null}send(e,t){var r;r=Array.isArray(e)?e:[e],this.asyncGetBase().then((e=>{this.setBase(e),r.forEach((e=>{var r=Object.assign(Object.assign({},this.base),e);this.validate(r);var n=[];this.protocolParams.forEach((e=>{var t=void 0!==r[e]?r[e]:"";n.push(t)})),this.reportFunc({key:this.logid,value:n.map(encodeURIComponent).join(","),immediately:!0});var a=t||this.sendCbk;(a&&a(this.logid,n.map(encodeURIComponent).join(",")),this.debug)&&(r.IsError?console.error:console.log)(`[minigamefe${this.namespace}keyValueReport]: ${this.logid}`,r)}))}))}}},7486:(e,t,r)=>{"use strict";r.d(t,{EM:()=>c,Xu:()=>n,jJ:()=>i,ql:()=>o});var n,a,i,o,s=r(373);!function(e){e[e.Front=1]="Front",e[e.Background=2]="Background"}(n||(n={})),function(e){e[e.Default=0]="Default",e[e.GameTransfer=1]="GameTransfer",e[e.Request=2]="Request",e[e.DownloadFile=3]="DownloadFile",e[e.CgiSpeedMeasure=4]="CgiSpeedMeasure",e[e.BadJs=5]="BadJs",e[e.Init=6]="Init",e[e.CostTime=7]="CostTime",e[e.Error=8]="Error",e[e.UploadFile=9]="UploadFile",e[e.Login=10]="Login"}(a||(a={})),function(e){e[e.Info=101]="Info",e[e.Warn=102]="Warn",e[e.Error=103]="Error"}(i||(i={})),function(e){e.GameTransferReport="GameTransferReport",e.KeyValueReport="KeyValueReport",e.WxRequestReport="WxRequestReport"}(o||(o={}));var c=Object.values(a).filter((e=>(0,s.hj)(e)))},4084:(e,t,r)=>{"use strict";r.d(t,{I4j:()=>p,OK:()=>n,PRV:()=>l,Qyn:()=>f,RGX:()=>h,UoO:()=>d,WV4:()=>v,Wkc:()=>o,YEP:()=>i,Z9j:()=>s,mUN:()=>g,tHd:()=>c,zF7:()=>u,zMx:()=>a});var n=0,a=5,i=101,o=1001,s=600009,c=600010,l=701001,u=701002,d=1300014,p=2002e3,f=2002001,h=2002002,g=2002004,v=2002005},6470:e=>{function t(e,t){for(var r=[],n=~~(t/8),a=t%8,i=0,o=e.length;i<o;i++)r[i]=(e[(i+n)%o]<<a&255)+(e[(i+n+1)%o]>>>8-a&255);return r}function r(e,t){for(var r=[],n=e.length-1;n>=0;n--)r[n]=255&(e[n]^t[n]);return r}function n(e,t){for(var r=[],n=e.length-1;n>=0;n--)r[n]=e[n]&t[n]&255;return r}function a(e,t){for(var r=[],n=e.length-1;n>=0;n--)r[n]=255&(e[n]|t[n]);return r}function i(e,t){for(var r=[],n=0,a=e.length-1;a>=0;a--){var i=e[a]+t[a]+n;i>255?(n=1,r[a]=255&i):(n=0,r[a]=255&i)}return r}function o(e){return r(r(e,t(e,9)),t(e,17))}function s(e,t,i,o){return o>=0&&o<=15?r(r(e,t),i):a(a(n(e,t),n(e,i)),n(t,i))}function c(e,t,i,o){return o>=0&&o<=15?r(r(e,t),i):a(n(e,t),n(function(e){for(var t=[],r=e.length-1;r>=0;r--)t[r]=255&~e[r];return t}(e),i))}function l(e,n){for(var a,l=[],u=[],d=0;d<16;d++){var p=4*d;l.push(n.slice(p,p+4))}for(var f=16;f<68;f++)l.push(r(r((a=r(r(l[f-16],l[f-9]),t(l[f-3],15)),r(r(a,t(a,15)),t(a,23))),t(l[f-13],7)),l[f-6]));for(var h=0;h<64;h++)u.push(r(l[h],l[h+4]));for(var g,v,m,y,b=[121,204,69,25],_=[122,135,157,138],w=e.slice(0,4),I=e.slice(4,8),S=e.slice(8,12),k=e.slice(12,16),C=e.slice(16,20),T=e.slice(20,24),E=e.slice(24,28),A=e.slice(28,32),P=0;P<64;P++){var x=P>=0&&P<=15?b:_;v=r(g=t(i(i(t(w,12),C),t(x,P)),7),t(w,12)),m=i(i(i(s(w,I,S,P),k),v),u[P]),y=i(i(i(c(C,T,E,P),A),g),l[P]),k=S,S=t(I,9),I=w,w=m,A=E,E=t(T,19),T=C,C=o(y)}return r([].concat(w,I,S,k,C,T,E,A),e)}function u(e){var t=8*e.length,r=t%512;r=r>=448?512-r%448-1:448-r-1;for(var n=new Array((r-7)/8),a=0,i=n.length;a<i;a++)n[a]=0;var o=[];t=t.toString(2);for(var s=7;s>=0;s--)if(t.length>8){var c=t.length-8;o[s]=parseInt(t.substr(c),2),t=t.substr(0,c)}else t.length>0?(o[s]=parseInt(t,2),t=""):o[s]=0;for(var u=[].concat(e,[128],n,o),d=u.length/64,p=[115,128,22,111,73,20,178,185,23,36,66,215,218,138,6,0,169,111,48,188,22,49,56,170,227,141,238,77,176,251,14,78],f=0;f<d;f++){var h=64*f;p=l(p,u.slice(h,h+64))}return p}for(var d=new Array(64),p=new Array(64),f=0;f<64;f++)d[f]=54,p[f]=92;e.exports={sm3:u,hmac:function(e,t){for(t.length>64&&(t=u(t));t.length<64;)t.push(0);var n=r(t,d).concat(e);return n=u(n),n=u(n=r(t,p).concat(n))}}},2308:(e,t,r)=>{var{sm3:n,hmac:a}=r(6470);function i(e){return e.map((e=>1===(e=e.toString(16)).length?"0"+e:e)).join("")}function o(e){var t,r,n=[],a=e.length;a%2!=0&&(r=a+1,e=(t=e).length>=r?t:new Array(r-t.length+1).join("0")+t),a=e.length;for(var i=0;i<a;i+=2)n.push(parseInt(e.substr(i,2),16));return n}e.exports=function(e,t){if(e="string"==typeof e?function(e){for(var t=[],r=0,n=e.length;r<n;r++){var a=e.codePointAt(r);if(a<=127)t.push(a);else if(a<=2047)t.push(192|a>>>6),t.push(128|63&a);else if(a<=55295||a>=57344&&a<=65535)t.push(224|a>>>12),t.push(128|a>>>6&63),t.push(128|63&a);else{if(!(a>=65536&&a<=1114111))throw t.push(a),new Error("input is not supported");r++,t.push(240|a>>>18&28),t.push(128|a>>>12&63),t.push(128|a>>>6&63),t.push(128|63&a)}}return t}(e):Array.prototype.slice.call(e),t){if("hmac"!==(t.mode||"hmac"))throw new Error("invalid mode");var r=t.key;if(!r)throw new Error("invalid key");return r="string"==typeof r?o(r):Array.prototype.slice.call(r),i(a(e,r))}return i(n(e))}},5525:(e,t,r)=>{var n;e=r.nmd(e),function(a){t&&t.nodeType,e&&e.nodeType;var i="object"==typeof r.g&&r.g;i.global!==i&&i.window!==i&&i.self;var o,s=2147483647,c=36,l=/^xn--/,u=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},f=Math.floor,h=String.fromCharCode;function g(e){throw RangeError(p[e])}function v(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function m(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+v((e=e.replace(d,".")).split("."),t).join(".")}function y(e){for(var t,r,n=[],a=0,i=e.length;a<i;)(t=e.charCodeAt(a++))>=55296&&t<=56319&&a<i?56320==(64512&(r=e.charCodeAt(a++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),a--):n.push(t);return n}function b(e){return v(e,(function(e){var t="";return e>65535&&(t+=h((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=h(e)})).join("")}function _(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function w(e,t,r){var n=0;for(e=r?f(e/700):e>>1,e+=f(e/t);e>455;n+=c)e=f(e/35);return f(n+36*e/(e+38))}function I(e){var t,r,n,a,i,o,l,u,d,p,h,v=[],m=e.length,y=0,_=128,I=72;for((r=e.lastIndexOf("-"))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&g("not-basic"),v.push(e.charCodeAt(n));for(a=r>0?r+1:0;a<m;){for(i=y,o=1,l=c;a>=m&&g("invalid-input"),((u=(h=e.charCodeAt(a++))-48<10?h-22:h-65<26?h-65:h-97<26?h-97:c)>=c||u>f((s-y)/o))&&g("overflow"),y+=u*o,!(u<(d=l<=I?1:l>=I+26?26:l-I));l+=c)o>f(s/(p=c-d))&&g("overflow"),o*=p;I=w(y-i,t=v.length+1,0==i),f(y/t)>s-_&&g("overflow"),_+=f(y/t),y%=t,v.splice(y++,0,_)}return b(v)}function S(e){var t,r,n,a,i,o,l,u,d,p,v,m,b,I,S,k=[];for(m=(e=y(e)).length,t=128,r=0,i=72,o=0;o<m;++o)(v=e[o])<128&&k.push(h(v));for(n=a=k.length,a&&k.push("-");n<m;){for(l=s,o=0;o<m;++o)(v=e[o])>=t&&v<l&&(l=v);for(l-t>f((s-r)/(b=n+1))&&g("overflow"),r+=(l-t)*b,t=l,o=0;o<m;++o)if((v=e[o])<t&&++r>s&&g("overflow"),v==t){for(u=r,d=c;!(u<(p=d<=i?1:d>=i+26?26:d-i));d+=c)S=u-p,I=c-p,k.push(h(_(p+S%I,0))),u=f(S/I);k.push(h(_(u,0))),i=w(r,b,n==a),r=0,++n}++r,++t}return k.join("")}o={version:"1.3.2",ucs2:{decode:y,encode:b},decode:I,encode:S,toASCII:function(e){return m(e,(function(e){return u.test(e)?"xn--"+S(e):e}))},toUnicode:function(e){return m(e,(function(e){return l.test(e)?I(e.slice(4).toLowerCase()):e}))}},void 0===(n=function(){return o}.call(t,r,t,e))||(e.exports=n)}(globalThis)},5818:e=>{"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,r,n,a){r=r||"&",n=n||"=";var i={};if("string"!=typeof e||0===e.length)return i;var o=/\+/g;e=e.split(r);var s=1e3;a&&"number"==typeof a.maxKeys&&(s=a.maxKeys);var c=e.length;s>0&&c>s&&(c=s);for(var l=0;l<c;++l){var u,d,p,f,h=e[l].replace(o,"%20"),g=h.indexOf(n);g>=0?(u=h.substr(0,g),d=h.substr(g+1)):(u=h,d=""),p=decodeURIComponent(u),f=decodeURIComponent(d),t(i,p)?Array.isArray(i[p])?i[p].push(f):i[p]=[i[p],f]:i[p]=f}return i}},571:e=>{"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,r,n,a){return r=r||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(a){var i=encodeURIComponent(t(a))+n;return Array.isArray(e[a])?e[a].map((function(e){return i+encodeURIComponent(t(e))})).join(r):i+encodeURIComponent(t(e[a]))})).join(r):a?encodeURIComponent(t(a))+n+encodeURIComponent(t(e)):""}},4284:(e,t,r)=>{"use strict";t.decode=t.parse=r(5818),t.encode=t.stringify=r(571)},304:(e,t,r)=>{"use strict";var n=r(5525),a=r(3887);function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.Qc=b;var o=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(l),d=["%","/","?",";","#"].concat(u),p=["/","?","#"],f=/^[+a-z0-9A-Z_-]{0,63}$/,h=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=r(4284);function b(e,t,r){if(e&&a.isObject(e)&&e instanceof i)return e;var n=new i;return n.parse(e,t,r),n}i.prototype.parse=function(e,t,r){if(!a.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?"),s=-1!==i&&i<e.indexOf("#")?"?":"#",l=e.split(s);l[0]=l[0].replace(/\\/g,"/");var b=e=l.join(s);if(b=b.trim(),!r&&1===e.split("#").length){var _=c.exec(b);if(_)return this.path=b,this.href=b,this.pathname=_[1],_[2]?(this.search=_[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var w=o.exec(b);if(w){var I=(w=w[0]).toLowerCase();this.protocol=I,b=b.substr(w.length)}if(r||w||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===b.substr(0,2);!S||w&&v[w]||(b=b.substr(2),this.slashes=!0)}if(!v[w]&&(S||w&&!m[w])){for(var k,C,T=-1,E=0;E<p.length;E++){-1!==(A=b.indexOf(p[E]))&&(-1===T||A<T)&&(T=A)}-1!==(C=-1===T?b.lastIndexOf("@"):b.lastIndexOf("@",T))&&(k=b.slice(0,C),b=b.slice(C+1),this.auth=decodeURIComponent(k)),T=-1;for(E=0;E<d.length;E++){var A;-1!==(A=b.indexOf(d[E]))&&(-1===T||A<T)&&(T=A)}-1===T&&(T=b.length),this.host=b.slice(0,T),b=b.slice(T),this.parseHost(),this.hostname=this.hostname||"";var P="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!P)for(var x=this.hostname.split(/\./),M=(E=0,x.length);E<M;E++){var R=x[E];if(R&&!R.match(f)){for(var D="",L=0,N=R.length;L<N;L++)R.charCodeAt(L)>127?D+="x":D+=R[L];if(!D.match(f)){var O=x.slice(0,E),B=x.slice(E+1),j=R.match(h);j&&(O.push(j[1]),B.unshift(j[2])),B.length&&(b="/"+B.join(".")+b),this.hostname=O.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),P||(this.hostname=n.toASCII(this.hostname));var F=this.port?":"+this.port:"",U=this.hostname||"";this.host=U+F,this.href+=this.host,P&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!g[I])for(E=0,M=u.length;E<M;E++){var W=u[E];if(-1!==b.indexOf(W)){var G=encodeURIComponent(W);G===W&&(G=escape(W)),b=b.split(W).join(G)}}var V=b.indexOf("#");-1!==V&&(this.hash=b.substr(V),b=b.slice(0,V));var $=b.indexOf("?");if(-1!==$?(this.search=b.substr($),this.query=b.substr($+1),t&&(this.query=y.parse(this.query)),b=b.slice(0,$)):t&&(this.search="",this.query={}),b&&(this.pathname=b),m[I]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){F=this.pathname||"";var q=this.search||"";this.path=F+q}return this.href=this.format(),this},i.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&a.isObject(this.query)&&Object.keys(this.query).length&&(o=y.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||m[t])&&!1!==i?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):i||(i=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),t+i+(r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+n},i.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},i.prototype.resolveObject=function(e){if(a.isString(e)){var t=new i;t.parse(e,!1,!0),e=t}for(var r=new i,n=Object.keys(this),o=0;o<n.length;o++){var s=n[o];r[s]=this[s]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var c=Object.keys(e),l=0;l<c.length;l++){var u=c[l];"protocol"!==u&&(r[u]=e[u])}return m[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!m[e.protocol]){for(var d=Object.keys(e),p=0;p<d.length;p++){var f=d[p];r[f]=e[f]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||v[e.protocol])r.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),r.pathname=h.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var g=r.pathname||"",y=r.search||"";r.path=g+y}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var b=r.pathname&&"/"===r.pathname.charAt(0),_=e.host||e.pathname&&"/"===e.pathname.charAt(0),w=_||b||r.host&&e.pathname,I=w,S=r.pathname&&r.pathname.split("/")||[],k=(h=e.pathname&&e.pathname.split("/")||[],r.protocol&&!m[r.protocol]);if(k&&(r.hostname="",r.port=null,r.host&&(""===S[0]?S[0]=r.host:S.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),w=w&&(""===h[0]||""===S[0])),_)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,S=h;else if(h.length)S||(S=[]),S.pop(),S=S.concat(h),r.search=e.search,r.query=e.query;else if(!a.isNullOrUndefined(e.search)){if(k)r.hostname=r.host=S.shift(),(P=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=P.shift(),r.host=r.hostname=P.shift());return r.search=e.search,r.query=e.query,a.isNull(r.pathname)&&a.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!S.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var C=S.slice(-1)[0],T=(r.host||e.host||S.length>1)&&("."===C||".."===C)||""===C,E=0,A=S.length;A>=0;A--)"."===(C=S[A])?S.splice(A,1):".."===C?(S.splice(A,1),E++):E&&(S.splice(A,1),E--);if(!w&&!I)for(;E--;E)S.unshift("..");!w||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),T&&"/"!==S.join("/").substr(-1)&&S.push("");var P,x=""===S[0]||S[0]&&"/"===S[0].charAt(0);k&&(r.hostname=r.host=x?"":S.length?S.shift():"",(P=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=P.shift(),r.host=r.hostname=P.shift()));return(w=w||r.host&&S.length)&&!x&&S.unshift(""),S.length?r.pathname=S.join("/"):(r.pathname=null,r.path=null),a.isNull(r.pathname)&&a.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},i.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},3887:e=>{"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},7547:e=>{e.exports=function(e){return e=(e=e.trim()).replace(/<!--[\s\S]*?-->/g,""),function(){return{declaration:t(),root:r()}}();function t(){if(a(/^<\?xml\s*/)){for(var e={attributes:{}};!i()&&!o("?>");){var t=n();if(!t)return e;e.attributes[t.name]=t.value}return a(/\?>\s*/),e}}function r(){var e=a(/^<([\w-:.]+)\s*/);if(e){for(var t,s={name:e[1],attributes:{},children:[]};!(i()||o(">")||o("?>")||o("/>"));){var c=n();if(!c)return s;s.attributes[c.name]=c.value}if(a(/^\s*\/>\s*/))return s;for(a(/\??>\s*/),s.content=function(){var e=a(/^([^<]*)/);return e?e[1]:""}();t=r();)s.children.push(t);return a(/^<\/[\w-:.]+>\s*/),s}}function n(){var e,t=a(/([\w:-]+)\s*=\s*("[^"]*"|'[^']*'|\w+)\s*/);if(t)return{name:t[1],value:(e=t[2],e.replace(/^['"]|['"]$/g,""))}}function a(t){var r=e.match(t);if(r)return e=e.slice(r[0].length),r}function i(){return 0==e.length}function o(t){return 0==e.indexOf(t)}}},4938:(e,t,r)=>{"use strict";r.d(t,{b:()=>i});var n=r(5333),a=r(4318),i=(e={})=>{if("[object Object]"===Object.prototype.toString.call(n.Z.expt)){var t=n.Z.expt[e.experimentId];if(void 0!==t)return void("function"==typeof e.success&&e.success({testConfig:t}))}(0,a.IN)("getABTestConfig",e)}},7580:(e,t,r)=>{"use strict";r.d(t,{k:()=>i});var n=r(4318),a=(r(6468),e=>{var{success:t,fail:r,failWithMsg:a}=(0,n.Rn)(e,"getGroupMsgTicket");(0,n.yD)({sdkApiName:"getGroupMsgTicket",apiName:"webapi_reportgroupshare",reqData:{path:e.path,share_key:e.shareKey},success:e=>{var{data:r}=e;0===r.errcode?t({expiresIn:r.expires_in,groupMsgTicket:r.group_msg_ticket}):a({code:r.errcode,msg:r.errmsg})},fail:e=>{e.errCode=-1,r(e)}})}),i=e=>{a(e)}},6468:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(7828),a=null,i=void 0,o={lastRoute:"",lastOpenType:"",scene:-1,sceneNote:"",query:{},runningStatus:"active",navigatorLock:!1,openUrlLock:!1,openUrlExtBrowserLock:!1,possessingBackgroundAudioPlayer:!1,webviewEventCallback:null,hanged:!1,appStatus:0,navigationBarTitleMap:{},currentNetworkType:"",get currentWebviewId(){return i},set currentWebviewId(e){i=e,a&&(a(null),a=null)},currentWebviewIdPromise:new Promise((e=>{a=e})),getWebviewIds:()=>n.hr.getGlobalWebviewIds()}},4686:(e,t,r)=>{"use strict";r.d(t,{dq:()=>c});var n=r(6760),a=r(4318),i=(r(346),new n.Z);(0,a.jQ)("onPageReload",((e={},t=0)=>{e.webviewId=t,i.emit("onPageReload",e)}));var o={},s=0,c=function(e,t,r){var n=r;n||(n=s++),((e,t)=>(o[e]=o[e]||{},!!o[e][t]||(o[e][t]=!0,!1)))(e,n)||i.once(`onBeforeUnloadPage_${e}`,(e=>{"function"==typeof t&&t(e)}))}},8311:(e,t,r)=>{"use strict";r.d(t,{Bf:()=>y,Em:()=>c.Em,Hw:()=>d,M8:()=>I,Nf:()=>w,RP:()=>g,iZ:()=>i.i,l0:()=>i.l,p9:()=>m,pD:()=>b,s$:()=>v,sd:()=>p});var n=r(5333),a=r(7828),i=r(3329),o=r(346),s=r(4275),c=r(7023),l=/^[-+a-zA-Z0-9]+:\/\//,u=/(^|\/)__[-+a-zA-Z0-9]+__\//;function d(e,t){return _.wrapSystemFunction("appServiceSDKScriptError",t,e)}function p(e,t,r=!0){if(f.info(`[getRealRoute] lastRoute=${e}, relativeRoute=${t}, needTrans=${r}`),r&&(t=(0,o.Pp)(t)),0===t.indexOf("/"))return t.substr(1);if(0===t.indexOf("./"))return p(e,t.substr(2),!1);var n,a,i=t.split("/");for(n=0,a=i.length;n<a&&".."===i[n];n++);i.splice(0,n);var s=e.length>0?e.split("/"):[];s.splice(s.length-n-1,n+1);var c=s.concat(i).join("/");return f.info(`[getRealRoute] finalRoute=${c}`),c}function h(e){var t=e.match(l);if(!t)return e;var r=t[0];if("plugin://"===r){var o=r.length,s=e.indexOf("/",o);if(s>=0){var c=e.slice(o,s),u=n.Z.plugins&&n.Z.plugins[c]?n.Z.plugins[c].provider:c;e=e.slice(0,o)+u+e.slice(s)}var d=e.indexOf("?");d<0&&(d=e.length);var p=e.slice(0,d),f=a.Ve.Component._list[p];if(!f)throw new i.l(`Page "${p}" is not found`);e=f.is+e.slice(d)}else if("plugin-private://"===r){var h=e.indexOf("?");h<0&&(h=e.length);var g=e.slice(0,h);e="/"+a.hr.convertComponentAliasToRoute(g)+e.slice(h)}else if("wx://"===r)e="/__wx__/"+e.slice(5);else{if("wxpage://"!==r)throw new i.l(`Unknown URL protocol "${r}"`);e="/"+e}return e}function g(e,t=""){return t=t.replace(/^\//,""),(0,s.aI)()?`__plugin__/${e}/${t}`:h(`plugin-private://${e}/${t}`)}function v(e,t,r=!0){for(;l.test(t);)t=h(t);var n=p(e,t,r);return f.info(`[getRealRouteWithProtocol] lastRoute=${e}, relativeRoute=${t}, ret=${n}`),n}function m(e){var t=e.match(l),r=e.match(u),a="";if(t){var i=t[0];if("plugin://"===i){var o=i.length,s=e.indexOf("/",o);if(s>=0){var c=e.slice(o,s);a=n.Z.plugins&&n.Z.plugins[c]?n.Z.plugins[c].provider:c}}else if("plugin-private://"===i){var d=i.length,p=e.indexOf("/",d);if(p>=0)a=e.slice(d,p)}else"wx://"===i&&(a="//")}if(r){var f=r[0];if(f.endsWith("__plugin__/")){var h=e.indexOf(f)+f.length,g=e.indexOf("/",h);if(g>=0)a=e.slice(h,g)}else f.endsWith("__wx__/")&&(a="//")}return a}function y(e,t){var r=m(t);return!r||m(a.P3.convertRouteToComponentAlias(e))===r}function b(e){var t=e.match(l);return t?t[0]:null}function w(e){return Object.keys(e).reduce(((t,r)=>("string"==typeof e[r]?t[r]=e[r]:"number"==typeof e[r]?t[r]=e[r]+"":t[r]=Object.prototype.toString.apply(e[r]),t)),{})}function I(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}},9317:(e,t,r)=>{"use strict";r.d(t,{J:()=>D,o:()=>x});var n=r(9097),a=r.n(n),i=r(9629),s=r(4275),c=r(9955),l=r(2404),u=r(7023),d=r(4318),p="weapp://wechat-game-runtime",f="readFile";var h=r(8311),g=r(7686),v=r(619),m=r(1770),y={},b=e=>{var t;return"string"!=typeof e?t=new Error("WebAssembly.instantiate: first argument must be a string"):/^(wxfile|https?):/.test(e)?t=new Error("WebAssembly.instantiate: not support wxfile: or http: path"):/\.wasm(\.br)?$/.test(e)||(t=new Error("WebAssembly.instantiate: only support file type .wasm or .wasm.br")),t},_=e=>(0,v.J)("allowBufferWASM")&&(0,m.uC)(e,"allowBufferWASM"),w=(e,t,r,n)=>new Promise(((a,i)=>{e({compressionAlgorithm:"br",filePath:t,success(e){y.instantiate(e.data,r).then((e=>{n(!0,e),a(e)}),(e=>{n(!1,e),i(e)}))},fail({errMsg:e}){var t=new Error(e.replace(/^\w+:fail\s*/,""));n(!1,t,!s.jP),i(t)}})})),I=(e,t,r)=>{var n=e(t);return new y.Instance(n,r)},S=e=>(t,r,n)=>{if(y.Module&&t instanceof y.Module)return e?new y.Instance(t,r):y.instantiate(t,r);var a,i,o,d=(0,g.eJ)("instantiate",{file:t,imports:r},!1,!1);if(_(n)||/^(wxfile:\/\/__wxprivate__)/.test(t)||(a=b(t)),a){if(d(!1,a,!0),e)throw a;return Promise.reject(a)}if(s.jP||(s.cj||s.wZ)&&"string"==typeof t&&t.startsWith("wxfile://")){var p,f;if(e)return/\.br$/.test(t)?(p=l.T,f={filePath:t,compressionAlgorithm:"br"}):(p=c.N,f=t),I(p,f,r);var h=/\.br$/.test(t)?l.$:c.p;return w(h,t,r,d)}if(s.cj||s.wZ){if(e)return new y.Instance(t,r);var v=y.instantiate(t,r);return"Promise"===(0,u.Em)(v)?(d(!0,v),v):(d(!0,v,!0),Promise.resolve(v))}if(e)return/\.br$/.test(t)?(i=l.T,o={filePath:t,compressionAlgorithm:"br"}):(i=c.N,o=t),I(i,o,r);var m=/\.br$/.test(t)?l.$:c.p;return w(m,t,r,d)},k=S(!1),C=S(!0);function T(e){var t=b(e);if(t)return Promise.reject(t);if(s.jP)return new Promise(((t,r)=>{!function(e={}){var t,{filePath:r,encoding:n}=e,a=new XMLHttpRequest;a.open("POST",`${p}/wxfs/${btoa(r)}`,!0),a.setRequestHeader("content-type","application/json"),a.responseType="string"==typeof n?"text":"arraybuffer",a.onload=()=>{t="string"==typeof n?a.responseText:a.response,(0,d.FE)({name:f,args:e,res:{data:t}})},a.onerror=t=>{(0,d.YG)(f,e,t.message)},a.send(JSON.stringify({}))}({filePath:e,success(e){t(y.compile(e.data))},fail({errMsg:e}){r(new Error(e.replace(/^\w+:fail\s*/,"")))}})}));var r=/\.br$/.test(e)?l.$:c.p;return new Promise(((t,n)=>{r({compressionAlgorithm:"br",filePath:e,success(e){t(y.compile(e.data))},fail({errMsg:e}){n(new Error(e.replace(/^\w+:fail\s*/,"")))}})}))}class E{constructor(){}}var A=(e,t)=>{var r;return"string"==typeof e&&(e.startsWith("wxfile://")?_(t)||/^(wxfile:\/\/__wxprivate__)/.test(e)||(r=new Error("WebAssembly.instantiate: not support wxfile: or http: path")):-1!==e.indexOf(`__plugin__/${t}/`)||(e=(0,h.RP)(t,e))),{error:r,finalFile:e}},P=null,x=({provider:e}={})=>e?(e=>{R();var t={Table:y.Table,Memory:y.Memory,Global:y.Global,Instance:function(t,r={}){var{error:n,finalFile:a}=A(t,e);if(n)throw n;return C(a,r,e)},instantiate(t,r={}){var{error:n,finalFile:a}=A(t,e);return n?Promise.reject(n):k(a,r,e)}};return y.compile&&(t.compile=e=>T(e)),y.Module&&(t.Module=E),t})(e):(P||(P=(()=>{R();var e={Table:y.Table,Memory:y.Memory,Global:y.Global};(0,g.QE)(e,!1);var t=a()(a()({},e),{},{Instance:function(e,t={}){return C(e,t,void 0)},instantiate:(e,t={})=>k(e,t,void 0)});return y.compile&&(t.compile=e=>T(e)),y.Module&&(t.Module=E),t})()),P),M=!1;function R(){if(!M)throw new Error("WebAssembly not ready")}var D=new Proxy({},{get:(e,t,r)=>(R(),Reflect.get(e,t,r))});o.onLoad((()=>{M=!0;var e=globalThis;void 0!==i.Z.WebAssembly?y=i.Z.WebAssembly:void 0!==e.WebAssembly&&(y=e.WebAssembly);try{e.WebAssembly&&delete e.WebAssembly}catch(e){}y.Module&&(E.customSections=y.Module.customSections,E.exports=y.Module.exports,E.imports=y.Module.imports);var t={Table:y.Table,Memory:y.Memory,Global:y.Global,Instance:y.Instance,compile:y.compile,compileStreaming:y.compileStreaming,instantiateStreaming:y.instantiateStreaming,validate:y.validate,CompileError:y.CompileError,LinkError:y.LinkError,Module:y.Module,RuntimeError:y.RuntimeError,instantiate:(e,t,r)=>Promise.resolve(y.instantiate(e,t,r))};Object.assign(D,t)}))},7485:(e,t,r)=>{"use strict";r.d(t,{E:()=>a});var n=r(5333),a=function(){return{miniProgram:{appId:n.Z.accountInfo&&n.Z.accountInfo.appId||"",envVersion:n.Z.envVersion||"release",version:n.Z.appContactInfo&&n.Z.appContactInfo.user_version||""}}}},1765:(e,t,r)=>{"use strict";r.d(t,{AS:()=>l,y$:()=>u});var n=r(1702),a=r(4318),i=r(1641),o=(r(3329),r(8311),r(1822),r(4089),new WeakMap),s=new WeakMap;class c{constructor(e={}){s.set(this,new n.Q("AI",!0)),(0,a.IN)("createInferenceSession",Object.assign({},e,{success:({sessionId:e})=>{o.set(this,e),s.get(this).emit("Load")},fail:e=>{setTimeout((()=>{s.get(this).emit("Error",e)}))}}))}onLoad(e){s.get(this).on("Load",e)}offLoad(e){s.get(this).off("Load",e)}onError(e){s.get(this).on("Error",e)}offError(e){s.get(this).off("Error",e)}run(e={}){var t=(0,i.t)(),r={input:{},sessionId:o.get(this)};for(var n in e){var s,c;null!==(s=e[n])&&void 0!==s&&s.data&&null!==(c=e[n])&&void 0!==c&&c.shape&&(r.input[n]={type:e[n].type,shape:e[n].shape,data:t.trace(e[n].data,"rw")})}return new Promise(((e,n)=>{(0,a.IN)("runInferenceSession",Object.assign(r,{success({output:r}){for(var n in r){var a;if("number"==typeof(null===(a=r[n])||void 0===a?void 0:a.data)){var i=r[n].data;r[n].data=t.getTraceBuffer(i),t.untrace(i)}}e(r)},fail:n}))}))}destroy(){(0,a.IN)("releaseInferenceSession",{sessionId:o.get(this)}),s.delete(this),o.delete(this)}}function l(e={}){return new c(e)}var u=e=>{(0,a.IN)("getInferenceEnvInfo",e)}},7810:(e,t,r)=>{"use strict";var n=r(6760),a=r(3374),i=new n.Z;a.Z},560:(e,t,r)=>{"use strict";r.d(t,{r:()=>c});var n=r(415),a=r(1822),i=r(4318),o=r(8405),s={};function c(){var e=(0,a.hI)(this)||"";return(0,n.rT)(s,e)}(0,i.Ld)("getEnterAppInfo",(({callbackId:e},t)=>{(0,i.nY)("appEnterInfoGot",{res:(0,o._)(),callbackId:e},[t])}))},8405:(e,t,r)=>{"use strict";r.d(t,{_:()=>a});var n={};function a(){return n}},7584:(e,t,r)=>{"use strict";r.d(t,{J:()=>c});var n=r(4318),a=r(4770),i=r(5358),o=r(6468),s=(0,i.s)("AppEnterBackground"),c=s.internalOnMethod;(0,a.n)("onAppEnterBackground",((e={})=>{s.emit(e),(0,n.nY)("onAppEnterBackground",e),o.Z.lastEmitIsEnterForeground=!1}))},8934:(e,t,r)=>{"use strict";r.d(t,{T:()=>c});r(4318),r(7810),r(1409),r(415),r(560);var n=r(5358),a=(r(4770),r(6468)),i=r(5333);i.Z.onReady((()=>{a.Z.scene=i.Z.appLaunchInfo.scene,a.Z.sceneNote=i.Z.appLaunchInfo.scene_note}));var s=(0,n.s)("AppEnterForeground"),c=s.internalOnMethod;Date.now();o.onLoad((()=>{Date.now()}))},1625:(e,t,r)=>{"use strict";r.d(t,{NT:()=>l,_w:()=>o,bm:()=>i});var n=r(4318),a=(0,r(5358).s)("tapAnyWhere");(0,n.Ld)("tapAnyWhere",a.emitInternal);var i=a.internalOnMethod,o=a.internalOffMethod,s=!1;i((()=>{__sclEngine__.setValidInit(),s||(s=!0,c.forEach((e=>e())),c=[])}));var c=[],l=e=>{s?e():c.push(e)}},415:(e,t,r)=>{"use strict";r.d(t,{rT:()=>i});r(7810),r(346),r(6468),r(4318),r(619),r(7828);var n=r(4275),a=(r(7051),r(8311));function i(e,t=""){if((0,a.p9)(e.path||"")===t)return e;var r={path:e.path,query:{},scene:e.scene,shareTicket:e.shareTicket,referrerInfo:{}};return e.mode&&(r.mode=e.mode),e.apiCategory&&(r.apiCategory=e.apiCategory),(0,n.HI)()&&(e.nativeExtraData&&(r.nativeExtraData=e.nativeExtraData),r.sessionId=e.sessionId,r.isLaunch=e.isLaunch,e.isLaunch&&(r.prerender=e.prerender),r.clickTimestamp=e.clickTimestamp,r.preloadType=e.preloadType),e.isTransparentBackgroundSupport&&(r.isTransparentBackgroundSupport=e.isTransparentBackgroundSupport),r}},2400:(e,t,r)=>{"use strict";r.d(t,{EL:()=>l,c5:()=>s,j_:()=>c});var n=r(9629),a=r(6299),i=r(4275),o=r(4318),s=e=>{if(i.jP){var t,r="";if((0,o.IN)("createBufferURL",{buffer:e,success(e){r=e.bufferURL},fail(e){t=e.errMsg}}),t)throw new Error(t);return r}var s=n.Z.createBufferURL(e)||(()=>"");return a.Z.add(s,e),s},c=(e={})=>{(0,o.IN)("createBufferURLAsync",{buffer:e.buffer,success:e.success,fail:e.fail,complete:e.complete})},l=e=>{if(!i.jP)return a.Z.off(e),n.Z.revokeBufferURL(e)||(()=>!1);var t;if((0,o.IN)("revokeBufferURL",{blobUrl:e,fail(e){t=e.errMsg}}),t)throw new Error(t)}},2364:(e,t,r)=>{"use strict";r.d(t,{K:()=>l,V:()=>s});var n,a,i=r(4318),o=(n="getCloudFileUrl",a="qbase_commapi",(0,i.TG)(n,a,(function(e){var t=e.data;return{qbase_api_name:"tcbapi_component_gettempfileurl",qbase_req:JSON.stringify({fileid_list:t.fileid_list.slice(),type:t.type}),cli_req_id:`${+new Date}_${Math.random()}`}}),(function(e){return e})));var s=function(e,t,r){l({fileIds:e,type:t,success:r})},c=new Map,l=function(e){var{fileIds:t,type:r,success:n}=e,a=new Map,i=[],s=!1;if(t.forEach((e=>{var t=c.get(e);if(t){if(Date.now()<t.expireTime)return void(a.has(e)||(a.set(e,t.data),s||(s=!0)));c.delete(e)}/^(cloud):\/\//.test(e)&&i.push(e)})),0!==i.length){var l=0,d=function(e,t){for(var r=[],n=Math.ceil(e.length/t),a=0;a<n;a++)r.push(e.slice(a*t,(a+1)*t));return r}(t,50);Promise.all(d.map((e=>new Promise((t=>{o({data:{fileid_list:e,type:r},requestInQueue:!1,success(r){var n=r;if(n.baseresponse&&0===n.baseresponse.errcode?n.download_list.forEach((e=>{a.set(e.fileid,e),!c.has(e.fileid)&&e.max_age&&c.set(e.fileid,{data:e,expireTime:Date.now()+1e3*e.max_age})})):n.baseresponse?e.forEach((e=>{a.set(e,{download_url:e,service_errcode:n.baseresponse.errcode,errmsg:"system error baseresponse.errcode "+n.baseresponse.errcode}),c.has(e)&&c.delete(e)})):e.forEach((e=>{a.set(e,{download_url:e,service_errcode:-1,errmsg:"system error baseresponse empty"}),c.has(e)&&c.delete(e)})),n.baseresponse&&n.baseresponse.stat&&n.baseresponse.stat.qbase_cost_time){var i=n.baseresponse.stat.qbase_cost_time;i>l&&(l=i)}t()},fail(){t()},complete(e){}})}))))).then((()=>{u(t,a,l,n)})).catch((e=>{"function"==typeof n&&n({data:t.map((t=>({url:t,service_errcode:-1,errmsg:e+""})))})}))}else s?u(t,a,0,n):"function"==typeof n&&n({data:t.map((e=>({url:e})))})};function u(e,t,r,n){var a=[];e.forEach((e=>{if(/^(cloud):\/\//.test(e)){var r=t.get(e);r?0===r.service_errcode?a.push({url:r.download_url}):a.push({url:e,code:r.service_errcode,msg:r.errmsg}):a.push({url:e,code:-1,msg:"NO_RESULT"})}else a.push({url:e})})),"function"==typeof n&&n({data:a,cost:r})}},3084:(e,t,r)=>{"use strict";r.d(t,{c:()=>n});var n=r(5333).Z.SDKVersion},7092:(e,t,r)=>{"use strict";r.d(t,{KL:()=>g,Zv:()=>v,jl:()=>f,zv:()=>m});r(8934),r(5543);var n=r(8688),a=r(5333),i=r(7733),o=r(8941),s=(r(619),r(3311)),c=[],l=[],u=["expires","domain","path","busid","indate","receivetime","spread","extra"],d={scene:-1,sceneNote:"",sessionId:""};function p(){var e=Date.now(),t=[];c.forEach((r=>{var n=r.expires||r.__wxprivate_calc_expires__;if(n&&1e3*n>e){var a=[];for(var i in r)u.indexOf(i)>=0&&a.push(`${encodeURIComponent(i)}=${encodeURIComponent(r[i])}`);a.push(`${encodeURIComponent(r.key)}=${encodeURIComponent(r.value)}`),t.push(a.join("; "))}}));var r,i,o,s=t.join(";; ");s.length>=4096||(r=s,i=()=>{},o=a.Z.accountInfo&&a.Z.accountInfo.appId||"noAppId",r&&r.trim()&&(0,n.L)("setCookiesToGlobalStorage",{cookies:r,appId:o},void 0,i))}function f(e,t,r){if("string"==typeof e){var n=Date.now();e.split(";;").forEach((e=>{var i,o=!1;if(e.split(";").forEach((e=>{i=i||{};var t=(e=e.split("="))[0].trim(),r=e[1]&&e[1].trim();if("expires"!==t&&"indate"!==t||(r=+r,r=Number.isNaN(r)?void 0:r),t&&void 0!==r){var n=decodeURIComponent(t);u.indexOf(t)>=0&&!(0,s.nr)(i,n)?i[n]=decodeURIComponent(r):(o=!0,i.key=n,i.value=decodeURIComponent(r))}})),i){o||(i.key="extra",i.value=i.extra,delete i.extra),t&&(i.receivetime=~~(n/1e3)),void 0===i.expires&&void 0!==i.indate&&i.receivetime&&(i.__wxprivate_calc_expires__=+i.receivetime+ +i.indate);var c=i.expires||i.__wxprivate_calc_expires__;c&&!(1e3*c>n)||function(e,t){for(var r=0,n=t.length;r<n;r++){var a=t[r];if(e.busid===a.busid&&e.key===a.key)return!0}return!1}(i,r)||r.push(i),a.Z.accountInfo&&a.Z.accountInfo.appId&&i.spread&&(i.spread="*"===i.spread?"":i.spread+":",i.spread+=a.Z.accountInfo.appId)}}))}}(0,i.dN)(((e={})=>{d.scene=e.scene,d.sceneNote=e.scene_note,d.sessionId=e.sessionid})),(0,o.vv)(((e={})=>{if(3===e.targetAction)for(var t=c.length-1;t>=0;t--){var r=c[t].extra;r&&"del_on_exit"===r&&c.splice(t,1)}}));function h(e){var t=[];for(var r in e)u.indexOf(r)>=0&&t.push(`${encodeURIComponent(r)}=${encodeURIComponent(e[r])}`);return t.push(`${encodeURIComponent(e.key)}=${encodeURIComponent(e.value)}`),t.join("; ")}var g=e=>{var t=Date.now(),r=[];c.forEach((e=>{var n=e.expires||e.__wxprivate_calc_expires__;e.domain&&"*"===e.domain&&(!n||1e3*n>t)&&r.push(h(e))}));var n=r.join(";; ");return e&&e.success&&e.success({cookies:n}),n},v=e=>{var t=Date.now(),r=[];c.forEach((e=>{var n=e.expires||e.__wxprivate_calc_expires__;(!n||1e3*n>t)&&r.push(e)}));var n=a.Z&&a.Z.accountInfo&&a.Z.accountInfo.appId||"",i=d.scene||"",o=d.sceneNote||"",s=d.sessionId||"";r.push({key:"appid",value:n,busid:"wxapp"},{key:"sessionid",value:s,busid:"wxapp"},{key:"scene",value:i,busid:"wxapp"},{key:"scene_note",value:o,busid:"wxapp"});var{hostAppId:l,pluginAppId:u}=e&&e.pluginInfo?e.pluginInfo:{};if(void 0!==l&&void 0!==u){var p=r.find((e=>"appid"===e.key));p&&(p.value=l),r.push({key:"plugin_appid",value:u,busid:"wxapp"})}var f=a.Z.host||{};"SDK"===f.env&&r.push({key:"sdk_host_appid",value:f.appId,busid:"wxapp"});var g=r.map(h).join(";; ");return e&&e.success&&e.success({cookies:g}),g},m=e=>{var t=Date.now(),r=e.cookies||[],n=e.isTemporary;if(r instanceof Array){var i=n?l:c,o=[],s={},d={},f=a.Z.accountInfo&&a.Z.accountInfo.appId||"";r.forEach((e=>{if(e.key&&"string"==typeof e.key){var r=+e.expires;if(!e.value||r&&1e3*r<t)s[e.key]={key:e.key,busid:e.busid};else{var a={key:e.key,value:e.value};u.forEach((t=>{var r=e[t];"expires"!==t&&"indate"!==t||(r=+r,r=Number.isNaN(r)?void 0:r),"spread"===t&&r&&!n&&f&&(a.spread="*"===r?"":r+":",a.spread+=f),"receivetime"!==t&&"spread"!==t&&void 0!==r&&(a[t]=r)})),d[e.key]=a,o.push(a)}}})),i.forEach((e=>{var r=s[e.key];if(!r||(r.busid||e.busid)&&r.busid!==e.busid){var n=d[e.key];if(!n||(n.busid||e.busid)&&n.busid!==e.busid){var a=e.expires||e.__wxprivate_calc_expires__;a&&1e3*a<t||o.push(e)}}}));var g=function(e){var t=[];return e.forEach((e=>{t.push(h(e))})),t.join(";; ")}(o);if(g.length>=4096)return"setCookies:fail whole cookies storage is out of limit(4KB limit)";n?l=o:(c=o,p())}}},9147:(e,t,r)=>{"use strict";r.d(t,{$:()=>q,_:()=>Z});var n=r(8311),a=r(7584),i=r(1404),o=r(5333),s=r(1211),c=r(7230),l=r(8555),u=r(4704),d=r(3188),p=r(4080),h=r(7146),g=r(2915),v=r(9955),m=r(4275),y={debug(){},log(){},info(){},warn(){},error(){}},b=!1;b||o.Z.onReady((()=>{y=f.createLogger(`LogManager${o.Z.accountInfo&&o.Z.accountInfo.appId}]`)}));var _,I,S,k="undefined"!=typeof __initHelper&&1===__initHelper,C=function(){try{return d.c.apply(this,arguments),{errMsg:"accessSync:ok"}}catch(e){return y.error("accessSync fail",e,arguments),{errMsg:e.message||""}}},T=function(){try{return p.g.apply(this,arguments)}catch(e){return y.error("renameSync fail",e,arguments),{errMsg:e.message||""}}},E=function(){try{var e=h.dJ.apply(this,arguments);return{stat:e,errMsg:"statSync:ok"}}catch(e){return y.error("statSync fail",e,arguments),{errMsg:e.message||""}}},A=function(e){return`${e.getFullYear()}-${e.getMonth()+1}-${e.getDate()} ${e.getHours()}:${e.getMinutes()}:${e.getSeconds()}`},P=function(e){"string"!=typeof e&&(e+="");var t,r,n=0;for(t=0;t<e.length;t++)(r=e.charCodeAt(t))<127?n+=1:r>=128&&r<=2047?n+=2:r>=2048&&r<=65535&&(n+=3);return n},x=!1,M=102400,R=[],D={lastLogNum:1,lastLogSize:0},L=!1,N=!1,O=!1,B={},j=e=>I+"log"+e,F=(0,n.Hw)((e=>C(e).errMsg.indexOf("accessSync:ok")>=0)),U=(0,n.Hw)((e=>{var t=C(e).errMsg;return t.indexOf("fail")>=0&&(t.indexOf("access denied")>=0||t.indexOf("no permission")>=0)})),W=(0,n.Hw)((e=>{if(y.info(`initLog[1][isRemoteDebugMode=${k}, wxConfigReady=${x}, isLogInit=${L}]`),k||!x||L)e&&e();else{if(y.info("initLog[2]"),_=o.Z&&"devtools"===o.Z.platform,I=(o.Z&&o.Z.env.USER_DATA_PATH||(_?"http://usr":"wxfile://usr"))+"/miniprogramLog/",!F(I))return y.info(`initLog[3][mkdirSync][usrLogDir=${I}]`),function(){try{u.h.apply(this,arguments)}catch(e){return y.error("mkdirSync fail",e,arguments),{errMsg:e.message||""}}}(I),L=!0,O=U(I),e&&e(),O?void y.error("hasNoPermission[1]"):void 0;if(O=U(I))return L=!0,void y.error("hasNoPermission[2]");for(var t=1;t<=5&&F(j(t));)B[t]=!0,D.lastLogNum=t,t++;y.info(`[before statSync] path=${j(D.lastLogNum)}`);var r=E(j(D.lastLogNum));r.stat&&(D.lastLogSize=r.stat.size),y.info("[before isLogInit changeinto true"),L=!0,e&&e()}})),G=(0,n.Hw)((()=>{W((()=>{if(y.warn(`[after initLog] isLogInit=${L}; isRemoteDebugMode=${k}; hasNoPermission=${O}; CACHE_LOG.length=${R.length}; needDeleteOldLog=${N}`),L&&!k&&!O&&R.length&&!N){for(var e=[],t=0,r=0;r<R.length;r++){var n=P(R[r]);if(y.warn(`[logItemSize=${n}][currentSize=${t}][MAX_LOG_SIZE=102400]`),n>M)console.warn("[wx.log warn] each log size exceed 100KB will be discard."),y.warn(`submitLog[3],logItemSize=${n},MAX_LOG_SIZE=102400`);else{if(t+n>M)break;t+=n,e.push(R[r])}}if(y.warn(`[reportLogList.length=${e.length}]`),e.length){if(D.lastLogSize+t>1048576){if(D.lastLogNum+1>=6)return N=!0,y.warn("submitLog[4][deleteOldLog]","logConfig=",D,",MAX_FILE_COUNT=",4),void setTimeout((()=>{y.info(`deleteOldLog[1],unlinkSync,logPath(1)=${j(1)}`),function(){try{g.y.apply(this,arguments),y.info("unlinkSync success",arguments)}catch(e){return y.error("unlinkSync fail",e,arguments),{errMsg:e.message||""}}}(j(1));for(var e=2;e<=5;e++)y.info(`deleteOldLog[2],renameSync,logPath(1)=${j(1)},logPath(i - 1)=${j(e-1)}`),T(j(e),j(e-1));D.lastLogNum=5,B[D.lastLogNum]=!1,D.lastLogSize=0,N=!1}),50);D.lastLogNum++,D.lastLogSize=0}r===R.length?R=[]:R.splice(0,r),B[D.lastLogNum]||F(j(D.lastLogNum))?(y.info("submitLog[7],before appendFile, filePath=",j(D.lastLogNum)),(0,c.a)({filePath:j(D.lastLogNum),data:(D.lastLogSize?"\n":"")+e.join("\n"),encoding:"utf8",fail(e){y.error("submitLog[7.1], appendFile fail",e)},success(e){y.info("submitLog[7.2], appendFile success",e)}})):(y.info("submitLog[5], before writeFile, filePath=",j(D.lastLogNum)),(0,l.N)({filePath:j(D.lastLogNum),data:(D.lastLogSize?"\n":"")+e.join("\n"),encoding:"utf8",success(e){y.info("submitLog[5.1], writeFile success",e)},fail(e){console.log("log writeFile err "+e.errMsg),y.error("submitLog[6],writeFile fail",e)}})),D.lastLogSize+=t}}}))}));function V(){S&&clearTimeout(S),S=setTimeout((()=>{G(),S=null,V()}),2e3)}var $={logApiInvoke:!0};function q(e){var t={};return["info","debug","log","warn"].forEach((r=>{t[r]=function t(){$.modules&&$.modules.includes(e)&&$[r].apply(t,arguments)}})),t}["info","debug","log","warn"].forEach((e=>{$[e]=function(){if(!k&&!O&&x&&arguments.length&&D){for(var t=[],r=0;r<arguments.length;r++)"number"==typeof arguments[r]||"string"==typeof arguments[r]?t.push(arguments[r]):t.push(JSON.stringify(arguments[r]));t.splice(0,0,A(new Date),`[${e}]`),R.push(t.join(" "))}}}));var z=!1;function Z(e={}){return z||((0,n.Hw)(V)(),z=!0),"number"==typeof e.level&&($.level=e.level),Array.isArray(e.modules)&&($.modules=e.modules),1===$.level?$.logApiInvoke=!1:0===$.level&&($.logApiInvoke=!0),$}$._getUserLog=function(){for(var e={},t=1;t<=5;t++)e["log"+t]=E(j(t));return e},$.privateSystemLog=(...e)=>{x&&(0,m.tK)()&&void 0!==w&&e&&e.length&&f.info(e)},o.Z.onReady((()=>{k||(x=!0)})),(0,a.J)((()=>{k||G()}));var H=(0,n.Hw)(i.Bx),K=(0,n.Hw)(i.JB);function J(e={}){if(y.info(`uploadUserLog[1],logConfig.lastLogNum=${D.lastLogNum}`,",args=",e),!e.index||e.index>D.lastLogNum)return y.info("uploadUserLog[2]"),void(e.complete&&e.complete());var t="ios"===o.Z.platform?1:5,r=e.readFileResp||function(){try{return{data:v.N.apply(this,arguments),errMsg:"readFileSync:ok"}}catch(e){return y.error("readFileSync fail",e,arguments),{errMsg:e.message||""}}}(j(e.index),"utf8");if(y.info(`uploadUserLog[3],readFileSync=${r.errMsg},index=${e.index},EACH_SLICE=${t}`),r.errMsg.indexOf("readFileSync:ok")>=0&&r.data){var n=r.data.length,a=Math.max(parseInt(n/t,10),1),i=(e.slice-1)*a;y.info("uploadUserLog[4]","start=",i,"eachLen=",a,"len=",n,r.data.length);var c=r.data.substr(i,a);if(y.info("uploadUserLog[5],content.length=",c&&c.length,",logConfig=",D),!c)return y.info("uploadUserLog[6],uploadUserLogSliceComplete"),H({webviewId:e.webviewId,data:{total:D.lastLogNum,type:"uploadUserLogSliceComplete",index:e.index,info:(0,s.getStaticSystemInfoSync)()}}),e.index++,e.slice=1,e.readFileResp=null,void J(e);y.info("uploadUserLog[7], uploadUserLogContent,content.length=",c&&c.length,",logConfig=",D),H({webviewId:e.webviewId,data:{type:"uploadUserLogContent",content:c,index:e.index,slice:e.slice||1,total:D.lastLogNum,info:1===e.index&&1===e.slice?(0,s.getStaticSystemInfoSync)():null},success(){y.info(`uploadUserLog[8] uploadUserLogContent suc, EACH_SLICE=${t}, args.slice=${e.slice}, logConfig.lastLogNum=${D.lastLogNum}`),e.slice===t?(H({webviewId:e.webviewId,data:{total:D.lastLogNum,type:"uploadUserLogSliceComplete",index:e.index,info:(0,s.getStaticSystemInfoSync)()}}),e.index++,e.slice=1,e.readFileResp=null,J(e)):(e.slice++,e.readFileResp=r,y.info("uploadUserLog[9],args=",e),J(e))},fail(t){y.error(`uploadUserLog[10] fail,failResp.errMsg=${t.errMsg},args.retry=${e.retry}`),e.retry?H({webviewId:e.webviewId,data:{type:"uploadUserLogError",errMsg:t&&t.errMsg,index:e.index,info:(0,s.getStaticSystemInfoSync)()}}):(e.retry=!0,J(e))}})}else y.error(`uploadUserLog[11],readFileSync fail=${r.errMsg},index=${e.index}`),H({webviewId:e.webviewId,data:{type:"uploadUserLogError",errMsg:r.errMsg,index:e.index,info:(0,s.getStaticSystemInfoSync)()}})}k||K((e=>{y.info("onH5Data",e,D),e.data&&"uploadUserLog"===e.data.type&&J({index:1,slice:1,webviewId:e.webviewId})}))},8013:(e,t,r)=>{"use strict";r.r(t),r.d(t,{_checkHasSystemProxy:()=>_,_getCurrentNetworkType:()=>y,_getNetworkType:()=>p,_onNetworkTypeReady:()=>b,getNetworkType:()=>f,offNetworkStatusChange:()=>g,offNetworkWeakChange:()=>m,onNetworkStatusChange:()=>h,onNetworkWeakChange:()=>v});var n=r(4318),a=(r(8212),r(5358)),i=r(5333),o=r(6468),s="",c=!1,l=(0,a.s)("networkstatusChange"),u=(0,a.s)("networkWeakChange"),d=(0,a.s)("networkTypeReady"),p=e=>{(0,n.IN)("getNetworkType",e)},f=p,h=l.onMethod,g=l.offMethod,v=u.onMethod,m=u.offMethod,y=()=>s,b=d.onMethod,_=()=>c;"undefined"!=typeof IS_SDK_PACKAGE||((0,n.jQ)("onNetworkStatusChange",((e={})=>{s=e.networkType,o.Z.currentNetworkType=s,l.emit(e),(0,n.nY)("onNetworkStatusChange",e)})),(0,n.jQ)("onNetworkWeakChange",((e={})=>{u.emit(e)}))),i.Z.onReady((()=>{i.Z.networkType&&(s=i.Z.networkType),f({success(e){s=e.networkType,o.Z.currentNetworkType=s,c=e.hasSystemProxy,d.emit(s)}})}))},1211:(e,t,r)=>{"use strict";r.r(t),r.d(t,{_getSystemInfoSyncFromCache:()=>M.mw,getAppAuthorizeSetting:()=>_,getAppBaseInfo:()=>A,getDeviceInfo:()=>k,getInitScreenSize:()=>M.Ew,getRendererUserAgent:()=>x,getStableSystemInfo:()=>M.Oo,getStaticSystemInfoSync:()=>u.m,getSystemInfo:()=>n.S,getSystemInfoAsync:()=>p,getSystemInfoAsyncNoCache:()=>d,getSystemInfoNoCache:()=>n.J,getSystemInfoSync:()=>a.x,getSystemInfoSyncNoCache:()=>a.i,getSystemSetting:()=>b,getWindowInfo:()=>C,openAppAuthorizeSetting:()=>v,openSystemBluetoothSetting:()=>g});var n=r(9522),a=r(6008),i=r(5333),o=r(4318),s=r(8212),c=r(6682),l=r(2787),u=r(3185),d=e=>{i.Z.supportAsyncGetSystemInfo||(console.info('Current Wechat version do not support asynchronous getSystemInfo. "wx.getSystemInfoAsync" will be finished by synchronous implementation.'),(0,c.h)());var t=i.Z.supportAsyncGetSystemInfo?"getSystemInfoAsync":"getSystemInfo";(0,o.IN)(t,e,{beforeSuccess:e=>{(0,l.I)(e),(0,u.F)(e)}})},p=(0,s.Q)("getSystemInfoAsync",d),f=r(9097),h=r.n(f),g=e=>{(0,o.IN)("openSystemSetting",h()(h()({},e),{},{type:"systemBluetooth"}))},v=e=>{(0,o.IN)("openSystemSetting",h()(h()({},e),{},{type:"appAuthorize"}))},m=Object.defineProperty,y=(e,t)=>{m(e,t,{get:()=>{var e;return(0,o.IN)("getSystemInfo",{type:t,success:r=>{e=r[t]}}),e},enumerable:!0})},b=()=>{var e={};return y(e,"bluetoothEnabled"),y(e,"deviceOrientation"),y(e,"locationEnabled"),y(e,"wifiEnabled"),e},_=()=>{var e={};return y(e,"albumAuthorized"),y(e,"bluetoothAuthorized"),y(e,"cameraAuthorized"),y(e,"locationAuthorized"),y(e,"locationReducedAccuracy"),y(e,"microphoneAuthorized"),y(e,"notificationAlertAuthorized"),y(e,"notificationAuthorized"),y(e,"notificationBadgeAuthorized"),y(e,"notificationSoundAuthorized"),y(e,"phoneCalendarAuthorized"),e},w=r(3847),I=r(4275),S={"iPhone14,2":"iPhone 13 Pro","iPhone14,3":"iPhone 13 Pro Max","iPhone14,4":"iPhone 13 Mini","iPhone14,5":"iPhone 13","iPad11,6":"iPad (8th generation) Wi-Fi","iPad11,7":"iPad (8th generation) Wi-Fi + Cellular","iPad12,1":"iPad (9th generation) Wi-Fi","iPad12,2":"iPad (9th generation) Wi-Fi + Cellular","iPad13,1":"iPad Air (4th generation) Wi-Fi","iPad13,2":"iPad Air (4th generation) Wi-Fi + Cellular","iPad13,4":"iPad Pro 11 inch (3rd generation) Wi-Fi","iPad13,5":"iPad Pro 11 inch (3rd generation) Wi-Fi + Cellular (US)","iPad13,6":"iPad Pro 11 inch (3rd generation) Wi-Fi + Cellular (Global)","iPad13,7":"iPad Pro 11 inch (3rd generation) Wi-Fi + Cellular (China)","iPad13,8":"iPad Pro 12.9 inch (5th generation) Wi-Fi","iPad13,9":"iPad Pro 12.9 inch (5th generation) Wi-Fi + Cellular (US)","iPad13,10":"iPad Pro 12.9 inch (5th generation) Wi-Fi + Cellular (Global)","iPad13,11":"iPad Pro 12.9 inch (5th generation) Wi-Fi + Cellular (China)","iPad14,1":"iPad mini (6th generation) Wi-Fi","iPad14,2":"iPad mini (6th generation) Wi-Fi + Cellular"},k=(0,w.r)((()=>{var e;(0,o.IN)("getSystemInfo",{type:"deviceInfo",success(t){delete(e=t).errMsg}});var t,r,n,a=I.iw;return I.cj&&(e.brand="iPhone",e.model=(t=e.model,(n=null!==(r=t.match(/unknown<(.*?)>/))&&void 0!==r?r:[])&&S[n[1]]||t)),I.gm&&"devtools"!==e.brand&&(a="iPhone"===e.brand?"ios":"android"),e.platform=a,e})),C=(0,w.r)((()=>{var e;return(0,o.IN)("getSystemInfo",{type:"windowInfo",success(t){delete(e=t).errMsg}}),e})),T=r(9011),E=r(3084),A=(0,w.r)((()=>{var e;return(0,o.IN)("getSystemInfo",{type:"appBaseInfo",success(t){delete(e=t).errMsg}}),e.SDKVersion=E.c,e.enableDebug=Boolean(i.Z.debug),i.Z.theme&&(e.theme=i.Z.theme),i.Z.host&&(e.host=i.Z.host),i.Z.appLaunchInfo&&i.Z.appLaunchInfo.mode&&(e.mode=i.Z.appLaunchInfo.mode),I.wZ&&/^\d+\.\d+$/.test(e.version)&&(e.version+=".0"),(0,T.Av)()&&!(0,I.aI)()&&(e.safeArea=Object.assign({},e.safeArea),e.safeArea.top=0,e.safeArea.bottom=e.screenHeight,e.safeArea.height=e.safeArea.bottom-e.safeArea.top),I.jP&&(e.renderer="h5"),e})),P=r(1755),x=()=>new Promise((e=>(0,P.Y)(e))),M=r(1893)},1893:(e,t,r)=>{"use strict";r.d(t,{Ew:()=>p,Oo:()=>d,mw:()=>f});var n=r(5333),a=r(3185),i=r(6008),o=null,s=0,c=0,l=["brand","model","pixelRatio","language","version","system","platform","SDKVersion"];n.Z.onReady((()=>{o={};for(var e=0;e<l.length;e++){if(!(l[e]in n.Z)){o=(0,a.m)();break}o[l[e]]=n.Z[l[e]]}if(n.Z.screenHeight&&n.Z.screenWidth)s=n.Z.screenWidth,c=n.Z.screenHeight;else{var t=(0,a.m)();s=t.screenWidth,c=t.screenHeight}}));var u,d=()=>n.Z.isReady?Object.assign({},o):((new Error).stack,{}),p=()=>n.Z.isReady?{screenWidth:s,screenHeight:c,deviceOrientation:s>c?"landscape":"portrait"}:((new Error).stack,{}),f=(...e)=>{if(u)return u;if(!0===e[0]){if(o)return o;u=(0,i.x)()}else u=(0,i.x)();return u}},3185:(e,t,r)=>{"use strict";r.d(t,{F:()=>o,m:()=>i});var n,a=r(6008),i=()=>n||(n=Object.assign({},(0,a.x)())),o=e=>{delete(n=Object.assign({},e)).errMsg}},9522:(e,t,r)=>{"use strict";r.d(t,{J:()=>p,S:()=>h});var n,a,i,o=r(4318),s=JSON.parse,c=JSON.stringify,l=r(2787),u=r(6682),d=r(3185),p=e=>{(0,u.h)();(0,o.IN)("getSystemInfo",e,{beforeSuccess:e=>{(0,l.I)(e),(0,d.F)(e)}})},h=(n="getSystemInfo",a=p,(e={})=>{var{success:t,fail:r}=(0,o.Rn)(e,n);if(i){var l={};try{l=s(i)}catch(e){f.error("constructCachedOptimizedSyncApi parse error",e.message)}t(l)}else a(Object.assign({},e,{success(e){try{i=c(e)}catch(e){f.error("constructCachedOptimizedSyncApi stringify error",e.message)}Promise.resolve().then((()=>{i=void 0})),t(e)},fail(e){i=void 0,r(e)},complete:void 0}))})},6008:(e,t,r)=>{"use strict";r.d(t,{i:()=>i,x:()=>a});var n=r(9522),a=()=>{var e={};return(0,n.S)({success(t){delete t.errMsg,e=t}}),e},i=()=>{var e={};return(0,n.J)({success(t){delete t.errMsg,e=t}}),e}},1755:(e,t,r)=>{"use strict";var n;r.d(t,{Y:()=>s});var a,i=!!c.clientManager,o=new Set;null===(n=c.clientManager)||void 0===n||n.once("clientConnected",((e,{ua:t}={})=>{a=t,o.forEach((e=>{try{e(t)}catch(e){}})),o.clear()}));var s=e=>{i?a?e(a):o.add(e):e("")}},2787:(e,t,r)=>{"use strict";r.d(t,{I:()=>s});var n=r(9011),a=r(4275),i=r(3084),o=r(5333),s=e=>{var t=a.iw;a.cj&&(e.brand="iPhone"),a.gm&&"devtools"!==e.brand&&(t="iPhone"===e.brand?"ios":"android"),e.platform=t,e.SDKVersion=i.c,e.enableDebug=Boolean(o.Z.debug),o.Z.devicePixelRatio&&(e.devicePixelRatio=o.Z.devicePixelRatio),o.Z.theme&&(e.theme=o.Z.theme),o.Z.host&&(e.host=o.Z.host),o.Z.appLaunchInfo&&o.Z.appLaunchInfo.mode&&(e.mode=o.Z.appLaunchInfo.mode),a.wZ&&/^\d+\.\d+$/.test(e.version)&&(e.version+=".0"),(0,n.Av)()&&!(0,a.aI)()&&(e.safeArea=Object.assign({},e.safeArea),e.safeArea.top=0,e.safeArea.bottom=e.screenHeight,e.safeArea.height=e.safeArea.bottom-e.safeArea.top),a.jP&&(e.renderer="h5")}},6682:(e,t,r)=>{"use strict";r.d(t,{h:()=>a});var n=r(5333),a=()=>{n.Z.isReady||(new Error).stack}},7828:(e,t,r)=>{"use strict";r.d(t,{P3:()=>n,Ve:()=>i,fe:()=>s,hr:()=>a});var n,a,i,o=new(r(6760).Z),s=o.on.bind(o,"__virtualDOM__");o.on.bind(o,"__webnode__")},6982:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n,a=r(4318),i=r(5333),o=(0,a.TG)("getIAPInfo","webapi_getiapinfo");function s(){return new Promise(((e,t)=>{if(n)e(n);else{var r=i.Z.appLaunchInfo.openId;r?(n={openId:r,appId:i.Z.accountInfo.appId},e(n)):o({success(t){n={openId:t.openID,appId:t.appId},e(n)},fail(e){t(e.errMsg)}})}}))}},8688:(e,t,r)=>{"use strict";r.d(t,{L:()=>s});var n=r(4318),a=r(6468),i=0,o=[],s=(e,t={},r,s)=>{var c=i++;o[c]=s,(0,n.nY)("invokeWebviewMethod",{name:e,args:t,callbackId:c},void 0===r?[a.Z.currentWebviewId]:r)};(0,n.Ld)("callbackWebviewMethod",(({res:e,callbackId:t})=>{var r=o[t];delete o[t],r&&r(e)}))},8510:(e,t,r)=>{"use strict";r.d(t,{hA:()=>i,p$:()=>a,u:()=>n});var n=(0,r(5358).s)("AudioInterruptionBegin"),a=n.onMethod,i=n.offMethod},4157:(e,t,r)=>{"use strict";r.d(t,{FY:()=>n,aS:()=>a,xJ:()=>i});var n=(0,r(5358).s)("AudioInterruptionEnd"),a=n.onMethod,i=n.offMethod;n.internalOnMethod,n.internalOffMethod},3444:(e,t,r)=>{"use strict";r.d(t,{o:()=>x,S:()=>M});var n=r(4318),a=r(9629),i=r(4275),o=r(5333),s=r(4938),c=r(619),l=r(1632);(0,l.b)("Download",{maxTaskCount:10,functionName:"downloadFile"}),o.Z.onReady((()=>{try{"number"==typeof o.Z.wxAppInfo.maxDownloadConcurrent&&(0,l.b)("Download",{maxTaskCount:o.Z.wxAppInfo.maxDownloadConcurrent})}catch(e){}}));class u extends l.o{constructor(e){super(e,{taskType:"Download",beforeSend:t=>(t.filePath=e.filePath,t),beforeSuccess:e=>(delete e.timeInterval,e)})}}var d=u,p=r(6760),h=r(9011),g=r(4833),v=new WeakMap,m=new WeakMap,y=new WeakMap,b=[],_=0,w=10;function I(e=!1){for(e&&(v.delete(e),m.delete(e),y.delete(e),_--);b.length>0&&_<w;){var t=b.shift(),r=v.get(t),n=m.get(t);r&&n&&(r.start(n),_++)}}o.Z.onReady((()=>{o.Z.wxAppInfo&&o.Z.wxAppInfo.maxDownloadConcurrent&&(w=o.Z.wxAppInfo.maxDownloadConcurrent)}));class S{constructor(e){var t=a.Z.Download,r=e.workerId?new t(e.workerId):new t;delete e.workerId;var i=new p.Z;v.set(this,r),y.set(this,i),m.set(this,(0,h.v7)(e,["url","header","filePath","enableProfile","timeout"])),r.onfail=t=>{(0,n.YG)("downloadFile",e,t),I(!0)},r.onsuccess=t=>{(0,n.FE)({name:"downloadFile",args:e,res:t}),I(!0)},r.onheader=e=>i.emit("header",{header:e}),r.onprogress=(e,t,r)=>i.emit("progress",{progress:e,totalBytesWritten:t,totalBytesExpectedToWrite:r}),(0,g.k)({api:"downloadFile",url:e.url}).then((t=>{e.__skipDomainCheck__||t.isInDomainList||t.isInLAN&&!t.isLocalHost?(b.push(this),I()):(0,n.YG)("downloadFile",e,"invalid url")})).catch((()=>{(0,n.YG)("downloadFile",e,"url validate error")}))}abort(){var e=v.get(this);e&&e.abort()}onHeadersReceived(e){var t=y.get(this);t&&t.on("header",e)}onProgressUpdate(e){var t=y.get(this);t&&t.on("progress",e)}offHeadersReceived(e){var t=y.get(this);t&&t.off("header",e)}offProgressUpdate(e){var t=y.get(this);t&&t.off("progress",e)}}var k=r(5722),C=!1;function T(e){return C?new S(e):new d(e)}r.g.__isAppServiceRemoteDebugMode__||(0,a.a)((e=>{e.Download&&o.Z.onReady((()=>{var e=!1,t=i.cj?"clicfg_appbrand_ios_native_download_new":"clicfg_appbrand_native_download";(0,s.b)({experimentId:t,experimentType:"Expt",success:t=>{t&&1===Number(t.testConfig)&&(e=!0,(0,k.Tk)(/^downloadFile/,2))},fail(e){}});var r=(0,c.J)("bindingDownload");C=e||r,f.info(`${C?"binding":"jsapi"} download, abtest: ${e}, permission: ${r}`)}))}));var E=r(4089),A=(e={})=>(e=Object.assign({__skipDomainCheck__:!1},e),(t={})=>{if((0,n.r3)("downloadFile",t,{url:""})){t.__skipDomainCheck__=e.__skipDomainCheck__;try{return new T(t)}catch(e){return void(0,n.YG)("downloadFile",t,e.message)}}}),P=A(),x=A({__skipDomainCheck__:!0}),M=(e={})=>{if("string"!=typeof e.filePath||!e.filePath.startsWith((0,E.WZ)()))return P(e);(0,n.YG)("downloadFile",e,"permission denied")}},7065:(e,t,r)=>{"use strict";r.d(t,{ot:()=>a.o,ac:()=>n.ac,as:()=>o.as,OZ:()=>i.O,aS:()=>l,Co:()=>u,Sv:()=>a.S,WY:()=>n.WY,pR:()=>n.pR,Wb:()=>o.Wb,cT:()=>i.c});var n=r(593),a=r(3444),i=r(1635),o=r(6616),s=r(4318),c=r(4275),l=(e={})=>{c.cj?(0,s.YG)("addNativeDownloadTask",e,"iOS not supported"):(0,s.IN)("addNativeDownloadTask",e,{})},u=(e={})=>{(0,s.r3)("calRqt",e,{rqt:""})&&(0,s.IN)("calRqt",e)}},284:(e,t,r)=>{"use strict";r.d(t,{Nv:()=>y,gA:()=>v});var n,a=r(3888),i=r.n(a),o=r(1625),s=r(1211),c=r(7997),l=r(4318),u=!1,d=void 0,p=void 0,f=void 0,h="group_forcecelluarnetwork",g=e=>d=e,v=()=>{d&&!n&&(n=!0,m())},m=()=>{var e,{language:t}=(0,s._getSystemInfoSyncFromCache)();switch(t){case"zh_TW":case"zh_HK":e="正在透過流動網絡改善使用體驗";break;case"en":default:e="Using mobile data for better experience";break;case"zh_CN":e="正在通过移动网络改善使用体验"}!u&&(u=!0,1)&&(0,o.NT)((()=>{__sclEngine__.initScl((t=>{t.mainRoot.append("multiLinkToast",{content:e}).addListener("click",(()=>{(0,c.a)({success:e=>{!1===e.authSetting["scope.forceCellularNetwork"]&&g(!1)}})}))}))}))},y=function(){var e=i()((function*(){var e;if(void 0!==d)return d;try{p||(p=(0,l.Qh)({sdkApiName:"getuserwxaauth",apiName:"webapi_getuserwxaauth",reqData:{scope_list:[h]}})),e=yield p}catch(e){return!1}var t,{auth_item_list:r}=e.data;if(-1!==(t=r.findIndex((e=>e.scope===h)))){var n=r[t];if(0===n.state){yield(f||(f=(0,l.Qh)({sdkApiName:"setuserwxaauth",apiName:"webapi_setuserwxaauth",reqData:{auth_item_list:[{scope:h,state:1}]}})),f).then((e=>{g(!0)})).catch((e=>{}))}else 2===n.state?g(!1):1===n.state&&g(!0)}return d}));return function(){return e.apply(this,arguments)}}()},593:(e,t,r)=>{"use strict";r.d(t,{UF:()=>ne,ac:()=>re,jz:()=>ae,WY:()=>te,pR:()=>ie});var n=r(9097),a=r.n(n),i=r(4318),o=r(346),s=r(5333),c=r(1632),l=r(7023),u=r(6468),d=r(6776);function p({isSuccess:e,invokeTime:t,costTime:r,wxdataQueueTimestamp:n,wxdataDequeueTimestamp:a,beginCGITimestamp:i,CGICallbackTimestamp:o,wxlibCallbackTimestamp:c,requestingCount:p,cost1:f,cost2:h,cost3:g,cost4:v,cost5:m,cost6:y,JSApiType:b}){Math.random()<.002&&setTimeout((()=>{var _,I=u.Z.currentNetworkType,S=s.Z.appType+1e3,k=s.Z.appLaunchInfo&&void 0!==s.Z.appLaunchInfo.scene?s.Z.appLaunchInfo.scene:0,C=["","",e?1:0,t,r,I,"",S,k,(0,d.k)(),(0,d.n)(),"",0,0,f,h,g,v,m,y,0,0,p,t,n,a,i,o,0,0,c,b].map((_=1024,e=>(0,l.HD)(e)&&e.length>_?e.substr(0,_):e)).join(",");w.reportKeyValue({key:"WeAppOperateWXData",value:C})}),0)}var h=({url:e,result:t,cost:r,pointCacheType:n,errMsg:a,errno:i,host:o,fullCost:s})=>{var c=[e,t,r,n,a?encodeURIComponent(a):a,i,o,s].join(",");w.reportKeyValue({key:"WeFreeHttpDns",value:c})},g=r(4785),v=r(8013),m={},y={},b={},_=(e,t,r)=>{if(b[e])return b[e];var n,o=e&&e.indexOf(":");n=(n=-1!==o?e.slice(0,o):e).toLowerCase();var s=r?{sdkApiName:"getFreeDNSInfo",apiName:"webapi_wxahttpdns_getfreehostip",reqData:{domain:n}}:{sdkApiName:"getDNSInfo",apiName:"webapi_wxahttpdns_gethostip",reqData:{domain:n,service_id:t}};return b[e]=(0,i.Qh)(s).then((t=>{delete b[e];var{wxa_state:n,ip:i,ttl:o,hit_cache:s}=t.data;if(0===n)return m[e]={ip:i,expireTime:1e3*o+Date.now()},r?a()(a()({},m[e]),{},{hitCache:s}):m[e];throw new Error(n)})).catch((t=>{throw delete b[e],t})),b[e]},I=e=>{var t=m[e];return t?{expired:Date.now()>t.expireTime,ip:t.ip}:null};(0,v.onNetworkStatusChange)((()=>{m={},y={},b={}}));var S=r(619),k=new RegExp("name_not_resolved","i"),C=(e,t,r)=>!(0,v._checkHasSystemProxy)()&&(!(!(0,S.J)("useFreeHttpDns")||!(e=>k.test(e.errMsg))(e))&&(ae(t,r),!0)),T=r(284),E=0;(0,c.b)("Request",{maxTaskCount:10,functionName:"request"}),s.Z.onReady((()=>{try{"number"==typeof s.Z.wxAppInfo.maxRequestConcurrent&&(0,c.b)("Request",{maxTaskCount:s.Z.wxAppInfo.maxRequestConcurrent})}catch(e){}}));class A extends c.o{constructor(e){var t=null==e?void 0:e.__wx_inner_uuid__,r=null==e?void 0:e.__wx_inner_invokeTime__,n=null==e?void 0:e.__wx_inner_request_network_type__,a=null==e?void 0:e.__wx_request_route_path__;null==e||delete e.__wx_inner_uuid__,null==e||delete e.__wx_inner_invokeTime__,null==e||delete e.__wx_inner_request_network_type__,null==e||delete e.__wx_request_route_path__;var i={JSApiType:1,invokeTime:Date.now(),requestingCount:++E};super(e,{taskType:"Request",beforeSend:t=>(t.responseType=e.responseType,t),beforeSuccess:o=>{var s,c;(0,T.gA)(),e.host&&e.ip&&(s=e.host,c=e.ip,y[s]=c),i.isSuccess=!0,function(e){"string"==typeof e.data&&65279===e.data.charCodeAt(0)&&(e.data=e.data.substr(1))}(o),function(e){e.statusCode=parseInt(e.statusCode,10)}(o),function(e){"object"==typeof e.header&&(e.header=Object.keys(e.header).reduce(((t,r)=>(Array.isArray(e.header[r])?t[r]=e.header[r].join(","):"string"==typeof e.header[r]&&(t[r]=e.header[r]),t)),{}))}(o);try{(0,g.Qe)(e,o,{uuid:t,invokeTime:r,dataType:e.dataType,networkType:n,routePath:a})}catch(e){f.error("checkAndReportError error:",e)}if("json"===e.dataType&&function(e,t){try{e.data=(t||JSON.parse)(e.data)}catch(e){}}(o,e._jsonParse),e.__retryHttpDNS__){var l=o.profile.domainLookUpStart-o.profile.fetchStart;o.profile.domainLookUpStart=e.lastRequestStartTime,o.profile.fetchStart=e.lastRequestStartTime-l,h({url:e.lastUrl,result:0,fullCost:Date.now()-r,host:e.lastHost,cost:e.weHttpDNSCoast,pointCacheType:e.hitCache})}return P(o,i,e),o},beforeFail(o){var s,c=!1;if(i.isSuccess=!1,P(o,i,e),e.__retryHttpDNS__)h({url:e.lastUrl,result:1,fullCost:Date.now()-r,pointCacheType:e.hitCache,errMsg:o.errMsg,errno:o.errno,host:e.lastHost,cost:null!==(s=e.weHttpDNSCoast)&&void 0!==s?s:-1}),c=e.lastErrorResponse;else if(C(o,e.originArgs,{lastRequestStartTime:e.currentRequestStartTime,lastErrorResponse:o,lastUrl:e.url,lastHost:e.host}))return{__retry__:!0};try{(0,g.Qe)(e,o,{uuid:t,invokeTime:r,networkType:n,routePath:a})}catch(e){f.error("checkAndReportError error:",e)}return c?{__changeError__:c}:o}})}}function P(e,t,r){var n=Date.now();if(E--,t.costTime=n-t.invokeTime,e.clientInfo&&"object"==typeof e.clientInfo){var a=e.clientInfo;t.wxdataQueueTimestamp=a.invokeTime,t.wxdataDequeueTimestamp=a.invokeTime,t.beginCGITimestamp=a.beginCGITimestamp,t.CGICallbackTimestamp=a.CGICallbackTimestamp,t.wxlibCallbackTimestamp=a.wxlibCallbackTimestamp,t.cost1=t.wxdataQueueTimestamp-t.invokeTime,t.cost2=t.wxdataDequeueTimestamp-t.wxdataQueueTimestamp,t.cost3=t.beginCGITimestamp-t.wxdataDequeueTimestamp,t.cost4=t.CGICallbackTimestamp-t.beginCGITimestamp,t.cost5=t.wxlibCallbackTimestamp-t.CGICallbackTimestamp,t.cost6=n-t.wxlibCallbackTimestamp,r&&r.__wxUseProfile__&&(e.__requestProfileInfo=t),delete e.clientInfo,p(t)}}var x=A,M=new WeakMap;class R{constructor(){var e,t=new Promise((t=>{e=t}));M.set(this,{promise:t,resolve:e})}abort(){var{promise:e}=M.get(this);e.then((e=>{e.abort()}))}onHeadersReceived(e){var{promise:t}=M.get(this);t.then((t=>{t.onHeadersReceived(e)}))}offHeadersReceived(e){var{promise:t}=M.get(this);t.then((t=>{t.offHeadersReceived(e)}))}onChunkReceived(e){var{promise:t}=M.get(this);t.then((t=>{t.onChunkReceived(e)}))}offChunkReceived(e){var{promise:t}=M.get(this);t.then((t=>{t.offChunkReceived(e)}))}onProgressUpdate(e){var{promise:t}=M.get(this);t.then((t=>{t.onProgressUpdate(e)}))}offProgressUpdate(e){var{promise:t}=M.get(this);t.then((t=>{t.offProgressUpdate(e)}))}}var D=r(8311);function L({args:e,options:{__retryHttpDNS__:t,__notAutofillContentType__:r,lastRequestStartTime:n,lastUrl:a,lastHost:i,lastErrorResponse:s}={}}){var c=(0,D.Em)(e.header);e.header=e.header||{},e.header=(0,D.Nf)(e.header),"Undefined"!==c&&"Object"!==c&&(console.warn("wx.request: header must be an object"),e.header={}),e.header=Object.keys(e.header).reduce(((t,r)=>("content-type"===r.toLowerCase()?t[r.toLowerCase()]=e.header[r]:t[r]=e.header[r],t)),{});var l="text";e.responseType&&(l=e.responseType.toLowerCase());var u,d=e.header||{},p="GET";return"string"==typeof e.method&&(p=e.method.toUpperCase()),e.dataType=e.dataType||"json",r||(d["content-type"]=d["content-type"]||"application/json"),u=void 0===e.data?"":"string"!=typeof e.data&&"ArrayBuffer"!==(0,D.Em)(e.data)?d["content-type"].indexOf("application/x-www-form-urlencoded")>-1?(0,o.HR)(e.data,!0):d["content-type"].indexOf("application/json")>-1||"object"==typeof e.data?JSON.stringify(e.data):u.toString():e.data,"GET"===p&&(e.url=(0,o.cE)(e.url,e.data)),{header:d,method:p,responseType:l,dataStr:u,args:e,currentRequestStartTime:Date.now(),lastRequestStartTime:n,lastHost:i,lastUrl:a,__retryHttpDNS__:t,lastErrorResponse:s}}var N=Symbol("skipDNS");function O({args:e={},host:t,skipDNS:r,banHttpDNS:n}){if(r===N||n)return{};var a,{enableHttpDNS:i,httpDNSServiceId:o}=e;if((0,v._checkHasSystemProxy)())return{};if(!0===i&&(0,l.HD)(o)){var s=I(t);return s&&!1===s.expired?(a=s.ip,{host:t,ip:a}):_(t,o).then((e=>(a=e.ip,{host:t,ip:a})))}return!0===i?Promise.reject(new Error("invalid httpDNSServiceId")):{}}function B({host:e,ip:t}){var r=((e,t)=>{var r=y[e];return t?!(r&&r===t||(delete y[e],0)):(delete y[e],!1)})(e,t);return{forbidReuse:r}}function j({args:e}){var{host:t,protocol:r}=(0,o.en)(e.url);return{host:t,protocol:r}}function F({protocol:e}){return{port:"http"===e?80:"https"===e?443:0}}var U=r(1770),W=r(1822),G=function({args:e={}}){var{ip:t}=e;if(!t)return{};var r=(0,W.hI)(this);return r&&(0,U.uC)(r,"skipDNSRequest")?{skipDNS:N,ip:e.ip}:{}},V=r(4084),$=r(4938),q=r(4275),z={},Z=!1;function H({args:{url:e,__wx_inner_invokeTime__:t},host:r,options:{__retryHttpDNS__:n,lastErrorResponse:a}}){var i;if(!n)return{};if(!((null===(i=z[e])||void 0===i?void 0:i.count)>=4)){var o;if((0,v._checkHasSystemProxy)())return{};if(Z){var s=I(r);if(s&&!1===s.expired)return o=s.ip,{host:r,ip:o,hitCache:1}}var c=Date.now();return _(r,void 0,!0).then((e=>{o=e.ip;var t=e.hitCache?2:0,n=Date.now()-c;return{host:r,ip:o,banHttpDNS:!0,weHttpDNSCoast:n,hitCache:t}})).catch((n=>{z[e]?z[e].count++:z[e]={count:1};var i=setTimeout((()=>{delete z[e]}),3e4);throw z[e].cf&&clearTimeout(z[e].cf),z[e].cf=i,h({url:e,result:1,fullCost:Date.now()-t,pointCacheType:0,errMsg:n.errMsg||n.message||n.msg,errno:n.errno,host:r}),a}))}h({url:e,result:1,fullCost:Date.now()-t,pointCacheType:0,errMsg:"we_reject_free_httpdns",errno:10455,host:r})}s.Z.onReady((()=>{var e=q.cj?"clicfg_appbrand_ios_free_httpdns_sdk_cache":"clicfg_appbrand_android_free_httpdns_sdk_cache";(0,$.b)({experimentId:e,experimentType:"Expt",success:e=>{e&&1===Number(e.testConfig)&&(Z=!0)}})}));var K=r(3888),J=r.n(K),Y=function(){var e=J()((function*({args:e}){return!0!==e.forceCellularNetwork?(e.forceCellularNetwork&&delete e.forceCellularNetwork,{}):(yield(0,T.Nv)())?{forceCellularNetwork:!0}:(e.forceCellularNetwork&&delete e.forceCellularNetwork,{})}));return function(t){return e.apply(this,arguments)}}();function Q({host:e}){var t=(e=>{if(!e)return!1;if("."===e[0])return!0;for(var t,r,n=0;n<e.length;n++){if(r=e[n],"."===t&&"."===r)return!0;t=r}return!1})(e);if(t)throw{type:"frame",data:`illegal host: ${e}`}}class X{constructor(e){this.innerParams=e,this.asyncTasks=[]}use(e){var t=e(this.innerParams,this.asyncTasks);if(t instanceof Promise){var r=t.then((e=>{Object.assign(this.innerParams,e)}));this.asyncTasks.push(r)}else Object.assign(this.innerParams,t);return this}useAfterAsyncTasks(e){return this.asyncTasks.length>0?Promise.all(this.asyncTasks).then((()=>{this.use(e)})).catch((e=>e)):this.use(e),this}catch(e){return this.catchFn=e,this}execute(e){if(this.asyncTasks.length>0){var t=new R;return Promise.all(this.asyncTasks).then((()=>{var e=this.createRequestTask();((e,t)=>{var{resolve:r}=M.get(e);r(t)})(t,e)})).catch((t=>{this.catchFn&&this.catchFn(t),"frame"!==(null==t?void 0:t.type)?delete this.catchFn:(0,i.FE)({name:"request",args:e,errno:V.YEP,errMsg:t.data,success:!1})})),t}return this.createRequestTask()}createRequestTask(){var{args:e,host:t,ip:r,header:n,method:i,port:o,responseType:s,dataStr:c,options:l,forbidReuse:u,currentRequestStartTime:d,lastRequestStartTime:p,weHttpDNSCoast:f,hitCache:h,lastHost:g,lastUrl:v,__retryHttpDNS__:m,lastErrorResponse:y}=this.innerParams;try{return new x(Object.assign({},e,{header:n,method:i,responseType:s,data:c,ip:r,host:t,port:o,forbidReuse:u,currentRequestStartTime:d,lastRequestStartTime:p,originArgs:a()({},e),weHttpDNSCoast:f,hitCache:h,lastHost:g,lastUrl:v,__retryHttpDNS__:m,lastErrorResponse:y,url:e.url,__skipDomainCheck__:l.__skipDomainCheck__}))}catch(e){return this.catchFn&&this.catchFn(e),void delete this.catchFn}}}var ee=(e={})=>(e=Object.assign({__skipDomainCheck__:!1,__notAutofillContentType__:!1,__retryHttpDNS__:!1},e),function(t={}){if((0,i.r3)("request",t,{url:""}))if(!1!==(0,o.mQ)(t.url)){try{JSON.stringify(t.data)}catch(e){return void(0,i.FE)({name:"request",args:t,errno:V.tHd,errMsg:"fail to stringify data",success:!1})}if("function"!=typeof t.data){var r=new X({args:t,options:e});try{r.catch((e=>{(0,i.YG)("request",t,e.message||e.errMsg,e.errno)})).use(L).use(j).use(Q).use(F).use(G.bind(this)).use(H).use(O).use(Y).useAfterAsyncTasks(B)}catch(e){if("frame"===(null==e?void 0:e.type))return void(0,i.FE)({name:"request",args:t,errno:V.YEP,errMsg:e.data,success:!1});throw e}return r.execute(t)}(0,i.FE)({name:"request",args:t,errno:V.tHd,errMsg:"data should not be Function",success:!1})}else(0,i.FE)({name:"request",args:t,errno:V.Z9j,errMsg:`invalid url "${t.url}"`,success:!1})}),te=ee({__skipDomainCheck__:!1}),re=ee({__skipDomainCheck__:!0}),ne=ee({__skipDomainCheck__:!0,__notAutofillContentType__:!0}),ae=((e={})=>(t={},r={})=>ee(a()(a()({},e),r))(t))({__retryHttpDNS__:!0}),ie=function(e={}){var t=(0,W.hI)(this);if((0,U.uC)(t,"useRequest"))return re.call(this,e);(0,i.YG)("request",e,"no permission")}},6616:(e,t,r)=>{"use strict";r.d(t,{as:()=>X,Wb:()=>Q});var n,a=r(9097),i=r.n(a),o=r(1351),s=r.n(o),c=r(1702),l=r(2679),u=r(9011),d=r(7023),p=r(4318),h=r(3306),g=r(284),v=0,m=new WeakMap,y=new WeakMap,b=new WeakMap,w=new WeakMap,I={},S=new c.Q;(0,p.jQ)("onSocketTaskStateChange",((e={})=>{var{state:t,socketTaskId:r}=e,n=I[r];if(n){var a=m.get(n);if(delete e.state,delete e.socketTaskId,n){if("open"===t){(0,g.gA)(),n.readyState=n.OPEN;var i=b.get(n).url,o=Date.now()-w.get(n),s=e.statusCode,c=b.get(n).__skipDomainCheck__,u=e.profile;(0,l.P)("connectSocket",i,1,o,"",s,c,0,0,u,0)}else"close"!==t&&"error"!==t||(n.readyState=n.CLOSED);S.emit(`${a}${t}`,e),S.emit(`onSocket${t[0].toUpperCase()+t.substr(1)}`,e,n),"close"===t&&(delete I[r],S.removeAllListeners(`${a}open`),S.removeAllListeners(`${a}close`),S.removeAllListeners(`${a}error`),S.removeAllListeners(`${a}message`))}}}));var k=function(e,t){S.on(`${m.get(this)}${e}`,_.surroundThirdByTryCatch(t,`at socketTask.on${e} callback function`))},C=(n=class{constructor(e,t){this.CONNECTING=0,this.OPEN=1,this.CLOSING=2,this.CLOSED=3;var r=this.CONNECTING;Object.defineProperty(this,"readyState",{get:()=>r,set:e=>{r=e},enumerable:!0,configurable:!0});var n,a=v++;m.set(this,a),b.set(this,t),Object.defineProperty(this,"__socketInstance__",{value:e,writable:!1,configurable:!1,enumerable:!1}),["success","fail","complete"].forEach((e=>{"function"==typeof t[e]&&(t[e]=_.surroundThirdByTryCatch(t[e],`at api connectSocket ${e} callback function`))})),w.set(this,Date.now()),(0,d.hj)(t.timeout)||(t.timeout=0);var o=t.forceCellularNetwork,s=()=>{var e=i()(i()({},t),{},{forceCellular:o});(0,p.IN)("createSocketTask",e,{beforeAll(e){e.errMsg=e.errMsg.replace("createSocketTask","connectSocket")},beforeSuccess:e=>{y.set(this,e.socketTaskId),I[e.socketTaskId]=this},beforeFail:e=>{var r=t.url,a=Date.now()-w.get(this),i=t.__skipDomainCheck__;n=e.errMsg,(0,l.P)("connectSocket",r,2,a,n,"",i,0,0,{},0,{},void 0,!0,e.errno)}}),n&&(this.readyState=this.CLOSED,setTimeout((()=>{S.emit(`${a}error`,{errMsg:n})}),0))},c=()=>{(0,d.mf)(t.customCheck)?t.customCheck(t,(e=>{e?((0,p.YG)("connectSocket",t,e),this.readyState=this.CLOSED,setTimeout((()=>{S.emit(`${a}error`,{errMsg:e})}),0)):s()})):s()};o?"boolean"!=typeof o?(console.warn("connectSocket argument forceCellularNetwork must be boolean but accept "+typeof o),o=!1,c()):(0,g.Nv)().then((e=>{e||(o=!1),c()})):c()}send(e){if(this.readyState===this.OPEN){var t=Date.now();(0,p.IN)("operateSocketTask",Object.assign({},e,{operationType:"send",socketTaskId:y.get(this)}),{beforeAll:r=>{if(r.errMsg=r.errMsg.replace("operateSocketTask","sendSocketMessage"),Math.random()>.99){var n=b.get(this).url,a=r.errMsg.indexOf("ok")>-1?1:2,i=Date.now()-t,o=r.errMsg,s=b.get(this).__skipDomainCheck__,c=(0,u.Y6)(e.data);(0,l.P)("sendSocketMessage",n,a,i,o,"",s,c)}}})}else(0,p.YG)("SocketTask.send",e,"SocketTask.readyState is not OPEN")}close(e={}){(0,p.IN)("operateSocketTask",Object.assign({code:1e3},e,{operationType:"close",socketTaskId:y.get(this)}),{beforeAll(e){e.errMsg=e.errMsg.replace("operateSocketTask","closeSocket")}})}onOpen(e){k.call(this,"open",e)}onClose(e){k.call(this,"close",e)}onMessage(e){k.call(this,"message",e)}onError(e){k.call(this,"error",e)}},s()(n.prototype,"send",[h.Qu],Object.getOwnPropertyDescriptor(n.prototype,"send"),n.prototype),s()(n.prototype,"close",[h.Qu],Object.getOwnPropertyDescriptor(n.prototype,"close"),n.prototype),n),T=r(9629),E=r(4833),A=r(5333),P=5;A.Z.onReady((()=>{A.Z.wxAppInfo&&A.Z.wxAppInfo.maxWebsocketConnect&&(P=A.Z.wxAppInfo.maxWebsocketConnect)}));var x=new WeakMap,M=new WeakMap,R=new WeakMap,D={},L=new c.Q,N=0,O=0;function B(e,t,r){t.errMsg=t.errMsg||"ok";var n="ok"===t.errMsg;(0,p.FE)({name:e,args:r,success:n,errMsg:t.errMsg})}class j{constructor(e,t){this.CONNECTING=0,this.OPEN=1,this.CLOSING=2,this.CLOSED=3;var r=this.CONNECTING;Object.defineProperty(this,"readyState",{get:()=>r,set:e=>{r=e},enumerable:!0,configurable:!0}),Object.defineProperty(this,"__socketInstance__",{value:e,writable:!1,configurable:!1,enumerable:!1});var n=T.Z.WSS,a=N++,i=t.workerId?new n(t.workerId):new n;delete t.workerId,x.set(this,t),M.set(this,i),R.set(this,a);var o=Date.now();i.onopen=(e,r)=>{this.readyState!==this.CLOSED&&((0,g.gA)(),O++,this.readyState=this.OPEN,L.emit(`${a}open`,{header:e,profile:r}),L.emit("onSocketOpen",{header:e,profile:r},this),(0,l.P)("connectSocket",t.url,1,Date.now()-o,"","",t.__skipDomainCheck__,0,0,r,0))},i.onclose=(e,t)=>{O--,this.readyState=this.CLOSED,L.emit(`${a}close`,{code:e,reason:t}),L.emit("onSocketClose",{code:e,reason:t},this)},i.onmessage=e=>{this.readyState!==this.CLOSED&&((0,d.eP)(e)&&(e.__proto__=ArrayBuffer.prototype),L.emit(`${a}message`,{data:e}),L.emit("onSocketMessage",{data:e},this))},i.onerror=(e,t)=>{O--,this.readyState=this.CLOSED,setTimeout((()=>{L.emit(`${a}error`,{errCode:e,errMsg:t}),L.emit("onSocketError",{errCode:e,errMsg:t},this)}),0)};var s=()=>{var e={errMsg:""};if(O>=P)this.readyState=this.CLOSED,e.errMsg=`fail reach max websocket connect count ${P}`;else{var r=(0,u.v7)(t,["url","header","timeout","protocols","tcpNoDelay","perMessageDeflate","enableProfile","forceCellularNetwork"]);r.forceCellularNetwork&&"boolean"==typeof r.forceCellularNetwork?(0,g.Nv)().then((n=>{n&&(r.forceCellular=!0),r.forceCellularNetwork=void 0,e.errMsg=i.connect(r),"string"==typeof e.errMsg&&""!==e.errMsg||(e.errMsg="ok"),e.errMsg,"ok"===e.errMsg&&(D[a]=this),B("connectSocket",e,t)})):(r.forceCellularNetwork&&"boolean"!=typeof r.forceCellularNetwork&&(console.warn("connectSocket argument forceCellularNetwork must be boolean but accept "+typeof r.forceCellularNetwork),r.forceCellularNetwork=void 0),e.errMsg=i.connect(r),"string"==typeof e.errMsg&&""!==e.errMsg||(e.errMsg="ok"),e.errMsg,"ok"===e.errMsg&&(D[a]=this),B("connectSocket",e,t))}};(0,d.mf)(t.customCheck)?t.customCheck(t,(e=>{e?B("connectSocket",{errMsg:e},t):s()})):(s(),(0,E.k)({api:"websocket",url:t.url}).then((e=>{if(t.url,!(t.__skipDomainCheck__||e.isInDomainList||e.isInLAN&&!e.isLocalHost))throw new Error("fail:url not in domain list")})).catch((e=>{this.readyState=this.CLOSED;var t=e.message||e.errMsg;L.emit(`${a}error`,{errMsg:t}),L.emit("onSocketError",{errMsg:t},this)})))}send(e={}){var t={errMsg:M.get(this).send(e.data)};(e.success||e.fail||e.complete)&&B("sendSocketMessage",t,e)}close(e={}){this.readyState,B("closeSocket",{errMsg:M.get(this).close((0,d.hj)(e.code)?e.code:1e3,e.reason)},e)}onOpen(e){L.on(`${R.get(this)}open`,_.surroundThirdByTryCatch(e,"at socketTask.onOpen callback function"))}onClose(e){L.on(`${R.get(this)}close`,_.surroundThirdByTryCatch(e,"at socketTask.onClose callback function"))}onMessage(e){L.on(`${R.get(this)}message`,_.surroundThirdByTryCatch(e,"at socketTask.onMessage callback function"))}onError(e){L.on(`${R.get(this)}error`,_.surroundThirdByTryCatch(e,"at socketTask.onError callback function"))}}var F=r(4275),U=r(4938),W=r(619),G=r(5722),V=r(8311),$=r(346),q=C,z=I;r.g.__isAppServiceRemoteDebugMode__||(0,T.a)((e=>{e.WSS&&A.Z.onReady((()=>{var t=!1,r=F.cj?"clicfg_appbrand_ios_native_socket_wcwss_new":1;1===r?t=!0:(0,U.b)({experimentId:r,experimentType:"Expt",success:e=>{e&&1===Number(e.testConfig)&&(t=!0)}});var n=(0,W.J)("bindingWebSocket");t||n||e.WSS.force?(q=j,z=D,(0,G.Tk)(/^connectSocket/,2),f.info(`binding socket, abtest: ${t}, permission: ${n}`)):f.info(`jsapi socket, abtest: ${t}, permission: ${n}`)}))}));var Z=new WeakMap,H={};function K(e,t){return H[t]||(H[t]=new WeakMap,S.on(`onSocket${t}`,J(t)),L.on(`onSocket${t}`,J(t))),function(r){(0,p.r3)(`onSocket${t}`,r,d.ZT)&&H[t].set(e,r)}}function J(e){return function(t,r){var n=r.__socketInstance__,a=H[e].get(n),i=Z.get(n);a&&r===i&&_.surroundThirdByTryCatch(a,`at onSocket${e} callback function`)(t)}}var Y=(e={})=>{e=Object.assign({__skipDomainCheck__:!1},e);var t={};return{connectSocket(r){var{workerId:n}=r;if(delete r.workerId,(0,p.r3)("connectSocket",r,{url:""}))if(!1!==(0,$.mQ)(r.url,"websocket")){"object"!=typeof r.header&&void 0!==r.header&&delete r.header;var a={};r.header&&(a=(0,V.Nf)(r.header)),r.__skipDomainCheck__=e.__skipDomainCheck__;try{var o=Z.get(t),s=new q(t,Object.assign({},r,i()({header:a},n?{workerId:n}:{})));return o&&o.readyState!==o.CLOSED?o.readyState:Z.set(t,s),s}catch(e){return e.message,void(0,p.YG)("connectSocket",r,e.message)}}else(0,p.YG)("connectSocket",r,`invalid url "${r.url}"`)},closeSocket(e){var r=Z.get(t);for(var n in r&&r.readyState!==r.CLOSED?(r.readyState=r.CLOSED,r.close(e)):(0,p.YG)("closeSocket",e,"WebSocket is not connected"),z){var a=z[n];a.__socketInstance__===t&&(a.readyState=a.CLOSED,a!==r&&a.close())}},sendSocketMessage(e){var r=Z.get(t);r&&r.readyState===r.OPEN?r.send(e):(0,p.YG)("sendSocketMessage",e,"WebSocket is not connected")},onSocketOpen:K(t,"Open"),onSocketClose:K(t,"Close"),onSocketMessage:K(t,"Message"),onSocketError:K(t,"Error")}},Q=Y(),X=()=>Y({__skipDomainCheck__:!0})},1632:(e,t,r)=>{"use strict";r.d(t,{o:()=>x,b:()=>F});var n=r(4318),a=r(2679),i=r(1702),o=r(9011),s=r(7023),c=r(7146);var l=r(9628),u=r(4275),d=r(4786),p=(0,o.Fr)(c.lz),h=0,g=new WeakMap,v=new WeakMap,m=new WeakMap,y=new WeakMap,b=new WeakMap,_=new WeakMap,w=new WeakMap,I=new WeakMap,S=new WeakMap,k=new WeakMap,C=new WeakMap,T={},E=new i.Q("Network",!0),A=f.createLogger("NetworkTask"),P=new WeakMap;class x{constructor(e,{taskType:t,beforeSend:r,beforeSuccess:n,beforeFail:a}){var i=h++;this.uniqueId=(0,d.M8)(),g.set(this,i),m.set(this,"waiting"),y.set(this,e),b.set(this,t),I.set(this,r),S.set(this,n),(0,s.mf)(a)&&k.set(this,a);var o,c,p=!1;((e=>{if(u.jP)return!0;if(!u.wZ)return!1;switch(e){case"Download":case"Request":return!0;default:return!1}})(t)||(u.cj||u.wZ)&&e.forceCellularNetwork)&&(p=!0),C.set(this,p);var f=new l.Q(((e,t)=>{o=e,c=t}));P.set(this,{promise:f,resolve:o,reject:c});var v=()=>{B.call(this)?(w.set(this,[Date.now()]),T[t].taskQueue.push({id:i,item:this})):R.call(this)};(0,s.mf)(e.customCheck)?e.customCheck(e,(r=>{r?M(t,e,r):v()})):v()}abort(){if(A.info(`[${b.get(this)}][${g.get(this)}]abort()`),"waiting"===m.get(this)){A.info(`[${b.get(this)}][${g.get(this)}] waiting=true`);var e=T[b.get(this)].taskQueue.findIndex((e=>e.id===g.get(this)));e>-1&&(T[b.get(this)].taskQueue.splice(e,1),(0,n.YG)(T[b.get(this)].functionName,y.get(this),"abort")),m.set(this,"done")}else{P.get(this).promise.then((()=>{(0,n.IN)(`operate${b.get(this)}Task`,{[`${b.get(this).toLowerCase()}TaskId`]:v.get(this),operationType:"abort"})}))}}onProgressUpdate(e){P.get(this).promise.then((()=>{E.on(`${b.get(this)}${v.get(this)}progressUpdate`,e)}))}offProgressUpdate(e){P.get(this).promise.then((()=>{E.off(`${b.get(this)}${v.get(this)}progressUpdate`,e)}))}onHeadersReceived(e){P.get(this).promise.then((()=>{E.on(`${b.get(this)}${v.get(this)}headersReceived`,e)}))}offHeadersReceived(e){P.get(this).promise.then((()=>{E.off(`${b.get(this)}${v.get(this)}headersReceived`,e)}))}onChunkReceived(e){P.get(this).promise.then((()=>{E.on(`${b.get(this)}${v.get(this)}chunked`,e)}))}offChunkReceived(e){P.get(this).promise.then((()=>{E.off(`${b.get(this)}${v.get(this)}chunked`,e)}))}}function M(e,t,r){(0,n.FE)({name:T[e].functionName,args:{success:t.success,fail:t.fail,complete:t.complete},success:!1,errMsg:r})}function R(){var e=y.get(this),t=b.get(this),r=C.get(this);m.set(this,"sending"),_.set(this,Date.now());var n=D.call(this);if(r){var i=P.get(this).promise;return(0,a.P)(T[t].functionName,e.url,null,0,null,null,e.__skipDomainCheck__,null,null,{},null,{},this.uniqueId,!1),void i.then((()=>{L.call(this)})).catch((r=>{M(t,e,r)}))}n?M(t,e,n):v.get(this)?L.call(this):P.get(this).promise.then((()=>{L.call(this)}));(0,a.P)(T[t].functionName,e.url,null,0,null,null,e.__skipDomainCheck__,null,null,{},null,{},this.uniqueId,!1)}function D(){var e=b.get(this),t=y.get(this);T[e].currentTaskCount++;var r,a=t.url,i=t.host,o=t.port;if(!!t.ip){var c,l=a;l.startsWith("http://")?(l=l.slice(7),c="http://"):l.startsWith("https://")&&(l=l.slice(8),c="https://");var d=l.indexOf(":");if(-1!==d){i=l.slice(0,d);var p=l.indexOf("/");-1===p?o=l.slice(d+1):(o=l.slice(d+1,p),a=c+(a=l.slice(0,d)+l.slice(p))),o=Number(o)}}var f={data:t.data,url:a,header:t.header,method:t.method,timeout:(0,s.hj)(t.timeout)?t.timeout:0,enableHttp2:!!(0,s.jn)(t.enableHttp2)&&t.enableHttp2,enableQuic:!!(0,s.jn)(t.enableQuic)&&t.enableQuic,enableCache:!!(0,s.jn)(t.enableCache)&&t.enableCache,enableProfile:!(0,s.jn)(t.enableProfile)||t.enableProfile,ip:t.ip,port:o,forbidReuse:!!(0,s.jn)(t.forbidReuse)&&t.forbidReuse,host:i,enableChunked:t.enableChunked,__skipDomainCheck__:t.__skipDomainCheck__,forceCellular:t.forceCellularNetwork,success:t=>{var r=t[`${e.toLowerCase()}TaskId`];v.set(this,r),T[e].taskIdMap[r]=this,(0,P.get(this).resolve)()},fail:n=>{T[e].currentTaskCount--;var a=n[`${e.toLowerCase()}TaskId`];r=n.errMsg,N.call(this,{taskType:e,options:t,errMsg:r,success:!1}),(0,P.get(this).reject)(r),A.error(`[${e}][createTask][Fail] taskId=${a}`)},complete:()=>{m.set(this,"done")}},h=C.get(this),g=`create${e}Task${h?"Async":""}`;return(u.cj||u.wZ)&&t.forceCellularNetwork&&(g="createCellularNetworkRequestTaskAsync"),(0,n.IN)(g,I.get(this)(f)),r}function L(){var e=v.get(this),t=y.get(this),r=b.get(this),a=T[r].functionName;E.on(`${r}${e}success`,(e=>{S.get(this).call(this,e),(0,n.FE)({name:a,args:{success:t.success,fail:t.fail,complete:t.complete},res:e})})),E.on(`${r}${e}fail`,(e=>{var r=k.get(this),i=r&&r.call(this,e);if(i&&i.__retry__)f.info(`httpDns we retry url: ${t.url}`);else{i&&i.__changeError__&&(e=i.__changeError__);var o={name:a,args:{success:t.success,fail:t.fail,complete:t.complete},success:!1,errMsg:e.errMsg};e.errno&&(o.errno=e.errno),(0,n.FE)(o)}}))}function N({taskType:e,options:t,errMsg:r,success:n=!0,dataLength:i=0,statusCode:o="",responseDataLength:s=0,profile:c={},queueTime:l,uniqueId:u,errno:d}){var p=t.url,f=n?1:2,h=Date.now()-_.get(this),g=t.__skipDomainCheck__;h>=6e4&&A.error(`reportTask costTime too long: ${h}ms, taskId=${v.get(this)}`),(0,a.P)(T[e].functionName,p,f,h,r,o,g,i,s,c,l,{},u,!0,d)}function O(e,t){var r,n=`${t.toLowerCase()}TaskId`,a=e[n],{state:i,header:s}=e;if(delete e.state,delete e[n],"chunked"!==i&&(e.cookies=s&&(r=s["Set-Cookie"]||s["set-cookie"])?Array.isArray(r)?r:r.split(",").reduce(((e,t)=>(/^\s*\S+=/.test(t)?e.push(t):e.length&&(e[e.length-1]+=t),e)),[]).map((e=>e.trim())):[]),E.emit(`${t}${a}${i}`,e),"success"===i||"fail"===i){var c=T[t].taskIdMap[a],l=y.get(c);if(!c)return;if(T[t].currentTaskCount-=1,T[t].taskQueue.length>0){var u=T[t].taskQueue.shift().item,d=w.get(u);if(d&&d[0]){var f=d[0];if(f>0){var h=Date.now()-f;w.set(u,[f,h])}}R.call(u)}var g=Promise.resolve((0,o.Y6)(l.data));if("Upload"===t){var v=0;"object"==typeof l.formData&&null!==l.formData&&(v=JSON.stringify(l.formData).length),g=p({path:l.filePath}).then((e=>v+e.stats.size)).catch((()=>v))}var m=Promise.resolve((0,o.Y6)(e.data));if("Download"===t){var b=e.dataLength;m="number"==typeof b?Promise.resolve(b):p({path:e.filePath||e.tempFilePath||""}).then((e=>e.stats.size)).catch((()=>0))}Promise.all([g,m]).then((([r,n])=>{var a=w.get(c);N.call(c,{taskType:t,options:l,errMsg:e.errMsg,statusCode:e.statusCode,success:"success"===i,dataLength:r,responseDataLength:n,profile:e.profile,queueTime:a&&a[1],uniqueId:c.uniqueId,errno:e.errno}),w.delete(c)})),j.call(c)}}function B(){var e=b.get(this);return T[e].currentTaskCount>=T[e].maxTaskCount}function j(){var e=b.get(this),t=v.get(this);delete T[e].taskIdMap[t],E.removeAllListeners(`${e}${t}success`),E.removeAllListeners(`${e}${t}fail`),E.removeAllListeners(`${e}${t}complete`)}function F(e,t){var r=T[e]?T[e]:{currentTaskCount:0,maxTaskCount:10,taskQueue:[],functionName:"",taskIdMap:{}};(0,n.jQ)(`on${e}TaskStateChange`,(t=>{O.call(this,t,e)})),T[e]=Object.assign(r,t)}},1635:(e,t,r)=>{"use strict";r.d(t,{O:()=>d,c:()=>u});var n=r(4318),a=r(8311),i=r(1632),o=r(5333);(0,i.b)("Upload",{maxTaskCount:10,functionName:"uploadFile"}),o.Z.onReady((()=>{try{"number"==typeof o.Z.wxAppInfo.maxUploadConcurrent&&(0,i.b)("Upload",{maxTaskCount:o.Z.wxAppInfo.maxUploadConcurrent})}catch(e){}}));class s extends i.o{constructor(e){super(e,{taskType:"Upload",beforeSend:t=>(t.filePath=e.filePath,t.name=e.name,t.formData=e.formData,t),beforeSuccess:e=>e})}}var c=s,l=(e={})=>(e=Object.assign({__skipDomainCheck__:!1},e),(t={})=>{if((0,n.r3)("uploadFile",t,{url:"",filePath:"",name:""})){"object"!=typeof t.header&&void 0!==t.header&&(console.warn("uploadFile: header must be an object"),delete t.header),"object"!=typeof t.formData&&void 0!==t.formData&&(console.warn("uploadFile: formData must be an object"),delete t.formData);var r={},i={};t.header&&(r=(0,a.Nf)(t.header)),t.formData&&(i=(0,a.Nf)(t.formData));try{return new c(Object.assign({},t,{header:r,formData:i,__skipDomainCheck__:e.__skipDomainCheck__}))}catch(e){return void(0,n.YG)("uploadFile",t,e.message)}}}),u=l(),d=l({__skipDomainCheck__:!0})},5737:(e,t,r)=>{"use strict";r.d(t,{N:()=>p,e:()=>f});var n=r(4318),a=r(5333),i=r(5042),o=r(9011),s=r(9789),c=(e={},t={})=>{if((0,n.r3)("getUserProfile",e,{desc:""})){var r=e.desc.replace(/[^\x00-\xff]/g,"##").length;if(r>30||r<2)(0,n.YG)("getUserProfile",e,"desc length does not meet the requirements");else{var i=!0===(0,o.KU)("getUserProfile")||"unknown"===(0,o.KU)("getUserProfile"),{success:c,fail:l}=(0,n.Rn)(e,"getUserProfile"),u={lang:e.lang||"en",desc:e.desc};2===e.mode&&(u.get_profile_mode=2),u.version=a.Z.SDKVersion,((e={})=>{e.keyPath="WxaAppVersionInfo.AppVersion",(0,n.IN)("getAppContact",e)})({success(e){var t=JSON.parse(e.data);u.app_version=t},complete(){(0,n.yD)({sdkApiName:"getUserProfile",apiName:"webapi_getuserprofile",withCredentials:"boolean"!=typeof e.withCredentials||e.withCredentials,showConfirm:i,reqData:u,pluginId:undefined,success:e=>{var{cloudID:t,encryptedData:r,iv:n,signature:a,data:i}=e;c({cloudID:t,encryptedData:r,iv:n,signature:a,userInfo:i,rawData:JSON.stringify(e.data)}),null!=i&&i.is_demote||setTimeout((()=>(0,s.$J)("","wx.getUserProfile")))},fail:e=>{e.errMsg=e.errMsg.replace(/fail:scope unauthorized|fail auth denied/,"fail auth deny"),l(e)},complete:()=>{"function"==typeof t.afterAll&&t.afterAll()}})}})}}},l=(e={})=>{var t=(0,n.TG)("confirmAvatarInfo","webapi_confirmuseravatarinfo",(e=>e),(e=>{try{e.userInfo=e.rawDataObject,Object.keys(e.userInfo).forEach((t=>{delete e[t]})),e.rawData=JSON.stringify(e.userInfo)}catch(e){}}));t(e)},u=null,d=!1,p=(e={})=>{if(d)return console.error("invoke wx.getUserProfile too frequently");if((0,n.r3)("getUserProfile",e,{desc:""})){var t=e.desc.replace(/[^\x00-\xff]/g,"##").length;if(t>30||t<2)(0,n.YG)("getUserProfile",e,"desc length does not meet the requirements");else{var r=a.Z.accountInfo.nickname,o=a.Z.accountInfo.icon||"https://res.wx.qq.com/op_res/yytAZD8UVkSQiY3p1COF23jOcEEUXzIgkoz1dEMh7AaDptVrldnHP_Vw24igHeMwpbwo-RRtTJ-_9hk9BBDqHQ";d=!0,((e={})=>{(0,n.TG)("getUserAvatarInfo","webapi_getuseravatarpopupinfo")(e)})({success(t){if(t&&t.avatar_info){var a="number"==typeof e.showType?e.showType:t.show_type,s="string"==typeof e.wording?e.wording:"",p=t.avatar_info.is_ban_modify_avatar,f=t.avatar_info.default_headimg_url,h=t.avatar_info.default_headimg_fileid,g=t.avatar_info.default_avatar_id,v=(t.avatar_info.avatar_list||[]).map((e=>({id:e.id,avatar:e.avatarurl,nickname:e.nickname,desc:e.desc||""}))),m=t.avatar_info.avatar_limit;if(0!==a){if(d=!1,1===a){m+=1;var y={id:-100,avatar:f,nickname:"微信用户",desc:"临时头像昵称"};v.splice(1,0,y)}var b=JSON.stringify({appName:r,appIcon:o,infoList:v,showType:a,selected:g,limit:m,isBanModifyAvatar:p,wording:s}),_=(0,i.vJ)((e=>{[i.ML.BottomBackButton,i.ML.NavigationBackInterceptionType,i.ML.NavigateBackCall].includes(e.type)&&u&&u.handleCancel()}));__sclEngine__.initScl((t=>{(u=t.mainRoot.append("user-profile",{input:b})).addListener("confirm",(t=>{(0,i.J_)(_),l({avatar_id:t.detail.selected,opt:1,lang:e.lang||"en",success(r){e.__requireId__&&(r.avatarId=t.detail.selected),(0,n.FE)({name:"getUserProfile",args:e,res:r})},fail(){(0,n.YG)("getUserProfile",e,"confirmAvatarInfo fail")},complete(e){console.log("[user-profile] confirmAvatarInfo: ",e)}}),u=null})),u.addListener("cancel",(()=>{(0,i.J_)(_),(0,n.YG)("getUserProfile",e,"cancel"),l({avatar_id:-100,opt:2,lang:e.lang||"en",complete(e){console.log("[user-profile] confirmAvatarInfo: ",e)}}),u=null})),u.addListener("create",(()=>{((e={})=>{(0,n.IN)("createVestUser",e,{beforeSuccess(e){e.userInfo&&(e.userInfo.avatar=e.userInfo.headImg,e.userInfo.desc=e.userInfo.desc||"",delete e.userInfo.headImg)}})})({sessionId:Math.floor(Date.now()/1e3),defaultAvatarUrl:f,defaultAvatarFileId:h,complete(e){e.userInfo&&(v.push(e.userInfo),console.log("[user-profile] createVestUser: ",e,v),u.setData({infoList:v})),u.setData({hide:!1})}})}))}))}else c(e,{afterAll:()=>d=!1})}else(0,n.YG)("getUserProfile",e,"getUserAvatarInfo fail")},fail(){d=!1,(0,n.YG)("getUserProfile",e,"getUserAvatarInfo fail")}})}}},f=(e={})=>{p(Object.assign({},e,{__requireId__:!1}))}},4141:(e,t,r)=>{"use strict";r.d(t,{s:()=>c,y:()=>s});var n=r(4318),a=r(5333),i=(0,n.TG)("reportUserBehaviorBranchAnalytics","webapi_reportbranchanalytics",(({branchId:e,branchDim:t,eventType:r})=>({itemList:[{branchId:e,branchDim:t,eventType:r}]}))),o=(0,n.TG)("reportUserBehaviorBranchAnalyticsForDebug","webapi_reportbranchanalyticsfordebugtool",(({branchId:e,branchDim:t,reportType:r,query:n})=>({itemList:[{branchId:e,branchDim:t,reportType:r,query:n}]})));function s(e={}){"release"!==a.Z.envVersion&&o(e)}function c(e={}){"string"!=typeof e.branchId?(0,n.YG)("reportUserBehaviorBranchAnalytics",e,"branchId must be a string"):e.branchDim&&"string"!=typeof e.branchDim?(0,n.YG)("reportUserBehaviorBranchAnalytics",e,"branchDim is an optional string"):1!==e.eventType&&2!==e.eventType?(0,n.YG)("reportUserBehaviorBranchAnalytics",e,"eventType must be 1 or 2"):(i(e),s({branchId:e.branchId,branchDim:e.branchDim,reportType:e.eventType}))}},7997:(e,t,r)=>{"use strict";r.d(t,{a:()=>i,s:()=>a});var n=r(4318),a=(e={})=>{(0,n.IN)("openSetting",e,{beforeSuccess(e){var t=e.authSetting||[];if(e.authSetting=t.reduce(((e,t)=>(e[t.scope]=1===t.state,e)),{}),e.subscriptionsSetting){var r={};if(r.mainSwitch=e.subscriptionsSetting.mainSwitch,e.subscriptionsSetting.templatesInfo){var n=e.subscriptionsSetting.templatesInfo;r.itemSettings=n.reduce(((e,t)=>{var r={2116:"SYS_MSG_TYPE_INTERACTIVE",4668:"SYS_MSG_TYPE_RANK"}[t.tid],n={"-1":"ban",0:"reject",1:"accept"};return r?e[r]=n[t.status]:(e[t.templateId]=n[t.status],t.acceptAudio&&(e[t.templateId]="acceptWithAudio")),e}),{})}e.subscriptionsSetting=r}}})},i=(e={})=>{a(e)}},5489:(e,t,r)=>{"use strict";r.d(t,{D:()=>i,r:()=>o});var n={SYS_MSG_TYPE_INTERACTIVE:1,SYS_MSG_TYPE_RANK:2,SYS_MSG_TYPE_PRIVATE_CHAT:3},a=function(e){var t={};for(var r in e)t[e[r]]=r;return t}(n);function i(e){return n[e]}function o(e){return a[e]}},3374:(e,t,r)=>{"use strict";var n=r(8311),a={},i={lastShareTicket:null,get:e=>a[e],set(e,t){var r=(0,n.M8)();return a[r]={shareKey:e,shareName:t},r}};t.Z=i},7744:(e,t,r)=>{"use strict";r.d(t,{M:()=>a,w:()=>i});var n=[];function a(e,t){n.forEach((r=>{try{r(e,t)}catch(e){console.error(e)}}))}function i(e){n.push(e)}},3950:(e,t,r)=>{"use strict";r.d(t,{l:()=>o});var n=r(4318),a=r(100),i=(0,n.TG)("getFriendCloudStorage","webapi_getfrienduserstorage",(({keyList:e=[]})=>({key:e})),(e=>(e.user_item=e.user_item?e.user_item:[],e.data=e.user_item.map((e=>(e.KVDataList=e.kv_list||[],delete e.kv_list,e))),delete e.user_item,e))),o=(e={})=>{var t=(0,a.M)(e.keyList);t?(0,n.YG)("getFriendCloudStorage",e,t):i(e)}},5738:(e,t,r)=>{"use strict";r.d(t,{q:()=>s});var n=r(3374),a=r(4318),i=r(100),o=(0,a.TG)("getGroupCloudStorage","webapi_getgroupuserstorage",(({keyList:e=[],shareTicket:t})=>{var r=n.Z.get(t),{shareKey:a,shareName:i}=r;return{key:e,share_key:a,share_name:i}}),(e=>(e.user_item=e.user_item?e.user_item:[],e.data=e.user_item.map((e=>(e.KVDataList=e.kv_list||[],delete e.kv_list,e))),delete e.user_item,e))),s=e=>{var t=(0,i.M)(e.keyList);t?(0,a.YG)("getGroupCloudStorage",e,t):setTimeout((()=>{e.shareTicket?n.Z.get(e.shareTicket)?o(e):(0,a.YG)("getGroupCloudStorage",e,"参数 shareTicket 不正确"):n.Z.lastShareTicket&&n.Z.get(n.Z.lastShareTicket)?o(Object.assign({shareTicket:n.Z.lastShareTicket},e)):(0,a.YG)("getGroupCloudStorage",e,"当前小程序不是从群分享卡片打开")}),1e3/60)}},6509:(e,t,r)=>{"use strict";r.d(t,{y:()=>i});var n=r(4318),a=(0,n.TG)("getGroupInfo","webapi_getshareinfo_byopengid",(({openGId:e})=>({opengid_list:[e]})),(e=>(e.name=e.info_list[0].room_topic,delete e.info_list,e)));function i(e){setTimeout((()=>{a(Object.assign({},e,{success:t=>(0,n.FE)({args:e,res:t,name:"getGroupInfo",success:!!t.name,errMsg:t.name?"":"invalid openGId"})}))}))}},557:(e,t,r)=>{"use strict";r.d(t,{e:()=>n});var n=(0,r(4318).TG)("getPotentialFriendList","webapi_game_potential_friends",(()=>{}),(e=>(e.list=e.friend_list,delete e.friend_list,e)))},3249:(e,t,r)=>{"use strict";r.d(t,{u:()=>o});var n=r(100),a=r(4318),i=(0,a.TG)("getUserCloudStorage","webapi_getselfuserstorage",(({keyList:e=[]})=>({key:e})),(e=>(e.KVDataList=e.kv_list||[],delete e.kv_list,e))),o=e=>{var t=(0,n.M)(e.keyList);t?(0,a.YG)("getUserCloudStorage",e,t):i(e)}},6104:(e,t,r)=>{"use strict";r.d(t,{r:()=>n});var n=(0,r(4318).TG)("getUserCloudStorageKeys","webapi_getuserstorageallappkey",(()=>{}),(e=>(e.keys=e.data_key,delete e.data_key,e)))},8940:(e,t,r)=>{"use strict";r.d(t,{b:()=>i});var n=r(4318),a="getUserInfo",i=({openIdList:e=[],lang:t="en",success:r,fail:i,complete:o}={})=>{var{success:s,fail:c}=(0,n.Rn)({success:r,fail:i,complete:o},a);(0,n.yD)({sdkApiName:a,apiName:"webapi_getuserinfo_byopenid",reqData:{openIdList:e,lang:t},success:e=>{s({data:e.data.userInfoList||[]})},fail:c})}},2099:(e,t,r)=>{"use strict";r.d(t,{$X:()=>k,Fc:()=>I,U7:()=>S});var n=r(1702),a=r(5517),i=r(2598),o=r(4318),s=r(5333),c=r(8940),l=r(9011),u=r(7023),d=r(3752),p=r(5739),f=r(1590),h=new n.Q("InteractiveStorageModified",!0),g={add:1},v=(0,l.Fr)(c.b);var m=({actionId:e,actId:t=0,receiverOpenId:r,detail:n,opNum:a=0,operationType:i=0})=>{var o=[e,t,0,n,a,i,r].join(",");w.reportKeyValue({key:"GameInteractiveData",value:o})},y=e=>{w.reportIDKey({key:e})},b=(0,o.TG)("modifyFriendInteractiveStorage","webapi_modifyfriendinteractivedata",(({key:e,operation:t,opNum:r,toUser:n,debug:a,action:i,object:o,ratio:s,quiet:c})=>({key:e,operation:t,debug:a,opNum:r,toUser:n,action:i,object:o,ratio:s,quiet:!!c,op_num:r,to_user:n,random_number:Date.now(),randomNumber:Date.now()})),(e=>{var t,r,{json_resp:n,inner_errcode:a,inner_errmsg:i}=e,o="modifyFriendInteractiveStorage:fail ";e.errMsg,delete e.json_resp,delete e.inner_errcode,delete e.inner_errmsg;try{t=JSON.parse(n)}catch(e){t={},e.message}if((r=t.log)&&r.split("\n").map(decodeURIComponent).forEach((e=>{var t=parseInt(e.substr(0,1),10),r=`[JSServer]${e.substr(1)}`;switch(t){case d.pO.LOG:console.log(r);break;case d.pO.WARNING:console.warn(r);break;case d.pO.ERROR:console.error(r)}})),!(0,u.o8)(a)&&0!==a)return e.errMsg=`${o}${i}`,void(e.errCode=a);try{var s=JSON.parse(t.base_resp);if(0!==s.errcode)return e.errCode=s.errmsg,void(e.errMsg=`${o}${s.errmsg}`);e.errCode=0}catch(t){e.errCode=-1,e.errMsg=`${o}${t.message}`,t.message}})),_=new Set,I=e=>{y("modifyFriendInteractiveStorage");var t=Object.assign({},e,{success:t=>{(0,o.FE)({res:t,args:e,name:"modifyFriendInteractiveStorage",success:0===t.errCode,errCode:t.errCode,errMsg:t.errMsg}),t.errCode||h.emit("modified",`${e.key}`)}});t.quiet?(e=>{var t=(0,f.x9)(),r=(0,p.A)();!r&&t&&t.referrerInfo&&(r=t.referrerInfo.messageExtraData),r&&3===r.shareType&&r.userInfo?_.has(r.userInfo.openID)?(0,o.YG)("modifyFriendInteractiveStorage",e,"quiet modify can only be use once"):(_.add(r.userInfo.openID),b(Object.assign(e,{toUser:r.userInfo.openID}))):(0,o.YG)("modifyFriendInteractiveStorage",e,"game is not launch by click share card")})(t):t.toUser?s.Z.modifyFriendInteractiveStorageTemplates?(e=>{v({openIdList:[e.toUser]}).then((t=>{var r,n,a,{nickName:c}=t.data[0],l=parseInt(e.key,10),u=e.toUser,d=e.opNum,f=g[e.operation];for(a of s.Z.modifyFriendInteractiveStorageTemplates)if(a.key===e.key){var h=a.ratio?` x${d*a.ratio} ？`:"？";r=`确认${a.action} ${c} ${a.object}${h}`,n=encodeURIComponent(r);break}if(!r)throw new Error("invalid key");var v={actId:l,receiverOpenId:u,detail:n,opNum:d,operationType:f};m(Object.assign({actionId:1},v)),y("modifyFriendInteractiveStorageShowModal");var _=(0,i.U)({content:r,title:`${a.action}${a.object}`,confirmText:`确认${a.action}`,confirm(){_.destroy(),b(Object.assign({action:a.action,object:a.object,ratio:a.ratio},e,{success:t=>{if(e.success&&e.success(t),!t.errCode)var r="string"==typeof e.title,n=(0,i.U)({title:`${a.action}${a.object}`,icon:!0,content:r?`已${a.action}，马上告诉微信好友？`:`已${a.action}`,cancelText:r?"下次吧":"我知道了",confirmText:!!r&&"告诉他",cancel(){n.destroy()},confirm(){n.destroy(),(0,p.N)({openId:u,title:e.title,imageUrl:e.imageUrl,imageUrlId:e.imageUrlId})}})}})),m(Object.assign({actionId:2},v)),y("modifyFriendInteractiveStorageConfirm")},cancel(){_.destroy(),(0,o.YG)("modifyFriendInteractiveStorage",e,"cancel"),m(Object.assign({actionId:3},v)),y("modifyFriendInteractiveStorageCancel")}})})).catch((({errMsg:t,message:r})=>{(0,o.YG)("modifyFriendInteractiveStorage",e,t||r)}))})(t):s.Z.modifyFriendInteractiveStorageConfirmWording?(e=>{v({openIdList:[e.toUser]}).then((t=>{var{nickName:r}=t.data[0],n=s.Z.modifyFriendInteractiveStorageConfirmWording.replace("${nickname}",r),i={actId:parseInt(e.key,10),receiverOpenId:e.toUser,detail:encodeURIComponent(n),opNum:e.opNum,operationType:g[e.operation]};m(Object.assign({actionId:1},i)),y("modifyFriendInteractiveStorageShowModal"),(0,a._showModal)({content:n,confirmText:"确定",cancelText:"取消",success(t){t.confirm?(b(e),m(Object.assign({actionId:2},i)),y("modifyFriendInteractiveStorageConfirm")):((0,o.YG)("modifyFriendInteractiveStorage",e,"cancel"),m(Object.assign({actionId:3},i)),y("modifyFriendInteractiveStorageCancel"))}})})).catch((({errMsg:t})=>{(0,o.YG)("modifyFriendInteractiveStorage",e,t)}))})(t):(0,o.YG)("modifyFriendInteractiveStorage",e,"invalid modifyFriendInteractiveStorage config in game.json"):(0,o.YG)("modifyFriendInteractiveStorage",e,"toUser is required without quiet")},S=e=>{h.on("modified",e)},k=e=>{h.off("modified",e)}},5739:(e,t,r)=>{"use strict";r.d(t,{A:()=>n.A5,N:()=>o});var n=r(7559),a=r(3339),i=r(5333);function o(e={}){var t={openId:e.openId,title:e.title||i.Z.accountInfo.nickname,imageUrl:e.imageUrl,imageUrlId:e.imageUrlId,success:e.success,fail:e.fail,complete:e.complete};t.query=(0,a.k)(),(0,n.HP)(t,"shareAppMessageToSpecificContactDirectly")}},100:(e,t,r)=>{"use strict";function n(e){if(!Array.isArray(e)||e.some((e=>"string"!=typeof e||0===e.length)))return"invalid keyList"}r.d(t,{M:()=>n})},1409:(e,t,r)=>{"use strict";r.d(t,{Ks:()=>c,Ft:()=>o,LN:()=>s});var n=r(5333),a=r(4275);function i(e){var t,r=!1;return function(){return r||(t=e(),r=!0),t}}i((()=>{var e=!1;return(a.cj||a.wZ&&n.Z.clientVersion>=637865520)&&(e=!0),e}));var o=i((()=>{var e=!1;return a.cj&&n.Z.clientVersion>=385877248&&(e=!0),e})),s=i((()=>{var e=!1;return a.cj&&n.Z.clientVersion>=385878314&&(e=!0),e})),c=i((()=>{var e=!1;return a.cj&&n.Z.clientVersion>=402655232&&n.Z.clientVersion<=402655487&&(e=!0),e}))},2791:(e,t,r)=>{"use strict";r.d(t,{P0:()=>d,dx:()=>p,nw:()=>l});var n,a=r(4318),i=r(619),o=r(4275),s=r(5333),c=r(4770),l=(e={})=>{(0,a.IN)("navigateBackApplication",e,{})},u={};s.Z.onReady((()=>{n=s.Z.appLaunchInfo.scene,Object.assign(u,s.Z.appLaunchInfo),(0,c.n)("onAppEnterForeground",(e=>{Object.assign(u,e)}))}));var d=(e={})=>{var{launchAppid:t}=e;t&&"string"==typeof t?(0,a.yD)({apiName:"wxaapi_verify_jump",reqData:{appid:t},success:r=>{if("ok"===r.data.res){(0,a.IN)("launchApplication",Object.assign(e,{appId:t,operateDirectly:!0}));var i=[n,encodeURIComponent(u.scene_note||u.sceneNote),y&&y.getCurrentRoutePath(),e.alertType,e.parameter,s.Z.appType+1e3,e.appId].map(encodeURIComponent).join(",");w.reportKeyValue({key:"LaunchApplicationInfo",value:i,force:!0})}else(0,a.YG)("launchApplication",e,"no permission")},fail:()=>{(0,a.YG)("launchApplication",e,"no permission")}}):(delete e.operateDirectly,(0,a.IN)("launchApplication",e,{}))},p=(e={})=>{(0,i.J)("plugin_launchApplicationDirectly_operateDirectly")||delete e.operateDirectly,o.cj?(0,i.J)("launchApplicationDirectly")?(0,a.IN)("launchApplication",e,{beforeAll:e=>{e.errMsg=e.errMsg.replace("launchApplication","launchApplicationDirectly")}}):setTimeout((()=>(0,a.YG)("launchApplicationDirectly",e,"no permission"))):(0,a.IN)("launchApplicationDirectly",e,{})}},1913:(e,t,r)=>{"use strict";r.d(t,{HK:()=>i});var n=r(4318),a=(0,r(5358).s)("exitMiniProgram"),i=(a.internalOnMethod,(e={})=>{(0,n.IN)("exitMiniProgram",e,{beforeSuccess(){a.emit()}})})},9323:(e,t,r)=>{"use strict";r.d(t,{HK:()=>a.HK,iy:()=>n.iy,ow:()=>n.ow});var n=r(1904),a=r(1913)},7063:(e,t,r)=>{"use strict";r.d(t,{B7:()=>c,Hk:()=>o,ZB:()=>s});r(1625);var n=r(7584),a=!1,i=0;(0,n.J)((()=>{i=0,a=!1}));var o=()=>{i=Date.now(),a=!0},s=()=>a,c=()=>i},1904:(e,t,r)=>{"use strict";r.d(t,{iy:()=>M,ow:()=>Z});var n,a=r(9097),i=r.n(a),o=r(3888),s=r.n(o),c=r(4318),l=r(346),u=r(7092),d=r(7789),p=r(5333),h=r(9011),g=r(4275),v=r(619),m=r(4938),y=r(5042),b=r(9190),_=r(4208),I=r(8013),S=r(5517),k=r(868),C=r(8405),T=r(5543),E=r(7063),A=r(4786),P=(0,b.Vl)(c.yD),x=function(){var e=s()((function*(e={},t={},r={}){f.info(`[__doNavigateToMiniProgram], args=${JSON.stringify(e)}, privateArgs=${JSON.stringify(t)}, ext=${JSON.stringify(r)}`);var n=Object.assign({},e);delete n.sourcetype,delete n.preScene,delete n.preSceneNote,delete n.mode,(0,g.tK)()||(delete n.scene,delete n.sceneNote);var a=(0,u.KL)();a?(n.privateExtraData=n.privateExtraData||{},n.privateExtraData.cookies=a):n.privateExtraData&&delete n.privateExtraData.cookies;var i=Object.assign({},n,t);return"string"==typeof i.path&&i.path.trim().length>0?i.path=(0,l.Pp)(i.path).trim():i.path=void 0,i.halfPage=Object.assign({},i.halfPage||{}),i.halfPage.hideCapsuleMenu=!1,i.halfPage.capsuleMenuType="singleClose",f.info(`[__doNavigateToMiniProgram], finalArgs=${JSON.stringify(i)}`),i.needTransferToWeChat&&(0,g.er)()?(yield(0,c.bb)("sdk_navigateToMiniProgram",i,r),{}):(0,c.bb)("navigateToMiniProgram",i,r)}));return function(){return e.apply(this,arguments)}}(),M=(0,b.NX)("doNavigateToMiniProgram",x),R=(e,t,r,n,a)=>{var i=[e,t,p.Z.appType+1e3,r+1e3,n,(0,A.cv)(a)].join(",");w.reportKeyValue({key:"NavigateToMiniProgramAlert",value:i})},D=()=>(n||(n=new Promise((e=>{__sclEngine__.initScl((t=>e(t.mainRoot)))}))),n),L=function(){var e=s()((function*(e){var t,r=yield D();switch(O){case N.HALF_SCREEN_DIALOG_WITHOUT_LOGO:t=r.append("navigateToMp",{title:e.oldWording,logo:"",name:"",type:N.HALF_SCREEN_DIALOG});break;case N.HALF_SCREEN_DIALOG_WITH_FRIENDS_USED:t=r.append("navigateToMp",{title:e.title,logo:e.icon_url,name:e.desc,type:N.HALF_SCREEN_DIALOG}),e.expensiveWording&&e.expensiveWording.then((({used_friend_cnt_sub_desc:e})=>{t.setData({desc:e||""})}));break;case N.HALF_SCREEN_DIALOG_WITH_SCORE:t=r.append("navigateToMp",{title:e.title,logo:e.icon_url,name:e.desc,type:N.HALF_SCREEN_DIALOG}),e.expensiveWording&&e.expensiveWording.then((({score_sub_desc:e})=>{t.setData({desc:e||""})}));break;default:t=r.append("navigateToMp",{title:e.title,logo:e.icon_url,name:e.desc,type:O})}var n=(0,y.vJ)((e=>{[y.ML.BottomBackButton,y.ML.NavigationBackInterceptionType,y.ML.NavigateBackCall].includes(e.type)&&t.handleCancel()})),a=yield new Promise((e=>{t.addListener("confirm",(()=>{e({confirm:!0})})),t.addListener("cancel",(()=>{e({confirm:!1})}))}));return(0,y.J_)(n),a}));return function(t){return e.apply(this,arguments)}}(),N={DEFAULT:0,DIALOG:1,HALF_SCREEN_DIALOG:2,HALF_SCREEN_DIALOG_WITHOUT_LOGO:3,HALF_SCREEN_DIALOG_WITH_SCORE:4,HALF_SCREEN_DIALOG_WITH_FRIENDS_USED:5},O=N.DEFAULT;p.Z.onReady((()=>{(0,m.b)({experimentId:"clicfg_navigation_use_scl_alert_v5",experimentType:"Expt",success:e=>{JSON.stringify(e),e&&void 0!==e.testConfig&&(O=Number(e.testConfig)||N.DEFAULT,Object.values(N).includes(O)||(O=N.DEFAULT))}})}));var B,j=function(){var e=s()((function*(e,t,r,n,a,o,s){var l,u=O!==N.DEFAULT&&"undefined"!=typeof __sclEngine__&&(g.gm||g.cj||g.wZ)&&a,d=u?O:N.DEFAULT,f=(0,C._)(),h=f.apiCategory||p.Z.appLaunchInfo.appearance;if(1!==t&&["nativeFunctionalized"].includes(h)){if(7!==n)throw(0,S.showToast)({icon:"none",title:"暂不支持当前功能"}),new Error(`not supported in ${h} apiCategory.`);R(4,r,n,d,s)}if(1!==t){var v=f.scene,m=null===(l=f.referrerInfo)||void 0===l?void 0:l.appId;if(1037!==v||m!==r){var y;try{var b;if(u)y=yield L(i()(i()({},a),{},{oldWording:e,expensiveWording:o}));else try{y=yield Promise.race([new Promise((e=>{var t=()=>e({confirm:!1});(0,T.HM)(t),b=()=>(0,T.bq)(t)})),(0,c.bb)("showModal",{title:e,content:"",confirmText:"允许",cancelText:"取消",showCancel:!0,confirmColor:"#576B95",confirmColorDark:"#7D90A9",cancelColor:"#000000",cancelColorDark:"#AAAAAA"})])}finally{b()}}catch(e){throw R(3,r,n,d,s),e}var{confirm:_}=y;if(!_)throw R(2,r,n,d,s),new Error("cancel");k.c.shouldExecuteSkipMaxLimitStrategy&&k.c.setCurrentAttemptSkipCount(0),R(1,r,n,d,s)}else R(5,r,n,d,s)}else R(4,r,n,d,s)}));return function(t,r,n,a,i,o,s){return e.apply(this,arguments)}}(),F=function(){var e=s()((function*({appId:e,path:t,shortLink:r,verifyUnionProduct:n}){var a;f.info(`[_getNavigateWxAppInfo] appId=${e} shortLink=${r} verifyUnionProduct=${n}`);var i=new Promise((e=>{a=e}));e&&!r&&a(e);var o=i.then((e=>G({appId:e}))),s=0,c=1;try{var l=yield P({apiName:n?"webapi_getembeddedunionproductinfo":"webapi_getnavigatewxaappinfo",reqData:{req_type:r?c:s,target_appid:e,target_short_link:r,target_path:t}});f.info(`[operateWXData][webapi_getnavigatewxaappinfo][success] data=${JSON.stringify(l.data)}`);var u=l.data,d=u.action_code,p=u.skip_local_check,h=Boolean(u.runtime_sdk_whitelist),g=u.target_short_link_info,v=u.allow_embedded_mode;return g&&(e=g.wxa_appid,t=(g.wxa_path||"").replace(/\.html(\?|$)/,"$1"),a(e)),{appId:e,path:t,actionCode:d,skipLocalCheck:p,reason:u.reason,wording:u.wording,appType:u.apptype,newWording:u.new_wording,popupInfo:u.pop_up_info,needTransferToWeChat:h,shortLinkInfo:g,allowEmbeddedMode:v,expensiveInfo:o}}catch(e){throw f.error(`[operateWXData][webapi_getnavigatewxaappinfo][fail], errMsg=${e.message||e.errMsg}`),e}}));return function(t){return e.apply(this,arguments)}}(),U=1,W=2,G=function(){var e=s()((function*(e){var t=[];switch(O){case N.HALF_SCREEN_DIALOG_WITH_FRIENDS_USED:t.push(W);break;case N.HALF_SCREEN_DIALOG_WITH_SCORE:t.push(U)}if(!t.length)return{};f.info(`[_getNavigateWxAppDescInfo] appId=${e.appId}`);try{var{data:r}=yield P({apiName:"webapi_getnavigatewxaappdesc",reqData:{target_appid:e.appId,desc_type_list:t}});return r}catch(e){return e.message,{}}}));return function(t){return e.apply(this,arguments)}}(),V=(B=[],p.Z.onReady((()=>{Array.isArray(p.Z.navigateToMiniProgramAppIdList)&&(B=p.Z.navigateToMiniProgramAppIdList,(0,v.J)("openWxappLimit5")&&B.splice(5))})),(e,t)=>new Promise(((r,n)=>{var a=(0,h.KU)("navigateToMiniProgramConfig");!1===a||g.gm?t?r():B.indexOf(e)>-1?r({sourcetype:4}):n({errMsg:`appId "${e}" is not in navigateToMiniProgramAppIdList`}):!0===a?r():"unknown"===a?r({sourcetype:4}):n({errMsg:"unknown available"})}))),$=!1,q=function(){var e=s()((function*({appId:e,path:t,shortLink:r,extraData:n},a){if(f.info(`[__checkBeforeNavigateToMiniProgram] appId=${e} path=${t} shortLink=${r} isNavigating=${$}`),$)throw new Error("another navigation is in progress");$=!0;try{O!==N.DEFAULT&&D();try{a||(a=yield Promise.race([F({appId:e,path:t,shortLink:r}),new Promise(((e,t)=>setTimeout((()=>t(new Error("getNavigateWxAppInfo timeout"))),1e4)))]))}catch(r){return f.error(`[_getNavigateWxAppInfo][reject] errMsg=${r.errMsg||r.message}`),{appId:e,path:t}}var{actionCode:o,skipLocalCheck:s,reason:l,wording:u,appType:d,newWording:h,popupInfo:v,needTransferToWeChat:m,expensiveInfo:y}=a;if(e=a.appId,t=a.path,f.info(`[_getNavigateWxAppInfo][resolve] appId=${e} path=${t} actionCode=${o}, skipLocalCheck=${s}, reason=${l}, wording=${u}, appType=${d}, needTransferToWeChat=${m}`),1!==o&&2!==o)throw v?(w.reportKeyValue({key:"WeAppNavBan",value:[p.Z.appType+1e3,p.Z.appLaunchInfo.scene,33,3302,0,1,l,"跳转跳出",(0,I._getCurrentNetworkType)()].join(",")}),(0,c.IN)("showModal",{showCancel:!0,content:v.desc,confirmText:v.confirm_wording,cancelText:v.cancel_wording,success({confirm:e}){var t=v.confirm_url;e&&(0,_.n)({url:t}),w.reportKeyValue({key:"WeAppNavBan",value:[p.Z.appType+1e3,p.Z.appLaunchInfo.scene,33,3302,e?1:2,2,l,"跳转跳出",(0,I._getCurrentNetworkType)()].join(",")})}})):u&&(0,c.IN)("showModal",{content:u,showCancel:!1}),new Error(l);try{var b=yield V(e,s);return((e={})=>{if(g.cj||g.wZ){var{type:t}=e,r="app";r="game",r=t||r,Promise.all([new Promise(((e,t)=>{(0,c.IN)("preloadMiniProgramEnv",{type:r,fail:e=>{t(e),f.warn("navigateToMiniprogram create preload env fail:",e)},success(t){e(t)}})})),new Promise(((t,r)=>{(0,c.IN)("predownloadMiniProgramPackage",{appId:e.appId,path:e.path,scene:1,success:e=>{t(e)},fail:e=>{f.warn("navigateToMiniprogram load miniProgramPackage fail:",e),r(e)}})}))]).then((t=>{e.success&&e.success(t)})).catch((t=>{e.fail&&e.fail(t)}))}})({appId:e,path:t}),yield j(u,o,e,d,h,y,n),i()(i()({},b),{},{appId:e,path:t,needTransferToWeChat:m})}catch(e){var S=e.errMsg||e.message;throw new Error(S)}}finally{$=!1}}));return function(t,r){return e.apply(this,arguments)}}(),z=((0,b.NX)("checkBeforeNavigateToMiniProgram",q),function(){var e=s()((function*(e={}){if(!e.appId&&!e.shortLink)throw new Error("should have appId or shortLink");e.appId&&(0,c.zy)(e,{appId:""}),e.shortLink&&(0,c.r3)(e,{shortLink:""}),f.info(`[_navigateToMiniProgram] appId=${e.appId} path=${e.path} shortLink=${e.shortLink}`);try{var t=yield q({appId:e.appId,path:e.path,shortLink:e.shortLink,extraData:e.extraData});return f.info(`[__checkBeforeNavigateToMiniProgram][resolve], res=${JSON.stringify(t)}`),yield x(e,{appId:t.appId,path:t.path,sourcetype:t.sourcetype,needTransferToWeChat:t.needTransferToWeChat})}catch(e){var r=e.errMsg||e.message;throw f.error(`[__checkBeforeNavigateToMiniProgram][reject], errMsg=${r}`),["cancel","another navigation is in progress"].includes(r)||w.errorReport({key:"appServiceSDKScriptError",error:e,extend:"at checking before navigate to miniprogram"}),new Error(r)}}));return function(){return e.apply(this,arguments)}}()),Z=(0,b.NX)("navigateToMiniProgramWithoutTapCheck",z),H=function(){var e=s()((function*(e){var t=p.Z.accountInfo.appId;if(!(0,g.RF)()||"wx308bd2aeb83d3345"===t||"wxc98889eca359c1e5"===t)return z(e);if(!(0,E.ZB)())throw new Error("can only be invoked by user TAP gesture.");var r=(0,E.B7)();return(0,d.Y)({name:"navigateToMiniProgram",scene:0,strategy:0,timeDiffToLastTap:0===r?-2:Date.now()-r}),z(e)}));return function(t){return e.apply(this,arguments)}}(),K=((0,b.NX)("navigateToMiniProgram",H),function(){var e=s()((function*(e){if(!(0,v.J)("navigateToMiniProgramDirectly"))throw new Error("no permission");return x(e,e)}));return function(t){return e.apply(this,arguments)}}());(0,b.NX)("navigateToMiniProgramDirectly",K)},1404:(e,t,r)=>{"use strict";r.d(t,{JB:()=>d,n8:()=>n.n,AM:()=>g,uA:()=>v,Bx:()=>s});var n=r(4208),a=r(4318),i=!1,o=[],s=(e={})=>{if(!e.webviewId||!e.data){console.error("invalid arguments");var t={errMsg:"sendDataToH5: arguments data or webviewId cannot be null"};return"function"==typeof e.fail&&e.fail(t),void("function"==typeof e.complete&&e.complete(t))}"object"==typeof e.data&&(e.data=JSON.stringify(e.data)),i?o.push(e):(i=!0,(0,a.IN)("sendDataToH5",e,{afterAll(){if(i=!1,o.length){var e=o.shift();s(e)}}}))},c=!1,l=[];function u(e){for(var t=0;t<l.length;t++)l[t](e)}var d=e=>{if("function"==typeof e){l.push(((t={})=>{t.webviewId&&t.data?("string"==typeof t.data&&(t.data=JSON.parse(t.data)),e(t)):console.error("invalid arguments in onH5Data callback")})),c||((0,a.jQ)("onH5Data",u),c=!0)}},p=r(619),f=r(6468),h=(e,t)=>(r={})=>{t||(t=e),(0,p.J)(e)?!0!==f.Z.openUrlExtBrowserLock&&(r.url=r.url||"",f.Z.openUrlExtBrowserLock=!0,(0,a.IN)(t,r,{afterAll(){f.Z.openUrlExtBrowserLock=!1}})):(0,a.YG)(e,r,"no permission")},g=h("openUrlByExtBrowser"),v=h("openUrlByExtBrowser2","openUrlByExtBrowser")},4208:(e,t,r)=>{"use strict";r.d(t,{Y:()=>l,n:()=>u});var n=r(4318),a=r(346),i=r(4275),o=r(5333),s=r(6468);var c=e=>(t={})=>{if(!0!==s.Z.openUrlLock){var r=t.url,c=Object.assign({},t,{url:r});if(c.url=c.url||"",!(0,a.mQ)(c.url)){console.error("invalid url",c.url);var l={errMsg:`${e}: invalid url "${c.url}"`};return"function"==typeof c.fail&&c.fail(l),void("function"==typeof c.complete&&c.complete(l))}"openUrl"!==e||function(e){var t,r,n=(0,a.en)(e),s=null===o.Z||void 0===o.Z||null===(t=o.Z.appContactInfo)||void 0===t||null===(r=t.stablePassThroughInfo)||void 0===r?void 0:r.wxa_open_url_domain_list;return!!(s&&n&&n.host&&s.includes(n.host)||(0,i.tK)())}(r)?("openUrl"===e&&void 0!==y&&y.traceEvent("onH5Open",!1,{id:r},r,null,null),s.Z.openUrlLock=!0,(0,n.IN)(e,c,{afterAll(){s.Z.openUrlLock=!1}})):(0,n.FE)({name:e,args:c,errMsg:r+" is not in allowed domains",success:!1})}},l=c("openUrl"),u=c("private_openUrl")},2679:(e,t,r)=>{"use strict";r.d(t,{P:()=>h});var n=r(8013),a=r(4318),i=r(4275),o=r(3435),s=r(6468),c=r(7828),l=0,u=[],d=Math.random,p=()=>{var e=JSON.stringify({business:"mmbizwxaservicequality",dataArray:u,appType:w.getAppType()},null,2);(0,a.IN)("reportRealtimeAction",{actionData:e}),u=[]},f=e=>{var t="";return Object.keys(e).forEach(((r,n)=>{try{var a=`${encodeURIComponent(r)}=${encodeURIComponent(e[r])}`;0!==n&&(t+="&"),t+=a}catch(e){}})),t},h=(e,t,r,a,h,g,v,m=0,y=0,b={},_=0,I={},S,k=!0,C)=>{t.length>1024&&(t=t.substring(0,1024));var T="",E="",A=0,P="";if((0,i.aI)()?(E=f(o.Z.query),A=o.Z.scene,P=o.Z.sceneNote):(A=s.Z.scene,P=s.Z.sceneNote),void 0!==c.hr){var x=c.hr.getCurrentPages();if(x&&x.length>0){var M=x[x.length-1];M&&(T=M.route,E=M.__displayReporter&&M.__displayReporter.showOptions&&M.__displayReporter.showOptions.query)}}!C&&h&&/超时|timeout/.test(h)&&(C=5);var R=JSON.stringify(I),D=[e,t,r,a,h,w.getAppType(),g,m,(0,n._getCurrentNetworkType)(),T,E,y,f(b),A,P,S,C,_,R].map(encodeURIComponent).join(","),L=!1;if(a<5e3&&1==r?d()<.01&&(L=!0):L=!0,k||(L=!1),L){var N=[e,t,r,a,h,w.getAppType(),g,m,(0,n._getCurrentNetworkType)(),T,E,y,f(b),A,P,C,_,R].map(encodeURIComponent).join(",");w.reportKeyValue({key:"NetworkAPI2",value:N})}w.reportKeyValue({key:"NetworkAPI",value:D}),w.reportIDKey({key:`${e}_${1===r?"ok":"fail"}`}),u.push([e,t,r,g||"",a,h,(0,n._getCurrentNetworkType)(),v?"1":"0",w.getAppType(),m].map((e=>{var t;try{t=encodeURIComponent(e)}catch(r){t=e}return t})).join(",")),Date.now()-l>=6e4&&(l=Date.now(),setTimeout(p,6e4))}},7789:(e,t,r)=>{"use strict";r.d(t,{Y:()=>i});var n=r(6468),a=r(7828),i=({name:e,scene:t,strategy:r,timeDiffToLastTap:i=0})=>{var o;void 0!==a.hr&&(o=a.hr.getCurrentPagesByDomain("").find((e=>e.__wxWebviewId__===n.Z.currentWebviewId))||{});var s=[e,t,w.getAppType(),o?o.route:"",r||0,i].map(encodeURIComponent).join(",");w.reportKeyValue({key:"RecycledAPI",value:s})}},6105:e=>{var t,n=void 0!==r?r:globalThis.Function;function a(){return t||(t=function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="./entry.js")}({"./entry.js":function(e,t,r){(function(t){var n=r("./node_modules/protocol-buffers/index.js"),a=r("./node_modules/protocol-buffers-encodings/index.js"),i=r("./node_modules/varint/index.js"),o=function(e,t){var r=new Uint8Array(8),n=t,a=0,i=0,s=0;do{i|=(127&e[n])<<s,(s+=7)>=8&&(r[a]=255&i,i>>=8,s-=8,a++)}while(e[n++]>=128);return r[a]=255&i,o.bytes=n-t,r};function s(e,t){for(var r=0,n=t;n<e.length;n++){if(!(128&e[n]))return r+1;r++}return r}var c,l,u=function(e,t,r,n){return t.bytes=r.bytes=0,{type:e,encode:t,decode:r,encodingLength:n}};a.uint64=(c=function(e,t){var r=s(e,t);if(r>=7&&NativeGlobal.decodeUint64Array){e=o(e,t);var n=NativeGlobal.decodeUint64Array(e);c.bytes=r}else n=i.decode(e,t),c.bytes=i.decode.bytes;return n},l=i.encode,u(0,l,c,(function(e){return e<0?10:i.encodingLength(e)}))),a.int64=function(){var e=function(r,n){if(((l=i.decode(r,n))>Number.MAX_SAFE_INTEGER||l<Number.MIN_SAFE_INTEGER)&&NativeGlobal.decodeUint64Array){var a=s(r,n),c=10==a;c&&(r[9+n]=127&r[9+n]),r=o(r,n);var l=NativeGlobal.decodeUint64Array(r);return e.bytes=a,c?"-"+l:l}if(l>=Math.pow(2,63)){for(var u=9;255===r[n+u-1];)u--;var d=new t(u=u||9);r.copy(d,0,n,n+u),d[u-1]=127&d[u-1],l=-1*i.decode(d,0),e.bytes=10}else e.bytes=i.decode.bytes;return l},r=function(e,t,n){if(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER)throw new Error("number too large, not supported yet");if(e<0){var a=n+9;for(i.encode(-1*e,t,n),t[n+=i.encode.bytes-1]=128|t[n];n<a-1;)t[++n]=255;t[a]=1,r.bytes=10}else i.encode(e,t,n),r.bytes=i.encode.bytes;return t};return u(0,r,e,(function(e){return e<0?10:i.encodingLength(e)}))}(),e.exports=function(e){var r=n(e);return Object.keys(r).forEach((function(e){var n;r[e].decode&&(r[e].decode=(n=r[e].decode,function e(r){"[object Uint8Array]"==Object.prototype.toString.call(r)&&r.__proto__!=t.__proto__&&(r.__proto__=t.prototype);var a=n.apply(this,arguments);return e.bytes=n.bytes,a}))})),r},e.exports.fixBuffer=function(e){return"[object Uint8Array]"==Object.prototype.toString.call(e)&&e.__proto__!=t.__proto__&&(e.__proto__=t.prototype),e}}).call(this,r("./node_modules/buffer/index.js").Buffer)},"./node_modules/base64-js/index.js":function(e,t,r){"use strict";t.byteLength=function(e){var t=l(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,n=l(e),o=n[0],s=n[1],c=new i(function(e,t,r){return 3*(t+r)/4-r}(0,o,s)),u=0,d=s>0?o-4:o;for(r=0;r<d;r+=4)t=a[e.charCodeAt(r)]<<18|a[e.charCodeAt(r+1)]<<12|a[e.charCodeAt(r+2)]<<6|a[e.charCodeAt(r+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;2===s&&(t=a[e.charCodeAt(r)]<<2|a[e.charCodeAt(r+1)]>>4,c[u++]=255&t);1===s&&(t=a[e.charCodeAt(r)]<<10|a[e.charCodeAt(r+1)]<<4|a[e.charCodeAt(r+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t);return c},t.fromByteArray=function(e){for(var t,r=e.length,a=r%3,i=[],o=16383,s=0,c=r-a;s<c;s+=o)i.push(u(e,s,s+o>c?c:s+o));1===a?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===a&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return i.join("")};for(var n=[],a=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=o.length;s<c;++s)n[s]=o[s],a[o.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function u(e,t,r){for(var a,i,o=[],s=t;s<r;s+=3)a=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(n[(i=a)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return o.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},"./node_modules/buffer/index.js":function(e,t,r){"use strict";(function(e){var n=r("./node_modules/base64-js/index.js"),a=r("./node_modules/ieee754/index.js"),i=r("./node_modules/isarray/index.js");function o(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,r){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return l(this,e,t,r)}function l(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=p(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!c.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|h(t,r);e=s(e,n);var a=e.write(t,r);a!==n&&(e=e.slice(0,a));return e}(e,t,r):function(e,t){if(c.isBuffer(t)){var r=0|f(t.length);return 0===(e=s(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?s(e,0):p(e,t);if("Buffer"===t.type&&i(t.data))return p(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(u(t),e=s(e,t<0?0:0|f(t)),!c.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function p(e,t){var r=t.length<0?0:0|f(t.length);e=s(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function f(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function h(e,t){if(c.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return W(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return G(e).length;default:if(n)return W(e).length;t=(""+t).toLowerCase(),n=!0}}function g(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return x(this,t,r);case"utf8":case"utf-8":return T(this,t,r);case"ascii":return A(this,t,r);case"latin1":case"binary":return P(this,t,r);case"base64":return C(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function v(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,a){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=a?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(a)return-1;r=e.length-1}else if(r<0){if(!a)return-1;r=0}if("string"==typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:y(e,t,r,n,a);if("number"==typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):y(e,[t],r,n,a);throw new TypeError("val must be string, number or Buffer")}function y(e,t,r,n,a){var i,o=1,s=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,s/=2,c/=2,r/=2}function l(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(a){var u=-1;for(i=r;i<s;i++)if(l(e,i)===l(t,-1===u?0:i-u)){if(-1===u&&(u=i),i-u+1===c)return u*o}else-1!==u&&(i-=i-u),u=-1}else for(r+c>s&&(r=s-c),i=r;i>=0;i--){for(var d=!0,p=0;p<c;p++)if(l(e,i+p)!==l(t,p)){d=!1;break}if(d)return i}return-1}function b(e,t,r,n){r=Number(r)||0;var a=e.length-r;n?(n=Number(n))>a&&(n=a):n=a;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var o=0;o<n;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[r+o]=s}return o}function _(e,t,r,n){return V(W(t,e.length-r),e,r,n)}function w(e,t,r,n){return V(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function I(e,t,r,n){return w(e,t,r,n)}function S(e,t,r,n){return V(G(t),e,r,n)}function k(e,t,r,n){return V(function(e,t){for(var r,n,a,i=[],o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,a=r%256,i.push(a),i.push(n);return i}(t,e.length-r),e,r,n)}function C(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function T(e,t,r){r=Math.min(e.length,r);for(var n=[],a=t;a<r;){var i,o,s,c,l=e[a],u=null,d=l>239?4:l>223?3:l>191?2:1;if(a+d<=r)switch(d){case 1:l<128&&(u=l);break;case 2:128==(192&(i=e[a+1]))&&(c=(31&l)<<6|63&i)>127&&(u=c);break;case 3:i=e[a+1],o=e[a+2],128==(192&i)&&128==(192&o)&&(c=(15&l)<<12|(63&i)<<6|63&o)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:i=e[a+1],o=e[a+2],s=e[a+3],128==(192&i)&&128==(192&o)&&128==(192&s)&&(c=(15&l)<<18|(63&i)<<12|(63&o)<<6|63&s)>65535&&c<1114112&&(u=c)}null===u?(u=65533,d=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),a+=d}return function(e){var t=e.length;if(t<=E)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=E));return r}(n)}t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=o(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,r){return l(null,e,t,r)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,r){return function(e,t,r,n){return u(t),t<=0?s(e,t):void 0!==r?"string"==typeof n?s(e,t).fill(r,n):s(e,t).fill(r):s(e,t)}(null,e,t,r)},c.allocUnsafe=function(e){return d(null,e)},c.allocUnsafeSlow=function(e){return d(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,a=0,i=Math.min(r,n);a<i;++a)if(e[a]!==t[a]){r=e[a],n=t[a];break}return r<n?-1:n<r?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=c.allocUnsafe(t),a=0;for(r=0;r<e.length;++r){var o=e[r];if(!c.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,a),a+=o.length}return n},c.byteLength=h,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?T(this,0,e):g.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,r,n,a){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===a&&(a=this.length),t<0||r>e.length||n<0||a>this.length)throw new RangeError("out of range index");if(n>=a&&t>=r)return 0;if(n>=a)return-1;if(t>=r)return 1;if(this===e)return 0;for(var i=(a>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0),s=Math.min(i,o),l=this.slice(n,a),u=e.slice(t,r),d=0;d<s;++d)if(l[d]!==u[d]){i=l[d],o=u[d];break}return i<o?-1:o<i?1:0},c.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},c.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},c.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},c.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var a=this.length-t;if((void 0===r||r>a)&&(r=a),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return b(this,e,t,r);case"utf8":case"utf-8":return _(this,e,t,r);case"ascii":return w(this,e,t,r);case"latin1":case"binary":return I(this,e,t,r);case"base64":return S(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var E=4096;function A(e,t,r){var n="";r=Math.min(e.length,r);for(var a=t;a<r;++a)n+=String.fromCharCode(127&e[a]);return n}function P(e,t,r){var n="";r=Math.min(e.length,r);for(var a=t;a<r;++a)n+=String.fromCharCode(e[a]);return n}function x(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var a="",i=t;i<r;++i)a+=U(e[i]);return a}function M(e,t,r){for(var n=e.slice(t,r),a="",i=0;i<n.length;i+=2)a+=String.fromCharCode(n[i]+256*n[i+1]);return a}function R(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,r,n,a,i){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>a||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function L(e,t,r,n){t<0&&(t=65535+t+1);for(var a=0,i=Math.min(e.length-r,2);a<i;++a)e[r+a]=(t&255<<8*(n?a:1-a))>>>8*(n?a:1-a)}function N(e,t,r,n){t<0&&(t=4294967295+t+1);for(var a=0,i=Math.min(e.length-r,4);a<i;++a)e[r+a]=t>>>8*(n?a:3-a)&255}function O(e,t,r,n,a,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function B(e,t,r,n,i){return i||O(e,0,r,4),a.write(e,t,r,n,23,4),r+4}function j(e,t,r,n,i){return i||O(e,0,r,8),a.write(e,t,r,n,52,8),r+8}c.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=c.prototype;else{var a=t-e;r=new c(a,void 0);for(var i=0;i<a;++i)r[i]=this[i+e]}return r},c.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=this[e],a=1,i=0;++i<t&&(a*=256);)n+=this[e+i]*a;return n},c.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=this[e+--t],a=1;t>0&&(a*=256);)n+=this[e+--t]*a;return n},c.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=this[e],a=1,i=0;++i<t&&(a*=256);)n+=this[e+i]*a;return n>=(a*=128)&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=t,a=1,i=this[e+--n];n>0&&(a*=256);)i+=this[e+--n]*a;return i>=(a*=128)&&(i-=Math.pow(2,8*t)),i},c.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),a.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),a.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),a.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),a.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||D(this,e,t,r,Math.pow(2,8*r)-1,0);var a=1,i=0;for(this[t]=255&e;++i<r&&(a*=256);)this[t+i]=e/a&255;return t+r},c.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||D(this,e,t,r,Math.pow(2,8*r)-1,0);var a=r-1,i=1;for(this[t+a]=255&e;--a>=0&&(i*=256);)this[t+a]=e/i&255;return t+r},c.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):N(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var a=Math.pow(2,8*r-1);D(this,e,t,r,a-1,-a)}var i=0,o=1,s=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+r},c.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var a=Math.pow(2,8*r-1);D(this,e,t,r,a-1,-a)}var i=r-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+r},c.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):N(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,r){return B(this,e,t,!0,r)},c.prototype.writeFloatBE=function(e,t,r){return B(this,e,t,!1,r)},c.prototype.writeDoubleLE=function(e,t,r){return j(this,e,t,!0,r)},c.prototype.writeDoubleBE=function(e,t,r){return j(this,e,t,!1,r)},c.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var a,i=n-r;if(this===e&&r<t&&t<n)for(a=i-1;a>=0;--a)e[a+t]=this[a+r];else if(i<1e3||!c.TYPED_ARRAY_SUPPORT)for(a=0;a<i;++a)e[a+t]=this[a+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+i),t);return i},c.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var a=e.charCodeAt(0);a<256&&(e=a)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var o=c.isBuffer(e)?e:W(new c(e,n).toString()),s=o.length;for(i=0;i<r-t;++i)this[i+t]=o[i%s]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function U(e){return e<16?"0"+e.toString(16):e.toString(16)}function W(e,t){var r;t=t||1/0;for(var n=e.length,a=null,i=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!a){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&i.push(239,191,189);continue}a=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),a=r;continue}r=65536+(a-55296<<10|r-56320)}else a&&(t-=3)>-1&&i.push(239,191,189);if(a=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function G(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(F,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function V(e,t,r,n){for(var a=0;a<n&&!(a+r>=t.length||a>=e.length);++a)t[a+r]=e[a];return a}}).call(this,r("./node_modules/webpack/buildin/global.js"))},"./node_modules/generate-function/index.js":function(e,t,r){for(var a=r("./node_modules/util/util.js"),i=r("./node_modules/is-property/is-property.js"),o=/[\{\[]/,s=/[\}\]]/,c=["do","if","in","for","let","new","try","var","case","else","enum","eval","null","this","true","void","with","await","break","catch","class","const","false","super","throw","while","yield","delete","export","import","public","return","static","switch","typeof","default","extends","finally","package","private","continue","debugger","function","arguments","interface","protected","implements","instanceof","NaN","undefined"],l={},u=0;u<c.length;u++)l[c[u]]=!0;var d=function(e){return i(e)&&!l.hasOwnProperty(e)},p={s:function(e){return""+e},d:function(e){return""+Number(e)},o:function(e){return JSON.stringify(e)}},f=function(){var e=[],t=0,r={},c=function(r){for(var n="";n.length<2*t;)n+="  ";e.push(n+r)},l=function(e){return s.test(e.trim()[0])&&o.test(e[e.length-1])?(t--,c(e),void t++):o.test(e[e.length-1])?(c(e),void t++):s.test(e.trim()[0])?(t--,void c(e)):void c(e)},u=function(e){if(!e)return u;if(1===arguments.length&&e.indexOf("\n")>-1)for(var t=e.trim().split("\n"),r=0;r<t.length;r++)l(t[r].trim());else l(a.format.apply(a,arguments));return u};return u.scope={},u.formats=p,u.sym=function(e){return e&&d(e)||(e="tmp"),r[e]||(r[e]=0),e+(r[e]++||"")},u.property=function(e,t){return 1===arguments.length&&(t=e,e=""),i(t+="")?e?e+"."+t:t:e?e+"["+JSON.stringify(t)+"]":JSON.stringify(t)},u.toString=function(){return e.join("\n")},u.toFunction=function(t){t||(t={});var r="return ("+e.join("\n")+")";Object.keys(u.scope).forEach((function(e){t[e]||(t[e]=u.scope[e])}));var a=Object.keys(t).map((function(e){return e})),i=a.map((function(e){return t[e]}));return n.apply(null,a.concat(r)).apply(null,i)},arguments.length&&u.apply(null,arguments),u};f.formats=p,e.exports=f},"./node_modules/generate-object-property/index.js":function(e,t,r){var n=r("./node_modules/is-property/is-property.js"),a=function(e,t){return n(t)?e+"."+t:e+"["+JSON.stringify(t)+"]"};a.valid=n,a.property=function(e){return n(e)?e:JSON.stringify(e)},e.exports=a},"./node_modules/ieee754/index.js":function(e,t){t.read=function(e,t,r,n,a){var i,o,s=8*a-n-1,c=(1<<s)-1,l=c>>1,u=-7,d=r?a-1:0,p=r?-1:1,f=e[t+d];for(d+=p,i=f&(1<<-u)-1,f>>=-u,u+=s;u>0;i=256*i+e[t+d],d+=p,u-=8);for(o=i&(1<<-u)-1,i>>=-u,u+=n;u>0;o=256*o+e[t+d],d+=p,u-=8);if(0===i)i=1-l;else{if(i===c)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,n),i-=l}return(f?-1:1)*o*Math.pow(2,i-n)},t.write=function(e,t,r,n,a,i){var o,s,c,l=8*i-a-1,u=(1<<l)-1,d=u>>1,p=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:i-1,h=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),(t+=o+d>=1?p/c:p*Math.pow(2,1-d))*c>=2&&(o++,c/=2),o+d>=u?(s=0,o=u):o+d>=1?(s=(t*c-1)*Math.pow(2,a),o+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,a),o=0));a>=8;e[r+f]=255&s,f+=h,s/=256,a-=8);for(o=o<<a|s,l+=a;l>0;e[r+f]=255&o,f+=h,o/=256,l-=8);e[r+f-h]|=128*g}},"./node_modules/is-property/is-property.js":function(e,t,r){"use strict";e.exports=function(e){return/^[$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc][$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc0-9\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19b0-\u19c0\u19c8\u19c9\u19d0-\u19d9\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2-\u1cf4\u1dc0-\u1de6\u1dfc-\u1dff\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f1\ua900-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]*$/.test(e)}},"./node_modules/isarray/index.js":function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},"./node_modules/os-browserify/browser.js":function(e,t){t.endianness=function(){return"LE"},t.hostname=function(){return"undefined"!=typeof location?location.hostname:""},t.loadavg=function(){return[]},t.uptime=function(){return 0},t.freemem=function(){return Number.MAX_VALUE},t.totalmem=function(){return Number.MAX_VALUE},t.cpus=function(){return[]},t.type=function(){return"Browser"},t.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},t.networkInterfaces=t.getNetworkInterfaces=function(){return{}},t.arch=function(){return"javascript"},t.platform=function(){return"browser"},t.tmpdir=t.tmpDir=function(){return"/tmp"},t.EOL="\n",t.homedir=function(){return"/"}},"./node_modules/process/browser.js":function(e,t){var r,n,a=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var c,l=[],u=!1,d=-1;function p(){u&&c&&(u=!1,c.length?l=c.concat(l):d=-1,l.length&&f())}function f(){if(!u){var e=s(p);u=!0;for(var t=l.length;t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function g(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new h(e,t)),1!==l.length||u||s(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=g,a.addListener=g,a.once=g,a.off=g,a.removeListener=g,a.removeAllListeners=g,a.emit=g,a.prependListener=g,a.prependOnceListener=g,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},"./node_modules/protocol-buffers-encodings/index.js":function(e,t,r){(function(e){var n=r("./node_modules/varint/index.js"),a=r("./node_modules/signed-varint/index.js");function i(e,t,r,n){return t.bytes=r.bytes=0,{type:e,encode:t,decode:r,encodingLength:n}}function o(t){return e.isBuffer(t)?t.length:e.byteLength(t)}t.make=i,t.name=function(e){for(var r=Object.keys(t),n=0;n<r.length;n++)if(t[r[n]]===e)return r[n];return null},t.skip=function(e,t,r){switch(e){case 0:return n.decode(t,r),r+n.decode.bytes;case 1:return r+8;case 2:var a=n.decode(t,r);return r+n.decode.bytes+a;case 3:case 4:throw new Error("Groups are not supported");case 5:return r+4}throw new Error("Unknown wire type: "+e)},t.bytes=i(2,(function t(r,a,i){var s=i,c=o(r);return n.encode(c,a,i),i+=n.encode.bytes,e.isBuffer(r)?r.copy(a,i):a.write(r,i,c),t.bytes=(i+=c)-s,a}),(function e(t,r){var a=r,i=n.decode(t,r);r+=n.decode.bytes;var o=t.slice(r,r+i);return r+=o.length,e.bytes=r-a,o}),(function(e){var t=o(e);return n.encodingLength(t)+t})),t.string=i(2,(function t(r,a,i){var o=i,s=e.byteLength(r);return n.encode(s,a,i,"utf-8"),i+=n.encode.bytes,a.write(r,i,s),t.bytes=(i+=s)-o,a}),(function e(t,r){var a=r,i=n.decode(t,r);r+=n.decode.bytes;var o=t.toString("utf-8",r,r+i);return e.bytes=(r+=i)-a,o}),(function(t){var r=e.byteLength(t);return n.encodingLength(r)+r})),t.bool=i(0,(function e(t,r,n){return r[n]=t?1:0,e.bytes=1,r}),(function e(t,r){var n=t[r]>0;return e.bytes=1,n}),(function(){return 1})),t.int32=i(0,(function e(t,r,a){return n.encode(t<0?t+4294967296:t,r,a),e.bytes=n.encode.bytes,r}),(function e(t,r){var a=n.decode(t,r);return e.bytes=n.decode.bytes,a>2147483647?a-4294967296:a}),(function(e){return n.encodingLength(e<0?e+4294967296:e)})),t.int64=i(0,(function e(t,r,a){if(t<0){var i=a+9;for(n.encode(-1*t,r,a),r[a+=n.encode.bytes-1]=128|r[a];a<i-1;)r[++a]=255;r[i]=1,e.bytes=10}else n.encode(t,r,a),e.bytes=n.encode.bytes;return r}),(function t(r,a){var i=n.decode(r,a);if(i>=Math.pow(2,63)){for(var o=9;255===r[a+o-1];)o--;o=o||9;var s=e.allocUnsafe(o);r.copy(s,0,a,a+o),s[o-1]=127&s[o-1],i=-1*n.decode(s,0),t.bytes=10}else t.bytes=n.decode.bytes;return i}),(function(e){return e<0?10:n.encodingLength(e)})),t.sint32=t.sint64=i(0,a.encode,a.decode,a.encodingLength),t.uint32=t.uint64=t.enum=t.varint=i(0,n.encode,n.decode,n.encodingLength),t.fixed64=t.sfixed64=i(1,(function e(t,r,n){return t.copy(r,n),e.bytes=8,r}),(function e(t,r){var n=t.slice(r,r+8);return e.bytes=8,n}),(function(){return 8})),t.double=i(1,(function e(t,r,n){return r.writeDoubleLE(t,n),e.bytes=8,r}),(function e(t,r){var n=t.readDoubleLE(r);return e.bytes=8,n}),(function(){return 8})),t.fixed32=i(5,(function e(t,r,n){return r.writeUInt32LE(t,n),e.bytes=4,r}),(function e(t,r){var n=t.readUInt32LE(r);return e.bytes=4,n}),(function(){return 4})),t.sfixed32=i(5,(function e(t,r,n){return r.writeInt32LE(t,n),e.bytes=4,r}),(function e(t,r){var n=t.readInt32LE(r);return e.bytes=4,n}),(function(){return 4})),t.float=i(5,(function e(t,r,n){return r.writeFloatLE(t,n),e.bytes=4,r}),(function e(t,r){var n=t.readFloatLE(r);return e.bytes=4,n}),(function(){return 4}))}).call(this,r("./node_modules/buffer/index.js").Buffer)},"./node_modules/protocol-buffers-schema/index.js":function(e,t,r){var n=r("./node_modules/protocol-buffers-schema/parse.js"),a=r("./node_modules/protocol-buffers-schema/stringify.js");e.exports=n,e.exports.parse=n,e.exports.stringify=a},"./node_modules/protocol-buffers-schema/parse.js":function(e,t,r){var n=r("./node_modules/protocol-buffers-schema/tokenize.js"),a=["int32","int64","uint32","uint64","sint32","sint64","bool","fixed64","sfixed64","double","fixed32","sfixed32","float"],i=function(e){for(var t={};e.length;)switch(e[0]){case"[":case",":e.shift();var r=e.shift();if("("===r&&(r=e.shift(),e.shift()),"="!==e[0])throw new Error("Unexpected token in field options: "+e[0]);if(e.shift(),"]"===e[0])throw new Error("Unexpected ] in field option");t[r]=e.shift();break;case"]":return e.shift(),t;default:throw new Error("Unexpected token in field options: "+e[0])}throw new Error("No closing tag for field options")},o=function(e){for(var t={name:null,type:null,tag:-1,map:null,oneof:null,required:!1,repeated:!1,options:{}};e.length;)switch(e[0]){case"=":e.shift(),t.tag=Number(e.shift());break;case"map":if(t.type="map",t.map={from:null,to:null},e.shift(),"<"!==e[0])throw new Error("Unexpected token in map type: "+e[0]);if(e.shift(),t.map.from=e.shift(),","!==e[0])throw new Error("Unexpected token in map type: "+e[0]);if(e.shift(),t.map.to=e.shift(),">"!==e[0])throw new Error("Unexpected token in map type: "+e[0]);e.shift(),t.name=e.shift();break;case"repeated":case"required":case"optional":var r=e.shift();t.required="required"===r,t.repeated="repeated"===r,t.type=e.shift(),t.name=e.shift();break;case"[":t.options=i(e);break;case";":if(null===t.name)throw new Error("Missing field name");if(null===t.type)throw new Error("Missing type in message field: "+t.name);if(-1===t.tag)throw new Error("Missing tag number in message field: "+t.name);return e.shift(),t;default:throw new Error("Unexpected token in message field: "+e[0])}throw new Error("No ; found for message field")},s=function(e){for(var t={enums:[],options:{},messages:[],fields:[],extends:[],extensions:null};e.length;)switch(e[0]){case"map":case"repeated":case"optional":case"required":t.fields.push(o(e));break;case"enum":t.enums.push(h(e));break;case"message":t.messages.push(u(e));break;case"extensions":t.extensions=l(e);break;case"oneof":e.shift();var r=e.shift();if("{"!==e[0])throw new Error("Unexpected token in oneof: "+e[0]);for(e.shift();"}"!==e[0];){e.unshift("optional");var n=o(e);n.oneof=r,t.fields.push(n)}e.shift();break;case"extend":t.extends.push(c(e));break;case";":e.shift();break;case"reserved":for(e.shift();";"!==e[0];)e.shift();break;case"option":var a=g(e);if(void 0!==t.options[a.name])throw new Error("Duplicate option "+a.name);t.options[a.name]=a.value;break;default:e.unshift("optional"),t.fields.push(o(e))}return t},c=function(e){return{name:e[1],message:u(e)}},l=function(e){e.shift();var t=Number(e.shift());if(isNaN(t))throw new Error("Invalid from in extensions definition");if("to"!==e.shift())throw new Error("Expected keyword 'to' in extensions definition");var r=e.shift();if("max"===r&&(r=536870911),r=Number(r),isNaN(r))throw new Error("Invalid to in extensions definition");if(";"!==e.shift())throw new Error("Missing ; in extensions definition");return{from:t,to:r}},u=function(e){e.shift();var t=1,r=[],n={name:e.shift(),options:{},enums:[],extends:[],messages:[],fields:[]};if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("{"===e[0]?t++:"}"===e[0]&&t--,!t)return e.shift(),r=s(r),n.enums=r.enums,n.messages=r.messages,n.fields=r.fields,n.extends=r.extends,n.extensions=r.extensions,n.options=r.options,n;r.push(e.shift())}if(t)throw new Error("No closing tag for message")},d=function(e){e.shift();var t=e.shift();if(";"!==e[0])throw new Error("Expected ; but found "+e[0]);return e.shift(),t},p=function(e){if(e.shift(),"="!==e[0])throw new Error("Expected = but found "+e[0]);e.shift();var t=e.shift();switch(t){case'"proto2"':t=2;break;case'"proto3"':t=3;break;default:throw new Error("Expected protobuf syntax version but found "+t)}if(";"!==e[0])throw new Error("Expected ; but found "+e[0]);return e.shift(),t},f=function(e){if(e.length<4)throw new Error("Invalid enum value: "+e.slice(0,3).join(" "));if("="!==e[1])throw new Error("Expected = but found "+e[1]);if(";"!==e[3]&&"["!==e[3])throw new Error("Expected ; or [ but found "+e[1]);var t=e.shift();e.shift();var r={value:null,options:{}};return r.value=Number(e.shift()),"["===e[0]&&(r.options=i(e)),e.shift(),{name:t,val:r}},h=function(e){e.shift();var t={},r={name:e.shift(),values:{},options:{}};if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("}"===e[0])return e.shift(),";"===e[0]&&e.shift(),r;if("option"!==e[0]){var n=f(e);r.values[n.name]=n.val}else t=g(e),r.options[t.name]=t.value}throw new Error("No closing tag for enum")},g=function(e){for(var t=null,r=null,n=function(e){return"true"===e||"false"!==e&&e.replace(/^"+|"+$/gm,"")};e.length;){if(";"===e[0])return e.shift(),{name:t,value:r};switch(e[0]){case"option":e.shift();var a="("===e[0];if(a&&e.shift(),t=e.shift(),a){if(")"!==e[0])throw new Error("Expected ) but found "+e[0]);e.shift()}"."===e[0][0]&&(t+=e.shift());break;case"=":if(e.shift(),null===t)throw new Error("Expected key for option with value: "+e[0]);if(r=n(e.shift()),"optimize_for"===t&&!/^(SPEED|CODE_SIZE|LITE_RUNTIME)$/.test(r))throw new Error("Unexpected value for option optimize_for: "+r);"{"===r&&(r=v(e));break;default:throw new Error("Unexpected token in option: "+e[0])}}},v=function(e){for(var t=function(e){return"true"===e||"false"!==e&&e.replace(/^"+|"+$/gm,"")},r={};e.length;){if("}"===e[0])return e.shift(),r;var n="("===e[0];n&&e.shift();var a=e.shift();if(n){if(")"!==e[0])throw new Error("Expected ) but found "+e[0]);e.shift()}var i=null;switch(e[0]){case":":if(void 0!==r[a])throw new Error("Duplicate option map key "+a);e.shift(),"{"===(i=t(e.shift()))&&(i=v(e)),r[a]=i,";"===e[0]&&e.shift();break;case"{":if(e.shift(),i=v(e),void 0===r[a]&&(r[a]=[]),!Array.isArray(r[a]))throw new Error("Duplicate option map key "+a);r[a].push(i);break;default:throw new Error("Unexpected token in option map: "+e[0])}}throw new Error("No closing tag for option map")},m=function(e){e.shift();var t=e.shift().replace(/^"+|"+$/gm,"");if(";"!==e[0])throw new Error("Unexpected token: "+e[0]+'. Expected ";"');return e.shift(),t},y=function(e){e.shift();var t={name:e.shift(),methods:[],options:{}};if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("}"===e[0])return e.shift(),";"===e[0]&&e.shift(),t;switch(e[0]){case"option":var r=g(e);if(void 0!==t.options[r.name])throw new Error("Duplicate option "+r.name);t.options[r.name]=r.value;break;case"rpc":t.methods.push(b(e));break;default:throw new Error("Unexpected token in service: "+e[0])}}throw new Error("No closing tag for service")},b=function(e){e.shift();var t={name:e.shift(),input_type:null,output_type:null,client_streaming:!1,server_streaming:!1,options:{}};if("("!==e[0])throw new Error("Expected ( but found "+e[0]);if(e.shift(),"stream"===e[0]&&(e.shift(),t.client_streaming=!0),t.input_type=e.shift(),")"!==e[0])throw new Error("Expected ) but found "+e[0]);if(e.shift(),"returns"!==e[0])throw new Error("Expected returns but found "+e[0]);if(e.shift(),"("!==e[0])throw new Error("Expected ( but found "+e[0]);if(e.shift(),"stream"===e[0]&&(e.shift(),t.server_streaming=!0),t.output_type=e.shift(),")"!==e[0])throw new Error("Expected ) but found "+e[0]);if(e.shift(),";"===e[0])return e.shift(),t;if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("}"===e[0])return e.shift(),";"===e[0]&&e.shift(),t;if("option"!==e[0])throw new Error("Unexpected token in rpc options: "+e[0]);var r=g(e);if(void 0!==t.options[r.name])throw new Error("Duplicate option "+r.name);t.options[r.name]=r.value}throw new Error("No closing tag for rpc")};e.exports=function(e){for(var t=n(e.toString()),r=0;r<t.length;r++){var i;if(/^("|')([^'"]*)$/.test(t[r]))for(i=1===t[r].length?r+1:r;i<t.length;i++)if(/^[^'"\\]*(?:\\.[^'"\\]*)*("|')$/.test(t[i])){t=t.slice(0,r).concat(t.slice(r,i+1).join("")).concat(t.slice(i+1));break}}for(var o={syntax:3,package:null,imports:[],enums:[],messages:[],options:{},extends:[]},s=!0;t.length;){switch(t[0]){case"package":o.package=d(t);break;case"syntax":if(!s)throw new Error("Protobuf syntax version should be first thing in file");o.syntax=p(t);break;case"message":o.messages.push(u(t));break;case"enum":o.enums.push(h(t));break;case"option":var l=g(t);if(o.options[l.name])throw new Error("Duplicate option "+l.name);o.options[l.name]=l.value;break;case"import":o.imports.push(m(t));break;case"extend":o.extends.push(c(t));break;case"service":o.services||(o.services=[]),o.services.push(y(t));break;default:throw new Error("Unexpected token: "+t[0])}s=!1}return o.extends.forEach((function(e){o.messages.forEach((function(t){t.name===e.name&&e.message.fields.forEach((function(e){if(!t.extensions||e.tag<t.extensions.from||e.tag>t.extensions.to)throw new Error(t.name+" does not declare "+e.tag+" as an extension number");t.fields.push(e)}))}))})),o.messages.forEach((function(e){e.fields.forEach((function(t){var r,n,i,s;if(t.options&&"true"===t.options.packed&&-1===a.indexOf(t.type)){if(-1===t.type.indexOf(".")){if(e.enums&&e.enums.some((function(e){return e.name===t.type})))return}else{if((r=t.type.split(".")).length>2)throw new Error("what is this?");if(n=r[0],i=r[1],o.messages.some((function(e){if(e.name===n)return s=e,e})),s&&s.enums&&s.enums.some((function(e){return e.name===i})))return}throw new Error("Fields of type "+t.type+' cannot be declared [packed=true]. Only repeated fields of primitive numeric types (types which use the varint, 32-bit, or 64-bit wire types) can be declared "packed". See https://developers.google.com/protocol-buffers/docs/encoding#optional')}}))})),o}},"./node_modules/protocol-buffers-schema/stringify.js":function(e,t){var r=function(e,t){var r=e.repeated?"repeated":e.required?"required":"optional";"map"===e.type&&(r="map<"+e.map.from+","+e.map.to+">"),e.oneof&&(r="");var n=Object.keys(e.options||{}).map((function(t){return t+" = "+e.options[t]})).join(",");return n&&(n=" ["+n+"]"),t.push((r?r+" ":"")+("map"===e.map?"":e.type+" ")+e.name+" = "+e.tag+n+";"),t},n=function(e,t){t.push("message "+e.name+" {"),e.options||(e.options={}),o(e.options,t),e.enums||(e.enums=[]),e.enums.forEach((function(e){t.push(a(e,[]))})),e.messages||(e.messages=[]),e.messages.forEach((function(e){t.push(n(e,[]))}));var i={};return e.fields||(e.fields=[]),e.fields.forEach((function(e){e.oneof?(i[e.oneof]||(i[e.oneof]=[]),i[e.oneof].push(r(e,[]))):t.push(r(e,[]))})),Object.keys(i).forEach((function(e){i[e].unshift("oneof "+e+" {"),i[e].push("}"),t.push(i[e])})),t.push("}",""),t},a=function(e,t){t.push("enum "+e.name+" {"),e.options||(e.options={});var r=o(e.options,[]);return r.length>1&&t.push(r.slice(0,-1)),Object.keys(e.values).map((function(r){var n=i(e.values[r]);t.push([r+" = "+n+";"])})),t.push("}",""),t},i=function(e,t){var r=Object.keys(e.options||{}).map((function(t){return t+" = "+e.options[t]})).join(",");return r&&(r=" ["+r+"]"),e.value+r},o=function(e,t){var r=Object.keys(e);return r.forEach((function(r){var n=e[r];~r.indexOf(".")&&(r="("+r+")");var a=typeof n;"object"===a?(n=s(n,[])).length&&t.push("option "+r+" = {",n,"};"):("string"===a&&"optimize_for"!==r&&(n='"'+n+'"'),t.push("option "+r+" = "+n+";"))})),r.length>0&&t.push(""),t},s=function(e,t){return Object.keys(e).forEach((function(r){var n=e[r],a=typeof n;"object"===a?Array.isArray(n)?n.forEach((function(e){(e=s(e,[])).length&&t.push(r+" {",e,"}")})):(n=s(n,[])).length&&t.push(r+" {",n,"}"):("string"===a&&(n='"'+n+'"'),t.push(r+": "+n))})),t},c=function(e,t){var r="rpc "+e.name+"(";e.client_streaming&&(r+="stream "),r+=e.input_type+") returns (",e.server_streaming&&(r+="stream "),r+=e.output_type+")",e.options||(e.options={});var n=o(e.options,[]);return n.length>1?t.push(r+" {",n.slice(0,-1),"}"):t.push(r+";"),t},l=function(e){return function(t){return Array.isArray(t)?t.map(l(e+"  ")).join("\n"):e+t}};e.exports=function(e){var t=[];return t.push('syntax = "proto'+e.syntax+'";',""),e.package&&t.push("package "+e.package+";",""),e.options||(e.options={}),o(e.options,t),e.enums||(e.enums=[]),e.enums.forEach((function(e){a(e,t)})),e.messages||(e.messages=[]),e.messages.forEach((function(e){n(e,t)})),e.services&&e.services.forEach((function(e){!function(e,t){t.push("service "+e.name+" {"),e.options||(e.options={}),o(e.options,t),e.methods||(e.methods=[]),e.methods.forEach((function(e){t.push(c(e,[]))})),t.push("}","")}(e,t)})),t.map(l("")).join("\n")}},"./node_modules/protocol-buffers-schema/tokenize.js":function(e,t){e.exports=function(e){var t,r=function(e){return e.trim()};return e.replace(/([;,{}()=:[\]<>]|\/\*|\*\/)/g," $1 ").split(/\n/).map(r).filter(Boolean).map((function(e){var t=e.indexOf("//");return t>-1?e.slice(0,t):e})).map(r).filter(Boolean).join("\n").split(/\s+|\n+/gm).filter((t=!1,function(e){return"/*"===e?(t=!0,!1):"*/"===e?(t=!1,!1):!t}))}},"./node_modules/protocol-buffers/compile-to-js.js":function(e,t,r){var n=r("./node_modules/os-browserify/browser.js"),a={type:!0,message:!0,name:!0,buffer:!0,encode:!0,decode:!0,encodingLength:!0,dependencies:!0};function i(e){return"function"==typeof e.encode}e.exports=function(e){var t="";return t+="// This file is auto generated by the protocol-buffers compiler"+n.EOL,t+=n.EOL,t+="/* eslint-disable quotes */"+n.EOL,t+="/* eslint-disable indent */"+n.EOL,t+="/* eslint-disable no-redeclare */"+n.EOL,t+="/* eslint-disable camelcase */"+n.EOL,t+=n.EOL,t+="// Remember to `npm install --save protocol-buffers-encodings`"+n.EOL,t+="var encodings = require('protocol-buffers-encodings')"+n.EOL,t+="var varint = encodings.varint"+n.EOL,t+="var skip = encodings.skip"+n.EOL,t+=n.EOL,function e(r,s,c){var l=Object.keys(r).filter((function(e){return!a[e]&&i(r[e])})),u=Object.keys(r).filter((function(e){return!a[e]&&!i(r[e])}));u.forEach((function(e){t+=c+s+"."+e+" = "+function(e,t){var r=Object.keys(e);if(!r.every((function(t){return"number"==typeof e[t]&&/^[a-z][a-z0-9]+$/i.test(t)})))return JSON.stringify(e,null,2).replace(/\n/g,n.EOL)+n.EOL;var a="{"+n.EOL;return r.forEach((function(i,o){a+=t+"  "+i+": "+e[i]+(o<r.length-1?",":"")+n.EOL})),a+t+"}"+n.EOL}(r[e],c)+n.EOL})),l.forEach((function(e){t+=c+"var "+e+" = "+s+"."+e+" = {"+n.EOL,t+=c+"  buffer: true,"+n.EOL,t+=c+"  encodingLength: null,"+n.EOL,t+=c+"  encode: null,"+n.EOL,t+=c+"  decode: null"+n.EOL,t+=c+"}"+n.EOL,t+=n.EOL})),l.forEach((function(e){t+=c+"define"+e+"()"+n.EOL})),l.length&&(t+=n.EOL);l.forEach((function(a){t+=c+"function define"+a+" () {"+n.EOL,e(r[a],a,c+"  "),t+=c+"  "+a+".encodingLength = encodingLength"+n.EOL,t+=c+"  "+a+".encode = encode"+n.EOL,t+=c+"  "+a+".decode = decode"+n.EOL+n.EOL,t+=c+"  "+o(r[a].encodingLength,c+"  ")+n.EOL+n.EOL,t+=c+"  "+o(r[a].encode,c+"  ")+n.EOL+n.EOL,t+=c+"  "+o(r[a].decode,c+"  ")+n.EOL,t+=c+"}"+n.EOL+n.EOL}))}(e,"exports",""),t+=o(r("./node_modules/protocol-buffers/compile.js").defined,"")+n.EOL;function o(e,t){return e.toString().split("\n").map((function(e,r){return r?t+e:e.replace(/(function \w+)\(/,"$1 (")})).join("\n")}}},"./node_modules/protocol-buffers/compile.js":function(e,t,r){(function(t){var n=r("./node_modules/protocol-buffers-encodings/index.js"),a=r("./node_modules/varint/index.js"),i=r("./node_modules/generate-object-property/index.js"),o=r("./node_modules/generate-function/index.js"),s=function(e){return null!=e&&("number"!=typeof e||!isNaN(e))},c=function(e,t){if(e.map)return"{}";if(e.repeated)return"[]";switch(e.type){case"string":return function(e){try{return!!e&&"string"==typeof JSON.parse(e)}catch(e){return!1}}(t)?t:'""';case"bool":return"true"===t?"true":"false";case"float":case"double":case"sfixed32":case"fixed32":case"varint":case"enum":case"uint64":case"uint32":case"int64":case"int32":case"sint64":case"sint32":return""+Number(t||0);default:return"null"}};e.exports=function(e,r,l){var u={},d={},p={},f=function(e,t){return l?(r=t[e],(a=n.name(r))?"encodings."+a:r.name?r.name:"encodings.enum"):"enc["+e+"]";var r,a},h=function(e,t){e.enums&&e.enums.forEach((function(e){e.id=t+(t?".":"")+e.name,d[e.id]=e,h(e,e.id)})),e.messages&&e.messages.forEach((function(r){r.id=t+(t?".":"")+r.name,u[r.id]=r,r.fields.forEach((function(r){if(r.map){var n="Map_"+r.map.from+"_"+r.map.to,a={name:n,enums:[],messages:[],fields:[{name:"key",type:r.map.from,tag:1,repeated:!1,required:!0},{name:"value",type:r.map.to,tag:2,repeated:!1,required:!1}],extensions:null,id:t+(t?".":"")+n};u[a.id]||(u[a.id]=a,e.messages.push(a)),r.type=n,r.repeated=!0}})),h(r,r.id)}))};h(e,"");var g=function(r,l){r.messages.forEach((function(e){l[e.name]=v(e.name,r.id)})),r.enums.forEach((function(e){l[e.name]=function(e){if(!e)return null;var t={};return Object.keys(e).forEach((function(r){t[r]=e[r].value})),t}(e.values)})),l.type=2,l.message=!0,l.name=r.name;var u={};r.fields.forEach((function(e){e.oneof&&(u[e.oneof]||(u[e.oneof]=[]),u[e.oneof].push(e.name))}));var d=r.fields.map((function(e){return v(e.type,r.id)})),p=d.filter((function(e,t){return d.indexOf(e)===t})),h=d.map((function(e){return p.indexOf(e)})),g=function(e){for(var t=0;t<d.length;t++)e(d[t],r.fields[t],i("obj",r.fields[t].name),t)},m=o()("function encodingLength (obj) {")("var length = 0");Object.keys(u).forEach((function(e){var t=JSON.stringify("only one of the properties defined in oneof "+e+" can be set"),r=u[e].map((function(e){return"+defined("+i("obj",e)+")"})).join(" + ");m("if ((%s) > 1) throw new Error(%s)",r,t)})),g((function(e,t,r,n){var i=t.repeated&&t.options&&t.options.packed&&"false"!==t.options.packed,o=a.encodingLength(t.tag<<3|e.type);t.required?m("if (!defined(%s)) throw new Error(%s)",r,JSON.stringify(t.name+" is required")):m("if (defined(%s)) {",r),t.map&&(m()("var tmp = Object.keys(%s)",r)("for (var i = 0; i < tmp.length; i++) {")("tmp[i] = {key: tmp[i], value: %s[tmp[i]]}",r)("}"),r="tmp"),i?(m()("var packedLen = 0")("for (var i = 0; i < %s.length; i++) {",r)("if (!defined(%s)) continue",r+"[i]")("var len = %s.encodingLength(%s)",f(h[n],p),r+"[i]")("packedLen += len"),e.message&&m("packedLen += varint.encodingLength(len)"),m("}")("if (packedLen) {")("length += %d + packedLen + varint.encodingLength(packedLen)",o)("}")):(t.repeated&&(m("for (var i = 0; i < %s.length; i++) {",r),m("if (!defined(%s)) continue",r+="[i]")),m("var len = %s.encodingLength(%s)",f(h[n],p),r),e.message&&m("length += varint.encodingLength(len)"),m("length += %d + len",o),t.repeated&&m("}")),t.required||m("}")})),m()("return length")("}"),m=m.toFunction({defined:s,varint:a,enc:p});var y=o()("function encode (obj, buf, offset) {")("if (!offset) offset = 0")("if (!buf) buf = Buffer.allocUnsafe(encodingLength(obj))")("var oldOffset = offset");Object.keys(u).forEach((function(e){var t=JSON.stringify("only one of the properties defined in oneof "+e+" can be set"),r=u[e].map((function(e){return"+defined("+i("obj",e)+")"})).join(" + ");y("if ((%s) > 1) throw new Error(%s)",r,t)})),g((function(e,t,r,n){t.required?y("if (!defined(%s)) throw new Error(%s)",r,JSON.stringify(t.name+" is required")):y("if (defined(%s)) {",r);var i,o=t.repeated&&t.options&&t.options.packed&&"false"!==t.options.packed,s=a.encode(t.tag<<3|2),c=a.encode(t.tag<<3|e.type);if(t.map&&(y()("var tmp = Object.keys(%s)",r)("for (var i = 0; i < tmp.length; i++) {")("tmp[i] = {key: tmp[i], value: %s[tmp[i]]}",r)("}"),r="tmp"),o){for(y()("var packedLen = 0")("for (var i = 0; i < %s.length; i++) {",r)("if (!defined(%s)) continue",r+"[i]")("packedLen += %s.encodingLength(%s)",f(h[n],p),r+"[i]")("}"),y("if (packedLen) {"),i=0;i<c.length;i++)y("buf[offset++] = %d",s[i]);y("varint.encode(packedLen, buf, offset)"),y("offset += varint.encode.bytes"),y("}")}if(t.repeated&&(y("for (var i = 0; i < %s.length; i++) {",r),y("if (!defined(%s)) continue",r+="[i]")),!o)for(i=0;i<c.length;i++)y("buf[offset++] = %d",c[i]);e.message&&(y("varint.encode(%s.encodingLength(%s), buf, offset)",f(h[n],p),r),y("offset += varint.encode.bytes")),y("%s.encode(%s, buf, offset)",f(h[n],p),r),y("offset += %s.encode.bytes",f(h[n],p)),t.repeated&&y("}"),t.required||y("}")})),y()("encode.bytes = offset - oldOffset")("return buf")("}"),y=y.toFunction({encodingLength:m,defined:s,varint:a,enc:p,Buffer:t});var b,_=r.fields.map((function(e,t){return e.required&&"!found"+t})).filter((function(e){return e})).join(" || "),w=o(),I=[];return g((function(e,t){var n=t.options&&t.options.default,a=v(t.type,r.id,!1),o=a&&a.values;o?t.repeated?I.push(i.property(t.name)+": []"):(n=n&&o[n]?o[n].value:o[Object.keys(o)[0]].value,I.push(i.property(t.name)+": "+parseInt(n||0,10))):I.push(i.property(t.name)+": "+c(t,n))})),I=I.filter((b={},function(e){return!b.hasOwnProperty(e)&&(b[e]=!0,!0)})),w()("function decode (buf, offset, end) {")("if (!offset) offset = 0")("if (!end) end = buf.length")('if (!(end <= buf.length && offset <= buf.length)) throw new Error("Decoded message is not valid")')("var oldOffset = offset")("var obj = {"),I.forEach((function(e,t){w(e+(t===I.length-1?"":","))})),w("}"),g((function(e,t,r,n){t.required&&w("var found%d = false",n)})),w("while (true) {")("if (end <= offset) {")(_&&'if (%s) throw new Error("Decoded message is not valid")',_)("decode.bytes = offset - oldOffset")("return obj")("}")("var prefix = varint.decode(buf, offset)")("offset += varint.decode.bytes")("var tag = prefix >> 3")("switch (tag) {"),g((function(t,n,a,o){var s=n.repeated&&(n.options&&n.options.packed&&"false"!==n.options.packed||!(n.options&&"false"==n.options.packed)&&3==e.syntax&&("float"===n.type||"double"===n.type||-1!=n.type.indexOf("int")));w("case %d:",n.tag),n.oneof&&r.fields.forEach((function(e){e.oneof===n.oneof&&n.name!==e.name&&w("delete %s",i("obj",e.name))})),s&&w()("var packedEnd = varint.decode(buf, offset)")("offset += varint.decode.bytes")("packedEnd += offset")("while (offset < packedEnd) {"),t.message?(w("var len = varint.decode(buf, offset)"),w("offset += varint.decode.bytes"),n.map?(w("var tmp = %s.decode(buf, offset, offset + len)",f(h[o],p)),w("%s[tmp.key] = tmp.value",a)):n.repeated?w("%s.push(%s.decode(buf, offset, offset + len))",a,f(h[o],p)):w("%s = %s.decode(buf, offset, offset + len)",a,f(h[o],p))):n.repeated?w("%s.push(%s.decode(buf, offset))",a,f(h[o],p)):w("%s = %s.decode(buf, offset)",a,f(h[o],p)),w("offset += %s.decode.bytes",f(h[o],p)),s&&w("}"),n.required&&w("found%d = true",o),w("break")})),w()("default:")("offset = skip(prefix & 7, buf, offset)")("}")("}")("}"),w=w.toFunction({varint:a,skip:n.skip,enc:p}),y.bytes=w.bytes=0,l.buffer=!0,l.encode=y,l.decode=w,l.encodingLength=m,l.dependencies=p,l},v=function(e,t,i){if(r&&r[e])return r[e];if(n[e])return n[e];var s=(t?t+"."+e:e).split(".").map((function(t,r,n){return n.slice(0,r).concat(e).join(".")})).reverse().reduce((function(e,t){return e||u[t]||d[t]}),null);if(!1===i)return s;if(!s)throw new Error("Could not resolve "+e);return s.values?function(e){var t=Object.keys(e.values).map((function(t){return"val !== "+parseInt(e.values[t].value,10)})).join(" && ");t||(t="true");var r=o()("function encode (val, buf, offset) {")('if (%s) throw new Error("Invalid enum value: "+val)',t)("varint.encode(val, buf, offset)")("encode.bytes = varint.encode.bytes")("return buf")("}").toFunction({varint:a}),i=o()("function decode (buf, offset) {")("var val = varint.decode(buf, offset)")('if (%s) throw new Error("Invalid enum value: "+val)',t)("decode.bytes = varint.decode.bytes")("return val")("}").toFunction({varint:a});return n.make(0,r,i,a.encodingLength)}(s):p[s.id]?p[s.id]:(p[s.id]={},g(s,p[s.id]))};return(e.enums||[]).concat((e.messages||[]).map((function(e){return v(e.id)})))},e.exports.defined=s}).call(this,r("./node_modules/buffer/index.js").Buffer)},"./node_modules/protocol-buffers/index.js":function(e,t,r){(function(t){var n=r("./node_modules/protocol-buffers-schema/index.js"),a=r("./node_modules/protocol-buffers/compile.js"),i=r("./node_modules/protocol-buffers/compile-to-js.js");e.exports=function(e,r){if(r||(r={}),!e)throw new Error("Pass in a .proto string or a protobuf-schema parsed object");var i="object"!=typeof e||t.isBuffer(e)?n.parse(e):e,o=function(){var e=this;a(i,r.encodings||{},r.inlineEnc).forEach((function(t){e[t.name]=function(e){if(!e)return null;var t={};return Object.keys(e).forEach((function(r){t[r]=e[r].value})),t}(t.values)||t}))};return o.prototype.toString=function(){return n.stringify(i)},o.prototype.toJSON=function(){return i},new o},e.exports.toJS=function(t){return i(e.exports(t,{inlineEnc:!0}))}}).call(this,r("./node_modules/buffer/index.js").Buffer)},"./node_modules/signed-varint/index.js":function(e,t,r){var n=r("./node_modules/varint/index.js");t.encode=function e(t,r,a){t=t>=0?2*t:-2*t-1;var i=n.encode(t,r,a);return e.bytes=n.encode.bytes,i},t.decode=function e(t,r){var a=n.decode(t,r);return e.bytes=n.decode.bytes,1&a?(a+1)/-2:a/2},t.encodingLength=function(e){return n.encodingLength(e>=0?2*e:-2*e-1)}},"./node_modules/util/node_modules/inherits/inherits_browser.js":function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},"./node_modules/util/support/isBufferBrowser.js":function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},"./node_modules/util/util.js":function(e,t,r){(function(e){var n=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},a=/%[sdj%]/g;t.format=function(e){if(!m(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(s(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,i=n.length,o=String(e).replace(a,(function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),c=n[r];r<i;c=n[++r])g(c)||!_(c)?o+=" "+c:o+=" "+s(c);return o},t.deprecate=function(r,n){if(void 0!==e&&!0===e.noDeprecation)return r;if(void 0===e)return function(){return t.deprecate(r,n).apply(this,arguments)};var a=!1;return function(){if(!a){if(e.throwDeprecation)throw new Error(n);e.traceDeprecation?console.trace(n):console.error(n),a=!0}return r.apply(this,arguments)}};var i,o={};function s(e,r){var n={seen:[],stylize:l};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),h(r)?n.showHidden=r:r&&t._extend(n,r),y(n.showHidden)&&(n.showHidden=!1),y(n.depth)&&(n.depth=2),y(n.colors)&&(n.colors=!1),y(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=c),u(n,e,n.depth)}function c(e,t){var r=s.styles[t];return r?"["+s.colors[r][0]+"m"+e+"["+s.colors[r][1]+"m":e}function l(e,t){return e}function u(e,r,n){if(e.customInspect&&r&&S(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var a=r.inspect(n,e);return m(a)||(a=u(e,a,n)),a}var i=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(m(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(v(t))return e.stylize(""+t,"number");if(h(t))return e.stylize(""+t,"boolean");if(g(t))return e.stylize("null","null")}(e,r);if(i)return i;var o=Object.keys(r),s=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(r)),I(r)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return d(r);if(0===o.length){if(S(r)){var c=r.name?": "+r.name:"";return e.stylize("[Function"+c+"]","special")}if(b(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(w(r))return e.stylize(Date.prototype.toString.call(r),"date");if(I(r))return d(r)}var l,_="",k=!1,C=["{","}"];(f(r)&&(k=!0,C=["[","]"]),S(r))&&(_=" [Function"+(r.name?": "+r.name:"")+"]");return b(r)&&(_=" "+RegExp.prototype.toString.call(r)),w(r)&&(_=" "+Date.prototype.toUTCString.call(r)),I(r)&&(_=" "+d(r)),0!==o.length||k&&0!=r.length?n<0?b(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),l=k?function(e,t,r,n,a){for(var i=[],o=0,s=t.length;o<s;++o)A(t,String(o))?i.push(p(e,t,r,n,String(o),!0)):i.push("");return a.forEach((function(a){a.match(/^\d+$/)||i.push(p(e,t,r,n,a,!0))})),i}(e,r,n,s,o):o.map((function(t){return p(e,r,n,s,t,k)})),e.seen.pop(),function(e,t,r){var n=e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0);if(n>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(l,_,C)):C[0]+_+C[1]}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,r,n,a,i){var o,s,c;if((c=Object.getOwnPropertyDescriptor(t,a)||{value:t[a]}).get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),A(n,a)||(o="["+a+"]"),s||(e.seen.indexOf(c.value)<0?(s=g(r)?u(e,c.value,null):u(e,c.value,r-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),y(o)){if(i&&a.match(/^\d+$/))return s;(o=JSON.stringify(""+a)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+s}function f(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function g(e){return null===e}function v(e){return"number"==typeof e}function m(e){return"string"==typeof e}function y(e){return void 0===e}function b(e){return _(e)&&"[object RegExp]"===k(e)}function _(e){return"object"==typeof e&&null!==e}function w(e){return _(e)&&"[object Date]"===k(e)}function I(e){return _(e)&&("[object Error]"===k(e)||e instanceof Error)}function S(e){return"function"==typeof e}function k(e){return Object.prototype.toString.call(e)}function C(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(r){if(y(i)&&(i=e.env.NODE_DEBUG||""),r=r.toUpperCase(),!o[r])if(new RegExp("\\b"+r+"\\b","i").test(i)){var n=e.pid;o[r]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",r,n,e)}}else o[r]=function(){};return o[r]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=f,t.isBoolean=h,t.isNull=g,t.isNullOrUndefined=function(e){return null==e},t.isNumber=v,t.isString=m,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=y,t.isRegExp=b,t.isObject=_,t.isDate=w,t.isError=I,t.isFunction=S,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r("./node_modules/util/support/isBufferBrowser.js");var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function E(){var e=new Date,t=[C(e.getHours()),C(e.getMinutes()),C(e.getSeconds())].join(":");return[e.getDate(),T[e.getMonth()],t].join(" ")}function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",E(),t.format.apply(t,arguments))},t.inherits=r("./node_modules/util/node_modules/inherits/inherits_browser.js"),t._extend=function(e,t){if(!t||!_(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var P="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function x(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(P&&e[P]){var t;if("function"!=typeof(t=e[P]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,P,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise((function(e,n){t=e,r=n})),a=[],i=0;i<arguments.length;i++)a.push(arguments[i]);a.push((function(e,n){e?r(e):t(n)}));try{e.apply(this,a)}catch(e){r(e)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),P&&Object.defineProperty(t,P,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,n(e))},t.promisify.custom=P,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function r(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var a=r.pop();if("function"!=typeof a)throw new TypeError("The last argument must be of type Function");var i=this,o=function(){return a.apply(i,arguments)};t.apply(this,r).then((function(t){e.nextTick(o,null,t)}),(function(t){e.nextTick(x,t,o)}))}return Object.setPrototypeOf(r,Object.getPrototypeOf(t)),Object.defineProperties(r,n(t)),r}}).call(this,r("./node_modules/process/browser.js"))},"./node_modules/varint/decode.js":function(e,t){e.exports=function e(t,r){var n,a=0,i=0,o=r=r||0,s=t.length;do{if(o>=s)throw e.bytes=0,new RangeError("Could not decode varint");n=t[o++],a+=i<28?(127&n)<<i:(127&n)*Math.pow(2,i),i+=7}while(n>=128);return e.bytes=o-r,a}},"./node_modules/varint/encode.js":function(e,t){e.exports=function e(t,n,a){n=n||[];var i=a=a||0;for(;t>=r;)n[a++]=255&t|128,t/=128;for(;-128&t;)n[a++]=255&t|128,t>>>=7;return n[a]=0|t,e.bytes=a-i+1,n};var r=Math.pow(2,31)},"./node_modules/varint/index.js":function(e,t,r){e.exports={encode:r("./node_modules/varint/encode.js"),decode:r("./node_modules/varint/decode.js"),encodingLength:r("./node_modules/varint/length.js")}},"./node_modules/varint/length.js":function(e,t){var r=Math.pow(2,7),n=Math.pow(2,14),a=Math.pow(2,21),i=Math.pow(2,28),o=Math.pow(2,35),s=Math.pow(2,42),c=Math.pow(2,49),l=Math.pow(2,56),u=Math.pow(2,63);e.exports=function(e){return e<r?1:e<n?2:e<a?3:e<i?4:e<o?5:e<s?6:e<c?7:e<l?8:e<u?9:10}},"./node_modules/webpack/buildin/global.js":function(e,t){var r;r=globalThis;try{r=r||new n("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r}})),t}"undefined"==typeof __SDK_SUB_PACKAGE__&&(e.exports=a),globalThis.__protobufSDKGetter__={getProtobuf:()=>(...e)=>a()(...e)}},41:e=>{var t,r,n,a,i,o,s,c=c||function(e,t){var r={},n=r.lib={},a=function(){},i=n.Base={extend:function(e){a.prototype=this;var t=new a;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},o=n.WordArray=i.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||c).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes;if(e=e.sigBytes,this.clamp(),n%4)for(var a=0;a<e;a++)t[n+a>>>2]|=(r[a>>>2]>>>24-a%4*8&255)<<24-(n+a)%4*8;else if(65535<r.length)for(a=0;a<e;a+=4)t[n+a>>>2]=r[a>>>2];else t.push.apply(t,r);return this.sigBytes+=e,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=i.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var r=[],n=0;n<t;n+=4)r.push(4294967296*e.random()|0);return new o.init(r,t)}}),s=r.enc={},c=s.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var r=[],n=0;n<e;n++){var a=t[n>>>2]>>>24-n%4*8&255;r.push((a>>>4).toString(16)),r.push((15&a).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new o.init(r,t/2)}},l=s.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var r=[],n=0;n<e;n++)r.push(String.fromCharCode(t[n>>>2]>>>24-n%4*8&255));return r.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new o.init(r,t)}},u=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(l.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return l.parse(unescape(encodeURIComponent(e)))}},d=n.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r=this._data,n=r.words,a=r.sigBytes,i=this.blockSize,s=a/(4*i);if(t=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*i,a=e.min(4*t,a),t){for(var c=0;c<t;c+=i)this._doProcessBlock(n,c);c=n.splice(0,t),r.sigBytes-=a}return new o.init(c,a)},clone:function(){var e=i.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});n.Hasher=d.extend({cfg:i.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new p.HMAC.init(e,r).finalize(t)}}});var p=r.algo={};return r}(Math);r=(i=(t=c).lib).WordArray,n=i.Hasher,a=[],i=t.algo.SHA1=n.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],s=r[3],c=r[4],l=0;80>l;l++){if(16>l)a[l]=0|e[t+l];else{var u=a[l-3]^a[l-8]^a[l-14]^a[l-16];a[l]=u<<1|u>>>31}u=(n<<5|n>>>27)+c+a[l],u=20>l?u+(1518500249+(i&o|~i&s)):40>l?u+(1859775393+(i^o^s)):60>l?u+((i&o|i&s|o&s)-1894007588):u+((i^o^s)-899497514),c=s,s=o,o=i<<30|i>>>2,i=n,n=u}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+s|0,r[4]=r[4]+c|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),t[15+(n+64>>>9<<4)]=r,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}}),t.SHA1=n._createHelper(i),t.HmacSHA1=n._createHmacHelper(i),function(){var e=c,t=e.enc.Utf8;e.algo.HMAC=e.lib.Base.extend({init:function(e,r){e=this._hasher=new e.init,"string"==typeof r&&(r=t.parse(r));var n=e.blockSize,a=4*n;r.sigBytes>a&&(r=e.finalize(r)),r.clamp();for(var i=this._oKey=r.clone(),o=this._iKey=r.clone(),s=i.words,c=o.words,l=0;l<n;l++)s[l]^=1549556828,c[l]^=909522486;i.sigBytes=o.sigBytes=a,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher;return e=t.finalize(e),t.reset(),t.finalize(this._oKey.clone().concat(e))}})}(),s=(o=c).lib.WordArray,o.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,n=this._map;e.clamp();for(var a=[],i=0;i<r;i+=3)for(var o=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,s=0;s<4&&i+.75*s<r;s++)a.push(n.charAt(o>>>6*(3-s)&63));var c=n.charAt(64);if(c)for(;a.length%4;)a.push(c);return a.join("")},parse:function(e){var t=e.length,r=this._map,n=r.charAt(64);if(n){var a=e.indexOf(n);-1!=a&&(t=a)}for(var i=[],o=0,c=0;c<t;c++)if(c%4){var l=r.indexOf(e.charAt(c-1))<<c%4*2,u=r.indexOf(e.charAt(c))>>>6-c%4*2;i[o>>>2]|=(l|u)<<24-o%4*8,o++}return s.create(i,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},e.exports=c},3555:(e,t,r)=>{"use strict";r.d(t,{z:()=>o});var n=r(4318),a=r(3847),i=r(3329),o=(0,a.r)((()=>{var e,t={};if((0,n.IN)("getMenuButtonBoundingClientRect",{success(e){Object.assign(t,e),delete t.errMsg},fail(t){e=t.errMsg}}),e)throw new i.i(e);return t}))},9600:(e,t,r)=>{"use strict";r.d(t,{KN:()=>n.KN});var n=r(3170)},5517:(e,t,r)=>{"use strict";r.r(t),r.d(t,{_checkIsInteracting:()=>P,_showModal:()=>m,_subscribeNativeUi:()=>g,hideLoading:()=>T,hideToast:()=>S,showActionSheet:()=>E,showLoading:()=>C,showModal:()=>b,showShareActionSheet:()=>A,showToast:()=>I});var n=r(4318),a=r(8311),o=r(3311),s=r(6468),c=r(7063),l=r(4275),u=r(1444),d=r(4785),p=r(8013),f=!1,h=[];function g(e){h.push(e)}function v(e,t){try{h.forEach((r=>r(e,t)))}catch(e){}}var m=(e={})=>{var t={title:"",content:"",confirmText:"确定",cancelText:"取消",showCancel:!0,confirmColor:"#576B95",confirmColorDark:void 0!==i.theme&&e.confirmColor?e.confirmColor:"#7D90A9",cancelColor:"#000000",cancelColorDark:void 0!==i.theme&&e.cancelColor?e.cancelColor:"#AAAAAA",editable:!1,placeholderText:""};if(t=(0,o.l7)(t,e),(0,n.r3)("showModal",t,{title:"",content:"",confirmText:"",cancelText:"",confirmColor:"",cancelColor:"",editable:!1,placeholderText:""})){var r=!1;if(e.__sdk_inner_allowShowMoreLength__&&(r=!0),!r&&t.confirmText.replace(/[^\x00-\xff]/g,"##").length>8)(0,n.YG)("showModal",e,"confirmText length should not larger than 4 Chinese characters");else if(t.cancelText.replace(/[^\x00-\xff]/g,"##").length>8)(0,n.YG)("showModal",e,"cancelText length should not larger than 4 Chinese characters");else{var a=y.getCurrentRoutePath(),s=(0,p._getCurrentNetworkType)();v("showModal",t),(0,n.IN)("showModal",t,{beforeSuccess:e=>{e.confirm=Boolean(e.confirm),l.cj?e.cancel=!e.confirm:e.cancel=!e.confirm&&Boolean(e.cancel),v("closeModal",e),(0,c.Hk)()},beforeAll(){f=!0},afterAll(){f=!1,(0,d.yY)({apiName:"showModal",content:t.content,title:t.title,routePath:a,networkType:s})}})}}},b=(e={})=>{e.__sdk_inner_allowShowMoreLength__&&delete e.__sdk_inner_allowShowMoreLength__,m(e),(0,l.aI)()&&(0,u.y4)(u.F0.EVENT_CANVAS_AFTER_MODAL)},_=1,w=!1,I=(e={})=>{var t={duration:1500,title:"",icon:"success",mask:!1};t=(0,o.l7)(t,e),e.image&&(t.image=(0,a.sd)(s.Z.lastRoute,e.image,!1)),["success","loading","none","error"].indexOf(t.icon)<0&&(t.icon="success"),"none"===t.icon&&(t.icon=""),(0,n.r3)("showToast",t,{duration:1,title:"",icon:""})&&(w=_++,setTimeout((()=>{w=!1}),t.duration),t.maskAll=!1,v("showToast",t),(0,n.IN)("showToast",t),"success"!==t.icon&&setTimeout((()=>{(0,d.yY)({apiName:"showToast",title:t.title,networkType:(0,p._getCurrentNetworkType)(),routePath:y.getCurrentRoutePath()})})))},S=(e={})=>{if((l.gm||e.noConflict)&&k&&(!w||w<k))return w=!1,"function"==typeof e.success&&setTimeout((()=>{e.success({errMsg:"hideToast:ok"})})),"function"==typeof e.complete&&setTimeout((()=>{e.complete({errMsg:"hideToast:ok"})})),void console.warn("请注意 showToast 与 hideToast 必须配对使用");w=!1,v("hideToast",e),(0,n.IN)("hideToast",e)},k=!1,C=(e={})=>{var t={title:"",icon:"loading",mask:!1,duration:1e8};(t=(0,o.l7)(t,e)).icon="loading",delete t.image,(0,n.r3)("showLoading",t,{duration:1,title:""})&&(k=_++,t.maskAll=!1,y.startLoading(),v("showToast",t),(0,n.IN)("showToast",t,{beforeAll:e=>{e.errMsg=e.errMsg.replace("showToast","showLoading")}}))},T=(e={})=>{if((l.gm||e.noConflict)&&w&&(!k||k<w))return k=!1,"function"==typeof e.success&&setTimeout((()=>{e.success({errMsg:"hideLoading:ok"})})),"function"==typeof e.complete&&setTimeout((()=>{e.complete({errMsg:"hideLoading:ok"})})),void console.warn("请注意 showLoading 与 hideLoading 必须配对使用");k=!1,y.endLoading((0,p._getCurrentNetworkType)()),v("hideToast",e),(0,n.IN)("hideToast",e,{beforeAll:e=>{e.errMsg=e.errMsg.replace("hideToast","hideLoading")}})},E=(e={})=>{var t={itemList:[],itemColor:"#000000",itemColorDark:void 0!==i.theme&&e.itemColor?e.itemColor:"#FFFFFFCC"};delete(t=(0,o.l7)(t,e)).cancelText,delete t.cancelColor,(0,n.r3)("showActionSheet",t,{itemList:["1"],itemColor:""})&&(e.itemList.length>6?(0,n.YG)("showActionSheet",e,"parameter error: itemList should not be large than 6"):(v("showActionSheet",t),(0,n.IN)("showActionSheet",t,{beforeAll:e=>{(e.errMsg.indexOf(":ok")>-1||e.errMsg.indexOf(":cancel")>-1)&&(0,c.Hk)(),v("closeActionSheet",e),f=!0},afterAll:()=>{f=!1}})))},A=(e={})=>{(0,n.IN)("showShareActionSheet",e)},P=()=>f},9691:(e,t,r)=>{"use strict";r.d(t,{et:()=>f,lX:()=>s,q7:()=>c,jM:()=>P,eZ:()=>p});var n=r(5333),a=r(4318),i=r(5042),o=null,s=(e={})=>{if((0,a.r3)("showAuthorize",e,{apply:""})){var t=n.Z.accountInfo.nickname,r=n.Z.accountInfo.icon,s=JSON.stringify({nickname:t,icon:r,apply:e.apply,overlay:e.overlay}),c=(0,i.vJ)((e=>{[i.ML.BottomBackButton,i.ML.NavigationBackInterceptionType,i.ML.NavigateBackCall].includes(e.type)&&o&&(o.handleCancel(),o=null)}));__sclEngine__.initScl((t=>{(o=t.mainRoot.append("authorize",{input:s})).addListener("confirm",(()=>{(0,i.J_)(c),(0,a.FE)({name:"showAuthorize",args:e})})),o.addListener("cancel",(()=>{(0,i.J_)(c),(0,a.YG)("showAuthorize",e,"cancel")}))}))}};function c(e={}){__sclEngine__.initScl((t=>{t.mainRoot.append("game-ranklist",e)}))}var l=r(3555),u=r(2821),d=null;function p(e={},t){if(d)return t&&t(d);var{top:r}=(0,u.Mm)({height:20,width:180,align:"right"}),{right:a}=(0,l.z)(),i=n.Z.screenWidth-a,o=JSON.stringify(e);__sclEngine__.initScl((e=>{d=e.mainRoot.append("verify-tip",{top:r,right:i,info:o}),(0,u.RM)({component:d,getVisibleAera:e=>e.__wxSlotChildren[0].__wxSlotChildren[0].childNodes[0].getBoundingClientRect()}),d.addListener("destroy",(()=>{(0,u.d8)(d),d=null})),t&&t(d)}))}function f(e={}){__sclEngine__.initScl((t=>{t.mainRoot.append("ad-skip-card",e)}))}var h=r(9097),g=r.n(h),v=r(9323),m=r(4163),y=r(4770),b=r(1344),_=null,w=!1,I="",S=0,k=null,C=({value:e})=>{I&&_.setData({[I]:e})},T=({value:e})=>{w=!1,I&&_.setData({[I]:e})},E=({detail:e})=>{I===e.key&&w||(I=e.key,w?(0,m.IN)("hideKeyboard",{success:()=>{w=!1,setTimeout((()=>{(0,m.IN)("showKeyboard",{confirmType:"done",defaultValue:e.value,type:"id"===I?"identity":"text",style:{height:"50px"},success:()=>{w=!0}})}),800)}}):(0,m.IN)("showKeyboard",{confirmType:"done",defaultValue:e.value,type:"id"===I?"identity":"text",style:{height:"50px"},success(){w=!0,_.setData({open:w,key:I})}}))},A=({height:e})=>{e<100?_.setData({keyboardHeight:0}):_.setData({keyboardHeight:e+50})};function P(e={},t){var r;if(clearInterval(k),S=null!==(r=e.remainSeconds)&&void 0!==r?r:S,k=setInterval((()=>{S>0&&S--}),1e3),_)return t&&t(_);__sclEngine__.initScl((r=>{_=r.mainRoot.append("verify-modal",e),(0,y.n)("onKeyboardHeightChange",A),_.addListener("destroy",(({detail:t})=>{_=null,(0,b.S1)(C),(0,b._g)(T),(0,y.ri)("onKeyboardHeightChange",A),e.des&&e.des(null==t?void 0:t.reason),"success"===(null==t?void 0:t.reason)&&e.reportkv({UIArea:1511,PositionID:1,ActionID:2,Status:e.isSoftMode?3:1})})),_.addListener("click",E),_.addListener("confirm",(({detail:t})=>((0,m.IN)("hideKeyboard",{success:()=>{w=!1}}),e.confirm(g()(g()({},t),{},{showModal:(...e)=>_.showModal(...e)}))))),_.addListener("switchPage",(({detail:t})=>{w&&(0,m.IN)("hideKeyboard",{success:()=>{w=!1}});var{page:r}=t,n=e.half?1508:1507;"help"===r?n=1509:"fail"===r?n=1510:"succ"===r&&(n=1511),e.reportkv({UIArea:n,PositionID:0,ActionID:1,Status:e.isSoftMode?3:1}),_.setData(g()({},t))})),_.addListener("close",(({detail:t})=>{!e.isSoftMode&&S<=0?(0,v.HK)():(_.des(null==t?void 0:t.reason),"fail"===(null==t?void 0:t.reason)?e.reportkv({UIArea:1510,PositionID:1,ActionID:2,Status:e.isSoftMode?3:1}):"cancel"===(null==t?void 0:t.reason)&&((0,m.IN)("hideKeyboard",{success:()=>{w=!1}}),e.reportkv({UIArea:e.half?1508:1507,PositionID:3,ActionID:2,Status:e.isSoftMode?3:1})))})),_.addListener("report",(({detail:t})=>{e.reportkv(t)})),(0,b.s2)(C),(0,b.xN)(T),t&&t(_)}))}},2821:(e,t,r)=>{"use strict";r.d(t,{Mm:()=>m,RM:()=>d,d8:()=>p});var n=r(9097),a=r.n(n),i=r(3243),o=r.n(i),s=r(5333),c=r(3555),l=["width","left"],u=new Map;function d({component:e,getVisibleAera:t}){u.has(e)||u.set(e,t)}function p(e){u.delete(e)}function f(){return[...u.entries()].map((([e,t])=>{var{width:r,height:n,left:a,top:i}=t(e);return{width:r,height:n,left:a,top:i}}))}function h({left:e,width:t}){return e+t}function g({top:e,height:t}){return e+t}function v(e,t){var r;null!==(r=t)&&void 0!==r||(t=f());var n=t.findIndex((t=>{return r=t,n=e,a=Math.max(r.left,n.left),i=Math.max(a,Math.min(h(r),h(n))),o=Math.max(r.top,n.top),s=Math.max(o,Math.min(g(r),g(n))),a!==i&&o!==s;var r,n,a,i,o,s}));return-1!==n&&t[n]}u.set({},(()=>(0,c.z)()));function m({height:e,width:t,align:r="right",padding:n=8}){for(var i,c=null!==(i=s.Z.screenWidth)&&void 0!==i?i:375,u=c/2,d=f(),p=d.map((e=>{var{width:t,left:r}=e,n=o()(e,l);return a()(a()({width:t,left:r},n),{},{align:t>u?"center":r<u?"left":"right"})})).filter((({align:e})=>r===e||"center"===e)).sort(((e,t)=>e.top-t.top)),h=p[p.length-1],g={height:e,width:t,left:"left"===r?0:c-t,top:h?h.height+h.top+n:0},m=v(g,d);m;)g.top=m.top+m.height+n,m=v(g,d);return g}},5042:(e,t,r)=>{"use strict";r.d(t,{ML:()=>g,vJ:()=>C,J_:()=>T});var n,a=r(3888),i=r.n(a),o=r(9097),s=r.n(o),c=r(9190),l=r(4318),u=r(5358),d=r(6468),p=r(5543),f=r(4686),h=(0,u.s)("navigateBackIntercept"),g={SlideBack:1,BottomBackButton:2,NavigationBarBack:3,NavigateBackCall:4},v=[g.SlideBack,g.BottomBackButton,g.NavigationBarBack,g.NavigateBackCall],m=[],y=0;(0,l.jQ)("onNavigateBackIntercept",((e={})=>{var{id:t}=n||{};h.emit(s()(s()({},e),{},{id:t})),(0,l.nY)("onNavigateBackIntercept",s()(s()({},e),{},{id:t}))}));var b=Object.create(null);(0,p.HM)((e=>{var t=e.webviewId;b[t]||((0,f.dq)(t,(()=>{if(delete b[t],m.length)for(var e,r=0;r<m.length;)(e=m[r]).options.webviewId&&e.options.webviewId===t?m.splice(r,1):r+=1}),"setNavigateBackInterception"),b[t]=!0),m.length&&_()}));var _=function(){var e=i()((function*(){var e;n=void 0;for(var t=m.length-1;t>=0;--t)if(void 0===(e=m[t]).options.webviewId||e.options.webviewId===d.Z.currentWebviewId){n=e;break}var r=n?n.options.scopes:[],a=new Set(r||[]);return(0,l.bb)("setNavigateBackInterception",{scopes:v.map((e=>({type:e,interception:a.has(e)})))})}));return function(){return e.apply(this,arguments)}}(),w=function(){var e=i()((function*(e={}){var t;e=s()(s()({},e),{},{scopes:null!==(t=e.scopes)&&void 0!==t?t:v});var r=++y;return m.push({id:r,options:e}),yield _(),{id:r}}));return function(){return e.apply(this,arguments)}}(),I=((0,c.NX)("setNavigateBackInterceptionById",w),function(){var e=i()((function*({id:e}={}){var t=m.findIndex((t=>t.id===e));t<0||(m.splice(t,1),yield _())}));return function(){return e.apply(this,arguments)}}()),S=((0,c.NX)("stopNavigateBackInterceptionById",I),h.internalOnMethod),k=h.internalOffMethod,C=function(){var e=i()((function*(e,t=v){var{id:r}=yield w({scopes:t}),n=t=>{t.id===r&&e(t)};return S(n),{id:r,handler:n}}));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=i()((function*(e){var{id:t,handler:r}=(yield e)||{};yield I({id:t}),k(r)}));return function(t){return e.apply(this,arguments)}}()},3170:(e,t,r)=>{"use strict";r.d(t,{KN:()=>g});var n=r(4770),a=r(7828),i=[],o=null,s=null,c=!1,l=[],u=!1,d="",p=0,f=0,h=e=>{o=e;var t=!1,r=!0;e.deviceOrientation!==d&&(t=!0),e.size.windowWidth!==p&&(t=!0),e.size.windowHeight!==f&&(t=!0),(e=>{e.deviceOrientation&&(d=e.deviceOrientation),p=e.size.windowWidth,f=e.size.windowHeight})(e),e.pageOrientation&&(e.pageOrientation.setPageOrientation&&(u=!0),"auto"===e.pageOrientation.originalPageOrientation||u||(t=!1,r=!1)),void 0!==a.hr&&a.hr.isFramesetMode()&&(r=!1),t&&(c=!0);var n=e.changedWebviewIds;r&&n&&n.forEach((e=>{l.indexOf(e)<0&&l.push(e)})),s||(s=setTimeout((()=>{s=null;var e=c;c=!1;var t=l;l=[];var r={deviceOrientation:o.deviceOrientation,size:o.size};e&&i.forEach((e=>{_.surroundThirdByTryCatch(e,"at onWindowResize callback function")(r)})),t.forEach((e=>{var t=void 0!==a.hr?a.hr.getPageByWebviewId(e):null;t&&_.surroundThirdByTryCatch((()=>{t.__callPageLifeTime__("onResize",r)}),"at Resize callback function")()}))}),16))};(0,n.n)("onViewDidResize",(e=>{h(e)}));var g=e=>{i.push(e)}},5409:(e,t,r)=>{"use strict";r.d(t,{Jx:()=>m,UU:()=>d,V8:()=>_,ZA:()=>y,g4:()=>v,n6:()=>p,ye:()=>w});var n=r(5333),a=r(7023),i=r(6468),o=r(4318),s=r(4275),c=0,l=1,u=2,d={OK:1,BLOCK:2,NO_BLOCK:3},p={NAVIGATE_TO:1,SWITCH_TAB:2,REDIRECT_TO:3,API:4,RE_LAUNCH:5},h=f.createLogger("BanForPage"),g=!1,v=new Set(["shareAppMessage","shareAppMessageDirectly","requestPayment","setClipboardData","getClipboardData","getLocation","getPhoneNumber","navigateToMiniProgram","navigateBackMiniProgram"]),m=[];function y(e){if(!e)return-1;var t=-1;try{t=m.findIndex((t=>(0,a.HD)(t.path_rule)&&new RegExp(t.path_rule).test(e)))}catch(e){h.log(`[getBanRuleIndexByPath] error: ${e.message}`)}return h.log(`[getBanRuleIndexByPath] path="${e}", index=${t}`),t}function b(e,t,r){var n=function(e,t,r){for(var n=-1,i=0;i<m.length;i++){var o=m[i];if((!(0,a.HD)(o.path_rule)||!o.path_rule||new RegExp(o.path_rule).test(t))&&(!(0,a.HD)(o.title_rule)||!o.title_rule||new RegExp(o.title_rule).test(r))){n=i;break}}return h.log(`[getBanRuleIndexForPage] banRuleIndex=${n}`),n}(0,t,r);return-1===n?(w(e,d.OK,p.API,e),!0):function(e,t){var r,n,a=e.ban_jsapi_list.find((e=>e.jsapi_name===t));if(!a)return h.log("[checkAPIAvailableForPageByRule], no APIItem found"),!0;if(h.log("[checkAPIAvailableForPageByRule], found APIItem:",a),a.state===c)r=!1;else if(a.state===l)r=!0;else if(a.state===u&&(r=!0,1===e.is_valid)){var i=a.toast_wording||"该功能暂时无法使用";(0,o.be)("showToast",{title:i,icon:"none"})}return n=r?e.is_valid?d.BLOCK:d.NO_BLOCK:d.OK,w(t,n,p.API,t),1!==e.is_valid||!r}(m[n],e)}function _(e){var t=Object.keys(i.Z.query).reduce(((e,t)=>[...e,`${t}=${i.Z.query[t]}`]),[]).join("&");return b(e,i.Z.lastRoute+(t?`?${t}`:""),i.Z.navigationBarTitleMap[i.Z.lastRoute]||"")}function w(e,t,r,a="",s=""){if(h.log(`[reportAPIBanForPage] APIName=${e}, blockType=${t}, checkScene=${r}, extraInfo=${a}, needReport=${g}`),g){var{appLaunchInfo:c}=n.Z,l=Object.keys(i.Z.query).map((e=>`${e}=${i.Z.query[e]}`)).join("&"),u={session_id:c.sessionid||c.sessionId,cur_path:i.Z.lastRoute+(l?`?${l}`:""),title:i.Z.navigationBarTitleMap[i.Z.lastRoute],check_scene:r,block_status:t,extra_info:a,launch_scene:c.scene,launch_path:c.path,target_path:s};h.log("[reportAPIBanForPage], reqData:",u),(0,o.yD)({reqData:u,apiName:"webapi_reportnvgcheckinfo",complete(e){h.log(`[reportAPIBanForPage], res.errMsg=${e.errMsg}`)}})}}n.Z.onReady((()=>{if(!s.gm)try{var{do_report:e,navigate_ban_rule_list:t}=n.Z.appContactInfo.operationInfo.jsonInfo.navigate_ban_info;m=t,g=1===e,v=new Set(t.reduce(((e,t)=>[...e,...t.ban_jsapi_list]),v))}catch(e){h.error(`[BanForPage][init] fail, errMsg=${e.message}`)}}))},9629:(e,t,r)=>{"use strict";r.d(t,{a:()=>i});var n=null,a=new Proxy({},{get(e,t,r){if(!n)throw new Error("NativeGlobal not ready");return Reflect.get(n,t,r)},set(e,t,r,a){if(!n)throw new Error("NativeGlobal not ready");return Reflect.set(n,t,r,a)}});function i(e){o.onLoad((()=>{e(a)}))}o.onLoad((()=>{n="undefined"!=typeof NativeGlobal?NativeGlobal:{}})),t.Z=a},5333:(e,t)=>{"use strict";var r=(()=>(i.onReady((()=>{r!==i&&void 0!==r&&Object.assign(r,i)})),i))();t.Z=r},1641:(e,t,r)=>{"use strict";r.d(t,{t:()=>i});var n=null,a=!1;function i(){if(!a)throw new Error("WeixinArrayBuffer not ready");return n}o.onLoad((()=>{n=r.g.WeixinArrayBuffer,a=!0}))},7686:(e,t,r)=>{"use strict";r.d(t,{XG:()=>A,SO:()=>v,iq:()=>k,eJ:()=>b,QE:()=>_});var n=r(9097),a=r.n(n),i=r(8013),o=r(7023),s={},c=r(6564),l=r(5722),u=r(485),d=r(4786),p=r(5629),h=new WeakSet,g=["showModal","showToast","showLoading"];function v(e,t){var r=Object.getOwnPropertyDescriptor(e,t);return!!r&&(!!r.configurable&&(!(!t||"_"===t[0])&&(!l.Mw.includes(t)&&r)))}function m(e,...t){(0,o.mf)(e)&&e(...t)}function b(e,t,r,n=!1){var a=(0,d.M8)(),i=Date.now();return(o,s,l=!1)=>{(0,c.m)(e,a,t,null===s?0:1,i,0,s,r,n),!l&&(0,c.m)(e,a,t,o?1:0,i,1,s,r,n,!0)}}function _(e,t){!function(e,t,r,n,a=!1){if(!(0,o.Kn)(t))return;var s=new I;for(var l of Object.getOwnPropertyNames(t))if(v(t,l)){var p=Object.getOwnPropertyDescriptor(t,l);if(p.get||!p.writable||!(0,o.mf)(t[l]))return;s.set(l,t[l])}var f=Object.getPrototypeOf(t);for(var h of Object.getOwnPropertyNames(f))if(!v(f,h)){var g=Object.getOwnPropertyDescriptor(f,h);if(g.get||!g.writable||!(0,o.mf)(f[h]))return;s.set(h,f[h])}s.forEach(((o,s)=>{var l;t[s]=new Proxy(t[s],{construct(t,o){var s,p=(0,u._K)(e),f=null!==(s=null==p?void 0:p.ratio)&&void 0!==s?s:r,h=1===(null==p?void 0:p.ratio)||a,g=S()<f,v=(0,i._getCurrentNetworkType)(),m=Date.now(),y=(0,d.M8)();l=o;try{var b=Reflect.construct(t,o);return g&&(0,c.m)(e,y,o,null===b?0:1,m,v,0,b,n,h),b}catch(t){throw g&&(0,c.m)(e,y,l,0,m,v,0,t,n,h),t}},get:(e,t)=>t===Symbol.hasInstance?t=>t instanceof e:e[t]})}))}("",e,1,t,!1)}var I=Map,S=Math.random,k=(e,t)=>!!(0,u.eF)(e)||!(0,u.M)(e)&&(!s[e]&&(!(0,o.Kn)(t)||!("success"in t||"fail"in t||"complete"in t)||void 0));function C(e,t,r,n,s,l,v){var b=function(_,...I){var C,E,A=!1,P=(0,u._K)(e),x=null!==(C=null==P?void 0:P.ratio)&&void 0!==C?C:s,M=1===(null==P?void 0:P.ratio)||v,R=S()<x,D=(0,d.M8)(),L=y.getAsyncCallApiRelatedEvent();(E=y.getTrackUserAction())&&y.pushApiToEventApiList(e,D);var N=Date.now(),O=I.length?[_,...I]:_,B=!0;Promise.resolve().then((()=>{B=!1}));var j=()=>!B,F=t=>{var r;(0,p.d)(e,{res:t}).then((r=>{M=M||r||A,(r||R||A)&&(!M||!w.isLimitReport(21688))&&(0,c.m)(e,D,O,1,N,1,t,l,M,j())})).catch((e=>{f.warn("checkPointFullReportRule err:",e)})),g.includes(e)&&y.reportInteractionAPI({api:e,result:0,res:t}),"request"!==e&&y.traceApi(e,_,t,null,D,Date.now()-N,!0),E&&(r=y.setAsyncCallApiRelatedEvent(E)),m(_&&_.success,t),E&&!1!==r&&setTimeout((()=>y.clearAsyncCallApiRelatedEvent(E)),y.getAsyncCallbackJoinEventInterval())},U=t=>{var r;((0,p.d)(e,{res:t}).then((r=>{M=M||r||A,(r||R||A)&&(!M||!w.isLimitReport(21688))&&(0,c.m)(e,D,O,0,N,1,t,l,M,j())})).catch((e=>{f.warn("checkPointFullReportRule err:",e)})),g.includes(e)&&y.reportInteractionAPI({api:e,result:1,res:t}),"request"!==e&&y.traceApi(e,_,t,!0,D,Date.now()-N,!0,{errMsg:t.errMsg,errno:t.errno}),t.errno&&w.reportKeyValue({key:"WeAppRequestErrnoInfo",value:[e,t.errno].join(",")}),(0,o.mf)(_&&_.fail))?(E&&(r=y.setAsyncCallApiRelatedEvent(E)),m(_&&_.fail,t),E&&!1!==r&&setTimeout((()=>y.clearAsyncCallApiRelatedEvent(E)),y.getAsyncCallbackJoinEventInterval())):console.warn("call failed:,",t)};try{var W,G=arguments.length?[k(e,_)?_:Object.assign({},_,a()(a()({},"request"===e?{__wx_inner_uuid__:D,__wx_inner_invokeTime__:N,__wx_inner_request_network_type__:(0,i._getCurrentNetworkType)(),__wx_request_route_path__:y.getCurrentRoutePath()}:{}),{},{success:F,fail:U})),...I]:[];W=this instanceof b?Reflect.construct(t,G,t):Reflect.apply(t,r,G),y.traceApi(e,_,W,null,D,Date.now()-N,!1,{relatedEvent:L});var V=null===W?0:1,$=(0,p.d)(e,{req:O,res:W});return $.then((t=>{t&&(A=!0),M=M||t,(t||R)&&(!M||!w.isLimitReport(21688))&&(0,c.m)(e,D,O,V,N,0,W,l,M)})).catch((e=>{f.warn("checkPointFullReportRule err:",e)})),n&&(0,o.Kn)(W)&&!h.has(W)&&(T(e,W,!1,s,l,M,!1),h.add(W)),W}catch(t){y.traceApi(e,_,null,!0,D,Date.now()-N,!1,{errMsg:t,relatedEvent:L});var q=(0,p.d)(e,{req:O});throw q.then((r=>{r&&(A=!0),M=M||r,(r||R)&&(!M||!w.isLimitReport(21688))&&(0,c.m)(e,D,O,0,N,0,t,l,M)})).catch((e=>{f.warn("checkPointFullReportRule err:",e)})),t}};return b}function T(e,t,r,n,a,i,s){if(!(0,o.Kn)(t))return t;var c,l=new I;for(var u of Object.getOwnPropertyNames(t))(c=v(t,u))&&l.set(u,c);var d=Object.getPrototypeOf(t);for(var p of Object.getOwnPropertyNames(d))(c=v(d,p))&&!c.get&&l.set(p,c);return l.forEach(((c,l)=>{if(s&&c.get)Object.defineProperty(t,l,{get:(d=function(){var u=c.get.apply(this);return(0,o.mf)(u)?C(`${e}${e?".":""}${l}`,u,t,r&&"Sync"!==l.slice(-4),n,a,i):(0,o.Kn)(u)&&s?T(`${e}${e?".":""}${l}`,u,r,n,a,i,s):void 0},function(){return p=p||d.apply(this)}),set:c.set,enumerable:c.enumerable,configurable:c.configurable});else{var u=c.value;if(!c.writable)return;(0,o.mf)(u)?t[l]=C(`${e}${e?".":""}${l}`,u,t,r&&"Sync"!==l.slice(-4),n,a,i):(0,o.Kn)(u)&&s&&(t[l]=T(`${e}${e?".":""}${l}`,u,r,n,a,i,s))}var d,p})),t}var E=!1;function A(e,t=0){T("",e,!0,.05,t,!1,!0),function(e){if(e.createCanvas){var t=e.createCanvas;e.createCanvas=()=>{var r=t.call(e);if(r&&r.getContext){var n=r.getContext;r.getContext=(...e)=>{var t=n.call(r,...e);if(t&&t.compressedTexImage2D){var a=t.compressedTexImage2D;t.compressedTexImage2D=(...e)=>{E||(E=!0,(0,c.m)("WebGLRenderingContext.compressedTexImage2D",(0,d.M8)(),{},1,Date.now(),(0,i._getCurrentNetworkType)(),0,void 0)),a.call(t,...e)}}return t}}return r}}}(e)}},1770:(e,t,r)=>{"use strict";r.d(t,{jC:()=>i,uC:()=>s,vC:()=>o});var n=r(4318),a={},i={wxGA:846,Kanata:933,reportIDKey:847,reportKeyValue:848,getXLogManager:849,getUserCloudStorage:883,getFriendCloudStorage:884,getGroupCloudStorage:885,getPotentialFriendList:886,getGroupInfo:887,shareMessageToFriend:888,getUserInfo:915,getUserCloudStorageKeys:950,modifyFriendInteractiveStorage:951,WebAssembly:962,Function:963,getGameLifeProfile:964,getGreetingControlInfo:965,interactGameLifeTag:966,openGameLifeAccountInfo:979,openGameLifeMiniGameTransfer:980,gameTransfer:981,createCanvas:987,createScreenCanvas:987,createWebView:991,navigateToMiniProgramDirectly:1002,coverview:1005,launchApplication:1006,privateOpenUrl:1007,launchApplicationDirectly:1008,encode:1022,decode:1023,onStoreEmoticonSelect:1053,offStoreEmoticonSelect:1053,PIXI:1057,TWEEN:1058,onKeyboardHeightChange:1062,offKeyboardHeightChange:1062,allowBufferWASM:1068,showUserGrantInfoModal:1073,__wxSourceMapRetrace__:1074,setPluginLoginAuth:1078,createScreenCanvas2:1096,clearCreateCanvas:1097,getABTestConfig:1108,getSelfUserInfo:1110,gamelifeManager:1111,getGameLifeRedCount:1111,onGameLifeMsg:1111,offGameLifeMsg:1111,onWebRTCLoadedMetaData:1116,offWebRTCLoadedMetaData:1116,requestForPlugin:1118,requestSubscribeSystemMessage:1124,skipDNSRequest:1125,useRequest:1126,requestSubscribeSystemMessageSkipTouchCheck:1127,requirePlugin:1150,transformFakePath2RealPath:1175,getPrivateFileSystemManager:1188},o=e=>{if(a[e])return a[e];var t={},r=Object.values(i);return(0,n.IN)("getPluginPermissionBytes",{pluginList:[{indexes:r,pluginId:e}],success(n){var i=n.pluginPermissionMap;if(i&&i[e]){for(var o=0;o<i[e].length;o++){var s=r[o];t[s]=1===i[e][o]}a[e]=t}},fail(e){}}),t},s=(e,t)=>{var r=i[t];return void 0===r?(console.error("请在 PluginPermissionIndex 中配置需要查询的权限位"),!1):a[e]?a[e][r]:(o(e),a[e]&&a[e][r])}},619:(e,t,r)=>{"use strict";r.d(t,{J:()=>c});var n=r(4318),a=r(7023),i=r(5333),o=r(3315),s={};i.Z.onReady((()=>{var e=Object.keys(o.Z).map((e=>o.Z[e]));(0,n.IN)("getPermissionBytes",{indexes:e,success(t){if(t.permissionBytes)for(var r=0;r<t.permissionBytes.length;r++){var n=e[r];s[n]=1===t.permissionBytes[r]}},fail(e){}})}));var c=e=>{var t=o.Z[e];if("number"!=typeof t)return!1;if(!(0,a.o8)(s[t]))return s[t];var r=!1;return(0,n.IN)("getPermissionBytes",{indexes:[t],success(e){e.permissionBytes&&(r=1===e.permissionBytes[0],s[t]=r)}}),r}},8050:(e,r,n)=>{"use strict";n.d(r,{o:()=>h});var a=n(3888),i=n.n(a),o=n(9097),s=n.n(o),c=n(4318),l=n(1211),u=n(5333),d=n(5724),p=null,f=void 0!==t&&t?t.version:"unknown";var h=function(){var e=i()((function*(){return yield d.v8,e=-1,(0,l.getSystemInfo)({success(t){e=t.benchmarkLevel}}),p||(p=new Promise(((t,r)=>{var n,a=(0,d.Q1)();(0,c.yD)({sdkApiName:"webapi_getwxaasyncsecinfo",apiName:"webapi_getwxaasyncsecinfo",reqData:s()({client_version:u.Z.clientVersion,pub_version:f,performance:e,instance_id:u.Z.appLaunchInfo.sessionid||u.Z.appLaunchInfo.sessionId},a?{xnet_conf_list:[a]}:{}),success:(n=i()((function*(e){t(e)})),function(e){return n.apply(this,arguments)}),fail:r,complete:void 0})})),p);var e}));return function(){return e.apply(this,arguments)}}()},1702:(e,t,r)=>{"use strict";r.d(t,{Q:()=>a});var n=r(7023);class a{constructor(e="",t=!1){this.type="",this.surround=!1,this.eventMap=new Map,this.type=e,this.surround=t}on(e,t){(0,n.mf)(t)?this.eventMap.has(e)?this.eventMap.get(e).add(t):this.eventMap.set(e,new Set([t])):console.error("EmitterError: callback must be a function")}off(e,t){var r=this.eventMap.get(e);"function"!=typeof t?null==r||r.clear():null==r||r.delete(t)}emit(e,...t){var r=[...this.eventMap.get(e)||[]],n=`at ${this.type}${e} callback function`;r.forEach((e=>this.surround?((e,t,...r)=>{if(void 0!==_)_.surroundThirdByTryCatch(e,t)(...r);else if(void 0!==b)b.surroundThirdByTryCatch(e,t)(...r);else try{e(...r)}catch(e){console.error(`thirdScriptError\n${null==e?void 0:e.message};${t}`),console.error(e)}})(e,n,...t):e(...t)))}removeAllListeners(e){this.off(e)}getListenersLength(e){var t;return(null===(t=this.eventMap.get(e))||void 0===t?void 0:t.size)||0}}},4275:(e,t,r)=>{"use strict";r.d(t,{Ae:()=>u,DD:()=>d,Dq:()=>p,HI:()=>I,KU:()=>y,LU:()=>_,Mq:()=>l,RF:()=>b,aI:()=>m,cj:()=>s,er:()=>g,fs:()=>h,gm:()=>i,iw:()=>a,jP:()=>f,oS:()=>v,qB:()=>c,tK:()=>w,wZ:()=>o});var n=r(5333),a=(()=>n.Z.platform)(),i=(()=>"devtools"===a)(),o=(()=>"android"===a)(),s=(()=>"ios"===a)(),c=(()=>"windows"===a)(),l=(()=>"mac"===a)(),u=(()=>"mina"===a)(),d=(()=>c||l)();function p(){if(n.Z&&"debug"in n.Z&&void 0!==n.Z.debug)return!!n.Z.debug}var f=(()=>"object"==typeof window&&window&&window.__wkrenderer_h5)();function h(){return r.g.__isAppServiceRemoteDebugMode__||"undefined"!=typeof __initHelper&&1===__initHelper}function g(){var e=n.Z.host;return e&&"WeChat"!==e.env&&"WMPF"!==e.env}function v(){var e=!0;return e}function m(){return!0}var y=(()=>!1)();function b(){return 0===n.Z.appType}function _(){return[0,1,2,3,5,6,8,9,10,11,12,13].includes(n.Z.appType)}function w(){return 7===n.Z.appType}function I(){return 10===n.Z.appType}},3329:(e,t,r)=>{"use strict";r.d(t,{i:()=>a,l:()=>n});class n extends Error{constructor(e){super(`APP-SERVICE-SDK:${e}`),this.type="AppServiceSdkKnownError"}}class a extends Error{constructor(...e){super(...e),this.type="ThirdScriptError"}}Object.freeze(a),Object.freeze(a.prototype)},5358:(e,t,r)=>{"use strict";r.d(t,{s:()=>s});var n=r(6760),a=(()=>new n.Z({maxListeners:20,newListener:!1}))(),i=(()=>new n.Z({maxListeners:30,newListener:!1}))();var o={};function s(e){if(e=e[0].toUpperCase()+e.slice(1),!o[e]){var t=new WeakMap;o[e]={getGlobalListeners:()=>a.listeners(e),getInternalListeners:()=>i.listeners(e),emit:(...t)=>{i.emit(e,...t),a.emit(e,...t)},emitGlobal:(...t)=>{a.emit(e,...t)},emitInternal:(...t)=>{i.emit(e,...t)},internalOnMethod:(t,r={})=>{"function"==typeof t&&(r.prepend?r.once?i.prependOnceListener(e,t):i.prependListener(e,t):r.once?i.once(e,t):i.on(e,t))},internalOffMethod:t=>{"function"==typeof t&&i.off(e,t)},onMethod:r=>{var n=function(e,t){return"function"!=typeof t?(console.error(`on${e} should accept a function instead of ${typeof t}`),null):_.surroundThirdByTryCatch(t,`at api on${e} callback function`)}(e,r);if(n){if(t.has(r)){var i=t.get(r);i.push(n),t.set(r,i)}else t.set(r,[n]);a.on(e,n)}},offMethod:r=>{if(function(e,t){return!t||"function"==typeof t||(console.error(`off${e} should accept a function instead of ${typeof t}`),!1)}(e,r))if(r){if(t.has(r)){t.get(r).forEach((t=>a.off(e,t))),t.delete(r)}}else t=new WeakMap,a.removeAllListeners(e)}}}return o[e]}},6760:(e,t,r)=>{"use strict";r.d(t,{y:()=>c});var a=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};function i(){this._events={},this._conf&&o.call(this,this._conf)}function o(e){e?(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),this._maxListeners=void 0!==e.maxListeners?e.maxListeners:20,e.newListener&&(this._newListener=e.newListener),e.removeListener&&(this._removeListener=e.removeListener)):this._maxListeners=20}function s(e,t){console.warn(`[Event] ${e} listeners of event ${t} have been added, possibly causing memory leak.`)}function c(e){this._events={},this._newListener=!1,this._removeListener=!1,o.call(this,e)}c.prototype.delimiter=".",c.prototype.setMaxListeners=function(e){void 0!==e&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},c.prototype.event="",c.prototype.once=function(e,t){return this._once(e,t,!1)},c.prototype.prependOnceListener=function(e,t){return this._once(e,t,!0)},c.prototype._once=function(e,t,r){return this._many(e,1,t,r),this},c.prototype.many=function(e,t,r){return this._many(e,t,r,!1)},c.prototype.prependMany=function(e,t,r){return this._many(e,t,r,!0)},c.prototype._many=function(e,t,r,n){var a=this;if("function"!=typeof r)throw new Error("many only accepts instances of Function");function i(){return 0==--t&&a.off(e,i),r.apply(this,arguments)}return i._origin=r,this._on(e,i,n),a},c.prototype.emit=function(){this._events||i.call(this);var e=arguments[0];if("newListener"===e&&!this._newListener&&!this._events.newListener)return!1;var t,r,n,a,o,s=arguments.length;if(this._all&&this._all.length){if(o=this._all.slice(),s>3)for(t=new Array(s),a=0;a<s;a++)t[a]=arguments[a];for(n=0,r=o.length;n<r;n++)switch(this.event=e,s){case 1:o[n].call(this,e);break;case 2:o[n].call(this,e,arguments[1]);break;case 3:o[n].call(this,e,arguments[1],arguments[2]);break;default:o[n].apply(this,t)}}if("function"==typeof(o=this._events[e])){switch(this.event=e,s){case 1:o.call(this);break;case 2:o.call(this,arguments[1]);break;case 3:o.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(s-1),a=1;a<s;a++)t[a-1]=arguments[a];o.apply(this,t)}return!0}if(o&&(o=o.slice()),o&&o.length){if(s>3)for(t=new Array(s-1),a=1;a<s;a++)t[a-1]=arguments[a];for(n=0,r=o.length;n<r;n++)switch(this.event=e,s){case 1:o[n].call(this);break;case 2:o[n].call(this,arguments[1]);break;case 3:o[n].call(this,arguments[1],arguments[2]);break;default:o[n].apply(this,t)}return!0}if(!this._all&&"error"===e)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},c.prototype.emitAsync=function(){this._events||i.call(this);var e=arguments[0];if("newListener"===e&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);var t,r,n,a,o,s=[],c=arguments.length;if(this._all){if(c>3)for(t=new Array(c),a=1;a<c;a++)t[a]=arguments[a];for(n=0,r=this._all.length;n<r;n++)switch(this.event=e,c){case 1:s.push(this._all[n].call(this,e));break;case 2:s.push(this._all[n].call(this,e,arguments[1]));break;case 3:s.push(this._all[n].call(this,e,arguments[1],arguments[2]));break;default:s.push(this._all[n].apply(this,t))}}if("function"==typeof(o=this._events[e]))switch(this.event=e,c){case 1:s.push(o.call(this));break;case 2:s.push(o.call(this,arguments[1]));break;case 3:s.push(o.call(this,arguments[1],arguments[2]));break;default:for(t=new Array(c-1),a=1;a<c;a++)t[a-1]=arguments[a];s.push(o.apply(this,t))}else if(o&&o.length){if(o=o.slice(),c>3)for(t=new Array(c-1),a=1;a<c;a++)t[a-1]=arguments[a];for(n=0,r=o.length;n<r;n++)switch(this.event=e,c){case 1:s.push(o[n].call(this));break;case 2:s.push(o[n].call(this,arguments[1]));break;case 3:s.push(o[n].call(this,arguments[1],arguments[2]));break;default:s.push(o[n].apply(this,t))}}else if(!this._all&&"error"===e)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(s)},c.prototype.on=function(e,t){return this._on(e,t,!1)},c.prototype.prependListener=function(e,t){return this._on(e,t,!0)},c.prototype.onAny=function(e){return this._onAny(e,!1)},c.prototype.prependAny=function(e){return this._onAny(e,!0)},c.prototype.addListener=c.prototype.on,c.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},c.prototype._on=function(e,t,r){if("function"==typeof e)return this._onAny(e,t),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");return this._events||i.call(this),this._newListener&&this.emit("newListener",e,t),this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),r?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,s.call(this,this._events[e].length,e))):this._events[e]=t,this},c.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var r,i=[];if(!this._events[e])return this;r=this._events[e],i.push({_listeners:r});for(var o=0;o<i.length;o++){if(r=i[o]._listeners,a(r)){for(var s=-1,c=0,l=r.length;c<l;c++)if(r[c]===t||r[c].listener&&r[c].listener===t||r[c]._origin&&r[c]._origin===t){s=c;break}if(s<0)continue;return this._events[e].splice(s,1),0===r.length&&delete this._events[e],this._removeListener&&this.emit("removeListener",e,t),this}(r===t||r.listener&&r.listener===t||r._origin&&r._origin===t)&&(delete this._events[e],this._removeListener&&this.emit("removeListener",e,t))}return function e(t){if(void 0!==t){var r=Object.keys(t);for(var a in r){var i=r[a],o=t[i];o instanceof n||"object"!=typeof o||null===o||(Object.keys(o).length>0&&e(t[i]),0===Object.keys(o).length&&delete t[i])}}}(this.listenerTree),this},c.prototype.offAny=function(e){var t,r=0,n=0;if(e&&this._all&&this._all.length>0){for(r=0,n=(t=this._all).length;r<n;r++)if(e===t[r])return t.splice(r,1),this._removeListener&&this.emit("removeListenerAny",e),this}else{if(t=this._all,this._removeListener)for(r=0,n=t.length;r<n;r++)this.emit("removeListenerAny",t[r]);this._all=[]}return this},c.prototype.removeListener=c.prototype.off,c.prototype.removeAllListeners=function(e){return void 0===e?(!this._events||i.call(this),this):(this._events&&delete this._events[e],this)},c.prototype.listeners=function(e){return this._events||i.call(this),this._events[e]||(this._events[e]=[]),a(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},c.prototype.eventNames=function(){return Object.keys(this._events)},c.prototype.listenerCount=function(e){return this.listeners(e).length},c.prototype.listenersAny=function(){return this._all?this._all:[]},t.Z=c},6776:(e,r,n)=>{"use strict";n.d(r,{k:()=>o,n:()=>s});var a=void 0!==t&&t?t.version:"unknown",i=void 0!==t&&t?t.updateTime:"unknown";"string"==typeof a&&(a=a.replace(" ","")),"string"==typeof i&&(i=i.replace(" ","-"));var o=()=>a,s=()=>i},5543:(e,t,r)=>{"use strict";r.d(t,{HM:()=>a,bq:()=>i});var n=(0,r(5358).s)("lifeCycle:AppRoute"),a=n.internalOnMethod,i=n.internalOffMethod;n.emit.bind(n)},3315:(e,t)=>{"use strict";t.Z={openAddress:62,setNavigationBarRightButton:238,requestVirtualPayment:285,navigateToDevMiniProgram:351,insertLivePusher:360,updateLivePusher:361,removeLivePusher:362,operateLivePusher:363,insertLivePlayer:364,updateLivePlayer:365,removeLivePlayer:366,operateLivePlayer:367,openOfflinePayView:403,setCookies:502,getCookies:503,joinVoIPChat:516,exitVoIPChat:517,onVoIPChatMembersChanged:518,onVoIPChatSpeakersChanged:519,onVoIPChatInterrupted:520,updateVoIPChatMuteConfig:521,insertXWebLivePlayer:561,updateXWebLivePlayer:562,removeXWebLivePlayer:563,insertXWebLivePusher:564,updateXWebLivePusher:565,removeXWebLivePusher:566,operateXWebLivePlayer:567,operateXWebLivePusher:568,UDP:606,launchApplicationDirectly:620,insertVoIPView:623,updateVoIPView:624,removeVoIPView:625,chooseShareGroup:627,screenCanvasReadPixels:631,navigateToMiniProgramDirectly:632,openDataContextExtension:638,navigateBackNative:646,batchGetContactDirectly:676,operateMediaContainer:686,operateMediaTrack:687,launchApp:692,sendBizRedPacketForOpen:694,openVideoEditor:705,operateMediaRecorder:712,onMediaRecorderStateChange:713,openWxappLimit5:720,shareCallback:740,operateCanvasPlayer:741,onCanvasPlayerStateChange:742,chooseAddressForPlugin:765,openSettingForPlugin:768,requestPaymentForPlugin:771,WeAppWorker:775,listenFrameChangeInWorker:776,subscribeVoIPMembers:780,onVoIPVideoMembersChanged:781,requestSubscribeWhatsNew:782,getGroupToolbarInfo:803,requestMidasFriendPayment:804,createWebView:805,openUrlForPlugin:844,enterContactForPlugin:850,authShareRelationship:852,setLoginAuthForPlugin:855,uploadToCommonCDN:878,quicklyAddBrandContact:879,engineOpenData:894,preloadMiniProgramEnvDirectly:900,predownloadMiniProgramPackageDirectly:901,openAddressWithLightMode:905,editTextWithPopForm:906,enableShareTimeLine:909,private_getEnterOptions:911,addPhoneCalendar:912,addPhoneRepeatCalendar:913,privateScanItem:917,shareDataToWeRun:926,requestLivePlayerPictureInPicture:930,handoff:931,private_chooseInvoiceTitleDirectly:932,insertXWebVoIPView:934,updateXWebVoIPView:935,removeXWebVoIPView:936,private_getPhoneNumberDirectly:937,preloadWebview:955,private_openCardDirectly:961,bindingDownload:972,bindingReadFile:973,bindingWebSocket:974,openH5GameClub:975,WXA_JSAPI_INDEX_useOldCanvas:977,showShareImageMenu:978,openChannelsPostPage:984,openChannelsCreateContact:985,private_plugin_webview:986,jumpRedPacketEnvelopePreview:988,sendRedCoverAppMsg:990,private_launchTrialMiniProgram:992,showSalesDrivingMenu:1003,onSalesDrivingMessage:1004,plugin_launchApplicationDirectly_operateDirectly:1009,private_setNavigateBackInterception:1020,private_stopNavigateBackInterception:1021,privateSearchContacts:1024,TCP:1025,TCPServer:1026,inputTypeSafePassword:1027,startGameLiveDirectly:1045,getUserRecentGameLiveInfo:1049,private_getWebviewDebugInfo:1051,showRedPackage:1052,allowBufferWASM:1067,reportRequestError:1069,traceUAReport:1079,chooseAvatar:1081,showNicknameAccessory:1082,openPublicServicePayment:1084,reportRequestError2:1085,openUrlByExtBrowser:1115,reportRequestError3:1131,requestOrderPaymentForPlugin:1147,useFreeHttpDns:1151,openUrlByExtBrowser2:1161,reportRresult:1167,setFileSpaceStatistics:1168,setFileSpaceStatisticsSwitch:1174,disableBusinessConfigCache:1181,WxaQualityOssRuleConfig:1182,gameRecorderShareTimelineCallback:1185,gameRecorderShareAppMessageCallback:1186,setupUserBehaviorAnalytics:1187,forceUseAudioDynamic:1189,allowUseWePay:1202,gameLaunchPopupView:1218,reportRequestErrorByAI:1212,reportPayVIPQuality:1214,openPaymentCompletedPage:1208,paymentCompletedPageCoupon:1211,quickSendRedPacket:1216,openPaymentCompletedPageFull:1217}},9628:(e,t,r)=>{"use strict";r.d(t,{Q:()=>n});class n{constructor(e){if(this._status="pending",this._return=void 0,this._processors=[],"function"!=typeof e)throw new TypeError("Promise resolver is not a function");try{e((e=>{"pending"===this._status&&(this._status="then",this._return=e,this._consume())}),(e=>{"pending"===this._status&&(this._status="catch",this._return=e,this._consume())}))}catch(e){this._status="catch",this._return=e,this._consume()}}_consume(){if("pending"!==this._status){var e;do{e=this._processors.shift()}while(e&&e.type!==this._status);if(e)try{this._return=e.func(this._return),this._status="then"}catch(e){this._return=e,this._status="catch"}finally{this._consume()}}}then(e){return this._processors.push({func:e,type:"then"}),this._consume(),this}catch(e){return this._processors.push({func:e,type:"catch"}),this._consume(),this}static resolve(e){return new n((t=>t(e)))}static reject(e){return new n((()=>{throw e}))}}},1097:(e,t,r)=>{"use strict";r.d(t,{h:()=>i,v:()=>a});var n={},a=e=>{if(!n[e]){var t={},r={},a={},o={on:(r,n)=>{t[r]&&console.warn(`基础库分包 ${e} on event: ${r} has subscribe listener`),t[r]=n,a[r]&&(a[r].forEach((e=>{n(e)})),delete a[r])},subscribe:(n,i)=>{t[n]&&console.warn(`基础库分包 ${e} subscribe event: ${n} has on listener`),r[n]||(r[n]=[]),r[n].push(i),a[n]&&(a[n].forEach((e=>{i(e)})),delete a[n])},publish:(e,n)=>{var a,i;return(a=t[e])?(a(n),!0):!!(i=r[e])&&(i.forEach((e=>e(n))),!0)},advancePublish:(e,t)=>{i(e,t)||a[e]||(a[e]=[]),a[e].push(t)}};return n[e]=o,o}console.warn(`已经存在分包EM ${e}`)},i=(e,t,r,a)=>{var i=n[e];i&&(a?i.advancePublish(t,r):i.publish(t,r))}},1838:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Component:()=>_.wA,KeyValueReport20267:()=>x.v,Quality:()=>M.n,_offKeyboardHeightChange:()=>I.M2,_onBaseFrameShow:()=>d.OQ,_onGameLiveStateChange:()=>i.DT,_onHide:()=>u.vv,_onKeyboardHeightChange:()=>I.LK,_onShow:()=>l.dN,acceptSyncMainPackageNativeEventFromSubPackage:()=>w.ry,beforeInvokeCallback:()=>A.FE,beforeInvokeFail:()=>A.YG,createFeedbackLogger:()=>k.$,createScreenCanvas:()=>n.UG,design:()=>h,designStyle:()=>m,getAccountInfoSync:()=>S.E,getPrivateThis:()=>_.Wj,getSystemInfoSync:()=>a.getSystemInfoSync,hideKeyboard:()=>T.Sn,init:()=>_.S1,innerShareInvitationToLiveRoom:()=>y.rc,invokeOperateWXDataPromise:()=>E.Qh,offKeyboardComplete:()=>I.r,onAudioInterruptionBegin:()=>o.p$,onAudioInterruptionEnd:()=>s.aS,onDeviceOrientationChange:()=>L.Qq,onKeyboardComplete:()=>I.ri,onShow:()=>l.Ke,onWindowResize:()=>D.KN,packageChannel:()=>N,privateOpenUrl:()=>P.n,registerComponent:()=>C.RM,removePrivateThis:()=>_.bn,showKeyboard:()=>T.ez,showToast:()=>c.showToast,unregisterComponent:()=>C.d8,webviewLayout:()=>b.u});var n=r(1673),a=r(1211),i=r(1816),o=r(8510),s=r(4157),c=r(5517),l=r(7733),u=r(8941),d=r(8045);r(1838);var p=252,f=300,h={ready:!1,position:{x:0,y:0},IS_DEVTOOLS:!1,designSize:{width:f,height:p},lockSize:{width:f,height:112},device:{width:f,height:p},screenWidth:0,screenHeight:0,toolWidth:32,headerHeight:48,initPosition:{x:16,y:16}},g={fill:16777215,fontSize:12,whiteSpace:"normal",textBaseline:"middle",lineHeight:16,dropShadow:!0,dropShadowColor:"rgba(0, 0, 0, 0.8)",dropShadowDistance:1},v=Object.assign({},g,{fill:14737632,breakWords:!0,wordWrap:!0,wordWrapWidth:f-72}),m={commonStyle:g,dataStyle:v,listStyle:Object.assign({},g,{fill:14737632,breakWords:!0,wordWrap:!0,wordWrapWidth:f-72}),tipsStyle:Object.assign({},v,{fill:10592673}),linkStyle:Object.assign({},v,{fill:8425639}),userNameStyle:Object.assign({},g,{fill:14737632}),contextStyle:Object.assign({},g,{breakWords:!0,wordWrap:!0,wordWrapWidth:f-48}),joinStyle:Object.assign({},g,{lineHeight:20,breakWords:!0,wordWrap:!0,wordWrapWidth:f-56}),giftStyle:Object.assign({},g,{fill:9621832}),titleStyle:Object.assign({},g,{breakWords:!0,wordWrap:!0,wordWrapWidth:f-184,dropShadow:!1}),shareTitleStyle:Object.assign({},g,{dropShadow:!1}),timeStyle:Object.assign({},g,{lineHeight:14,fontSize:10,dropShadow:!1}),tipStyle:Object.assign({},g,{fill:10592673,lineHeight:14,dropShadow:!1}),newMessageStyle:Object.assign({},g,{fill:0,lineHeight:12,dropShadow:!1}),toastStyle:Object.assign({},g,{fill:16777215,lineHeight:20,dropShadow:!1}),musicNameStyle:Object.assign({},g,{fill:"rgba(255, 255, 255, 0.5)",fontSize:10,wordWrapWidth:60,breakWords:!0,wordWrap:!0,dropShadow:!1}),systemTipsStyle:Object.assign({},g,{fill:"rgba(0, 0, 0, 0.9)",breakWords:!0,lineHeight:17,dropShadow:!1,wordWrap:!0,wordWrapWidth:f-(h.toolWidth+48)})};var y=r(2490),b=r(5753),_=r(7371),w=r(4770),I=r(1344),S=r(7485),k=r(9147),C=r(2821),T=r(9438),E=r(9923),A=r(4318),P=r(4208),x=r(4730),M=r(9468),R=r(1097),D=r(9600),L=r(8225),N=(0,R.v)("minigamelive")},7023:(e,t,r)=>{"use strict";r.d(t,{AT:()=>h,DM:()=>_,Em:()=>o,Ft:()=>d,HD:()=>s,Kn:()=>v,Qr:()=>I,U:()=>g,ZT:()=>E,e6:()=>T,eP:()=>S,fU:()=>k,hj:()=>c,i2:()=>p,jn:()=>l,kJ:()=>y,mf:()=>b,o8:()=>u,s$:()=>m,tI:()=>w,x7:()=>C});var a=(()=>Object.prototype.toString)(),i=n.prototype.call.bind(a);function o(e){return i(e).slice(8,-1)}var s=e=>"String"===o(e),c=e=>"Number"===o(e),l=e=>!0===e||!1===e||"Boolean"===o(e),u=e=>void 0===e,d=e=>null===e,p=(()=>Number.isNaN||(e=>e!=e))(),f=(()=>Number.isFinite||(e=>c(e)&&r.g.isFinite(e)))(),h=e=>c(e)&&Math.abs(e)===1/0,g=e=>f(e)&&Math.floor(e)===e,v=e=>"Object"===o(e),m=e=>v(e)&&!d(e),y=(()=>Array.isArray||(e=>"Array"===o(e)))(),b=e=>"function"==typeof e,_=e=>"Set"===o(e),w=e=>"Promise"===o(e),I=e=>{for(var t in e)return!1;return!0},S=e=>"ArrayBuffer"===o(e),k=e=>ArrayBuffer.isView(e)&&!(e=>"DataView"===o(e))(e);function C(e,t,r="parameter"){var n=o(t),a=o(e);if(a!==n)return`${r} should be ${n} instead of ${a};`;var i="";switch(n){case"Object":Object.keys(t).forEach((n=>{i+=C(e[n],t[n],`${r}.${n}`)}));break;case"Array":if(e.length<t.length)return`${r} should have at least ${t.length} item;`;for(var s=0;s<t.length;++s)i+=C(e[s],t[s],`${r}[${s}]`);break;case"String":if(t.length>0&&0===e.length)return`${r} should be not empty string`}return i}function T(e){try{return JSON.stringify(e)}catch(e){return e.message,""}}function E(){}},9190:(e,t,r)=>{"use strict";r.d(t,{NX:()=>s,Vl:()=>o});var n=r(5551),a=(()=>Object.assign)();var i=Symbol("ErrorInfosSymbol"),o=e=>(t={},...r)=>new Promise(((n,o)=>e(a({},t,{success:n,fail:e=>{var{errMsg:t}=e,r=a({},e);delete r.errMsg;var n=new Error(t.replace(/^\w+:fail ?/,""));a(n,r),n[i]=r,o(n)},complete:(e={})=>{var{errMsg:t}=e;if(t&&!/^\w+:(ok|fail)/.test(t)){var r=new Error(e.errMsg.replace(/^\w+:/,"")),n=a({},e);delete n.errMsg,a(r,n),r[i]=n,r._complete_hook=!0,o(r)}}}),...r)));function s(e,t){return(r={},...o)=>{var s={success:r.success,fail:r.fail,complete:r.complete};delete(r=a({},r)).success,delete r.fail,delete r.complete,t(r,...o).then((t=>(0,n.FE)({name:e,args:s,success:!0,res:t})),(t=>{t._complete_hook?(0,n.S3)({name:e,args:s,errMsg:t.message,res:t[i]||{}}):(0,n.FE)({name:e,args:s,success:!1,errMsg:t.message,res:t[i]||{}})}))}}},8010:(e,t,r)=>{"use strict";r.d(t,{RG:()=>o,sM:()=>i});var n=r(3329),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function i(e){for(var t,r="",i=(t=ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name?e:new Uint8Array(e)).byteLength,o=0;o<i;o++)r+=String.fromCharCode(t[o]);return function(e){if("function"==typeof globalThis.btoa)return globalThis.btoa(e);for(var t,r,i=String(e),o="",s=0,c=a;i.charAt(0|s)||(c="=",s%1);o+=c.charAt(63&t>>8-s%1*8)){if((r=i.charCodeAt(s+=3/4))>255)throw new n.l("btoa failed");t=t<<8|r}return o}(r)}function o(e){for(var t=function(e){if("function"==typeof globalThis.atob)return globalThis.atob(e);var t=String(e).replace(/=+$/,""),r="";if(t.length%4==1)throw new n.l(`atob failed: invalid string length ${t.length}`);for(var i,o,s=0,c=0;o=t.charAt(c++);~o&&(i=s%4?64*i+o:o,s++%4)?r+=String.fromCharCode(255&i>>(-2*s&6)):0)o=a.indexOf(o);return r}(e),r=t.length,i=new Uint8Array(r),o=0;o<r;o++)i[o]=t.charCodeAt(o);return i.buffer}},1691:(e,t,r)=>{"use strict";r.d(t,{b:()=>a,c:()=>i});var n=r(7023);function a(e){return t=>"string"==typeof t&&t.length>e?t.substr(0,e):t}function i(e,t=!0){var r=(0,n.Em)(e);switch(r){case"Number":case"Boolean":return e;case"String":return a(512)(e).replace(/\|/g,"||").replace(/,/g,"|.");case"Error":return`[Error:${i(e.message)}|${i(e.stack)}]`;case"Object":return t?Object.keys(e).map((t=>`${i(t)}=${i(e[t],!1)}`)).sort(((e,t)=>e.length-t.length)).join("&")||"{}":`[${r}]`;case"Array":var o=[];return t?(e.forEach((e=>o.push(i(e,"Array"!==(0,n.Em)(e))))),o.join(";")):`[${r}]`;default:return`[${r}]`}}},3306:(e,t,r)=>{"use strict";r.d(t,{Hw:()=>s,M8:()=>i,Qu:()=>o,Yt:()=>d,gA:()=>p,op:()=>l});var n=r(7023),a=(()=>Object.assign)();function i(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function o(e,t,r){var n=p(r.value);return r.value=function(){return n.apply(this,arguments)},r}function s(e,t){return function(...r){try{return e(...r)}catch(e){if("[object Error]"===Object.prototype.toString.apply(e)){if("AppServiceSdkKnownError"===e.type)throw e;"ThirdScriptError"===e.type?w.thirdErrorReport({error:e,extend:t}):w.errorReport({key:"appServiceSDKScriptError",error:e,extend:t})}}}}function c(e){var t=(0,n.Em)(e);if("Array"===t||"Object"===t)try{e=JSON.stringify(e)}catch(e){throw e.type="AppServiceSdkKnownError",e}else e="String"===t||"Number"===t||"Boolean"===t?e.toString():"Date"===t?e.getTime().toString():"Undefined"===t?"undefined":"Null"===t?"null":"";return{data:e,dataType:t}}var l=s(c,"anyTypeToString");function u(e,t){return"String"===t?e:e="Array"===t||"Object"===t?JSON.parse(e):"Number"===t?parseFloat(e):"Boolean"===t?"true"===e:"Date"===t?new Date(parseInt(e,10)):"Undefined"===t?void 0:"Null"===t?null:""}var d=s(u,"stringToAnyType");function p(e){return function(t={},...r){t=t||{};var{success:n,fail:i,complete:o}=t;return n||i||o?e.apply(this,[t].concat(r)):new Promise(((n,i)=>{var o=a({success:n,fail:i},t);e.apply(this,[o].concat(r))}))}}},3752:(e,t,r)=>{"use strict";r.d(t,{f$:()=>l,pO:()=>c});var n=r(7023);var a={String:0,NaN:"<NaN>",Infinity:e=>e>0?"<Infinity>":"<-Infinity>",Number:0,Boolean:0,Null:0,Undefined:"<Undefined>",Function:e=>""===e.name?"<Function>":`<Function: ${e.name}>`,Date:e=>`<Date: ${e.toJSON()}>`,RegExp:e=>`<RegExp: ${e.toString()}>`,Error:e=>`<${e.name}: ${e.message}>${e.stack?"\n"+e.stack:""}`,Symbol:e=>`<Symbol: ${e.toString()}>`,Promise:"<Promise>",Map:e=>`<Map: size=${e.size}>`,WeakMap:"<WeakMap>",Set:e=>`<Set: size=${e.size}>`,WeakSet:"<WeakSet>",ArrayBuffer:e=>`<ArrayBuffer: byteLength=${e.byteLength}>`,DataView:e=>`<DataView: byteLength=${e.byteLength}, byteOffset=${e.byteOffset}>`,TypedArray:e=>`<${e.constructor&&e.constructor.name?e.constructor.name:"TypedArray"}: byteLength=${e.byteLength}, length=${e.length}>`};function i(e){var t=function(e){var t=(0,n.Em)(e);if("Number"===t){if((0,n.i2)(e))return"NaN";if((0,n.AT)(e))return"Infinity"}else if("Object"===t){if((0,n.Ft)(e))return"Null"}else if(t.endsWith("Array")&&"Array"!==t&&(0,n.fU)(e))return"TypedArray";return t}(e);return t in a?a[t]?(0,n.mf)(a[t])?[a[t](e),!0]:[a[t],!0]:[e,!0]:[null,!1]}function o(e){var t=new WeakMap,r=0;return function e(a,o){var s,[c,l]=i(a);return l?c:r>3e3?"<Hidden>":t.has(a)?`<Circular: ${t.get(a)}>`:(t.set(a,o),r++,(0,n.kJ)(a)?a.map(((t,r)=>e(t,`${o}[${r}]`))):(s={},Object.keys(a).forEach((t=>{s[t]=e(a[t],`${o}.${t}`)})),s))}(e,"@")}function s(e){try{return(e=Array.prototype.slice.call(e)).map(o)}catch(e){return void console.warn("[console] This object can not be logged")}}var c={LOG:0,INFO:1,WARNING:2,ERROR:3,DEBUG:4,TIME:5,TIME_END:5};function l(e,t,r=!0){if(r||e===c.WARNING||e===c.ERROR)try{var n=s(t);if(void 0===n)return;var a=JSON.stringify({level:e,logs:n});return a.length>1048576&&!r||a.length>2097152&&r?JSON.stringify({level:e,logs:["<LOG_EXCEED_MAX_LENGTH>"]}):a}catch(e){return void console.warn("[console] This object can not be logged")}}},3311:(e,t,r)=>{"use strict";function n(...e){return e.reduce(((e,t)=>{for(var r in t)e[r]=t[r];return e}),{})}function a(e,t){for(var r in t)e[r]=t[r];return e}r.d(t,{f0:()=>n,l7:()=>a,nr:()=>o});var i=Object.prototype.hasOwnProperty;function o(e,t){return i.call(e,t)}},5722:(e,t,r)=>{"use strict";r.d(t,{Mw:()=>a,Tk:()=>s,d7:()=>i,ic:()=>c});var n=r(4275),a=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toString","valueOf","toLocaleString","getBox2D","createSharedArrayBuffer","nv_constructor","nv_toString","createSelectorQuery"],i=[/^(get|set)Storage(Info)?(Sync)?$/,/^getFileSystemManager/,/^(get|set)ClipboardData$/,/^request$/,/^connectSocket/,/^connectWifi$/],o=[{match:/^connectSocket/,version:1},{match:/^request/,version:n.wZ?3:1},{match:/^downloadFile/,version:n.wZ?3:1}];function s(e,t){o.push({match:e,version:t})}var c=e=>{var t=0;return o.forEach((({match:r,version:n})=>("string"==typeof r?e===r&&(t=n):r instanceof RegExp&&r.test(e)&&(t=n),!1))),t}},485:(e,r,n)=>{"use strict";n.d(r,{_K:()=>M,eF:()=>R,M:()=>D});var a,i,s=n(9097),c=n.n(s),l=n(4318),u=n(4785),d=n(5333),p=n(7051),h=n(5629),g=n(619),v=new Promise(((e,t)=>{a=e,i=t})).catch((e=>{})),m=()=>{(0,l.Qh)({apiName:"webapi_getwxaqualityossrule",reqData:{type_list:[1]}}).then((e=>{var t,r,n=null===(t=e.data)||void 0===t||null===(r=t.quality_oss_rule)||void 0===r?void 0:r.public_lib_rule;n,a(n)})).catch((e=>{i()}))};d.Z.onReady((()=>{(0,g.J)("WxaQualityOssRuleConfig")?m():i()}));var b=n(9011),_=n(9955),w=n(8555),I=(n(4275),n(5724)),S="wxfile://ad/sdk_dynamic_item.json",k=6048e5,C=864e5,T={},E=Math.random,A=()=>{try{var e=Number((void 0!==t&&t?t.version:"unknown").replace(/\./g,""));return e>=2230?"2230_":e>=2215?"2215_":""}catch(e){return""}},P=(0,b.Fr)(_.p),x=(0,b.Fr)(w.N);d.Z.onReady((()=>{var e=A()+"WeAppRequestError",t=A()+"ApiReportStrategy",r="weAppRequestErrorOpenStrategy",n="weQualityConfig",a={[t]:k,[e]:C,[r]:k,[n]:C},i={[t]:null,[e]:null,[r]:null,[n]:null};P({filePath:S,encoding:"utf-8"}).then((e=>{(0,g.J)("disableBusinessConfigCache")||(e=JSON.parse(e.data),Object.keys(e).forEach((t=>{Date.now()-e[t].cache_time>=a[t]||(i[t]=e[t])})))})).catch((()=>{})).finally((()=>{if(void 0!==o){var a=[];(s=[e,r,t,n].filter((e=>(i[e]&&a.push(e),!i[e]))),s.length?(0,l.Qh)({apiName:"webapi_getwxabusinessconfig",reqData:{get_type:2,business_name:"WxaServiceQualityOss",item_name_list:s}}):Promise.resolve({data:{conf_item_list:[]}})).then((o=>{try{var s,l=o.data.conf_item_list;a.forEach((e=>{l.push({item_name:e,item_info:i[e].cache_info})}));try{l&&(l.forEach((e=>{switch(e.item_name){case t:try{var a=JSON.parse(e.item_info);T=a,(0,h.f)(a)}catch(e){}break;case r:try{var i=JSON.parse(e.item_info);s=(0,u.ap)(i),(0,I.gd)()}catch(e){}break;case n:try{var o=JSON.parse(e.item_info);y.setQualityConfig(o)}catch(e){}}})),Object.values(i).filter((e=>null===e)).length&&x({filePath:S,data:JSON.stringify(c()({},l.reduce(((e,t)=>(null===i[t.item_name]?e[t.item_name]={cache_info:t.item_info,cache_time:Date.now()}:i[t.item_name]&&(e[t.item_name]=i[t.item_name]),e)),{})))}).catch((e=>{})));var g=E()<=.05;if(g&&(0,u._C)(),!s&&!g)return;var m=l.find((t=>t.item_name===e));if(m){var b;v.then((e=>{b=e})).catch((()=>{})).finally((()=>{var e;(0,p.k)().runTask("createWeAppRequestInterpreter",{rules:m.item_info,appid:null===d.Z||void 0===d.Z||null===(e=d.Z.accountInfo)||void 0===e?void 0:e.appId,userRules:b||""}).catch((e=>{f.error("createWeAppRequestInterpreter occer error:",e)}))}));var _=JSON.parse(m.item_info);y.convert24247SchemaToSensitiveQueryJudgeSchema(_)}}catch(e){}}catch(e){}})).catch((e=>{(0,I.gd)()}))}var s}))}));var M=e=>T[e],R=e=>{var t;return!1===(null===(t=T[e])||void 0===t?void 0:t.hook)},D=e=>{var t;return!0===(null===(t=T[e])||void 0===t?void 0:t.hook)}},5629:(e,t,r)=>{"use strict";r.d(t,{d:()=>l,f:()=>u});var n,a,i=r(5333),o=r(7051),s=(e={})=>[e.req,e.res].map(((e,t)=>e?((e,t)=>({type:"If",if:{compare:"eq",right:0===t?"req":"res"},withRely:[e],thisDeep:!0}))(e,t):null)).filter((e=>null!==e)),c={},l=(e,t)=>{if(!c[e])return Promise.resolve(!1);var r=(0,o.k)().runTask("resolveApiFullRule",{rules:a?null:n,data:{[e]:t},appid:i.Z.accountInfo.appId});return a||(a=!0),r.then((e=>e.result))},u=e=>{var t=[];Object.entries(e).forEach((([e,r])=>{r.rule&&(t.push({api:e,rule:r.rule}),c[e]=!0)})),(e=>{if(!Array.isArray(e))return null;var t=1,r=e.map((e=>{var{api:r,rule:n}=e;return n.thisDeep=!0,{key:t++,type:"If",if:{compare:"eq",right:r},withRely:[...s(n)]}}));n={schemaVersion:"1.0.0",object:{conditions:r},string:{conditions:null}}})(t)}},6564:(e,t,r)=>{"use strict";r.d(t,{m:()=>_});var n=r(8013),a=r(619),i=r(5333),s=r(6299),c=r(4770),l=r(5722),u=r(7023),d=r(485),p=(e,t,r=!1)=>{var n;if(!(0,u.Kn)(t)&&!Array.isArray(t))return t;var a=(0,d._K)(e);if(!a)return t;if(Array.isArray(null==a||null===(n=a[r?"res":"req"])||void 0===n?void 0:n.filter)){var i={};for(var o of Object.getOwnPropertyNames(t))a[r?"res":"req"].filter.includes(o)||(i[o]=t[o]);return Array.isArray(t)&&(i=Array.from(i)),i}return t},f=r(4786),h=r(6776),g=0,v="",m=Date.now(),y=Date.now();o.onLoad((()=>{m=Date.now(),y=Date.now()}));var b={};function _(e,t,r,o,c,u,d,_,I,S){var k;for(var C of l.d7)if(C.test(e)){r="";var T=d;o&&(d=""),"request"===e&&o&&!I&&1===u&&(0,a.J)("reportRresult")&&(d=null==T?void 0:T.data);break}var E,A=s.Z.get("api_call_from_hot_boot_time",y);E=void 0===S?-1:S?1:0;var P=[e,t,(0,f.cv)(p(e,r)),o,c,Date.now()-c,(0,n._getCurrentNetworkType)(),u,(0,f.cv)(p(e,d,!0)),i.Z.appType+1e3,g,(0,h.k)(),(0,h.n)(),(0,l.ic)(e),_,(0,f.FZ)(),v,Date.now()-m,Date.now()-A,encodeURIComponent(b.scene_note||b.sceneNote),null===(k=d)||void 0===k?void 0:k.errno,E].map((0,f.bv)(1024)).join(",");I||1!==u||(w.reportIDKey({key:"asyncApiCount"}),w.reportIDKey({key:"asyncApiCost",value:Date.now()-c})),I&&w.reportKeyValue({key:"WeAppInvoke2",value:P}),w.reportKeyValue({key:"WeAppInvoke",value:P})}s.Z.set("appLaunchInfo",b),i.Z.onReady((()=>{m=Date.now(),y=Date.now(),g=i.Z.appLaunchInfo.scene,v=i.Z.appLaunchInfo.sessionid||i.Z.appLaunchInfo.sessionId,Object.assign(b,i.Z.appLaunchInfo),(0,c.n)("onAppEnterForeground",(e=>{Object.assign(b,e),y=Date.now(),e&&e.scene&&(g=e.scene),e&&(e.sessionid||e.sessionId)&&(v=e.sessionid||e.sessionId)}))}))},4786:(e,t,r)=>{"use strict";r.d(t,{FZ:()=>i,M8:()=>o,bv:()=>a.b,cv:()=>a.c});var n=r(7828),a=r(1691);function i(){if(void 0===n.hr)return"";var e=n.hr.getCurrentPagesByDomain("");return e&&e.length?e[e.length-1].route:""}function o(){return 1e4*Date.now()+Math.round(9999*Math.random())}},346:(e,t,r)=>{"use strict";r.d(t,{HR:()=>l,Pp:()=>o,Uj:()=>f,Z8:()=>i,cE:()=>u,en:()=>s,mQ:()=>d,wK:()=>c,yP:()=>p});var n=r(4275),a=r(3311);function i(e){return"string"==typeof e?-1!==e.indexOf("?")?e.replace(/\.html\?/,"?"):e.replace(/\.html$/,""):e}function o(e){if("string"!=typeof e)return e;var t=e.split("?")[0],r=e.split("?")[1];return t+=".html",void 0!==r?`${t}?${r}`:t}function s(e){var t={protocol:/^(.+):\/\//,host:/:\/\/(.+?)[?#\s/]/,path:/\w(\/.*?)[?#\s]/,query:/\?(.+?)[#/\s]/,hash:/#(\w+)\s$/};return e+=" ",Object.keys(t).forEach((r=>{var n=t[r];t[r]="query"===r?n.exec(e)&&n.exec(e)[1].split("&").reduce(((e,t)=>{var r=t.split("=");return e[r[0]]=r[1],e}),{}):n.exec(e)&&n.exec(e)[1]})),t}var c=e=>{if("string"==typeof e){var t=e.indexOf("?");if(-1!==t)return e.slice(0,t)}return e};function l(e,t=!1){if("object"!=typeof e)return e;var r=[];for(var n in e)if((0,a.nr)(e,n))if(t)try{r.push(`${encodeURIComponent(n)}=${encodeURIComponent(e[n])}`)}catch(t){r.push(`${n}=${e[n]}`)}else r.push(`${n}=${e[n]}`);return r.join("&")}function u(e,t){if("string"==typeof e&&"object"==typeof t&&null!==t&&Object.keys(t).length>0){var r=e.split("?"),n=r[0],i=(r[1]||"").split("&").reduce(((e,t)=>{if("string"==typeof t&&t.length>0){var r=t.split("="),n=r[0],a=r[1];e[n]=a}return e}),{}),o=Object.keys(t).reduce(((e,r)=>("object"==typeof t[r]?e[encodeURIComponent(r)]=encodeURIComponent(JSON.stringify(t[r])):e[encodeURIComponent(r)]=encodeURIComponent(t[r]),e)),{});return n+"?"+l((0,a.f0)(i,o))}return e}function d(e,t="http"){return"http"===t?/^(http|https):\/\/.*/i.test(e):"websocket"===t?/^(ws|wss):\/\/.*/i.test(e):void 0}function p(e){if("string"==typeof e){var t=e.split("?"),r=t[0],n=(t[1]||"").split("&").reduce(((e,t)=>{if("string"==typeof t&&t.length>0){var r=t.split("="),n=r[0],a=r[1];e[n]=a}return e}),{}),i=[];for(var o in n)(0,a.nr)(n,o)&&i.push(`${o}=${encodeURIComponent(n[o])}`);return i.length>0?`${r}?${i.join("&")}`:e}return e}function f(e){if(!n.gm||"string"!=typeof e)return e;if(/^https?:\/\//.test(e)){var t=e.split("?"),r=t[1]||"",a=r.length>0?"&":"";e=`${t[0]}?${r}${a}devtools_ignore=true`}return e}},7051:(e,t,r)=>{"use strict";r.d(t,{k:()=>p});var n=r(6760),a=null;o.onLoad((()=>{o.globalShare.reusableWorkerId&&s(o.globalShare.reusableWorkerId)}));var i,s=e=>{a=e},c=()=>a;function l(){u.onWorkerMsg(((e,t)=>{if(e===this.workerId){if(t.workerId)return;var{cmd:r,callbackId:n,data:a}=t.data;if("callback"===r){var{result:i,errMsg:o}=a;this.emitter.emit(n,i,o)}}}))}class d{init(e){this.workerId=e,this.callbackId=0,this.generateCallbackId=()=>++this.callbackId,this.emitter=new n.Z,l.call(this)}constructor(){if(c())this.init(c());else{var{workerId:e}=u.createWXLibWorker("WAAccelerateWorker.js",{APIList:[]});-1!==e?this.init(e):this.unsupport=!0}}runTask(e,t){return this.unsupport?Promise.reject(new Error("unsupport")):new Promise(((r,n)=>{var a=String(this.generateCallbackId());this.emitter.once(a,((e,t)=>{t?n(new Error(t)):r(e)}));var i={cmd:e,callbackId:a,data:t};i={data:i,__inner_postmsg_flag__:!0},u.postMsgToWorker(this.workerId,i)}))}}var p=()=>i||(i=new d)},6195:(e,t,r)=>{"use strict";r.d(t,{I:()=>l});var n=r(4770),a=r(5333),i=r(6345),o=r(7010),s="",c=(e={})=>{try{s=e.transitExtraData.adUxInfo}catch(e){s=""}};a.Z.onReady((()=>{c(a.Z.appLaunchInfo)})),(0,n.n)("onAppEnterForeground",(e=>{c(e)})),(0,n.n)("onAppEnterBackground",((e={})=>{"back"!==e.mode&&"close"!==e.mode||(s="")})),(0,o.L)("getAdUxInfo",((e,t)=>{(0,i.n)("adUxInfoGot",{adUxInfo:s,callbackId:e.callbackId},[t])}));var l=()=>s},2040:(e,t,r)=>{"use strict";r.d(t,{d:()=>v,N:()=>m});var n=r(5333),a=r(3315),s=null,l=[],u=e=>{s=e.data.pluginPermissionBytes,l.forEach((e=>e())),l=[]};c.subscribe("batchGetPluginPermissionBytes",u),o.onLibraryEnd((()=>{void 0!==b&&"function"==typeof b.onSubContextMessage&&b.onSubContextMessage((e=>{"batchGetPluginPermissionBytes"===e.name&&u(e)}))})),c.subscribe("getPluginPermissionBytesByJsApi",(e=>{f(e.data.pluginId,e.data.apiName,(t=>{c.publish("responseGetPluginPermissionBytesByJsApi",{data:{reqId:e.data.reqId,bytes:t},options:{timestamp:Date.now()}})}))}));var d=e=>e.split("/",1)[0],p=(e,t)=>{var r,n,a=null===(r=s)||void 0===r||null===(n=r[e])||void 0===n?void 0:n[t];return null==a?a=[0,0,0]:"object"!=typeof a&&(a=[a,a,a]),a};function f(e,t,r){var n;e=d(e),i.supportInvokeWithAppId?c.invoke("getPluginPermissionBytes",{pluginList:[{pluginId:e,indexes:[a.Z[t]]}]},(t=>{var n=t.pluginPermissionMap[e][0];r([n,n,n])})):(n=()=>{var n=p(e,t);r(n)},null!==s?n():l.push(n))}var h=r(4275),g=r(6195);function v(e,t,r,a={}){"navigateToMiniProgram"!==e&&"openUrl"!==e&&"private_openUrl"!==e||(t.adUxInfo=t.adUxInfo||(0,g.I)());a.appId;return"splashad"===o.env.workerType||n.Z.supportInvokeWithAppId,c.invoke(e,t,r,a)}function m(e,t,r,n={}){if(h.wZ)try{t=JSON.stringify(t)}catch(e){console.error("invokeThird unexpected arguments:",t)}return c.invokeThird(e,t,r,n)}},6968:(e,t,r)=>{"use strict";r.d(t,{on:()=>a,p:()=>i});var n=Object.create(null);function a(e,t){return n[e]instanceof Array?(n[e].push(t),null):(n[e]=null,c.on(e,t))}function i(e){return null===n[e]?(console.error("`splitOnBridgeListener` should be called before any listeners attached to it. Ignored."),null):(n[e]=[],c.on(e,((...t)=>{var r=n[e];for(var a of r){if(!1===a(...t))break}})),t=>{n[e].unshift(t)})}},4163:(e,t,r)=>{"use strict";var n;r.d(t,{be:()=>i.be,F0:()=>i.F0,IN:()=>i.IN,bb:()=>i.bb,qu:()=>i.qu,oQ:()=>i.oQ,jQ:()=>c.j,nY:()=>o.n,Ld:()=>s.L,yt:()=>i.yt});var a={get invoke(){return n},set invoke(e){n=e}},i=r(5190),o=r(6345),s=r(7010),c=r(9253);r(9772);a.invoke=i.IN},5190:(e,t,r)=>{"use strict";r.d(t,{be:()=>ne,F0:()=>q,IN:()=>X,bb:()=>ee,qu:()=>te,oQ:()=>Q,ei:()=>V,yt:()=>z});var a=r(2040),i=r(4318),s={},c={},l={},u=0,d=(e,t)=>Object.keys(t).map((r=>Object.keys(t[r]).map((n=>({func:r,result:e,errMsg:n,count:t[r][n]}))))),p=()=>{var e=d(1,s),t=d(2,c),r=d(3,l),n=[].concat(e,t,r);0!==n.length&&(0,i.IN)("reportRealtimeAction",{actionData:JSON.stringify({business:"mmbizwxajsapi",dataType:1,dataArray:n,appType:w.getAppType()})}),s={},c={},l={}},f=r(3306),h=r(9190),g=r(5409),v=r(7023),m=n.prototype.call.bind(Array.prototype.push),y=(n.prototype.call.bind(Array.prototype.forEach),["startPullDownRefresh"]),b=[],I={appRoute:!1,appRouteDone:!1},S=r(4275),k=r(5333),C=r(4770),T=r(7828),E=r(6776),A=r(1691),P=(()=>{var e={};return k.Z.onReady((()=>{Object.assign(e,k.Z.appLaunchInfo),(0,C.n)("onAppEnterForeground",(t=>{Object.assign(e,t)}))})),e})();function x(){if(void 0===T.hr)return"";var e=T.hr.getCurrentPagesByDomain("");return e&&e.length?e[e.length-1].route:""}var M=(()=>Array.prototype.map)(),R=n.prototype.call.bind(M),D=(()=>Array.prototype.join)(),L=n.prototype.call.bind(D);var N,O=(()=>Object.create)(),B=(()=>Object.assign)(),j=(()=>Object.keys)(),F=(()=>Array.prototype.reduce)(),U=Array.prototype.includes.bind(y),W=n.prototype.call.bind(F),G=["open","openSync","close","closeSync","fstat","fstatSync","write","writeSync","read","readSync","truncate","truncateSync","ftruncate","ftruncateSync"];function V(e){void 0===N&&(N=e)}function $(e,t){return W(j(e),((r,n)=>("function"==typeof e[n]&&(r[n]=_.surroundThirdByTryCatch(e[n],`at api ${t} ${n} callback function`),delete e[n]),r)),{})}function q(e,t,r,n,a){e.errMsg=e.errMsg||`${t}:ok`;var i=0===e.errMsg.indexOf(`${t}:ok`),o=new RegExp(`${t}:(fail |fail:)?cancel`).test(e.errMsg),d=0===e.errMsg.indexOf(`${t}:fail`);"function"==typeof n.beforeAll&&n.beforeAll(e),i?function(e,t,r,n,a){var i=function(){"function"==typeof e.success&&e.success(r),"function"==typeof n.afterSuccess&&n.afterSuccess(r)};"function"==typeof n.beforeSuccess?2===n.beforeSuccess._argumentsLength?n.beforeSuccess(r,i):(n.beforeSuccess(r),i()):i(),"function"==typeof N&&N(t,a)}(r,t,e,n,a):o?function(e,t,r,n){var a=new RegExp(`${t}:(fail |fail:)?cancel`);e.errMsg=e.errMsg.replace(a,`${t}:fail cancel`),"function"==typeof r.fail&&r.fail(e),"function"==typeof n.beforeCancel&&n.beforeCancel(e),"function"==typeof r.cancel&&r.cancel(e),"function"==typeof n.afterCancel&&n.afterCancel(e)}(e,t,r,n):d&&function(e,t,r,n){"function"==typeof e.beforeFail&&e.beforeFail(r),"function"==typeof n.fail&&n.fail(r),"function"==typeof e.afterFail&&e.afterFail(r),(0,v.mf)(e.checkNeedReportFail)&&!1===e.checkNeedReportFail(r)||w.reportIDKey({key:`${t}_fail`})}(n,t,e,r),"function"==typeof r.complete&&r.complete(e),"function"==typeof n.afterAll&&n.afterAll(e),((e,t,r,n,a)=>{var i;(i=t?s:r?c:l)[e]=i[e]||{},i[e][a]=(i[e][a]||0)+1,Date.now()-u>=6e4&&(u=Date.now(),setTimeout(p,6e4))})(t,i,d,0,e.errMsg)}function z(e,t,r,n){var a;return a=r.isThird?$(r,t):$(e,t),e=>{q(e,t,a,r,n)}}var Z=(()=>String.prototype.split)(),H=(()=>String.prototype.startsWith)(),K=n.prototype.call.bind(Z),J=n.prototype.call.bind(H);function Y(e){return(t,r={},n={},i="/")=>{var s,c,l,u,d;(0,v.Kn)(r)||(r={}),"operateWXData"===t&&(r._isFromBaseOperateWXData,delete r._isFromBaseOperateWXData),"openUrl"!==t&&"private_openUrl"!==t||(s=t,c=r,l=Date.now(),u=c.url||"",d=L(R([k.Z.appType+1e3,s,x(),P.scene,encodeURIComponent(P.scene_note||P.sceneNote),(0,A.c)(c),l,0,(0,E.k)(),(0,E.n)(),P.sessionid||P.sessionId,u],(0,A.b)(1024)),","),w.reportKeyValue({key:"OpenUrl",value:d})),n=function(e,t){return W(j(e),((r,n)=>("function"==typeof e[n]&&(r[n]=(0,f.Hw)(e[n],`at api ${t} ${n} callback function`),r[n]._argumentsLength=e[n].length),r)),{})}(n,t),(0,v.Kn)(r)&&(r=B(O(null),r));var p=z(r,t,n,i);w.reportIDKey({key:t});var h,m={keepOriginalParams:(h=t,S.jP||S.wZ&&G.includes(h))};if(!e&&"splashad"!==o.env.workerType){if((0,S.LU)()&&g.g4.has(t)&&!(0,g.V8)(t))return void p({errMsg:`${t}:fail API has been banned`});if((0,v.Kn)(r)&&(delete r.pluginId,delete r.permissionBytes),"string"==typeof i&&J(i,"wx")){var y=(e=>K(e,"/",1)[0])(i);m.appId=y}}(0,a.d)(t,r,p,m)}}var Q=Y(!1),X=(e,t,r)=>{U(e)?((e,t,r)=>{var{appRoute:n,appRouteDone:a}=I;!n&&a?(0,i.oQ)(e,t,r):m(b,{name:e,args:t,option:r})})(e,t,r):Q(e,t,r)},ee=(e,t,r)=>(0,h.Vl)((t=>X(e,t,r)))(t),te=e=>e?(t,r,n)=>{Q(t,r,n,e)}:X,re=Y(!0),ne=(e,t,r)=>{re(e,t,r)}},9253:(e,t,r)=>{"use strict";r.d(t,{S:()=>o,j:()=>i});var n=r(6968),a=r(3306);function i(e,t){(0,n.on)(e,(0,a.Hw)(t,`at api ${e} callback function`))}function o(e,t){c.onThird(e,(0,a.Hw)(t,`at api ${e} callback function`))}},9772:(e,t,r)=>{"use strict";var n;r.d(t,{$T:()=>o,C2:()=>s,Mj:()=>l,ig:()=>u});var a={},i=!1,o=()=>i,s=e=>a[e],l=(e,t)=>{a[e]=t,i=i||"context"===t},u=e=>{if(void 0===e||0===e.length)return{};if(1===e.length)return"webview"===a[e[0]]?{webview:e}:{context:e};var t={};return e.forEach((e=>{void 0!==t[a[e]]?t[a[e]].push(e):t[a[e]]=[e]})),t};null===(n=c.clientManager)||void 0===n||n.on("clientConnected",(e=>{l(e,"webview")}))},6345:(e,t,r)=>{"use strict";r.d(t,{n:()=>s});var n=r(4275),a=r(9772),i=(e,t={},r)=>{Array.isArray(r)?r.forEach((r=>{b.postMessageToSubContext({event:e,params:{params:t,pageId:r}},r)})):b.postMessageToSubContext({event:e,params:{params:t}},r)};function o(e,t,r){}var s=n.KU?(e,t,r)=>{if(null==r)(0,a.$T)()&&i(e,t,r);else{var n=(0,a.ig)(r);void 0!==n.webview&&n.webview,void 0!==n.context&&i(e,t,n.context)}}:o},7010:(e,t,r)=>{"use strict";r.d(t,{L:()=>c});var n=r(4275),a=r(9772);function i(e,t){}var s=n.KU?new o.EventEmitter:null;n.KU&&o.onLibraryEnd((()=>{b.onSubContextMessage((e=>{s.emit(e.event,e.params)}))}));var c=n.KU?(e,t)=>{((e,t)=>{s.on(e,(e=>{void 0===(0,a.C2)(e.pageId)&&(0,a.Mj)(e.pageId,"context"),t(e.params,e.pageId)}))})(e,t)}:i},4318:(e,t,r)=>{"use strict";r.d(t,{be:()=>n.be,Rn:()=>a.Rn,r3:()=>a.r3,FE:()=>a.FE,YG:()=>a.YG,zy:()=>a.zy,F0:()=>n.F0,IN:()=>n.IN,bb:()=>n.bb,qu:()=>n.qu,yD:()=>i.yD,t4:()=>i.t4,Qh:()=>i.Qh,oQ:()=>n.oQ,jQ:()=>n.jQ,TG:()=>s,nY:()=>n.nY,Ld:()=>n.Ld,yt:()=>n.yt});var n=r(4163),a=r(5551),i=r(9923),o=(()=>Object.assign)();function s(e,t,r=(()=>{}),n=(()=>{})){return(s={})=>{var{success:c,fail:l}=(0,a.Rn)(s,e);(0,i.yD)({apiName:t,reqData:r(s)||{},sdkApiName:e,success(e){e.rawDataObject=e.data,delete e.data,o(e,e.rawDataObject),n(e),delete e.rawDataObject,c(e)},fail:l,complete:void 0})}}},9923:(e,t,r)=>{"use strict";r.d(t,{yD:()=>y,t4:()=>_,Qh:()=>b});var n=r(4318),a=r(5333),i=r(6468),o=r(6776),s=r(1691);function c({WXDataApiName:e,argument:t,isSuccess:r,invokeTime:n,costTime:c,result:l,errMsg:u,isConfirm:d,queueLength:p,wxdataQueueTimestamp:f,wxdataDequeueTimestamp:h,beginCGITimestamp:g,CGICallbackTimestamp:v,beginCGITimestampAfterConfirm:m,CGICallbackTimestampAfterConfirm:y,wxlibCallbackTimestamp:b,requestInQueue:_,requestingCount:I,cost1:S,cost2:k,cost3:C,cost4:T,cost5:E,cost6:A}){Math.random()<.05&&setTimeout((()=>{var P=i.Z.currentNetworkType,x=a.Z.appType+1e3,M=a.Z.appLaunchInfo&&void 0!==a.Z.appLaunchInfo.scene?a.Z.appLaunchInfo.scene:0,R=[e,(0,s.c)(JSON.stringify(t)),r?1:0,n,c,P,(0,s.c)(l),x,M,(0,o.k)(),(0,o.n)(),u&&(0,s.c)(u)||"",d?1:0,p,S,k,C,T,E,A,0,_?1:0,I,n,f,h,g,v,m,y,b].map((0,s.b)(1024)).join(",");w.reportKeyValue({key:"WeAppOperateWXData",value:R})}),0)}var l=0,u=["webapi_getuserinfo","webapi_getwerunstep_history","subscribemsg","webapi_getfrienduserstorage","webapi_getgroupuserstorage","webapi_game_potential_friends","webapi_getuserinteractivedata","webapi_setselfuserstorage","webapi_modifyfriendinteractivedata","webapi_getuserstorageallappkey","webapi_getshareinfo_byopengid","webapi_getuserinfo_byopenid","webapi_opengameinfo_getfriendsuserdata"],d=["webapi_getuserinfo","webapi_getuserallappauth","webapi_getadvert","webapi_getshareinfo","webapi_getuserprofile","webapi_getiapbuyinfo","jsapi_querysettlementmark","webapi_createiapbuygamecoinorder","wxaapi_midascouponsrollback","webapi_closeiapbuyorder","webapi_createiapbuygameitemorder","wxaapi_midasgetcoupons","webapi_queryiapcoupons"],p=["qbase_commapi","webapi_botdemo"],h=r(5551),g=r(9011),v=(()=>JSON.parse)(),m=e=>({apiName:t,reqData:r,sdkApiName:a,pluginId:i,success:o,fail:s,complete:g,fromComponent:m=!1,withCredentials:y=!1,showConfirm:b=!1,timeout:_=18e4}={})=>{if((0,h.r3)("operateWXData",{apiName:t,success:o,fail:s,complete:g},{apiName:""})){var w={success:o,fail:s,complete:g};a=a||"operateWXData";var I={api_name:t,data:r||{},operate_directly:e};"string"==typeof i&&(I.plugin_appid=i),!0===m&&(I.from_component=!0),!0===y&&(I.with_credentials=!0),!0===b&&(I.show_confirm=!0),((e={},t={},...r)=>{var a=Object.assign({},e);a._isFromBaseOperateWXData=!0;var i=t.beforeAll,o=t.beforeSuccess,s=t.beforeFail,h=a.data&&a.data.api_name;u.includes(h)?(a.requestInQueue=!0,delete a.timeout):a.requestInQueue=!1,d.includes(h)?a.isImportant=!0:a.isImportant=!1,p.includes(a.data&&a.data.api_name)&&(a.keepAlive=!0);var g={isSuccess:void 0,WXDataApiName:h,argument:a,invokeTime:Date.now(),requestInQueue:a.requestInQueue,requestingCount:++l};(0,n.IN)("operateWXData",a,{beforeAll(e){var r=Date.now();l--,g.costTime=r-g.invokeTime;try{if(e&&e.data&&e.data.data?g.result=JSON.stringify(e.data):g.result=e.data,e.clientInfo&&"object"==typeof e.clientInfo){var n=e.clientInfo;delete e.clientInfo,Object.keys(n).forEach((e=>{g[e]=n[e]})),g.cost1=n.wxdataQueueTimestamp-g.invokeTime,g.cost2=n.wxdataDequeueTimestamp-n.wxdataQueueTimestamp,g.cost3=n.beginCGITimestamp-n.wxdataDequeueTimestamp,g.cost4=n.CGICallbackTimestamp-n.beginCGITimestamp,g.cost5=n.wxlibCallbackTimestamp-n.CGICallbackTimestamp,g.cost6=r-n.wxlibCallbackTimestamp}}catch(e){f.error(e)}"function"==typeof i&&i.call(t,e)},beforeSuccess(e){g.isSuccess=!0,a.data.data&&a.data.data.__wxdataUseProfile__&&(e.__wxdataProfileInfo=g),"function"==typeof o&&o.call(t,e),c(g)},beforeFail(e){g.isSuccess=!1,g.errMsg=e.errMsg,a.data.data&&a.data.data.__wxdataUseProfile__&&(e.__wxdataProfileInfo=g),"function"==typeof s&&s.call(t,e),c(g)}},...r)})({data:I,timeout:_,success(t){if("string"==typeof t.data)try{t.data=v(t.data)}catch(e){return void(0,h.YG)(a,w,`json parse error, json="${t.data}"`)}var{data:r}=t;delete t.data;var{data:n,encryptedData:i,iv:s,cloud_id:c,err_no:l,signature:u}=r;if(e)void 0!==n&&(t.rawData=n),t.respData=r;else if("string"==typeof n)try{t.data=v(n)}catch(e){return void(0,h.YG)(a,w,`json parse error, json="${n}"`)}else t.data={};u&&(t.signature=u),i&&(t.encryptedData=i,t.iv=s,c&&(t.cloudID=c)),"number"==typeof l&&0!==l?(0,h.YG)(a,w,l):("function"==typeof o&&o(t),"function"==typeof g&&g(t))},fail(e){"function"==typeof s&&s(e),"function"==typeof g&&g(e)}},{beforeAll(e){"operateWXData"!==a&&(e.errMsg=e.errMsg.replace("operateWXData",a))}})}},y=m(!1),b=(0,g.Fr)(y),_=m(!0)},5551:(e,t,r)=>{"use strict";r.d(t,{FE:()=>l,Rn:()=>u,S3:()=>c,YG:()=>s,r3:()=>i,zy:()=>o});var n=r(4084),a=r(7023);function i(e,t,r){var i=(0,a.x7)(t,r);return!i||(l({name:e,args:t,errno:n.Wkc,errMsg:`parameter error: ${i}`,success:!1}),!1)}function o(e,t){var r=(0,a.x7)(e,t);if(r)throw new Error(`parameter error: ${r}`)}function s(e,t={},r,n){var i=(0,a.hj)(r);l({name:e,args:t,errno:i?r:void 0,errMsg:i?void 0:r,errCode:i?void 0:n,success:!1})}function c({name:e,args:t={},errMsg:r="",res:n={}}){t=t||{};var i=`${e}:${r}`,o=_.surroundThirdByTryCatch(t.complete||a.ZT,`at api ${e} complete callback function`);n.errMsg=i,o(n)}function l({name:e,args:t={},success:r=!0,errno:n,errMsg:i="",errCode:o,res:s={}}){t=t||{};var c=_.surroundThirdByTryCatch((r?t.success:t.fail)||a.ZT,`at api ${e} ${r?"success":"fail"} callback function`),l=_.surroundThirdByTryCatch(t.complete||a.ZT,`at api ${e} complete callback function`);(0,a.hj)(n)?(s.errno=n,s.errMsg=`${e}:fail${i&&":"!==i[0]?" ":""}${i||""}`):(s.errMsg=r?`${e}:ok`:`${e}:fail ${i}`,(0,a.hj)(o)&&(s.errCode=o)),c(s),l(s)}var u=({success:e,fail:t,complete:r}={},n)=>{var a=e=>{"function"==typeof t&&(n?_.surroundThirdByTryCatch(t,`at api ${n} fail callback function`)(e):t(e)),"function"==typeof r&&(n?_.surroundThirdByTryCatch(r,`at api ${n} complete callback function`)(e):r(e))};return{success:t=>{void 0===t.errMsg&&n&&(t.errMsg=`${n}:ok`),"function"==typeof e&&(n?_.surroundThirdByTryCatch(e,`at api ${n} success callback function`)(t):e(t)),"function"==typeof r&&(n?_.surroundThirdByTryCatch(r,`at api ${n} complete callback function`)(t):r(t))},fail:a,failWithMsg:({code:e,msg:t,errno:r,name:i}={})=>{var o={};"number"==typeof r&&r>0?(o.errno=r,o.errMsg=`${i||n}:fail`):(o.errMsg=`${i||n}:fail ${t||""}`,"number"==typeof e&&(o.errCode=e)),a(o)}}}},8212:(e,t,r)=>{"use strict";r.d(t,{Q:()=>s});var n=r(4318),a=r(4084),i=JSON.parse,o=JSON.stringify,s=(e,t,{timeout:r}={timeout:1e4})=>{var s,c=null;return(l={})=>{var u,{success:d,fail:p}=(0,n.Rn)(l,e);null===c?(u=!1,c=new Promise(((n,i)=>{t(Object.assign({},l,{success:n,fail:i,complete:void 0})),setTimeout((()=>{i({errMsg:`${e}:fail time out`,errno:a.zMx})}),r)}))):u=!0,c.then((e=>{if(c=null,u){var t={};try{t=i(s)}catch(e){f.error("constructCachedOptimizedApi parse error",e)}d(t)}else{try{s=o(e)}catch(e){f.error("constructCachedOptimizedApi stringify error",e)}d(e)}})).catch((e=>{c=null,p(e)}))}}},3847:(e,t,r)=>{"use strict";r.d(t,{r:()=>i});var n=JSON.parse,a=JSON.stringify,i=e=>{var t;return(r={})=>{if(t){var i={};try{i=n(t)}catch(e){f.error("constructCachedOptimizedSyncReturnApi parse error",e.message)}return i}var o=e(r);try{t=a(o)}catch(e){f.error("constructCachedOptimizedSyncReturnApi stringify error",e.message)}return Promise.resolve().then((()=>{t=void 0})),o}}},6299:(e,t)=>{"use strict";class r{constructor(){this._internal=new Map,this._once=new Map}add(e,t=null){this._internal.set(e,t)}get(e,t){var r=this._internal.get(e);return this._once.get(e)&&this.off(e),void 0===r&&void 0!==t?t:r}compare(e,t){return this.get(e)===t}off(e){this._internal.delete(e),this._once.delete(e)}once(e,t=null){this._once.set(e,!0),this.add(e,t)}set(e,t,r=!1){return!(!this._internal.get(e)&&!r)&&(this._internal.set(e,t),!0)}}var n=(()=>new r)();t.Z=n},4770:(e,t,r)=>{"use strict";r.d(t,{n:()=>l,ri:()=>d,ry:()=>c,vu:()=>u});var n=r(9253),a=r(5358),i={},o=["onGameLiveStateChange","onAppEnterForeground","onAppEnterBackground","onWebviewFinishLoad","onWebInvokeAppService","WEB_INVOKE_APPSERVICE"],s={},c=(e,...t)=>{(0,a.s)(`WeixinJSBridge-${e}`).emitInternal(...t)},l=(e,t)=>{var r=(0,a.s)(`WeixinJSBridge-${e}`);i[e]||((0,n.j)(e,((...t)=>{r.emit(...t),((e,...t)=>{if("undefined"!=typeof __IS_MINIGAME_LIVE_SUB_PACKAGE__){if(!o.includes(e))return;var{acceptSyncMainPackageNativeEventFromSubPackage:r}=I;r(e,...t)}})(e,...t)})),i[e]=!0),r.internalOnMethod(t)},u=(e,t)=>{var r=(0,a.s)(`WeixinJSBridge-Third-${e}`);s[e]||((0,n.S)(e,((...e)=>{r.emit(...e)})),s[e]=!0),r.internalOnMethod(t)},d=(e,t)=>{(0,a.s)(`WeixinJSBridge-${e}`).internalOffMethod(t)}},1344:(e,t,r)=>{"use strict";r.d(t,{$b:()=>y,Ej:()=>T,Gr:()=>I,HX:()=>h,L6:()=>C,LK:()=>_,LU:()=>g,M2:()=>w,O6:()=>k,S1:()=>d,WB:()=>b,_g:()=>f,g7:()=>S,lj:()=>E,r:()=>m,ri:()=>v,s2:()=>u,xN:()=>p});var n=r(1702),a=r(4770),i=new n.Q("Keyboard"),o=new n.Q("",!0),s=new Set;["onKeyboardInput","onKeyboardConfirm","onKeyboardComplete","onStoreEmoticonSelect","onKeyboardHeightChange"].forEach((e=>{(0,a.n)(e,(t=>{!function(e,t){i.emit(e,t),o.emit(e,t),s.forEach((r=>{o.emit(`${r}-${e}`,t)}))}(e,t)}))}));var c=(e,t,r)=>{s.add(e),o.on(`${e}-${t}`,r)},l=(e,t,r)=>{o.off(`${e}-${t}`,r)},u=e=>o.on("onKeyboardInput",e),d=e=>o.off("onKeyboardInput",e),p=e=>o.on("onKeyboardConfirm",e),f=e=>o.off("onKeyboardConfirm",e),h=e=>t=>c(e,"onKeyboardConfirm",t),g=e=>t=>l(e,"onKeyboardConfirm",t),v=e=>o.on("onKeyboardComplete",e),m=e=>o.off("onKeyboardComplete",e),y=e=>t=>c(e,"onKeyboardComplete",t),b=e=>t=>l(e,"onKeyboardComplete",t),_=e=>i.on("onKeyboardHeightChange",e),w=e=>i.off("onKeyboardHeightChange",e),I=e=>o.on("onKeyboardHeightChange",e),S=e=>o.off("onKeyboardHeightChange",e),k=e=>t=>c(e,"onKeyboardHeightChange",t),C=e=>t=>l(e,"onKeyboardHeightChange",t),T=e=>i.on("onStoreEmoticonSelect",e),E=e=>i.off("onStoreEmoticonSelect",e)},3188:(e,t,r)=>{"use strict";r.d(t,{P:()=>a,c:()=>i});var n=r(4318),a=(e={})=>{(0,n.r3)("access",e,{path:""})&&(0,n.IN)("access",e)},i=e=>{if(!e||"string"!=typeof e)throw new TypeError("path must be a string");var t,r;if((0,n.IN)("accessSync",{path:e,fail(e){t=e.errMsg,r=e.errno}}),t){var a=new Error(t);throw a.errno=r,a}}},7230:(e,t,r)=>{"use strict";r.d(t,{H:()=>o,a:()=>i});var n=r(4318),a=r(6557),i=(e={})=>{(0,n.r3)("appendFile",e,{filePath:""})&&(e.encoding&&-1===a.a.indexOf(e.encoding)?(0,n.YG)("appendFile",e,`invalid encoding "${e.encoding}"`):(0,n.IN)("fs_appendFile",e,{}))},o=(e,t,r)=>{if(!e||"string"!=typeof e)throw new Error("path must be a string");if(r&&-1===a.a.indexOf(r))throw new Error(`invalid encoding "${r}"`);var i,o;if((0,n.IN)("fs_appendFileSync",{filePath:e,data:t,encoding:r,fail(e){i=e.errMsg,o=e.errno}}),i){var s=new Error(i);throw s.errno=o,s}}},6302:(e,t,r)=>{"use strict";r.d(t,{Do:()=>i,KK:()=>o,bh:()=>l,rW:()=>s,vL:()=>c,yH:()=>a});var n=r(4318),a=e=>{(0,n.r3)("saveFile",e,{tempFilePath:""})&&(0,n.IN)("saveFile",e)},i=(e,t)=>{if(!e||"string"!=typeof e)throw new Error("tempFilePath must be a string");if(void 0!==t&&"string"!=typeof t)throw new Error("filePath must be a string");var r,a;if((0,n.IN)("saveFileSync",{tempFilePath:e,filePath:t,success(e){a=e.savedFilePath},fail(e){r=e.errMsg}}),r)throw new Error(r);return a},o=e=>{(0,n.r3)("openDocument",e,{filePath:""})&&(e.showMenu=e.showMenu||!1,(0,n.IN)("openDocument",e))},s=(e={})=>{(0,n.IN)("getSavedFileList",e)},c=(e={})=>{(0,n.r3)("getSavedFileInfo",e,{filePath:""})&&(0,n.IN)("getSavedFileInfo",e)},l=(e={})=>{(0,n.r3)("removeSavedFile",e,{filePath:""})&&(0,n.IN)("removeSavedFile",e)}},7499:(e,t,r)=>{"use strict";r.d(t,{Q:()=>i,c:()=>a});var n=r(4318),a=(e={})=>{(0,n.r3)("copyFile",e,{srcPath:"",destPath:""})&&(0,n.IN)("fs_copyFile",e,{beforeAll(e){e.errMsg=e.errMsg.replace("fs_copyFile:","copyFile:")}})},i=(e,t)=>{if(!e||"string"!=typeof e)throw new Error("srcPath must be a string");if(!t||"string"!=typeof t)throw new Error("destPath must be a string");var r,a;if((0,n.IN)("fs_copyFileSync",{srcPath:e,destPath:t,fail(e){r=e.errMsg.replace("fs_copyFileSync:","copyFileSync:"),a=e.errno}}),r){var i=new Error(r);throw i.errno=a,i}}},6557:(e,t,r)=>{"use strict";r.d(t,{a:()=>n});var n=["ascii","base64","binary","hex","ucs2","ucs-2","utf16le","utf-16le","utf8","utf-8","latin1"]},81:(e,t,r)=>{"use strict";r.d(t,{h:()=>i});var n=r(4318),a=r(7023),i=(e={})=>{if((0,n.r3)("getFileInfo",e,{filePath:""})){if(void 0!==e.digestAlgorithm){var t=(0,a.x7)(e,{digestAlgorithm:""});if(t)return void(0,n.YG)("getFileInfo",e,`parameter error: ${t}`);if(-1===["md5","sha1"].indexOf(e.digestAlgorithm))return void(0,n.YG)("getFileInfo",e,`parameter error: invalid digestAlgorithm "${e.digestAlgorithm}"`)}(0,n.IN)("getFileInfo",e,{})}}},4089:(e,t,r)=>{"use strict";r.d(t,{Jo:()=>U,Dc:()=>q,d7:()=>z,y9:()=>Z,PZ:()=>H,WZ:()=>B,EH:()=>F});var n=r(4318),a=r(7146),i=r(6557),o=r(7023),s=r(8311),c=r(9097),l=r.n(c),u=r(4275),d=r(1641),p={close:(e={})=>{(0,n.r3)("close",e,{fd:""})&&(0,n.IN)("close",e)},closeSync:({fd:e}={})=>{if(!e||"string"!=typeof e)throw new TypeError("fd must be a string");var t,r;if((0,n.IN)("closeSync",{fd:e,fail(e){t=e.errMsg,r=e.errno}}),t){var a=new Error(t);throw a.errno=r,a}},fstat:(e={})=>{(0,n.r3)("fstat",e,{fd:""})&&(0,n.IN)("fstat",e,{beforeSuccess(e){var{mode:t,size:r}=e,{lastAccessedTime:n,lastModifiedTime:i}=e;n>1617e9&&(n=Math.floor(n/1e3)),i>1617e9&&(i=Math.floor(i/1e3)),e.stats=new a.jk({mode:t,size:r,lastAccessedTime:n,lastModifiedTime:i}),delete e.mode,delete e.size,delete e.lastAccessedTime,delete e.lastModifiedTime}})},fstatSync:({fd:e}={})=>{if(!e||"string"!=typeof e)throw new TypeError("fd must be a string");var t,r,i;if((0,n.IN)("fstatSync",{fd:e,fail(e){r=e.errMsg,i=e.errno},success(e){var{mode:r,size:n}=e,{lastAccessedTime:i,lastModifiedTime:o}=e;i>1617e9&&(i=Math.floor(i/1e3)),o>1617e9&&(o=Math.floor(o/1e3)),t=new a.jk({mode:r,size:n,lastAccessedTime:i,lastModifiedTime:o})}}),r){var o=new Error(r);throw o.errno=i,o}return t},write:(e={})=>{var t=Object.assign({},e);if((0,n.r3)("write",t,{fd:""}))if(t.encoding&&-1===i.a.indexOf(t.encoding))(0,n.YG)("write",t,`invalid encoding "${t.encoding}"`);else{if((0,o.eP)(t.data)){if(t.data.byteLength>10485760)return void(0,n.YG)("write",t,"ArrayBuffer exceed size limit (10M)");("number"!=typeof t.offset||t.offset<0)&&(t.offset=0),("number"!=typeof t.length||t.length<0)&&(t.length=t.data.byteLength-t.offset)}else if(!(0,o.HD)(t.data))return void(0,n.YG)("write",t,"data must be a string or ArrayBuffer");"number"!=typeof t.position&&(t.position=void 0),(0,n.IN)("write",t)}},writeSync:({fd:e,data:t,offset:r,length:a,encoding:c,position:l}={})=>{if(!e||"string"!=typeof e)throw new TypeError("fd must be a string");if(c&&-1===i.a.indexOf(c))throw new s.iZ(`invalid encoding "${c}"`);if((0,o.eP)(t)){if(t.byteLength>10485760)throw new s.iZ("ArrayBuffer exceed size limit (10M)");("number"!=typeof r||r<0)&&(r=0),("number"!=typeof a||a<0)&&(a=t.byteLength-r)}else if(!(0,o.HD)(t))throw new TypeError("data must be a string or ArrayBuffer");var u,d,p;if("number"!=typeof l&&(l=void 0),(0,n.IN)("writeSync",{fd:e,data:t,offset:r,length:a,encoding:c,position:l,fail(e){u=e.errMsg,p=e.errno},success(e){d={bytesWritten:e.bytesWritten}}}),u){var f=new Error(u);throw f.errno=p,f}return d},read:(e={})=>{if((0,n.r3)("read",e,{fd:""}))if((0,o.eP)(e.arrayBuffer)){var t=Object.assign({},e),r=(0,d.t)();u.cj&&r&&r.trace&&(t.arrayBufferId=r.trace(t.arrayBuffer,"rw"),delete t.arrayBuffer),(0,o.hj)(t.position)&&t.position<0?t.position=0:(0,o.o8)(t.position)||(0,o.Ft)(t.position)?t.position=null:(0,o.hj)(t.position)||(t.position=0);var a=Number(t.length);Number.isNaN(a)?t.length=0:t.length=a;var i=Number(t.offset);Number.isNaN(i)?t.offset=0:t.offset=i,(0,n.IN)("read",t,{beforeSuccess(t){t.arrayBuffer=e.arrayBuffer},afterAll(){u.cj&&r&&r.untrace&&r.untrace(t.arrayBufferId)}})}else(0,n.YG)("FileSystemManager.read",e,"arrayBuffer must be an ArrayBuffer")},readSync:(e={})=>{var{fd:t,arrayBuffer:r}=e;if(!t||"string"!=typeof t)throw new TypeError("fd must be a string");if(!(0,o.eP)(r))throw new TypeError("arrayBuffer must be an ArrayBuffer");var a=Object.assign({},e),i=(0,d.t)();u.cj&&i&&i.trace&&(a.arrayBufferId=i.trace(a.arrayBuffer,"rw"),delete a.arrayBuffer),(0,o.hj)(a.position)&&a.position<0?a.position=0:(0,o.o8)(a.position)||(0,o.Ft)(a.position)?a.position=null:(0,o.hj)(a.position)||(a.position=0);var s=Number(a.length);Number.isNaN(s)?a.length=0:a.length=s;var c,p,f,h=Number(a.offset);if(Number.isNaN(h)?a.offset=0:a.offset=h,(0,n.IN)("readSync",l()(l()({},a),{},{fail(e){p=e.errMsg,f=e.errno},success(e){c={bytesRead:e.bytesRead,arrayBuffer:r}}})),u.cj&&i&&i.untrace&&i.untrace(a.arrayBufferId),p){var g=new Error(p);throw g.errno=f,g}return c},ftruncate:(e={})=>{(0,n.r3)("ftruncate",e,{fd:""})&&("number"!=typeof(e=Object.assign({},e)).length&&(e.length=0),e.length=Math.floor(e.length),e.length<0&&(e.length=0),(0,n.IN)("ftruncate",e))},ftruncateSync:({fd:e,length:t}={})=>{if(!e||"string"!=typeof e)throw new Error("fd must be a string");var r,a;if("number"!=typeof t&&(t=0),(t=Math.floor(t))<0&&(t=0),(0,n.IN)("ftruncateSync",{fd:e,length:t,fail(e){r=e.errMsg,a=e.errno}}),r){var i=new Error(r);throw i.errno=a,i}}},f=r(6302),h=r(81),g=r(9955),v=r(8555),m=r(4704),y=r(2603),b=r(3188),_=r(2915),w=r(7499),I=r(4080),S=r(7230),k="readZipEntry",C=["a","ax","a+","ax+","as","as+","r","r+","w","wx","w+","wx+"],T=r(2404),E={saveFile:f.yH,saveFileSync:f.Do,getSavedFileList:f.rW,getSavedFileInfo:f.vL,removeSavedFile:f.bh,getFileInfo:h.h,readFile:g.p,readFileSync:g.N,writeFile:v.N,writeFileSync:v.y,mkdir:m.i,mkdirSync:m.h,rmdir:(e={})=>{(0,n.r3)("rmdir",e,{dirPath:""})&&(0,n.IN)("rmdir",e)},rmdirSync:(e,t=!1)=>{if(!e||"string"!=typeof e)throw new Error("dirPath must be a string");var r,a;if((0,n.IN)("rmdirSync",{dirPath:e,recursive:t,fail(e){r=e.errMsg,a=e.errno}}),r){var i=new Error(r);throw i.errno=a,i}},readdir:y.e,readdirSync:y.T,access:b.P,accessSync:b.c,unlink:_.q,unlinkSync:_.y,stat:a.lz,statSync:a.dJ,unzip:(e={})=>{(0,n.r3)("unzip",e,{zipFilePath:""})&&(0,n.IN)("unzip",Object.assign({},e,{targetDirectory:e.targetPath}))},copyFile:w.c,copyFileSync:w.Q,rename:I.P,renameSync:I.g,appendFile:S.a,appendFileSync:S.H,readZipEntry:(e={})=>{(0,n.r3)(k,e,{filePath:""})&&((0,o.o8)(e.encoding)||-1!==i.a.indexOf(e.encoding)?"all"===e.entries||Array.isArray(e.entries)?(0,n.IN)(k,e,{beforeSuccess:e=>(e.entries&&Object.keys(e.entries).forEach((t=>{if(e[t]&&(e.entries[t].data=e[t],delete e[t]),"ok"===e.entries[t].errMsg?e.entries[t].errMsg=`${k}:ok`:e.entries[t].errMsg=`${k}:fail ${e.entries[t].errMsg}`,0===t.indexOf("file:")){var r=t.replace("file:","");e.entries[r]=e.entries[t],delete e.entries[t]}})),e)}):(0,n.YG)(k,e,"invalid entries"):(0,n.YG)(k,e,`invalid encoding "${e.encoding}"`))},open:(e={})=>{var t=Object.assign({},e);(0,n.r3)("open",e,{filePath:""})&&(void 0===e.flag||C.includes(e.flag)?(void 0===e.flag&&(t.flag="r"),(0,n.IN)("open",t)):(0,n.YG)("open",e,`invalid flag "${e.flag}"`))},openSync:(e={})=>{var t,r,a,{filePath:i}=e,{flag:o}=e;if(!i||"string"!=typeof i)throw new TypeError("filePath must be a string");if(void 0!==o&&!C.includes(o))throw new s.iZ(`invalid flag: ${o}`);if(void 0===o&&(o="r"),(0,n.IN)("openSync",{filePath:i,flag:o,fail(e){r=e.errMsg,a=e.errno},success(e){t=e.fd}}),r){var c=new Error(r);throw c.errno=a,c}return t},truncate:(e={})=>{(0,n.r3)("truncate",e,{filePath:""})&&("number"!=typeof(e=Object.assign({},e)).length&&(e.length=0),e.length=Math.floor(e.length),e.length<0&&(e.length=0),(0,n.IN)("truncate",e,{}))},truncateSync:({filePath:e,length:t}={})=>{if(!e||"string"!=typeof e)throw new Error("filePath must be a string");var r,a;if("number"!=typeof t&&(t=0),(t=Math.floor(t))<0&&(t=0),(0,n.IN)("truncateSync",{filePath:e,length:t,fail(e){r=e.errMsg,a=e.errno}}),r){var i=new Error(r);throw i.errno=a,i}},readCompressedFile:T.$,readCompressedFileSync:T.T},A={saveFile:["filePath"],saveFileSync:[1],getSavedFileList:null,getSavedFileInfo:null,removeSavedFile:null,getFileInfo:null,readFile:["filePath"],readFileSync:[0],writeFile:["filePath"],writeFileSync:[0],mkdir:["dirPath"],mkdirSync:[0],rmdir:["dirPath"],rmdirSync:[0],readdir:["dirPath"],readdirSync:[0],access:["path"],accessSync:[0],unlink:["filePath"],unlinkSync:[0],stat:["path"],statSync:[0],unzip:["zipFilePath","targetPath"],copyFile:["srcPath","destPath"],copyFileSync:[0,1],rename:["oldPath","newPath"],renameSync:[0,1],appendFile:["filePath"],appendFileSync:[0],readZipEntry:["filePath"],open:["filePath"],openSync:["filePath"],truncate:["filePath"],truncateSync:["filePath"],close:null,closeSync:null,fstat:null,fstatSync:null,write:null,writeSync:null,read:null,readSync:null,ftruncate:null,ftruncateSync:null,readCompressedFile:["filePath"],readCompressedFileSync:[0]},P={openSync:!0,truncateSync:!0},x=r(9011),M=r(5333),R="",D="",L="",N="";M.Z.onReady((()=>{try{R=M.Z.env.USER_DATA_PATH,D=M.Z.env.OPEN_DATA_PATH,delete M.Z.env.OPEN_DATA_PATH,L=R+"/__plugins__",u.gm?(N="http://__wxprivate__","http://sdk","http://ad"):(N="wxfile://__wxprivate__","wxfile://sdk","wxfile://ad")}catch(e){}}));var O=()=>R,B=()=>D,j=()=>L,F=e=>`${L}/${e}`,U=e=>`${N}/${e}`,W=new Set(["readFile","readFileSync","readdir","readdirSync","readZipEntry","readCompressedFile","readCompressedFileSync"]),G=r(4084),V=function(e,t,r,a){return(...i)=>{var o,c=t.endsWith("Sync"),l=!c||P[t]?i[0]:i,u=A[t].every((e=>{var n=((e,t,r,n)=>{var a=O(),i=B(),o=j();return"private-space-for-inner-plugin"===t?!!(e.startsWith(`wxfile://__wxprivate__/${r}/`)||e.startsWith("wxfile://__wxprivate__/__PATCH_DIR")||e.startsWith(`http://__wxprivate__/${r}/`)||e.startsWith("http://__wxprivate__/__PATCH_DIR"))||e:"string"!=typeof e||(e.startsWith("wxfile://ad")||e.startsWith("wxfile://sdk")||e.startsWith("wxfile://__wxprivate__")||e.startsWith("http://ad")||e.startsWith("http://sdk")||e.startsWith("http://__wxprivate__")||(0,x.Av)()&&(e.startsWith("wxfile://usr")||e.startsWith("http://usr"))?e:"opendata"===t?!!W.has(n)||!e.startsWith(a)||e:"game"===t||"app"===t?!(e.startsWith(i)||e.startsWith(o)||e.match(/__plugin__\/wx[a-z0-9]{16}/))||e:"app-plugin"===t||"game-plugin"===t?e.startsWith(i)?e:!e.startsWith(a)||!!e.startsWith(`${o}/${r}`)||e:e)})(l[e],r,a,t);return!0===n||(o=n,!1)}));if("app-plugin"!==r&&"game-plugin"!==r||A[t].forEach((e=>{"string"!=typeof l[e]||l[e].match(/^[a-zA-Z0-9]+:\/\//)||(l[e]=(0,s.RP)(a,l[e]))})),u)return e(...i);if(c){var d=new Error(`${t}:fail permission denied with path "${o}"`);throw d.errno=G.UoO,d}(0,n.FE)({success:!1,name:t,args:l,errno:G.UoO,errMsg:`permission denied with path "${o}"`})}},$=(e,t="")=>{var r={},a=new Set;return function(e,t,r,n){Object.keys(e).forEach((a=>{(0,o.o8)(A[a])||((0,o.Ft)(A[a])?t[a]=(...t)=>e[a](...t):t[a]=V(e[a],a,r,n))}))}(E,r,e,t),function(e,t,r){Object.keys(e).forEach((a=>{var i=e[a];t[a]=(e={})=>{var{fd:t}=e;if(r.has(t))return i(Object.assign({},e,{fd:t}));if(a.endsWith("Sync"))throw new Error(`${a}:fail invalid fd`);(0,n.YG)(a,e,"invalid fd")}}))}(p,r,a),function(e,t){var r=e.open,n=e.openSync,a=e.close,i=e.closeSync;e.open=(e={})=>{var{success:n}=e;r(Object.assign({},e,{success:e=>{t.add(e.fd),"function"==typeof n&&n(e)}}))},e.openSync=(e={})=>{var r=n(e);return t.add(r),r},e.close=(e={})=>{var{fd:r,success:n}=e;a(Object.assign({},e,{fd:r,success:e=>{t.delete(r),"function"==typeof n&&n(e)}}))},e.closeSync=(e={})=>{var{fd:r}=e;i({fd:r}),t.delete(r)}}(r,a),r},q=()=>$("game"),z=()=>$("opendata"),Z=e=>$("game-plugin",e),H=e=>$("private-space-for-inner-plugin",e)},4704:(e,t,r)=>{"use strict";r.d(t,{h:()=>i,i:()=>a});var n=r(4318),a=(e={})=>{(0,n.r3)("mkdir",e,{dirPath:""})&&(0,n.IN)("mkdir",e)},i=(e,t=!1)=>{if(!e||"string"!=typeof e)throw new TypeError("dirPath must be a string");var r,a;if((0,n.IN)("mkdirSync",{dirPath:e,recursive:t,fail(e){r=e.errMsg,a=e.errno}}),r){var i=new Error(r);throw i.errno=a,i}}},2404:(e,t,r)=>{"use strict";r.d(t,{$:()=>o,T:()=>s});var n=r(4318),a=(r(9629),r(7023)),i=r(8311),o=(e={})=>{(0,n.r3)("readCompressedFile",e,{filePath:"",compressionAlgorithm:""})&&(0,n.IN)("readCompressedFile",e)},s=({filePath:e,compressionAlgorithm:t}={})=>{if(!(0,a.HD)(e))throw new i.iZ(`invalid filePath: ${e}`);if(!(0,a.HD)(t))throw new i.iZ(`invalid compressionAlgorithm: ${t}`);var r,o,s;if((0,n.IN)("readCompressedFileSync",{filePath:e,compressionAlgorithm:t,success(e){r=e.data},fail(e){o=e.errMsg,s=e.errno}}),o){var c=new Error(o);throw c.errno=s,c}return r}},9955:(e,t,r)=>{"use strict";r.d(t,{N:()=>g,p:()=>h});var n=r(4318),a=r(619),i=r(9629),o=r(4275),s=r(5333),c=r(4938),l=r(5722),u=r(7023),d=r(3329),p=!1;s.Z.onReady((()=>{var e=i.Z.fs;if(e&&e.FileReader){var t=!1,r=o.cj?"clicfg_appbrand_ios_native_readfile":"clicfg_appbrand_native_readfile";(0,c.b)({experimentId:r,experimentType:"Expt",success:e=>{e&&1===Number(e.testConfig)&&((0,l.Tk)(/readFile(?:Sync)?$/,1),t=!0)},fail(e){}});var n=(0,a.J)("bindingReadFile");p=t||n,f.info(`${p?"binding":"jsapi"} readfile, abtest: ${t}, permission: ${n}`)}}));var h=(e={})=>{if((0,n.r3)("readFile",e,{filePath:""}))if((0,u.o8)(e.encoding)||(0,u.HD)(e.encoding))if((0,u.o8)(e.position)||(0,u.hj)(e.position))if((0,u.o8)(e.length)||(0,u.hj)(e.length))if(p){var t,r=i.Z.fs;e.workerId,(t=new r.FileReader).onerror=t=>(0,n.YG)("readFile",e,t),t.onread=t=>(0,n.FE)({name:"readFile",args:e,res:{data:t}});var a={};Object.keys(e).forEach((t=>{var r=e[t];["success","fail","complete"].includes(t)||(a[t]=r)})),t.read(a)}else(0,n.IN)("readFile",e);else(0,n.YG)("readFile",e,`invalid length: ${e.length}`);else(0,n.YG)("readFile",e,`invalid position: ${e.position}`);else(0,n.YG)("readFile",e,`invalid encoding: ${e.encoding}`)},g=(e,t,r,a,o)=>{if(!e||!(0,u.HD)(e))throw new d.i(`invalid filePath: ${e}`);if(!(0,u.o8)(t)&&!(0,u.HD)(t))throw new d.i(`invalid encoding: ${t}`);if(!(0,u.o8)(r)&&!(0,u.hj)(r))throw new d.i(`invalid position: ${r}`);if(!(0,u.o8)(a)&&!(0,u.hj)(a))throw new d.i(`invalid length: ${a}`);if(p){var s=i.Z.fs;try{return s.readFileSync(e,t)}catch(l){throw new Error(l)}}var c,l,f;if((0,n.IN)("readFileSync",{filePath:e,encoding:t,position:r,length:a,success(e){c=e.data},fail(e){l=e.errMsg,f=e.errno}}),l){var h=new Error(l);throw h.errno=f,h}return c}},2603:(e,t,r)=>{"use strict";r.d(t,{T:()=>o,e:()=>i});var n=r(4318),a=r(4275),i=(e={})=>{(a.DD||"wxfile://"!==e.dirPath)&&(!a.DD||"wxfile://tmp"!==e.dirPath&&"wxfile://tmp/"!==e.dirPath)?(0,n.r3)("readdir",e,{dirPath:""})&&(0,n.IN)("readdir",e):(0,n.YG)("readdir",e,"path permission denied")},o=e=>{if("wxfile://"===e)throw Error("path permission denied");if(!e||"string"!=typeof e)throw new TypeError("dirPath must be a string");var t,r,a;if((0,n.IN)("readdirSync",{dirPath:e,success(e){t=e.files},fail(e){r=e.errMsg,a=e.errno}}),r){var i=new Error(r);throw i.errno=a,i}return t}},4080:(e,t,r)=>{"use strict";r.d(t,{P:()=>a,g:()=>i});var n=r(4318),a=(e={})=>{(0,n.r3)("rename",e,{oldPath:"",newPath:""})&&(0,n.IN)("fs_rename",e,{beforeAll(e){e.errMsg=e.errMsg.replace(/^fs_/,"")}})},i=(e,t)=>{if(!e||"string"!=typeof e)throw new Error("oldPath must be a string");if(!t||"string"!=typeof t)throw new Error("newPath must be a string");var r,a;if((0,n.IN)("fs_renameSync",{oldPath:e,newPath:t,fail(e){r=e.errMsg.replace(/^fs_/,""),a=e.errno}}),r){var i=new Error(r);throw i.errno=a,i}}},7146:(e,t,r)=>{"use strict";r.d(t,{dJ:()=>c,jk:()=>i,lz:()=>s});var n=r(4318),a=r(4275);class i{constructor({mode:e,size:t,lastAccessedTime:r,lastModifiedTime:n}){this.mode=e,this.size=t,this.lastAccessedTime=r,this.lastModifiedTime=n}_checkModeProperty(e){return(61440&this.mode)===e}isDirectory(){return this._checkModeProperty(16384)}isFile(){return this._checkModeProperty(32768)}}var o=(e,t)=>{var r=!0;if(["mode","size","lastAccessedTime","lastModifiedTime"].forEach((t=>{r=r&&void 0!==e[t]})),r)e.stats=new i(e),delete e.mode,delete e.size,delete e.lastAccessedTime,delete e.lastModifiedTime;else if(e.stats&&1===Object.keys(e.stats).length&&e.stats[""])e.stats=new i(e.stats[""]);else{var n=[],o=e.stats;a.wZ&&(o=e,n.push({path:"/",stats:c(t)})),Object.keys(o).forEach((e=>{if("errMsg"!==e){var t=o[e];""===e&&(e="/"),n.push({path:e,stats:new i(t)}),delete o[e]}})),e.stats=n}},s=(e={})=>{(0,n.r3)("stat",e,{path:""})&&(0,n.IN)("stat",e,{beforeSuccess:t=>{o(t,e.path)}})},c=(e,t=!1)=>{if(!e||"string"!=typeof e)throw new Error("path must be a string");var r,a,i;if((0,n.IN)("statSync",{path:e,recursive:t,success(t){o(t,e),r=t.stats},fail(e){a=e.errMsg,i=e.errno}}),a){var s=new Error(a);throw s.errno=i,s}return r}},2915:(e,t,r)=>{"use strict";r.d(t,{q:()=>a,y:()=>i});var n=r(4318),a=(e={})=>{(0,n.r3)("unlink",e,{filePath:""})&&(0,n.IN)("unlink",e)},i=e=>{if(!e||"string"!=typeof e)throw new Error("filePath must be a string");var t,r;if((0,n.IN)("unlinkSync",{filePath:e,fail(e){t=e.errMsg,r=e.errno}}),t){var a=new Error(t);throw a.errno=r,a}}},8555:(e,t,r)=>{"use strict";r.d(t,{N:()=>i,y:()=>o});var n=r(4318),a=r(6557),i=(e={})=>{(0,n.r3)("writeFile",e,{filePath:""})&&(e.encoding&&-1===a.a.indexOf(e.encoding)?(0,n.YG)("writeFile",e,`invalid encoding "${e.encoding}"`):(0,n.IN)("writeFile",e,{}))},o=(e,t,r)=>{if(!e||"string"!=typeof e)throw new Error("path must be a string");if(r&&-1===a.a.indexOf(r))throw new Error(`invalid encoding "${r}"`);var i,o;if((0,n.IN)("writeFileSync",{filePath:e,data:t,encoding:r,fail(e){i=e.errMsg,o=e.errno}}),i){var s=new Error(i);throw s.errno=o,s}}},3911:(e,t,r)=>{"use strict";r.d(t,{Y:()=>n,s:()=>a});var n="game:verifystate",a="game_live_default_condition"},8941:(e,t,r)=>{"use strict";r.d(t,{Jv:()=>d,NB:()=>u,Or:()=>p,UR:()=>y,VT:()=>f,b$:()=>v,bI:()=>c,nm:()=>l,qC:()=>s,rc:()=>m,vv:()=>g,yN:()=>h});var n=r(5358),a=(0,n.s)("LifeCycle:beforeHide"),i=(0,n.s)("LifeCycle:Hide"),o=(0,n.s)("LifeCycle:afterHide"),s=i.emitInternal.bind(i),c=i.emitGlobal.bind(i),l=a.emitInternal.bind(a),u=o.emitInternal.bind(o),d=i.onMethod,p=i.offMethod,f=a.internalOnMethod,h=a.internalOffMethod,g=i.internalOnMethod,v=i.internalOffMethod,m=o.internalOnMethod,y=o.internalOffMethod},7733:(e,t,r)=>{"use strict";r.d(t,{Ke:()=>o,LJ:()=>a,Tb:()=>l,dN:()=>c,e4:()=>i,il:()=>s});var n=(0,r(5358).s)("LifeCycle:Show"),a=n.emitInternal.bind(n),i=n.emitGlobal.bind(n),o=n.onMethod,s=n.offMethod,c=n.internalOnMethod,l=n.internalOffMethod},868:(e,t,r)=>{"use strict";r.d(t,{c:()=>c,g:()=>u});var n=r(9097),a=r.n(n),i=r(5333),o=r(8013),s=r(3306),c={constant:{modalCancel:"取消"}};c.attemptSkipMaxThreshold=5,c.currentAttemptSkipCount=0,c.currentUserFirstUseThisGame=!1,c.currentUserUseThisGameTime=0,c.currentUserUseThisGameTimer=null,c.isPause=null,c.limitStrategy=null;var l=e=>1===e?3303:3304,u={count:0,uuid:null,navigateCount:0,bannedCount:0},d=(e,t,r)=>{u.uuid||(u.uuid=(0,s.M8)()),u.count,u.uuid,u.bannedCount,u.navigateCount,parseInt(Date.now()/100,10),w.reportKeyValue({key:"WeAppNavBan",value:[i.Z.appType+1e3,i.Z.appLaunchInfo.scene,33,l(e),0,1,"","",(0,o._getCurrentNetworkType)(),encodeURIComponent(JSON.stringify({content:t,expid:r,uuid:u.uuid,bannedCount:u.bannedCount,navigateCount:u.navigateCount,count:u.count,timestamp:parseInt(Date.now()/100,10)}))].join(",")})};Object.defineProperties(c,a()(a()({allowSkip:{get(){return this.shouldExecuteSkipMaxLimitStrategy&&(this.startLimitCount&&this.currentAttemptSkipCount++,this.currentAttemptSkipCount>this.attemptSkipMaxThreshold)?(this.limitStrategy=1,d(1,this.modalMessage,this.expId1),1):this.shouldExecuteFirstSkipLimitStrategy&&this.currentUserUseThisGameTime<=this.attemptSkipMinTime?(this.limitStrategy=2,d(2,this.modalMessage,this.expId2),2):3},configurable:!1},needLimit:{get(){return this.shouldExecuteFirstSkipLimitStrategy||this.shouldExecuteSkipMaxLimitStrategy},configurable:!1}},["modalConfirm1","modalMessage1","modalSkipLink1","modalConfirm2","modalMessage2","modalSkipLink2","attemptSkipMaxThreshold","attemptSkipMinTime","currentAttemptSkipCount","shouldExecuteFirstSkipLimitStrategy","shouldExecuteSkipMaxLimitStrategy","expId1","expId2","startLimitCount","uneffectFirstSkipLimit"].reduce(((e,t)=>(e["set"+t.slice(0,1).toUpperCase()+t.slice(1)]={get:()=>e=>{c[t]=e},configurable:!1},e)),{})),{},{modalMessage:{get(){return this["modalMessage"+this.limitStrategy]},configurable:!1},modalConfirm:{get(){return this["modalConfirm"+this.limitStrategy]},configurable:!1},modalSkipLink:{get(){return this["modalSkipLink"+this.limitStrategy]},configurable:!1},reportModalConfirm:{get(){return()=>{var e,t,r;e=this.limitStrategy,t=this.modalMessage,r=this["expId"+this.limitStrategy],w.reportKeyValue({key:"WeAppNavBan",value:[i.Z.appType+1e3,i.Z.appLaunchInfo.scene,33,l(e),1,2,"","",(0,o._getCurrentNetworkType)(),encodeURIComponent(JSON.stringify({content:t,expid:r}))].join(",")})}},configurable:!1},reportModalCancel:{get(){return()=>{var e,t,r;e=this.limitStrategy,t=this.modalMessage,r=this["expId"+this.limitStrategy],w.reportKeyValue({key:"WeAppNavBan",value:[i.Z.appType+1e3,i.Z.appLaunchInfo.scene,33,l(e),2,2,"","",(0,o._getCurrentNetworkType)(),encodeURIComponent(JSON.stringify({content:t,expid:r}))].join(",")})}},configurable:!1}})),c.resumeLimitTimer=function(e){this.isPause=!1,e&&clearTimeout(this.currentUserUseThisGameTimer),this.currentUserUseThisGameTimer=setTimeout((()=>{this.currentUserUseThisGameTime++,this.isPause||(this.currentUserUseThisGameTime<=this.attemptSkipMinTime?this.resumeLimitTimer():this.uneffectFirstSkipLimit||(this.setUneffectFirstSkipLimit(!0),this.setCurrentAttemptSkipCount(0)))}),1e3)},c.pauseLimitTimer=function(){this.isPause=!0},c.allowStartLimitCount=function(){this.setStartLimitCount(!0)}},3581:(e,t,r)=>{"use strict";r.d(t,{v:()=>n});var n=e=>{w.reportKeyValue({key:"DeprecatedAPI",value:e})}},9789:(e,t,r)=>{"use strict";r.d(t,{$J:()=>w,jj:()=>I,Vy:()=>S});var a,i,o=r(5190),s=r(4318),c=/^wx[0-9a-f]{16}(\/.*)?$/,l="webapi_reportwxauseuserinfo";!function(e){e[e.UNUSED=0]="UNUSED",e[e.USED=1]="USED",e[e.REMOVAL_NOTIFIED=7]="REMOVAL_NOTIFIED"}(a||(a={})),function(e){e[e.ALL=0]="ALL",e[e.DETAIL_ONLY=1]="DETAIL_ONLY"}(i||(i={}));var u,d={addPhoneCalendar:["jsapi_photocalendar"],addPhoneContact:["jsapi_phonecontact"],chooseImage:["jsapi_media"],chooseInvoice:["jsapi_invoice"],chooseInvoiceTitle:["jsapi_invoice"],chooseLicensePlate:["jsapi_licenseplate"],chooseLocation:["jsapi_choose_location"],getFuzzyLocation:["jsapi_fuzzy_location"],chooseMedia:["jsapi_media"],chooseMessageFile:["jsapi_messagefile"],choosePoi:["jsapi_choose_location"],chooseVideo:["jsapi_media"],createBLEPeripheralServer:["webapi_bluetooth"],enableLocationUpdate:["jsapi_location"],enableLocationUpdateBackground:["jsapi_location"],getLocation:["jsapi_location"],getPhoneNumber:["webapi_getuserwxphone_group"],insertCamera:["jsapi_camera"],insertLivePusher:["jsapi_camera","jsapi_record"],insertVoIPView:["jsapi_camera"],insertXWebCamera:["jsapi_camera"],insertXWebLivePusher:["jsapi_camera","jsapi_record"],insertXWebVoIPView:["jsapi_camera"],joinVoIPChat:["jsapi_record"],openAddress:["jsapi_address"],openBluetoothAdapter:["webapi_bluetooth"],saveImageToPhotosAlbum:["jsapi_photos_album"],saveVideoToPhotosAlbum:["jsapi_photos_album"],startRecord:["jsapi_record"]},p={jsapi_address:i.ALL,jsapi_camera:i.DETAIL_ONLY,jsapi_invoice:i.ALL,jsapi_licenseplate:i.ALL,jsapi_location:i.DETAIL_ONLY,jsapi_choose_location:i.ALL,jsapi_fuzzy_location:i.DETAIL_ONLY,jsapi_media:i.ALL,jsapi_messagefile:i.ALL,jsapi_phonecontact:i.DETAIL_ONLY,jsapi_photocalendar:i.DETAIL_ONLY,jsapi_photos_album:i.DETAIL_ONLY,jsapi_record:i.DETAIL_ONLY,webapi_bluetooth:i.DETAIL_ONLY,webapi_getuserwxphone_group:i.ALL,webapi_werun:i.DETAIL_ONLY,webapi_userinfo:i.ALL};!function(e){e.USER_INFO="webapi_userinfo",e.WE_RUN_DATA="webapi_werun",e.RECORD="jsapi_record",e.CAMERA="jsapi_camera"}(u||(u={}));var h=n.prototype.call.bind(String.prototype.split),g=n.prototype.call.bind(String.prototype.match),v=n.prototype.call.bind(Object.prototype.hasOwnProperty),m=(e,t)=>{var r="string"==typeof t&&g(t,c)?(e=>h(e,"/",1)[0])(t):null;return e.map((e=>({apiName:l,reqData:{scope:e,report_type:p[e],state:a.USED},pluginId:r,fail({errMsg:t}){f.warn(`[reportUserPrivacyStat] failed, scope=${e}, pluginId=${r}, errMsg=${t}`)}})))},y={PrivacyScopes:u,getArgsByJsApi:(e,t)=>v(d,e)?m(d[e],t):null,getArgsByScope:m,WxDataName:l},b=r(4275);(0,o.ei)(((e,t)=>{if(!(0,b.tK)()){var r=y.getArgsByJsApi(e,t);null!==r&&setTimeout((()=>{f.info(`[reportUserPrivacyStat] reason: invoke service jsApi [${e}] success by [${t}]`),r.forEach((e=>{(0,s.yD)(e)}))}),200)}}));var _=e=>function(t,r){(0,b.tK)()||(f.info(`[reportUserPrivacyStat] reason: service ${r} by [${t}]`),y.getArgsByScope(e,t).forEach((e=>{(0,s.yD)(e)})))},w=_([y.PrivacyScopes.USER_INFO]),I=_([y.PrivacyScopes.WE_RUN_DATA]),S=_([y.PrivacyScopes.RECORD]);_([y.PrivacyScopes.CAMERA])},5724:(e,t,r)=>{"use strict";r.d(t,{Q1:()=>Te,GJ:()=>Ee,gd:()=>Ce,v8:()=>ke});var n,a,i,s,c=r(3888),l=r.n(c),u=r(619),d=r(1765),p=r(9955),h=r(9011),g=r(3444),v=r(6302),m=r(8555),y=r(3188),b=r(2915),_=r(4704),w="wxfile://sdk",I=`${w}/we_model/`,S=`${I}meta.json`,k=`${I}vocab_meta.json`,C=e=>I+e+".onnx",T=(0,h.Fr)(p.p),E=(0,h.Fr)(v.yH),A=(0,h.Fr)(m.N),P=(0,h.Fr)(y.P),x=(0,h.Fr)(b.q),M=(0,h.Fr)(_.i),R=(0,h.Fr)(g.o),D=function(){var e=l()((function*(e=1){try{yield P({path:I})}catch(e){yield M({recursive:!0,dirPath:`${w}/we_model`})}try{var{data:t}=yield T({filePath:1===e?S:k,encoding:"utf8"});return JSON.parse(t)}catch(e){return null}}));return function(){return e.apply(this,arguments)}}(),L=function(){var e=l()((function*(e,t,r=1,n=!1){var a={};if(!n)if(a=yield D(r)){if(a[t]&&a[t].src===e)try{return C(t)}catch(e){console.error("exception: get cacheinfo but not found cache file.")}}else a={};var i=yield R({url:e,timeout:1e4}),o=yield E({tempFilePath:i.tempFilePath,filePath:C(t)});a[t]={src:e,update:Date.now()};var s=Date.now(),c=-1;if(Object.keys(a).length>(1===r?3:10))for(var l of Object.keys(a)){var u=a[l];u.update<s&&(s=u.update,c=l)}if(-1!==c)try{yield x({filePath:C(c)}),delete a[c]}catch(e){f.error("contentCheck LRU unlink model error: ",e)}return yield A({filePath:1===r?S:k,data:JSON.stringify(a),encoding:"utf8"}),o.savedFilePath}));return function(t,r){return e.apply(this,arguments)}}(),N=e=>{n=e},O=function(){var e=l()((function*(e){var t;if(!Array.isArray(n)||-1===(t=n.findIndex((t=>t.word_vocab_name===e))))throw new Error(`can't get vocab which named '${e}'`);var{url:r,word_vocab_name:a,update:i}=n[t];return yield L(r,a,2,i)}));return function(t){return e.apply(this,arguments)}}(),B=(0,h.Fr)(p.p),j=function(){var e=l()((function*(e){if(a)return a;var t=yield O(e),r=yield B({filePath:t,encoding:"utf-8"});return a=(a=r.data).split("\n").reduce(((e,t,r)=>(e[t]=r,e)),{})}));return function(t){return e.apply(this,arguments)}}(),F=r(7065);o.onLoad((()=>{s=(0,h.Fr)(F.WY)}));var U=function(){var e=l()((function*(e,t){if(!t){t=[2.074*i,i]}var r=e;"string"==typeof e&&(r=(yield s({url:e,responseType:"arraybuffer"})).data);for(var n=Array.prototype.slice.call(new Uint8Array(r)),a=t[0],o=t[1],c=Array(a).fill(0).map((e=>[])),l=function*(e){for(var t=function*(t){var[r,a,i]=Array(3).fill(0).map(((r,a)=>n[e*o*3+3*t+a]));c[e].push([r,a,i])},r=0;r<o;r++)yield*t(r)},u=0;u<a;u++)yield*l(u);return c}));return function(t,r){return e.apply(this,arguments)}}();function W(){return(W=l()((function*(e,t,r){try{var n=e,a="";t.forEach((e=>{"dictName"===e.key&&(a=e.value),"testRet"===e.key&&(n=e.value.replaceAll("'",'"'))}));var i=yield j(a),o=r[r.length-1],s=[],c=JSON.parse(n),l=(e,t=null)=>{if("[object Object]"===Object.prototype.toString.call(e))Object.keys(e).forEach((t=>{l(e[t],t)}));else if(Array.isArray(e))e.forEach((e=>{l(e,t)}));else if(s.length<o){var r=e;""!==r&&" "!==r||(r="empty");var n=(t+":"+r).toLowerCase();if(i[n]>=0)s.push(i[n]);else{var a=0;if((n=(r+="").toLowerCase()).length<=20)for(var c=0;c<n.length;c++)for(var u=1;u<5;u++)if(i[n.substr(c,u)]>=0){s.push(i[n.substr(c,u)]),a=1;break}0==a&&(n=(t+":other").toLowerCase(),i[n]>=0&&s.push(i[n]))}}};for(l(c);s.length<o;)s.push(0);return new Int32Array(s).buffer}catch(e){throw e}}))).apply(this,arguments)}function G(){return(G=l()((function*(e,t,r){try{var n,a,i=e,o=!0;t.forEach((e=>{"startPct"===e.key&&(n=e.value),"minSeqLength"===e.key&&(a=e.value),"dictType"===e.key&&"bert"===e.value&&(o=!1)}));var s=r.reduce(((e,t)=>e*t),1);i=i.slice(i.length*n,i.length*n+s);for(var c=yield j(o?"minivocab":"alberttiny489kvocab"),l=r[0],u=r[r.length-1],d=[],p=[],h=0;h<i.length+1;h++)if("\n"===i[h]||h===i.length){if(p.length>=a){var g=u-(o?0:2);if(p.length>g&&(p=p.slice(0,g)),o||(p.unshift(101),p.push(102)),p.length<u)for(;p.length<u;)p.push(0);d.push(p)}if(p=[],d.length>=l)break}else p.push(c[i[h]]||(o?1:100));for(;d.length<l;)d.push(new Array(u).fill(0));return new Int32Array(...d).buffer}catch(e){f.warn("reshape occur error:",e)}}))).apply(this,arguments)}function V(){return(V=l()((function*(e,t,r){try{var n=.5,a=.5,i="NCHW",o=e;t.forEach((e=>{"mean"===e.key&&(n=e.value),"std"===e.key&&(a=e.value),"inputType"===e.key&&(i=e.value),"resizeType"===e.key&&e.value}));var s=yield U(o,r),c=0,l=s.length/s[0].length,u=s[0].length,d=s.length;s.length<s[0].length&&(c=1,l=s[0].length/s.length,u=s.length,d=s[0].length);var p=Math.ceil(l),f=Math.floor(p/2),h=[];if("NCHW"===i)for(var g=0;g<3;g++)for(var v=0;v<u;v++)for(var m=0;m<u;m++){var y=0,b=0,_=0;_=0===c?Math.floor(v*l):Math.floor(m*l);for(var w=0;w<p;w++){var I=_-f+w;I>=0&&I<d&&(y+=1,b+=0===c?s[I][m][g]:s[v][I][g])}y>0?h.push((b/y/255-n)/a):h.push(0)}else for(var S=0;S<u;S++)for(var k=0;k<u;k++){var C=0;C=0===c?Math.floor(S*l):Math.floor(k*l);for(var T=0;T<3;T++){for(var E=0,A=0,P=0;P<p;P++){var x=C-f+P;x>=0&&x<d&&(E+=1,A+=0===c?s[x][k][T]:s[S][x][T])}E>0?h.push((A/E/255-n)/a):h.push(0)}}return new Float32Array(h).buffer}catch(e){throw e}}))).apply(this,arguments)}var $={dom_text:1,dom_html:2,dom_content:3,dom:4,screenshot:5},q=e=>$[e],z=function(){var e=l()((function*(e,t,r,n=!1){var a,i,o,s;if(t.forEach((e=>{"startPct"===e.key&&(a=e.value),"maxSize"===e.key&&(i=e.value-(n?0:2)),"dictName"===e.key&&(o=e.value)})),i<0){var c=e.length*a+i;c<0&&(c=0),e=e.slice(c,e.length*a)}else e=e.slice(e.length*a,e.length*a+i);o||(o=n?"minivocab":"alberttiny489kvocab");try{s=yield j(o)}catch(e){}for(var l=[],u=0;u<e.length;u++){var d;l.push(null!==(d=s[e[u]])&&void 0!==d?d:n?1:100)}var p=(e=>e.reduce(((e,t)=>e*t),1))(r)-(n?0:2);if(l.length>p&&(l=l.slice(0,p)),n||(l.unshift(101),l.push(102)),l.length<p)for(;l.length<p;)l.push(0);return new Int32Array(l).buffer}));return function(t,r,n){return e.apply(this,arguments)}}();function Z(){return(Z=l()((function*(e,t,r){try{var n=0,a=512,i=!0;t.forEach((e=>{"startPct"===e.key&&(n=e.value),"maxSeqLength"===e.key&&(a=e.value),"dictType"===e.key&&"bert"===e.value&&(i=!1)}));var o,s=e.slice(Math.floor(e.length*n),e.length);try{o=yield r.readWordDict(i?"minivocab":"alberttiny489kvocab")}catch(e){throw e}for(var c=[],l=0;l<s.length;l++){var u=s[l];o[u]&&o[u]>60&&o[u]<2900&&c.push(o[u])}var d=[],p=a-(i?0:2);if(c.length>p){for(var f=0;f<c.length;f++){var h=c[f];h>270&&h<570||h>580&&h<660||h>790&&h<990||h>1100&&h<1200||h>1300&&h<1900||h>2e3&&h<2800||d.push(h)}d.length>p&&(d=d.slice(0,p))}else d=c;for(i||(d.unshift(101),d.push(102));d.length<a;)d.push(0);return new Int32Array(d).buffer}catch(e){throw e}}))).apply(this,arguments)}var H,K,J,Y,Q,X,ee,te=r.g.eval,re={GetTextIdsVec:z,GetTextIdsSimple:(e,t,r)=>z(e,t,r,!0),GetTextIdsMultiDimension:function(e,t,r){return G.apply(this,arguments)},GetTrimTextProcrss:function(e,t,r){return Z.apply(this,arguments)},exceptionRetProcess:function(e,t,r){return W.apply(this,arguments)},resizeScreenshotRect:function(e,t,r){return V.apply(this,arguments)}},ne=function(){var e=l()((function*(e,t,r,n,a,i){var o=void 0!==i?i:e[t],s=re[r];if(s)try{return yield s(o,n,a)}catch(e){return null}return o}));return function(t,r,n,a,i,o){return e.apply(this,arguments)}}(),ae=function(){var e=l()((function*(e,t,r,n){return new Promise(((a,i)=>{var o=a,s=i;try{ie(`(${e})(input, svrData, env, safeEvalExecCallbackResolve, safeEvalExecCallbackReject)`,{input:t,svrData:r,safeEvalExecCallbackResolve:o,safeEvalExecCallbackReject:s,env:{readWordDict:j,shape:n,transformRGB:U}})}catch(e){i(e)}}))}));return function(t,r,n,a){return e.apply(this,arguments)}}(),ie=(e,t)=>{var r=Object.entries(t).reduce(((e,[t,r])=>(globalThis[t]=r,e+=`let ${t} = globalThis.${t};globalThis.${t} = undefined;`)),"");te(`(function safe_execute() {\n    'use strict';\n    ${r};\n    ${e};\n  })()`)},oe=r(8010),se=(JSON.parse('{"wxa_client_check":{"task_id":126,"check_logic":{"xnet":{"model_url":"https://776c-wlc-25xh9-1301415383.tcb.qcloud.la/shorttext_0616.onnx?sign=f4bf7692cacae8ed258bd9cd5ae85f38&t=1655374931","model_name":"shorttext_0616","cli_param_list":[{"key":"input_ids","type":"int32","shape_list":[1,32],"preset_data":"dom_text","pre_proc":{"proc_name":"test_eval","param":[{"key":"startPct","value":"0.9"},{"key":"maxSize","value":"32"}]}}],"vocab_list":[{"word_vocab_name":"exceptionVocab","url":"https://res.wx.qq.com/op_res/-_5oCLqmnv5baNur8gfH1L6xm7977OadcHI9SjWEFyyPBR5eYKJkcbhrgswImDYC3YKlIRRM73EO0VwRpkEqgQ"},{"word_vocab_name":"alberttiny489kvocab","url":"https://res.wx.qq.com/op_res/-_5oCLqmnv5baNur8gfH1MZGzTnhg3ThHfFpDfMQ9n5Y3Ant595ccPq9DBsUN3JDf1r9EoGzOqJSUCyum-jilA"},{"word_vocab_name":"minivocab","url":"https://res.wx.qq.com/op_res/-_5oCLqmnv5baNur8gfH1E5VH0F4KzmrHpQjnBpiPOLAHHwxP92zmqXP_eWYYXuqQwqkahYKw06Nz1an1ekF_A"}]},"xnet_list":[{"conf_name":"exception_ret_rf","model_url":"https://res.wx.qq.com/op_res/Su68tAlYHulBHYkTrgR7F-F2k70xZL3UdYx-9AAeC1Shp4HU-eom-1HEYkzm711WNoy36-alAUFYDwzR9JsGmQ","model_name":"wxapp_exception_detect","cli_param_list":[{"key":"input_ids","type":"int32","shape_list":[1,8],"preset_data":"dom_text","pre_proc":{"proc_name":"exceptionRetProcess","param":[{"key":"startPct","value":"0.9"},{"key":"maxSize","value":"32"},{"key":"dictName","value":"exceptionVocab"}]}}]}],"vocab_list":[{"word_vocab_name":"exceptionVocab","url":"https://res.wx.qq.com/op_res/82EQolnzIWQb3DHsw2nz9AfRqg08CX80ydEXWONUDHQAKP9suHH1OGBZi8c6_DT9j8phbuwFWn385JL2Tz4nZw"},{"word_vocab_name":"alberttiny489kvocab","url":"https://res.wx.qq.com/op_res/-_5oCLqmnv5baNur8gfH1MZGzTnhg3ThHfFpDfMQ9n5Y3Ant595ccPq9DBsUN3JDf1r9EoGzOqJSUCyum-jilA"},{"word_vocab_name":"minivocab","url":"https://res.wx.qq.com/op_res/-_5oCLqmnv5baNur8gfH1E5VH0F4KzmrHpQjnBpiPOLAHHwxP92zmqXP_eWYYXuqQwqkahYKw06Nz1an1ekF_A"}],"reg_list":[]},"timing":{"after_load_interval":4000,"after_load_maxcnt":4,"most_cnt":1},"filter":{"black_path_list":["packageAPI/pages/api/get-user-info/get-user-info"],"white_path_list":["packageAPI/pages/api/get-user-info*"]},"debug_mode":1,"debug_data":["dom_text","dom_html"],"debug_code":[{"func_name":"test_eval","code":"async function batchProcess(d,a,e,m,f){const dict = await env.readWordDict(\'exceptionVocab\'); console.log(\'dict:\', dict)}"}],"gray_pub_mode":true}}'),r(5333)),ce=r(8050),le=r(9097),ue=r.n(le),de=r(4318),pe=!1,fe=new Promise((e=>J=e)),he=function(){var e=l()((function*(){if(!K&&!pe){pe=!0;try{var e=yield be();if(!Array.isArray(e))return J(!1);e=e.map((e=>{var{model:t,config:r,checkConfig:n,domTextPreset:a,regCheckCfg:i,modelName:o,taskId:s,debug:c,key:l,cliParamList:u,isScreenshot:d}=e,{after_load_interval:p,after_load_maxcnt:f,at_redirect:h,most_cnt:g}=null!=n?n:{};return(K={}).mostCnt=g,K.currentCnt=0,K.afterLoadInterval=p,K.afterLoadMaxCnt=f,K.atRedirect=h,K.modelUrl=t,K.cfg=r,K.domTextPreset=a,K.regCheckCfg=i,K.modelName=o,K.taskId=s,K.debug=c,K.key=l,K.cliParamList=u,K.isScreenshot=d,H=s,K})),J(e)}catch(e){J(null)}}}));return function(){return e.apply(this,arguments)}}(),ge=function(){var e=l()((function*(e,t=!1){he();var r=yield fe;return r?t?r:e?r.find((t=>t.key===e)):r[0]:null}));return function(t){return e.apply(this,arguments)}}(),ve=!1,me=()=>ve=!0,ye=(e,t={})=>{if(ve){var r=ue()({task_id:H,xnet_moment:e},t);(0,de.yD)({sdkApiName:"webapi_reportclicheckresult",apiName:"webapi_reportclicheckresult",reqData:r})}},be=()=>new Promise(((e,t)=>{var r,n,a,i;if(null!==(r=se.Z.appContactInfo)&&void 0!==r&&null!==(n=r.operationInfo)&&void 0!==n&&null!==(a=n.jsonInfo)&&void 0!==a&&null!==(i=a.op_info)&&void 0!==i&&i.skip_async_secinfo)return e({close:!0});(0,ce.o)().then(function(){var r=l()((function*(r){try{var n,a;if(null===(n=r.data)||void 0===n||null===(a=n.wxa_client_check)||void 0===a||!a.check_logic)return e({close:!0});r.data.wxa_client_check.check_logic&&r.data.wxa_client_check.check_logic.xnet&&N(r.data.wxa_client_check.check_logic.vocab_list),r.data.wxa_client_check.gray_pub_mode&&me();var i=[];for(var o of r.data.wxa_client_check.check_logic.xnet_list){var s=yield _e({xnet:o,reg_list:r.data.wxa_client_check.check_logic.reg_list},r.data.wxa_client_check.debug_data,r.data.wxa_client_check.debug_mode?r.data.wxa_client_check.debug_code:null);s.taskId=r.data.wxa_client_check.task_id,s.checkConfig=r.data.wxa_client_check.timing,s.debug=1===r.data.wxa_client_check.debug_mode?r.data.wxa_client_check.debug_data:null,s.debug_codes=s.debug?r.data.wxa_client_check.debug_code:null,i.push(s)}if(!i.length&&r.data.wxa_client_check.check_logic.reg_list){var c=[];if(r.data.wxa_client_check.check_logic.reg_list.forEach((({preset_data:e})=>{c.push(q(e))})),c.length){var l={regCheckCfg:r.data.wxa_client_check.check_logic.reg_list,domTextPreset:c};l.taskId=r.data.wxa_client_check.task_id,l.checkConfig=r.data.wxa_client_check.timing,l.debug=1===r.data.wxa_client_check.debug_mode?r.data.wxa_client_check.debug_data:null,i.push(l)}}1===r.data.wxa_client_check.timing.at_redirect&&1,e(i)}catch(e){t(e)}}));return function(e){return r.apply(this,arguments)}}()).catch(t)})),_e=function(){var e=l()((function*(e,t,r){var n,a={},{model_url:i,model_name:o,cli_param_list:s=[],svr_param_list:c=[],conf_name:u}=e.xnet||{},d=null!==(n=e.reg_list)&&void 0!==n?n:[],p=[],f=!1;if([...d,...s,...(t||[]).map((e=>({preset_data:e})))].forEach((e=>{var{preset_data:t}=e;"screenshot"===t&&(f=!0),!p.includes(t)&&t&&p.push(q(t))})),i){var h=function*(e){var t,{preset_data:n,pre_proc:i}=null!=e?e:{},{proc_name:o,param:s}=null!=i?i:{};a[e.key]={type:e.type||"int32",shape:e.shape_list,getData:(t=l()((function*(t,a,{customShape:i}={}){var c;if(r&&-1!==(c=r.findIndex((e=>e.func_name===o)))){var l,u=r[c].code;try{l=yield ae(u,void 0!==a?a:t[q(n)],s,null!=i?i:e.shape_list)}catch(e){console.error("contentCheck debug safeEval occur error:",e)}return l}return yield ne(t,q(n),o,s,null!=i?i:e.shape_list,a)})),function(e,r){return t.apply(this,arguments)})}};for(var g of s)yield*h(g);c.forEach((e=>{a[e.key]={type:e.type,shape:e.shape_list,data:(0,oe.RG)(e.base64_data)}}))}return{modelName:o,model:i,config:a,domTextPreset:p,regCheckCfg:d,key:u,cliParamList:s,isScreenshot:f}}));return function(t,r,n){return e.apply(this,arguments)}}(),we=function(){var e=l()((function*(e,t,r,{customShape:n}={}){for(var a of Object.values(e))"function"==typeof a.getData&&(a.data=yield a.getData(t,r,{customShape:n}));return e}));return function(t,r,n){return e.apply(this,arguments)}}(),Ie=function(){var e=l()((function*(e,t){return L(e,t)}));return function(t,r){return e.apply(this,arguments)}}(),Se=(r(7828),r(8688),function(){var e=l()((function*(e,t,r,n,a,{customShape:i}={}){void 0===n&&(n={});var o,s,c,l=[];if(!e)return{xnetRes:null,errMsg:null,logicCost:l};try{var u=Date.now();ye(2),o=yield(s=e,c=t,new Promise(((e,t)=>{if(Y)return e(Y);Ie(s,c).then((r=>{var n=(0,d.AS)({model:r});n.onLoad((()=>{Y=n,e(n)})),n.onError((e=>{Y||t(e)}))})).catch((e=>{t(e)}))}))),ye(3);var p=Date.now()-u;l.push({logic_type:2,time_cost:p})}catch(e){return{xnetRes:null,errMsg:e.message||e.errMsg,logicCost:l}}try{var f,h,g,v=Date.now();ye(4),yield we(r,n,a,{customShape:i}),ye(5,{xnet_res:[{base64_data:(0,oe.sM)(null===(f=r.input_ids)||void 0===f?void 0:f.data),type:null===(h=r.input_ids)||void 0===h?void 0:h.type,shape_list:null===(g=r.input_ids)||void 0===g?void 0:g.shape}]});var m=Date.now()-v;l.push({logic_type:3,time_cost:m});var y=Date.now(),b=yield o.run(r),_=Date.now()-y;return l.push({logic_type:4,time_cost:_}),ye(6),{xnetRes:b,logicCost:l}}catch(e){return{xnetRes:null,errMsg:e.message||e.errMsg,logicCost:l}}}));return function(t,r,n,a,i){return e.apply(this,arguments)}}()),ke=new Promise((e=>{X=e}));se.Z.onReady((()=>{ee=(0,u.J)("reportRequestErrorByAI")}));var Ce=e=>{Q=e,X(e)},Te=()=>Q,Ee=function(){var e=l()((function*(e){if(Q&&ee){var t=yield ge(Q);if(t){var{modelUrl:r,modelName:n,cfg:a}=t,i=(yield Se(r,n,a,void 0,e)).xnetRes;return i=(e=>{var t=e[Object.keys(e)[0]];return"float32"===t.type?Array.prototype.slice.call(new Float32Array(t.data)):null})(i),!!i&&i[0]-i[1]}}}));return function(t){return e.apply(this,arguments)}}()},4785:(e,r,n)=>{"use strict";n.d(r,{Qe:()=>P,_C:()=>A,ap:()=>T,yY:()=>x});var a=n(3888),i=n.n(a),o=n(5333),s=n(619),c=(n(8013),n(4770)),l=n(7051),u=n(7023),d=n(346),p=n(5724),h=(e,t={})=>{if(Array.isArray(e))return e.reduce(((e,t,r)=>(e[r]=h(t),e)),[]);if(!(0,u.Kn)(e))return e;for(var r of Object.getOwnPropertyNames(e)){var n=e[r];t[r]=h(n)}return t};function g(e){var t="";if("string"==typeof e)t=e;else try{t=JSON.stringify(e)||""}catch(r){t=(0,u.Em)(e)}return t.replace(/,/g,";").substr(0,1024)}var v={pay:"WePayVIPAppRequestError",goverment:"WeAppRequestError",interactiveApiPay:"WePayVIPAppInteractiveApiError",interactiveApiGoverment:"WeAppInteractiveApiError"};var m=Math.random,b=void 0!==t&&t?t.version:"unknown",_=!1,I=!1,S=0,k={},C="";o.Z.onReady((()=>{Object.assign(k,o.Z.appLaunchInfo),C=o.Z.appLaunchInfo.sessionid||o.Z.appLaunchInfo.sessionId,(0,c.n)("onAppEnterForeground",(e=>{Object.assign(k,e),e&&(e.sessionid||e.sessionId)&&(C=e.sessionid||e.sessionId)}))}));var T=e=>{var t=o.Z.appLaunchInfo&&o.Z.appLaunchInfo.scene;if(e&&"object"==typeof e){var r,n=e[t]||e.all,a=e.nlpKey;if(n)if(I=(0,s.J)("reportPayVIPQuality"),_=I||(0,s.J)("reportRequestError2"),S=null!==(r=n.ratio)&&void 0!==r?r:1,y.allowReportLoadingTime(),_)return(0,p.gd)(a),!0;return(0,s.J)("reportRequestError3")?(_=!0,S=1,y.allowReportLoadingTime(),(0,p.gd)(a),!0):void 0}},E=!1,A=()=>E=!0;function P(e,t,{uuid:r,invokeTime:n,dataType:a,networkType:o,routePath:s}={}){var c=y.shouldStartReport();if(_&&m()<S||c||E){var u=y.getCurrentRoutePath(),C=Date.now()-n;e=h(e);var T=(t=h(t)).data,A=Promise.resolve().then(i()((function*(){if("string"!=typeof T)return-3;try{JSON.parse(T)}catch(e){return-3}return yield(0,p.GJ)(T)}))).catch((()=>-3));(0,l.k)().runTask("checkRequest",{response:t,requestData:e,checkResponse:!0,delay:!0}).then((e=>A.then((t=>(e.nlpRet=t,e))))).then((n=>{try{"json"===a&&function(e){try{e.data=JSON.parse(e.data)}catch(e){}}(t);var{isImportantRequest:i,nlpRet:l}=n;if((n.hasError||l>0)&&_){var{point:p,reportBody:h,reportArgs:m,schemaVersion:S,key:T,kvResult:A}=n;e.data&&(e.data=m),t.data&&(t.data=h),function(e,t,{point:r,schemaVersion:n,key:a,kvResult:i,routePath:o,networkType:s,nlpRet:c,aiConsistent:l,reportType:u}={}){var d=t.errno,p=v[u];w.reportKeyValue({key:p,value:[s,e.url,t.errMsg,t.statusCode,g(e.header),g(e.data),g(t.header),g(t.data),e.method,k.scene,encodeURIComponent(k.scene_note||k.sceneNote),b,d,n,encodeURIComponent(a),encodeURIComponent(r),encodeURIComponent(i),o,void 0===c?-2:c,l].join(",")})}(e,t,{point:p,schemaVersion:S,key:T,kvResult:A,networkType:o,routePath:s,nlpRet:l,aiConsistent:l>0&&n.hasError?1:2,reportType:I?"pay":"goverment"})}if(c){var P={isimportant:i,errMsg:t.errMsg,errno:t.errno},x=n.hasError;x&&(P.errinfo=t.errMsg||n.point,P.noFilterRes=!0),y.traceApi("request",e,t,x,r,C,!0,P)}if(E&&i){var{sensitiveRequestPoint:M,sensitveResponsePoint:R}=n;[M,R].forEach(((t,r)=>{null!=t&&t.length&&w.reportKeyValue({key:"WeAppSensitiveRequest",value:[0===r?0:1,(0,d.wK)(e.url),e.method,null,u,t.join(",")].map(encodeURIComponent).join(",")})}))}}catch(e){f.error("resolve 24247 worker error:",e)}})).catch((e=>{f.error("report 24247 error:",e)}))}}var x=(e={})=>{if(_){var{apiName:t,content:r="",routePath:n,networkType:a,title:i=""}=e,o=I?"interactiveApiPay":"interactiveApiGoverment";o=v[o];var s=i+","+r;"showModal"!==t&&"showToast"!==t||(0,l.k)().runTask("resolveInteractiveApiContent",{apiName:t,content:s}).then((e=>{if(e.result){var r;r="showModal"===t?1:"showToast"===t?2:3;var i=[t,encodeURIComponent(s),n,C,r,a,encodeURIComponent((c=e.hitUserLowPriortyCustom,l=e.hitUserHighPriorityCustom,`0,0,${c?2:l?3:0}, ${c||l?2:0}`))].join(",");w.reportKeyValue({key:o,value:i})}var c,l})).catch((e=>{f.error("resolveInteractiveApiContent:",e)}))}}},4833:(e,t,r)=>{"use strict";r.d(t,{k:()=>i});var n=r(4318),a=r(9011),i=({api:e,url:t})=>(0,a.vB)()?Promise.resolve({isInDomainList:!0,isLocalHost:!1,isInLAN:!0}):new Promise(((r,a)=>{(0,n.IN)("checkNetworkAPIURL",{api:e,url:t,success:r,fail:a})}))},1673:(e,t,r)=>{"use strict";r.d(t,{ED:()=>x,No:()=>y,UG:()=>L,UK:()=>O,pr:()=>N,rU:()=>B,vL:()=>D,zL:()=>M});var n=r(9629),a=r(3306),i=r(4318),s=r(7032),c=r(3223),l=r(5333),u=r(4275),d=r(6941),p=r(1409),f=r(6459),h=r(7023),g=r(5273);o.onLoad((()=>{n.Z.Canvas}));var v=new WeakMap,m=0,y=e=>{if(null!==e)return v.get(e)};function b(e){(0,p.Ft)()&&(0,i.IN)("removeImageView",{viewId:e,complete({errMsg:e}){}})}function _(e){if((0,p.Ks)()){var t=e.getContext;e.getContext=(...r)=>{var n=t.call(e,...r),a=n.getSupportedExtensions,i=n.getExtension;return a&&(n.getSupportedExtensions=(...e)=>{var t=a.call(n,...e);if(Array.isArray(t)){var r=new Set(t);return r.delete("WEBGL_compressed_texture_etc1"),r.delete("WEBGL_compressed_texture_etc"),Array.from(r)}return t}),i&&(n.getExtension=e=>"WEBGL_compressed_texture_etc1"===e||"WEBGL_compressed_texture_etc"===e?null:i.call(n,e)),n}}}var w,I,S,k=!1,C=Object.defineProperty,T=Object.getOwnPropertyDescriptor,E=Object.prototype.hasOwnProperty,A=["getContext","toDataURL","__proto__"],P=["width","height","tagName","nodeName"],x=({secure:e=!1,isSharedCanvas:t=!1}={},r=!0)=>{function o(){}var f=new n.Z.Canvas,g=!!("string"==typeof(u.gm?l.Z.appConfig.subContext:l.Z.subContext))&&r;if(_(f),u.gm){var y=f.__proto__.__proto__;f.__proto__=new Proxy(f.__proto__,{get:(e,t,r)=>Reflect.has(y,t)?Reflect.get(y,t,r):Reflect.get(e,t,r),setPrototypeOf:(e,t)=>(y=t,!0),getPrototypeOf:()=>y})}if(u.gm||E.call(f,"width")||(P.forEach((e=>{for(var t=f;t;t=t.__proto__)if(E.call(t,e)){C(f,e,T(t,e)),C(f,e,{configurable:!1});break}})),C(f,"style",{value:{},writable:!0}),w||(w={},o.prototype=w,w.constructor=o,w[Symbol.toStringTag]="HTMLCanvasElement",A.forEach((e=>{for(var t=f;t;t=Object.getPrototypeOf(t))if(E.call(t,e)){C(w,e,T(t,e));break}}))),Object.setPrototypeOf(f,w)),g)Object.setPrototypeOf(f,(0,c.v)()),"Object"===(0,h.Em)(f)&&Object.defineProperty((0,c.v)(),Symbol.toStringTag,{get:()=>"HTMLCanvasElement"});else if(!k){var I=f.getContext;f.getContext=(e,t)=>{var r=I.call(f,e,t);return n.Z.setLiveContext&&n.Z.setLiveContext(r,e,t),r}}void 0===f.__id&&(f.__id=m++);var S=!1;k||(k=!0,S=!0),v.set(f,{canvasId:f.__id,secure:e,isSharedCanvas:t,isScreenCanvas:S,flag:(0,d.f)()});try{delete f.__id}catch(e){}var x=u.gm?f:(e=>{var{canvasId:t}=v.get(e);return t})(f),M=t=>{if(e){var r=s.LC.set(t.tempFilePath);t.tempFilePath=r}b(x)};return f.toTempFilePathSync=function(e={}){var t,r,n=v.get(this),a=!!n&&n.isScreenCanvas;if(function(e){(0,p.Ft)()&&(0,i.IN)("insertImageView",{parentId:0,viewId:e,position:{width:0,height:0,top:0,left:0},clickable:!1,data:"{}",complete({errMsg:e}){}})}(x),(0,i.IN)("canvasToTempFilePathSync",Object.assign({},e,{canvasId:x},{isScreenCanvas:a,success:e=>{t=e.tempFilePath},fail:e=>{r=e.errMsg}}),{beforeSuccess:M}),b(x),r)throw new Error(r);return t},f.toTempFilePath=(0,a.gA)(((e={})=>{var t=v.get(f),r=!!t&&t.isScreenCanvas;(0,i.IN)("canvasToTempFilePath",Object.assign({},e,{canvasId:x,isScreenCanvas:r}),{beforeSuccess:M})})),f},M=()=>{if(void 0===S){var e=u.gm?l.Z.appConfig.subContext:l.Z.subContext,t="string"==typeof e||(0,g.$)();e?((S=x({secure:t,isSharedCanvas:!0})).width=l.Z.screenWidth,S.height=l.Z.screenHeight):S={width:0,height:0,__proto__:{}}}return S};l.Z.onReady((()=>{if((0,u.aI)()){(0,f.Q)();var e="string"==typeof(u.gm?l.Z.appConfig.subContext:l.Z.subContext)||(0,g.$)();(e=>{if((0,p.LN)()){var t=e.getContext;e.getContext=(r,n,...a)=>{if("webgl"===r||"2d"===r){var i=Object.assign({},n);return i.preserveDrawingBuffer=!0,t.call(e,r,i,...a)}return t.call(e,r,n,...a)}}})(I=x({secure:e})),_(I),(0,c.w)()}}));var R=!1,D=()=>R?x({secure:(0,g.$)()}):(R=!0,I),L=()=>new n.Z.ScreenCanvas,N=()=>x({secure:(0,g.$)()}),O=function(){return x()},B=()=>I},3223:(e,t,r)=>{"use strict";r.d(t,{v:()=>B,w:()=>O});var n=r(9629),a=r(1673),i=r(6941),o=r(5333),s=r(619),c=r(3581),l=r(9011),u=e=>!(0,a.No)(e).secure,d=(e,t)=>{var r=(0,a.No)(t);if(!r)return!0;var{secure:n}=r,{secure:i}=(0,a.No)(e);return!(!i&&n)},p=function(e){return function(){if(/texImage2D|texSubImage2D/.test(e)){var{flag:t}=(0,a.No)(this.canvas),{textures:r,currentTextureIndex:n}=t,i=r[n];if(i&&"WeixinCanvasTexture"===i.type)return void console.warn(`在调用 wxBindCanvasTexture() 向 ${n} 号纹理单元提交纹理后，不能再调用 ${e}() 向该纹理单元提交纹理`)}var o=this.canvas,s=/createPattern|drawImage/.test(e)?arguments[0]:arguments[arguments.length-1];if(d(o,s))return!0;console.warn(`在 game.json 配置了 OpenDataContext 后，非安全 Canvas 的 WebGL 上下文的 ${e} 不能传入安全 Canvas`)}},h=!1,g="unknown";o.Z.onReady((()=>{h=(0,s.J)("screenCanvasReadPixels"),g=(0,l.KU)("screenCanvasReadPixelsFreely")}));var v={toDataURL:function(){return!!u(this)||(console.warn("在 game.json 配置了 OpenDataContext 后，安全 Canvas 不能调用 toDataURL"),"")},getImageData:function(){return!!u(this.canvas)||(console.warn("在 game.json 配置了 OpenDataContext 后，安全 Canvas 的 2d 上下文不能调用 getImageData"),{width:0,height:0,data:new Uint8ClampedArray(0)})},createPattern:p("createPattern"),drawImage:p("drawImage"),texImage2D:p("texImage2D"),texSubImage2D:p("texSubImage2D"),wxBindCanvasTexture:p("wxBindCanvasTexture"),readPixels:function(){var{secure:e}=(0,a.No)(this.canvas);if(!e)return!0;if((0,c.v)("WebGLRenderingContext.readPixels"),h){var{dirtyFramebufferMap:t,currentFramebuffer:r}=(0,a.No)(this.canvas).flag;if(!t.has(r)||((0,c.v)("unsafeScreenCanvasReadPixelsUsedBefore"),!1!==g))return!0;console.warn("在 game.json 配置了 OpenDataContext 后，绘制了 sharedCanvas 的画布不能 readPixels")}else(0,c.v)("screenCanvasReadPixelsNoPermission")}},m=r(4275),y=Object.prototype.hasOwnProperty,b=Object.getOwnPropertyDescriptor;var _,w,I,S=["offsetTop","offsetLeft","offsetWidth","offsetHeight"],k=Object.prototype.hasOwnProperty,C=Object.defineProperty,T=Object.getOwnPropertyDescriptor;(0,n.a)((()=>{_=n.Z.Canvas,w=n.Z.Image}));var E,A,P={"2d":null,webgl:null},x={Image:null,Canvas:null,CanvasRenderingContext2D:null,CanvasPattern:null,CanvasGradient:null,ImageData:null,TextMetrics:null},M=function(e){C(x,e,{get(){E||(E=L()),A||(A=E.getContext("2d"));var t=e+"_cache";if(x[t])return x[t];if("Canvas"===e)x[t]=Object.getPrototypeOf(E);else if("Image"===e)x[t]=Object.getPrototypeOf(new w);else if("CanvasRenderingContext2D"===e)x[t]=Object.getPrototypeOf(A);else if("CanvasPattern"===e){var r=A.createPattern(E,"repeat");x[t]=Object.getPrototypeOf(r)}else if("CanvasGradient"===e){var n=A.createLinearGradient(0,0,100,100);x[t]=Object.getPrototypeOf(n)}else if("ImageData"===e){var a=A.getImageData(0,0,10,10);x[t]=Object.getPrototypeOf(a)}else if("TextMetrics"===e){var i=A.measureText("123");try{x[t]=Object.getPrototypeOf(i)}catch(e){f.error("createTextMetrics Error: ",e)}}return x[t]}})};for(var R of Object.keys(x))M(R);var D=new WeakMap;function L(){var e=new _;return e.width=1,e.height=1,e}function N(e){function t(){}var r={};return"undefined"!=typeof __jitMode&&__jitMode&&(r=Object.create(null),t.prototype=r,r.constructor=t,Object.defineProperty(r,"__proto__",{get(){return Object.getPrototypeOf(this)},set(e){Object.setPrototypeOf(this,e)}})),Object.keys(e).forEach((t=>{var n=T(e,t);if("function"!=typeof n.value)n.get||n.set?C(r,t,{get(){if(n.get)return n.get.call(this)},set(e){n.set&&n.set.call(this,e)}}):C(r,t,n);else{var a=e[t];r[t]=function(){if("function"==typeof v[t]){var e=v[t].apply(this,arguments);if(!0!==e)return e}return"function"==typeof i.a[t]&&i.a[t].apply(this,arguments),a.apply(this,arguments)}}})),r}function O(){return x}var B=function(){if(I)return I;var e,t,r=L(),i=!k.call(r,"width"),o=Object.getPrototypeOf(r),s=N(o),c=s.getContext;return s.getContext=function(e,t){var{isSharedCanvas:r,isScreenCanvas:i}=(0,a.No)(this);if(r)return{};var o=c.call(this,e,t);return null==o||(m.jP&&i&&n.Z.setLiveContext&&n.Z.setLiveContext(o,e,t),/2d|webgl/.test(e)&&Object.setPrototypeOf(o,function(e){if(P[e])return P[e];var t=L().getContext(e),r=N(Object.getPrototypeOf(t));return P[e]=r,P[e]}(e)),D.set(o,this),C(o,"canvas",{value:this,configurable:!1,writeable:!1})),o},i&&(e=s,t=o,S.forEach((r=>{for(var n=function(){if(y.call(a,r)){var t=b(a,r);return Object.defineProperty(e,r,{get(){if(t.get)return t.get.call(this)},set(e){t.set&&t.set.call(this,e)},configurable:!1}),{v:void 0}}},a=t;a;a=a.__proto__){var i=n();if("object"==typeof i)return i.v}}))),I=s,s}},5273:(e,t,r)=>{"use strict";r.d(t,{$:()=>a,I:()=>i});var n=!1,a=()=>n,i=e=>{n=e}},6941:(e,t,r)=>{"use strict";r.d(t,{a:()=>c,f:()=>i});var n=r(1673),a=e=>"object"==typeof e&&null!==e,i=()=>{var e={};return{dirtyTextureMap:new WeakMap,dirtyRenderbufferMap:new WeakMap,dirtyFramebufferMap:new WeakMap,framebufferTextureMap:new WeakMap,framebufferRenderbufferMap:new WeakMap,textures:[],currentTextureIndex:0,screenFramebuffer:e,currentFramebuffer:e}},o=function(){var e=arguments[arguments.length-1],t=(0,n.No)(e),{textures:r,currentTextureIndex:i,dirtyTextureMap:o}=(0,n.No)(this.canvas).flag,s=r[i];a(s)&&(t&&t.isSharedCanvas?o.set(s,!0):o.has(s)&&o.delete(s))},s=function(){var{textures:e,currentFramebuffer:t,dirtyFramebufferMap:r,framebufferTextureMap:i,dirtyTextureMap:o,framebufferRenderbufferMap:s,dirtyRenderbufferMap:c}=(0,n.No)(this.canvas).flag;if(e.some((e=>o.has(e)))){r.set(t,!0);var l=i.get(t);a(l)&&o.set(l,!0);var u=s.get(t);a(u)&&c.set(u,!0)}},c={activeTexture(e){var t=e-this.TEXTURE0;(0,n.No)(this.canvas).flag.currentTextureIndex=t},bindTexture(e,t){var{textures:r,currentTextureIndex:a}=(0,n.No)(this.canvas).flag;r[a]=t},wxBindCanvasTexture(e,t){var{textures:r,currentTextureIndex:i,dirtyTextureMap:o}=(0,n.No)(this.canvas).flag;if(a(t)){var s=(0,n.No)(t),c={type:"WeixinCanvasTexture"};r[i]=c,s&&s.isSharedCanvas?o.set(c,!0):o.has(c)&&o.delete(c)}else r[i]=null},texImage2D:o,texSubImage2D:o,bindFramebuffer(e,t){var r=(0,n.No)(this.canvas).flag;r.currentFramebuffer=t||r.screenFramebuffer},framebufferTexture2D(e,t,r,a){var{framebufferTextureMap:i,currentFramebuffer:o}=(0,n.No)(this.canvas).flag;i.set(o,a)},framebufferRenderbuffer(e,t,r,a){var{dirtyRenderbufferMap:i,dirtyFramebufferMap:o,framebufferRenderbufferMap:s,currentFramebuffer:c}=(0,n.No)(this.canvas).flag;i.has(a)&&o.set(c,!0),s.set(c,a)},copyTexImage2D(){var{dirtyFramebufferMap:e,currentFramebuffer:t,textures:r,currentTextureIndex:i,dirtyTextureMap:o}=(0,n.No)(this.canvas).flag;if(e.has(t)){var s=r[i];a(s)&&o.set(s,!0)}},drawArrays:s,drawElements:s}},5907:(e,t,r)=>{"use strict";r.d(t,{B:()=>h,D:()=>g});var n,a,i=r(4275),o=r(9629),s={src:null,width:null,height:null,naturalWidth:null,naturalHeight:null,complete:null,tagName:null,nodeName:null,onerror:null,onload:null},c=new WeakMap;function l(e){return e?c.set(e,(t=>e({type:t.type,target:t.target,timestamp:t.timeStamp,currentTarget:t.target}))).get(e):null}(0,o.a)((e=>{var{Image:t}=e;if("src"in t.prototype){var r=t.prototype.addEventListener,a=t.prototype.removeEventListener;n={addEventListener(e,t){r.call(this,e,l(t))},removeEventListener(e,t){a.call(this,e,c.get(t)||t)}};for(var i=function(e){Object.keys(e).forEach((t=>{t in s&&(s[t]=Object.getOwnPropertyDescriptor(e,t))}))},o=t.prototype;o;o=o.__proto__)i(o)}}));var u=Object.defineProperty,d=Object.getOwnPropertyDescriptor,p=Object.prototype.hasOwnProperty,f=["src","width","height","naturalWidth","naturalHeight","complete","tagName","nodeName","onerror","onload"];function h(){return new o.Z.Image}function g(){var e=new o.Z.Image;return function(e){if(i.DD){if(i.gm||i.jP)return;if(p.call(e,"src"))return;var t=e.__proto__;a||(a={addEventListener(e,r){t.addEventListener.call(this,e,l(r))},removeEventListener(e,r){t.removeEventListener.call(this,e,c.get(r)||r)}}),e.__proto__=a,f.forEach((r=>{for(var n=function(){if(p.call(a,r)){var t=d(a,r);if(/^on/.test(r)){var n=null;u(e,r,{get:()=>n,set(r){n=r,t.set.call(e,l(r))}})}else u(e,r,t);return"break"}},a=t;a&&"break"!==n();a=a.__proto__);}))}else{if(i.gm||!s.src)return;Reflect.setPrototypeOf(e,n);var r=function(){var t=s[o];if(/^on/.test(o)){var r=null;Reflect.defineProperty(e,o,{get:()=>r,set:n=>{t.set.call(e,l(r=n))}})}else Reflect.defineProperty(e,o,t)};for(var o in s)r()}}(e),e}},8225:(e,t,r)=>{"use strict";r.d(t,{tR:()=>l,Qq:()=>c,MI:()=>i});var n=r(4318),a=r(6760);var i=e=>{(0,n.IN)("setDeviceOrientation",e)},o="deviceOrientationChange",s=new class{constructor(e={maxListeners:2e3}){this.emitter=new a.Z(e),this.callbackMap="undefined"!=typeof WeakMap?new WeakMap:{},this.originalCallbackMap=new WeakMap}emit(e,t){this.emitter.emit(e,t)}on(e,t){if(t&&"function"==typeof t){var r=_.surroundThirdByTryCatch(t,`at ${e} callback function`);this.callbackMap.set(t,r),this.originalCallbackMap.set(r,t),this.emitter.on(e,r)}}off(e,t){if(t&&"function"==typeof t){var r=this.callbackMap.get(t);this.emitter.off(e,r),this.callbackMap.delete(t),this.originalCallbackMap.delete(r)}else this.emitter.listeners(e).forEach((e=>{var t=this.originalCallbackMap.get(e);this.callbackMap.delete(t),this.originalCallbackMap.delete(e)})),this.emitter.removeAllListeners(e)}listeners(e){return this.emitter.listeners(e)}};(0,n.jQ)("onDeviceOrientationChange",(e=>{e.value=e.value.toLowerCase(),/reverse/.test(e.value)&&(e.value="landscapeReverse"),s.emit(o,e)}));var c=e=>{(0,n.IN)("enableDeviceOrientationChangeListening",{enable:!0}),s.on(o,e)},l=e=>{var t;s.off(o,e),null!==(t=s.listeners(o))&&void 0!==t&&t.length||(0,n.IN)("enableDeviceOrientationChangeListening",{enable:!1})}},2157:(e,t,r)=>{"use strict";r.d(t,{r:()=>d,y:()=>u});var n=r(5333),a=r(4275),i=r(7733),o=r(8045),s=r(1590),c={},l=null;function u(){return c}function d(){return l||(0,s.Ir)()}n.Z.onReady((()=>{c=n.Z.appLaunchInfo,(0,a.aI)()&&((0,o.OQ)(((e={})=>{var t=Object.assign({},e);c.referrerInfo=Object.assign({},c.referrerInfo,t.referrerInfo),delete t.referrerInfo,c=Object.assign({},c,t)})),(0,i.Ke)((e=>{l=e})))}))},1430:(e,t,r)=>{"use strict";r.d(t,{Bg:()=>p,M6:()=>u,Y5:()=>c,bh:()=>y,hr:()=>g,ls:()=>s,rW:()=>v,vL:()=>m,yH:()=>h});var n,a,i=r(4089),o=r(4704),s=()=>(n||(n=(0,i.Dc)()),n),c=()=>(a||(a=(0,i.d7)()),a),l={},u=e=>{if(!l[e]){try{(0,o.h)((0,i.EH)(e),!0)}catch(e){}l[e]=(0,i.y9)(e)}return l[e]},d={},p=e=>{if(!d[e]){try{(0,o.h)((0,i.Jo)(e),!0)}catch(e){f.error("插件私有目录创建失败",e)}d[e]=(0,i.PZ)(e)}return d[e]},h=e=>s().saveFile(e),g=e=>s().getFileInfo(e),v=e=>s().getSavedFileList(e),m=e=>s().getSavedFileInfo(e),y=e=>s().removeSavedFile(e)},1590:(e,t,r)=>{"use strict";r.d(t,{Br:()=>d,Ir:()=>l,x9:()=>u});var n,a,i=r(3374),o=r(5333),s=r(619),c=r(3507);o.Z.onReady((()=>{var e=d(o.Z.appLaunchInfo||{});n=e.appLaunchInfo,a=e.publicLaunchInfo}));var l=()=>a,u=()=>n;function d(e={}){var t=e.shareInfo,r=e.scene,n=e.query||{};if("object"==typeof t&&null!==t&&(e.shareTicket=i.Z.set(t.shareKey,t.shareName),i.Z.lastShareTicket=e.shareTicket),e.query=e.query||{},e.scene=e.scene?parseInt(e.scene,10):e.scene,e.referrerInfo=e.referrerInfo||{},"string"==typeof e.referrerInfo.gameLiveInfo)try{e.referrerInfo.gameLiveInfo=JSON.parse(e.referrerInfo.gameLiveInfo)}catch(e){console.error("parse appLaunchInfo.referrerInfo.gameLiveInfo error",e)}1022===e.scene&&(n=e.query={}),!1===e.reLaunch&&(n={}),void 0===e.reLaunch&&"hide"===(0,c.B)()&&(n={}),1158!==e.scene&&1159!==e.scene&&1160!==e.scene||!(0,s.J)("getGroupToolbarInfo")&&(r=1008);var a={scene:r,query:n,shareTicket:e.shareTicket,referrerInfo:e.referrerInfo.appId?{appId:e.referrerInfo.appId,extraData:e.referrerInfo.extraData}:{}};return e.referrerInfo.gameLiveInfo&&(a.referrerInfo.gameLiveInfo=e.referrerInfo.gameLiveInfo),o.Z.debugLaunchInfo&&o.Z.debugLaunchInfo.lanDebugInfo&&!1!==o.Z.debugLaunchInfo.lanDebugInfo.useStaticServer&&(a.lanDebugInfo=o.Z.debugLaunchInfo.lanDebugInfo),e.chatType&&(a.chatType=e.chatType),a.referrerInfo&&"wxb6d22f922f37b35a"===a.referrerInfo.appId&&(a.referrerInfo={}),{publicLaunchInfo:a,appLaunchInfo:e}}},9438:(e,t,r)=>{"use strict";r.d(t,{Sn:()=>i,ez:()=>a,vv:()=>o});var n=r(4318),a=(e={})=>{if(e.defaultValue&&e.maxLength){var t=parseInt(e.maxLength,10);Number.isNaN(t)||(t=Math.max(0,t),e.defaultValue=e.defaultValue.toString().slice(0,t))}(0,n.IN)("showKeyboard",e)},i=(e={})=>{(0,n.IN)("hideKeyboard",e)},o=(e={})=>{(0,n.IN)("updateKeyboard",e)}},3365:(e,t,r)=>{"use strict";r.d(t,{i:()=>o,z:()=>i});var n=r(4318),a=e=>(t={})=>{(e?n.yD:n.t4)({apiName:e?"webapi_game_transfer":"gameTransfer",sdkApiName:"gameTransfer",reqData:t.reqData?t.reqData:JSON.parse(JSON.stringify(t)),timeout:t.timeout,success(e){"function"==typeof t.success&&t.success(e)},fail(e){"function"==typeof t.fail&&t.fail(e)},complete(e){"function"==typeof t.complete&&t.complete(e)}})},i=a(!1),o=a(!0)},9512:(e,t,r)=>{"use strict";r.d(t,{G:()=>a});var n={Speed:13544,Error:13582,Slow:13968,Clipboard:14367,NetworkAPI:14480,NetworkAPI2:26057,Display:15496,WebviewRecycle:15352,WebviewRestore:15353,PluginDisplay:15364,functionalPageOperation:15804,RecycledAPI:15649,GameReportKV:15677,RecycleView:15864,GameADFunnelModel:15859,CustomComponent:15948,VideoAction:16137,SameLayerRender:16360,MediaCompStatus:16435,NavigateToMiniProgramAlert:16432,LaunchDetailSpeed:16514,CloudReport:16588,DeprecatedAPI:16624,Share:16717,APIUse:17619,SetDataPerf:17176,UserLog:17809,GameInteractiveData:17836,GameRecorder:17833,UserLogFail:17975,WeAppInvoke:18042,RenderCache:18052,RenderStages:18321,ShareCardClick:18352,PerfReport:18748,GameServerInvite:18768,NpmExtendedLib:18874,FirstInteraction:19136,GameComponent:19283,GameWhatsNew:19335,TradeService:19286,LazyCodeLoading:20030,MidasFriendPayment:20285,Handoff:20888,ShareToWeRun:21272,WeAppOperateWXData:21359,WXGameWASMLaunchClose:21494,WXGameWASMLaunchException:21493,WXGameWASMLaunchTime:21492,ExptHit:21627,WeAppInvoke2:21688,GameLifeMiniGameCardAction:21898,ShareImageMenu:22050,WeAppToChannels:22082,RequestPaymentCheckTicket:22273,WeAppNavBan:22762,GameAdsSkipCard:20267,MiniGameOpenDataMonitor:23536,BLEConnection:23886,WeAppRequestError:24247,ClickWechatAppPreviewPage:24298,MiniprogramOnWeakNetwork:24499,PaymentAddOrderCall:27441,MiniprogramOnUserCaptureScreen:26252,MiniprogramDoEvilIdentification:26447,MiniprogramTapRestriction:27322,WeAppRequestErrnoInfo:24321,PublishWechatState:24488,OpenEmbeddedMiniProgramResult:24542,RequestPaymentRiskConfirm:24544,InitRenderDone:24643,SdkInnerApiInvoke:24927,WeAppSensitiveRequest:25214,OpenUrl:25265,WeAppInteractionApiCall:25394,Route:25520,detachFromNestWebviewPage:25651,WeAppInteractiveApiError:25972,WeAppCoreWebVitals:26147,WxappNicknameAvatarAutofill:26249,WeFreeHttpDns:26411,LaunchApplicationInfo:26472,WxappChannelVideo:26614,WeAppSDKSubpackageInject:27065,WXGameSceneLaunchReport:27248,XR_FRAME:27478,MediaApi:27661,WePayVIPAppInteractiveApiError:28022,WePayVIPAppRequestError:28019,PayCompletedPage:28043,Skyline:28287,PageScrollInfo:28458};function a({key:e,value:t,immediately:r}){return"number"!=typeof e||Object.values(n).includes(e)?w.reportKeyValue({key:e,value:t,immediately:r}):w.reportKeyValue({key:e,value:t,immediately:r,number:!0})}},9636:(e,t,r)=>{"use strict";r.d(t,{B:()=>f,S:()=>p});var n=r(4318),a=r(5489),i=r(6466),o=r(1770),s="requestSubscribeSystemMessage",c=!1;function l(e){return new Promise(((t,r)=>{(0,n.yD)({sdkApiName:s,apiName:"webapi_getsyssubscribemsgtemplateinfo",reqData:{msg_type_list:e},success(e){t(e)},fail(e){r({errMsg:e.errMsg,errCode:e.err_code||e.errCode})}})}))}function u(e){return new Promise(((t,r)=>{var n=e.data;n&&n.msg_info_list?t(n.msg_info_list):r({errMsg:"data error"})}))}function d(e){return new Promise(((t,r)=>{var i,o,s=e.map((e=>e.template_id));i={tmplIds:s,success(r){var n={};e.forEach((e=>{var t=e.msg_type,i=(0,a.r)(t);n[i]=r[e.template_id]})),t(n)},fail(e){r({errMsg:e.errMsg,errCode:e.err_code||e.errCode})}},(o=Object.assign({},i)).tmplIds=Array.from(new Set(i.tmplIds)),(0,n.IN)("requestSubscribeMessage",o)}))}function p(e={}){var t=e.skipTouchCheck;delete e.skipTouchCheck,c?(0,n.YG)(s,e,"please invoke after last subscription ended"):(c=!0,(0,i.UP)(t).then((()=>function(e){var t=e.msgTypeList;return new Promise(((e,r)=>{if(Array.isArray(t)&&t.length>0){var n=t.reduce(((e,t)=>{var r=(0,a.D)(t);return r&&e.push(r),e}),[]);n.length>0?e(n):r({errMsg:"invalid arguments:msgTypeList"})}else r({errMsg:"invalid arguments:msgTypeList"})}))}(e))).then(l).then(u).then(d).then((t=>{(0,n.FE)({name:s,args:e,res:t}),c=!1})).catch((t=>{(0,n.YG)(s,e,t.errMsg||t.message,t.errCode||t.err_code),c=!1})))}var f=e=>(t={})=>((0,o.uC)(e,"requestSubscribeSystemMessageSkipTouchCheck")&&(t.skipTouchCheck=i.KK),p(t))},3339:(e,t,r)=>{"use strict";r.d(t,{k:()=>i,r:()=>a});var n={};function a(e={}){var t=e.shareMessageToFriendScene,r=e.query;if("number"!=typeof t&&"string"!=typeof r)return!1;var a={},i=!1;return t>=0&&t<=50&&(a.shareMessageToFriendScene=t,i=!0),"string"==typeof r&&r.length<=128&&(a.query=r,i=!0),i&&(n=a),i}function i(){return Object.keys(n).map((e=>`${e}=${n[e]}`)).join("&")}},2488:(e,t,r)=>{"use strict";r.d(t,{H:()=>g,_:()=>h});var n=r(3888),a=r.n(n),i=r(5333),o=r(3084),s=r(5907),c=r(1673),l=r(4318),u=1,d=!1;function p(e,t,r=""){return e.font=`${t}px -apple-system`,r?e.measureText(r).width:0}i.Z.onReady((()=>{u=i.Z.pixelRatio,setTimeout((()=>{(0,l.yD)({apiName:"webapi_game_issharemarkenabled",reqData:{lib_version:o.c},success(e){var t=e.data;d=t.is_enabled,"undefined"!=typeof __jitMode&&(d=!1)}})}),4e3)}));var f=e=>new Promise((t=>{if(e)if("transparent"===e)t({width:0,height:0});else{var r=(0,s.B)();r.onload=()=>t(r),r.onerror=()=>t(),r.src=e}else t()})),h=function(){var e=a()((function*({background:e,label:t,icon:r,tag:n,more:a=!1,base64:i=!1}){if(!e)return e;var o=(0,c.pr)(),s=o.getContext("2d");o.width=210*u,o.height=168*u,"transparent"===e&&(o.height=40*u),s.fillStyle="rgba(255, 255, 255, 0)",s.fillRect(0,0,o.width,o.height);var l=yield f(e);if(!l)return e;l.width/l.height>=1.25?s.drawImage(l,0,0,1.25*l.height,l.height,0,0,o.width,o.height):l.width/l.height<1.25&&s.drawImage(l,0,0,l.width,.8*l.width,0,0,o.width,o.height);var d=p(s,12*u,t);if(n){var h=p(s,10*u,n);s.fillStyle="rgba(0, 0, 0, 0.5)",s.beginPath(),s.moveTo(0,8*u),s.lineTo(d+h+12*u,8*u),s.arc(d+h+12*u,20*u,12*u,1.5*Math.PI,2.5*Math.PI),s.lineTo(0,32*u),s.closePath(),s.fill(),s.fillStyle="#F36D00",s.beginPath(),s.moveTo(4*u,14*u),s.arc(6*u,14*u,2*u,Math.PI,1.5*Math.PI),s.lineTo(h+10*u,12*u),s.arc(h+10*u,14*u,2*u,1.5*Math.PI,2*Math.PI),s.lineTo(h+12*u,26*u),s.arc(h+10*u,26*u,2*u,2*Math.PI,2.5*Math.PI),s.lineTo(6*u,28*u),s.arc(6*u,26*u,2*u,.5*Math.PI,Math.PI),s.closePath(),s.fill(),s.fillStyle="#FFFFFF",s.fillText(n,8*u,23.5*u),p(s,12*u),s.fillText(t,h+16*u,24*u)}else if(r){var g=yield f(a&&"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAMCAYAAABBV8wuAAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAEZ0FNQQAAsY58+1GTAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAHtJREFUeNpj/v//v3RDQwNDY2PjLwYkwATEM4F4B1ABL7pEChALoUsyA434AjRqLZCdCcTBQPZqkLGMMBVA1RJAaj8QvwNiD0Zkc5EkHzMxoIL/UMzIhKRaHKr6I8guRiyC7oyMjJ8YsQnC/DEXXRAEWIA4A4g/IQuCAAABEju5SK8v4wAAAABJRU5ErkJggg=="),v=g?10*u:0;s.fillStyle="rgba(0, 0, 0, 0.5)",s.beginPath(),s.moveTo(0,8*u),s.lineTo(d+v+22*u,8*u),s.arc(d+v+22*u,20*u,12*u,1.5*Math.PI,2.5*Math.PI),s.lineTo(0,32*u),s.closePath(),s.fill();var m=yield f(r);m&&m.width&&m.height&&s.drawImage(m,6*u,12*u,16*u,16*u),g&&g.width&&g.height&&s.drawImage(g,d+30*u,14*u,6*u,12*u),s.fillStyle="#FFFFFF",p(s,12*u),s.fillText(t,26*u,24*u)}else s.fillStyle="rgba(0, 0, 0, 0.5)",s.beginPath(),s.moveTo(0,8*u),s.lineTo(d+2*u,8*u),s.arc(d+2*u,20*u,12*u,1.5*Math.PI,2.5*Math.PI),s.lineTo(0,32*u),s.closePath(),s.fill(),s.fillStyle="#FFFFFF",p(s,12*u),s.fillText(t,6*u,24*u);return i?o.toDataURL():o.toTempFilePathSync()}));return function(t){return e.apply(this,arguments)}}(),g=e=>new Promise((t=>{d&&e.imageUrl?(0,l.yD)({apiName:"webapi_game_getsharemark",reqData:{lib_version:o.c},success:r=>{var n=r.data;(n=(n.mark_list||[])[0])||t(e),n&&h({background:e.imageUrl,label:n.wording,icon:n.head_img_url,tag:n.mark_word}).then((r=>{e.imageUrl=r,e.extra={shareCardMarker:{label:n.mark_type}},t(e)})).catch((()=>t(e)))},fail:()=>t(e)}):t(e)}))},7559:(e,t,r)=>{"use strict";r.d(t,{HP:()=>G,A5:()=>j,ld:()=>$,$F:()=>V,dg:()=>q});var n=r(9097),a=r.n(n),i=r(6760),o=r(4318),s=r(3374),c=r(7032),l=r(7580),u=r(4275),d=r(9011),p=r(7789),h=r(5333),g=r(5517),v=r(6982),m=r(8013),y={};var b=r(1444),_=r(619),I=r(2364),S=r(2157),k=r(9618),C=r(2965),T=r(2047),E=r(5075),A=r(4141),P=r(9691),x=r(8045),M=r(7733),R=r(2488),D=r(7744),L=r(3883);var N=new i.Z,O=null,B=null,j=()=>B;h.Z.onReady((()=>{(0,u.aI)()&&(0,M.dN)((e=>{if(B={},e.referrerInfo&&e.referrerInfo.messageExtraData){B=e.referrerInfo.messageExtraData;var{userInfo:t,shareType:r}=B;if(r&&t){var n=[w.getAppType(),r,t.openId,e.path||"",(0,m._getCurrentNetworkType)()].join(",");w.reportKeyValue({key:"ShareCardClick",value:n})}}}))})),(0,x.OQ)((e=>{var t=e.shareInfo;"object"==typeof t&&null!==t&&setTimeout((()=>{F(t.shareKey)}),500)}));var F=e=>{(0,o.IN)("showUpdatableMessageSubscribeButton",{shareKey:e})},U=e=>(t,r)=>{var{shareInfos:n}=t;if(delete t.shareInfos,void 0!==n&&n.length>0)if(n=n.filter((e=>e.shareKey&&e.shareName)),t.shareTickets=n.map((e=>(F(e.shareKey),s.Z.set(e.shareKey,e.shareName)))),u.gm)delete t.shareTickets,delete t.shareInfos,r();else{if(e.getGroupMsgTicket)return void Promise.all(n.map((e=>new Promise((t=>{var{shareKey:r}=e;(0,l.k)({shareKey:r,success(e){t({groupMsgTicket:e.groupMsgTicket,expiresIn:e.expiresIn})},fail(){t({groupMsgTicket:""})}})}))))).then((e=>(t.groupMsgInfos=e,r()))).catch((()=>{}));r()}else r()},W=(e={},t,r={},n=!1)=>{var a=(0,S.y)().apiCategory||h.Z.appLaunchInfo.appearance;if(["nativeFunctionalized"].includes(a))return(0,o.YG)(t,e,`not supported in ${a} apiCategory.`),void(0,g.showToast)({icon:"none",title:"暂不支持当前功能"});var i=(0,E.VW)(),s=(0,E.rZ)(),l="string"==typeof e.path?e.path:"",f="string"==typeof e.query?e.query:"",v="",m=0;switch(t){case"shareAppMessage":m=1;break;case"shareAppMessageDirectly":m=2;break;case"shareAppMessageToSpecificContactDirectly":m=3}if(f.length>2e3&&(console.warn(`shareAppMessage: query exceed max length limit 2000: "${f.length}"`),f=f.substr(0,2e3)),f&&(l=`${l}?${f}`),e.imageUrl=c.LC.get(e.imageUrl)||e.imageUrl,Array.isArray(e.imageUrl)&&(e.imageUrl=""),!i){if(!s[e.imageUrlId])return e.imageUrlId,(0,g.showToast)({icon:"none",title:"由于小程序违规，分享功能暂时无法使用"}),void I(2);v=e.imageUrl=s[e.imageUrlId]}function I(t){!function({result:e,shareType:t,canUseCustomImageUrl:r,imageUrlId:n="",transformedImageUrl:a=""}){var i=y.query,o=[],s=h.Z.accountInfo&&h.Z.accountInfo.nickname||"";if(i&&"object"==typeof i)for(var c in i)o.push(`${encodeURIComponent(c)}=${encodeURIComponent(i[c])}`);var l=[y.scene,y.scene_note,y.sessionid,"",s,w.getAppType(),e,0,o.join("&"),t,r?1:2,n,a,h.Z.host?h.Z.host.appId:""].map(encodeURIComponent).join(",");w.reportKeyValue({key:"Share",value:l}),w.submit()}({result:t,shareType:m,canUseCustomImageUrl:i,imageUrlId:e.imageUrlId,transformedImageUrl:v})}(0,o.IN)(t,Object.assign(r,e,{path:l,useDefaultSnapshot:!0,messageExtraData:Object.assign({shareType:m,userInfo:O},e.extra),success(t){(0,D.M)("shareAppMessage",t),(n||!u.gm&&(0,d.KU)("share"))&&(0,o.FE)({name:"shareAppMessage",args:e,res:t}),I(1),setTimeout((()=>{(0,b.y4)(b.F0.EVENT_CANVAS_AFTER_SHARE_SUCCESS)}),500),e.requireAdsSkipCard&&(0,o.yD)({apiName:"webapi_recvadcardsharepresent",reqData:{outTradeNo:(Date.now()+Math.random()).toString(36)},success(e){var t=e.data;!t.errCode&&t.amount&&(0,P.et)(t)}})},fail(t){var r=t.errMsg.replace("shareAppMessage:fail","");(n||!u.gm&&(0,d.KU)("share"))&&(0,o.YG)("shareAppMessage",e,r),I(-1!==r.indexOf("cancel")?3:2)},cancel(){setTimeout((()=>{(0,b.y4)(b.F0.EVENT_CANVAS_AFTER_SHARE_CANCEL)}),500)},complete:t=>{var r=(t.errMsg||"").replace(/^[^:]+/,"shareMessageToFriend"),n=!r||"shareMessageToFriend:ok"===r;(0,_.J)("shareCallback")&&3===m&&(N.emit("callback",{errMsg:r,success:n}),(0,o.FE)({name:"shareMessageToFriend",errMsg:r,success:n,args:e}))}}),{beforeSuccess:U(e),beforeAll(e){e.errMsg=e.errMsg.replace("shareAppMessageDirectly","shareAppMessage"),e.errMsg=e.errMsg.replace("shareAppMessageToSpecificContactDirectly","shareAppMessage")}}),["success","fail","cancel","complete"].some((t=>"function"==typeof e[t]))&&(0,p.Y)({name:t,strategy:1}),(0,b.y4)(b.F0.EVENT_CANVAS_BEFORE_SHARE)},G=(...e)=>{var t=e[0];function r(){var t=()=>{var t=e[0].imageUrl;(0,I.V)([t],"image",(r=>{/^(cloud):\/\//.test(t)&&(t=r.data[0].url),e[0].imageUrl=t,(0,u.aI)()?(0,R.H)(e[0]).catch(((...e)=>{})).then((()=>W(...e))):W(...e)}))};O?t():(0,v.Z)().then((e=>{e.openID=e.openId,O=e,t()}))}!u.jP||t.imageUrl||t.imageUrlId?r():function(e={},t){(0,L.O)().then((r=>{var{tempFilePath:n}=r;e.imageUrl=n,t()}))}(t,r)},V=(e={})=>{var t={title:e.title||h.Z.accountInfo.nickname,imageUrl:e.imageUrl,query:e.query,imageUrlId:e.imageUrlId,path:e.path,requireAdsSkipCard:e.requireAdsSkipCard},r=(0,S.y)(),n=r.scene,a=r.chatroomUsername,i="shareAppMessageDirectly",o=e.toCurrentGroup;(o=1158===n?"boolean"!=typeof o||o:"boolean"==typeof o&&o)&&1158===n&&(t.chatroomUsername=a,i="shareAppMessageToSpecificContactDirectly"),G(t,i),(0,A.y)({reportType:8,query:e.query})},$=e=>{N.on("callback",e)};function q(e){return(0,g.showLoading)({title:"请稍等"}),(0,k.c)({filePath:e.filePath,thumbFilePath:e.thumbFilePath,fileType:20302,appType:213}).then((e=>((0,g.hideLoading)(),e))).then((t=>{var r=(0,C.xF)({pageType:T.Gy.PLAY_PAGE_VIDEO,query:e.query});return function(e,t={},r,n={}){return new Promise(((i,s)=>{var c={title:t.title,path:t.path,imageUrl:e.thumbUrl,cardSubType:(0,C.oq)(r),messageExtraData:a()({title:t.title,imageUrl:e.fileUrl,pageType:r,thumbUrl:e.thumbUrl,fileUrl:e.fileUrl},n)};(0,o.IN)("shareAppMessageDirectly",a()(a()({},c),{},{success:i,fail:s}))}))}(t,{title:e.title,path:r,imageUrl:t.thumbUrl},T.Gy.PLAY_PAGE_VIDEO,e)})).catch((e=>{(0,g.hideLoading)(),f.error("shareVideoAppMessage fail",e)}))}},6310:(e,t,r)=>{"use strict";r.d(t,{vC:()=>d,Q8:()=>h});var n=r(4318),a=r(5333),i=r(4275),o=r(7733),s=r(5517);i.cj&&(0,o.dN)((()=>{setTimeout((()=>{var e;new Promise(((e,t)=>{(0,n.IN)("getDisposableUserState",{keys:["GAME_LIVE_INVITE"],success(r){if(r.GAME_LIVE_INVITE){var n={};try{n=JSON.parse(r.GAME_LIVE_INVITE)}catch(e){t(e)}e(n)}},fail:t})})).then((t=>(e=t.sceneNote,function(e){return(0,n.Qh)({apiName:"webapi_game_transfer",reqData:{reqPath:"gamelive.checkminigamelivesession",liveSession:e.liveSession}})}(t)))).then((t=>{!function(e,t){var r=e.data,{canJoin:a,joinParams:i}=r;if(a){var{path:o,gameLiveInfo:c,joinMsg:l}=i;(0,s._showModal)({content:l,success(e){e.confirm&&(0,n.IN)("restart",{url:o,scene:1219,referrerInfo:{gameLiveInfo:JSON.stringify(c)},sceneNote:t})}})}}(t,e)})).catch((e=>{f.error("checkGameLiveInvite fail",e)}))}),1e3)}));var c=r(3911),l=r(6466),u=r(7023);function d(e={}){(0,l.Vt)()?h(e):(0,n.YG)("shareInvitationToLiveRoom",e,"require user interaction (only in touchend event)")}var p=!1;function h(e={},t=!1){var r="shareInvitationToLiveRoom";if(p)return(0,n.YG)(r,e,"please invoke after last invoke ended"),void(t&&console.error("onShareInvitationToLiveRoom fail: please invoke after last invoke ended"));if((0,n.r3)(r,e,{activityId:""})){p=!0;var{success:i,fail:o,failWithMsg:s}=(0,n.Rn)(e,r),l=function(e={},t={title:a.Z.accountInfo.nickname}){var r={},n="string"==typeof e.query?e.query:"";return n.length>2e3&&(console.warn(`shreTimeline: query exceed max length limit 2000: "${n.length}"`),n=n.substr(0,2e3)),r.path=`?${n}`,Object.assign({userPath:"string"==typeof e.path?e.path:"",userQuery:n},t,e,r)}(e),d=parseInt(function(e={}){var t;return Array.isArray(e.parameterList)&&e.parameterList.some((e=>{if(e&&"room_limit"===e.name)return t=e.value,!0})),t}(l.templateInfo)),h=parseInt(function(e={}){var t;return Array.isArray(e.parameterList)&&e.parameterList.some((e=>{if(e&&"member_count"===e.name)return t=e.value,!0})),t}(l.templateInfo));Promise.all([(0,n.Qh)({apiName:"webapi_game_transfer",reqData:{reqPath:"gamelive.getminigameteamupconfig"}}),new Promise((e=>{(0,n.IN)("getGlobalStorage",{key:c.s,success(t){t.data?e(t.data):e(null)},fail(t){f.error("getGlobalStorage GAME_LIVE_DEFAULT_CONDITION fail=",t),e(null)}})}))]).then((([e,s])=>{s=parseInt(s);var u=e.data,g=function(e=[]){return e.map((e=>({wording:e.mode_desc,conditionId:e.join_team_mode})))}(u.mode_list);(0,n.IN)(r,{path:l.path,title:l.title,teamupExtraData:JSON.stringify({activity_id:l.activityId,parameter_list:l.templateInfo&&l.templateInfo.parameterList,room_limit:d,member_count:h>=1?h:1,appid:a.Z.accountInfo.appId}),subTitle:l.subTitle||"",statusWording:d>=1?`成员正在加入中，当前 ${h>=1?h:1} / ${d}`:"",condition:g,canJoin:u.enable_teamup,defaultConditionIndex:s>=0?s:void 0,sourceType:t?2:1,success(e){p=!1;var{selectedIndex:t}=e;void 0!==t&&function(e){(0,n.IN)("setGlobalStorage",{key:c.s,data:""+e,fail(e){f.error("setGlobalStorage fail",e)}})}(t),i(e)},fail(e){f.error("invoke shareInvitationToLiveRoom fail",e),p=!1,o(e)}})})).catch((e=>{f.error(`${r} fail`,e.message||e),p=!1,(0,n.IN)(r,{canJoin:!1,sourceType:t?2:1,complete(){s({msg:e.message||e.errMsg})}})}))}else t&&console.error(`onShareInvitationToLiveRoom parameter error: 'activityId' should be string instead of ${(0,u.Em)(e.activityId)};`)}},5075:(e,t,r)=>{"use strict";r.d(t,{AV:()=>h,Hi:()=>g,Mc:()=>p,VW:()=>d,rZ:()=>u,tK:()=>f});var n=r(5333),a=r(9011),i=r(9618),o=r(4318),s=r(81),c=!0,l={};n.Z.onReady((()=>{(0,a.KU)("shareCustomImageUrl")||((0,o.TG)("getShareConfig","webapi_getshareconf")({success(e){Array.isArray(e.share_link_list)&&(l=e.share_link_list.reduce(((e,t)=>(e[t.id]=t.url,e)),{}))},fail(e){}}),c=!1)}));var u=()=>l,d=()=>c,p=(e,t,r)=>`${e}?size=${t}x${r}`,f=e=>new Promise(((t,r)=>{(0,o.IN)("getImageInfo",{src:e,success:t,fail:r})}));function h(e){return(0,i.c)({filePath:e,fileType:20301,appType:215})}function g(e,t=1048576){return new Promise(((r,n)=>{(0,s.h)({filePath:e,success:e=>{e.size<=t?r(e):n(e)},fail:n})}))}},7835:(e,t,r)=>{"use strict";r.d(t,{J:()=>s,c:()=>o});var n=r(9629),a=r(4318),i=r(4275),o=(e={})=>{var t=Object.assign({},e);if(t.format=t.format||"utf8",i.gm){var r=null;return(0,a.IN)("encodeArrayBufferSync",Object.assign(t,{success(e){r=e.buffer},fail(){}})),r}return n.Z.encodeArrayBuffer(t.data,t.format)},s=(e={})=>{var t=Object.assign({},e);if(t.format=t.format||"utf8",i.gm){var r="";return(0,a.IN)("decodeArrayBufferSync",Object.assign(t,{success(e){r=e.result},fail(){}})),r}return n.Z.decodeArrayBuffer(t.data,t.format)}},2105:(e,t,r)=>{"use strict";r.d(t,{pd:()=>c,wH:()=>g,bo:()=>v,Qi:()=>h,fE:()=>p,Et:()=>f,n8:()=>u,L5:()=>d,Yo:()=>i.Y});var n=r(346),a=r(4318),i=r(4208),o=r(8052),s=r(619),c=e=>{if((0,s.J)("createWebView"))return new o.kh(Object.assign({},e,{__skipDomainCheck__:!1,isGameWebview:!1}));throw new Error("createWebView:fail no permission")},l=({url:e,success:t,fail:r,complete:n})=>{(0,a.IN)("private_openUrl",{url:e,isNativeStyle:!0,success:t,fail:r,complete:n})},u=({success:e,fail:t,complete:r}={})=>{l({url:"http://game.qq.com/contract.shtml",success:e,fail:t,complete:r})},d=({success:e,fail:t,complete:r}={})=>{l({url:"https://game.qq.com/privacy_guide.shtml",success:e,fail:t,complete:r})},p=({success:e,fail:t,complete:r}={})=>{l({url:"http://huanle.qq.com/cp/a20170209notice/",success:e,fail:t,complete:r})},f=({success:e,fail:t,complete:r}={})=>{l({url:"https://game.qq.com/privacy_guide_children.shtml",success:e,fail:t,complete:r})},h=({success:e,fail:t,complete:r}={})=>{l({url:"https://game.qq.com/game_account_cancellation_agreement.shtml",success:e,fail:t,complete:r})},g=({success:e,fail:t,complete:r,query:a}={})=>{l({url:(0,n.cE)("https://game.weixin.qq.com/cgi-bin/h5/static/gamelife/accountinfo.html",a),success:e,fail:t,complete:r})},v=({success:e,fail:t,complete:r,query:a}={})=>{l({url:(0,n.cE)("https://game.weixin.qq.com/cgi-bin/h5/static/gamelife/minigametransfer.html",a),success:e,fail:t,complete:r})}},3435:(e,t)=>{"use strict";t.Z={query:{},scene:0,sceneNote:""}},7371:(e,t,r)=>{"use strict";r.d(t,{wA:()=>S,Ue:()=>w,Wj:()=>_,S1:()=>k,bn:()=>I});var a=r(8423),i=r(5653),o=r(4733),s=r(2531),c=r(364),l=r(4318),u=r(4770),d=r(1702),p={};class h extends c.W{constructor({style:e={},name:t,x:r=0,y:n=0,width:a=300,height:i=200,url:o="",urls:s=[],scale:c=1,autoInsert:l=!0,hide:u=!1,zIndex:f=0}={}){if(super({style:e,name:t}),this.x=r,this.y=n,this.width=a,this.height=i,this.scale=+c,this.hide=u,this.autoInsert=l,this.url=o,this.zIndex=f,this.emitter=new d.Q("ImagePreviewer",!0),p[this.id]=this,"string"==typeof s)try{this.urls=JSON.parse(s)}catch(e){this.urls=[]}else this.urls=s;this._insertPromise=new Promise(((e,t)=>{this._insertPromiseResolve=e,this._insertPromiseReject=t}))}insert(){return(0,l.IN)("insertImagePreviewer",Object.assign(this.toNativeData(),{success:e=>{this._insertPromiseResolve(e)},fail:e=>{this._insertPromiseReject(e)}})),this._insertPromise}update(){return new Promise(((e,t)=>{this._insertPromise.then((()=>{(0,l.IN)("updateImagePreviewer",Object.assign(this.toNativeData(),{success:t=>{e(t)},fail:e=>{t(e)}}))})).catch(t)}))}destroy(){return new Promise(((e,t)=>{setTimeout((()=>{(0,l.IN)("removeImagePreviewer",{viewId:this.id,success:e,fail:t}),this.offImageLoadFail(),delete p[this.id]}),0)}))}toNativeData(){return{position:this.layoutBox||{left:this.x,top:this.y,width:this.width,height:this.height},urls:this.urls.length>0?this.urls:[this.url],scale:this.scale,hide:this.hide,viewId:this.id,zIndex:this.zIndex,parentId:this.parentId}}onImageLoadFail(e){this.emitter.on("onImageLoadFail",e)}offImageLoadFail(e){this.emitter.off("onImageLoadFail",e)}}(0,u.n)("onImagePreviewerLoadFail",(e=>{p[e.viewId].emitter.emit("onImageLoadFail",e)}));var g=r(3671),v=new WeakMap,m=n.prototype.call.bind(WeakMap.prototype.get),y=n.prototype.call.bind(WeakMap.prototype.set),b=n.prototype.call.bind(WeakMap.prototype.delete),_=e=>m(v,e),w=function(e){var t=_(this),r={view:a.G,text:i.x,image:o.E,video:s.n,"image-previewer":h}[e.name],n="";e.attributes.id?n=(0,g.um)(e.attributes.id):f.error(`${e.name} 缺少id`);var c=Object.keys(e.attributes).reduce(((r,a)=>{var i=e.attributes[a],o=(0,g.um)(a);return"id"===a?(r.style=Object.assign(r.style||{},t.style[n]),r):"class"===a?(r.style=i.split(/\s+/).reduce(((e,r)=>Object.assign(e,t.style[r])),r.style||{}),r):(/\{\{.+\}\}/.test(i)||(r[o]=""===i||"true"===i||"false"!==i&&i),r)}),{});c.name=n;var l=new r(c);return t[n]=l,e.children.forEach((e=>{var t=w.call(this,e);l.add(t)})),l},I=e=>{b(v,e)};class S{constructor(){y(v,this,{})}}var k=function(e,t,r){var n=_(this);n.xom=e,n.style=t,n.state=r,w.call(this,e)}},3366:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(6760);class a{constructor(){this.emitter=new n.Z({maxListeners:2e3}),this.callbackMap=new WeakMap,this.originalCallbackMap=new WeakMap}emit(e,t){this.emitter.emit(e,t)}on(e,t){if(t&&"function"==typeof t){var r=_.surroundThirdByTryCatch(t,`at ${e} callback function`);this.callbackMap.set(t,r),this.originalCallbackMap.set(r,t),this.emitter.on(e,r)}}off(e,t){if(t&&"function"==typeof t){var r=this.callbackMap.get(t);"function"==typeof r&&(this.emitter.off(e,r),this.callbackMap.delete(t),this.originalCallbackMap.delete(r))}else this.emitter.listeners(e).forEach((e=>{var t=this.originalCallbackMap.get(e);this.callbackMap.delete(t),this.originalCallbackMap.delete(e)})),this.emitter.removeAllListeners(e)}}},2598:(e,t,r)=>{"use strict";r.d(t,{U:()=>g});var n=r(7547),a=r.n(n),i=r(5753),o=r(7371),s=r(1893),c=r(3170),l=r(5333),u=r(4275),d=r(5517),p=0,f=0;l.Z.onReady((()=>{var e=(0,s.Ew)();p=e.screenWidth,f=e.screenHeight,(0,c.KN)(((e={})=>{var{size:t}=e;t&&t.windowWidth&&(p=t.windowWidth,f=t.windowHeight)}))}));class h extends o.wA{constructor({title:e,content:t,icon:r,confirmText:n,cancelText:s,confirm:c,cancel:l,style:u={}}={}){super();var d=(0,o.Wj)(this),h=`<view id="container">\n      <view id="mask" />\n      <view id="tail" />\n      <view id="popup">\n        <view id="header">\n          <image id="close" src="http://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNSByZLicUmsht1JxkNuzGdYKKtQ5NiadIeFXjxMBvdzv8ib9nThJgX9M7z3Dq59jIUkGnTENr7AibOJMQ/0?wx_fmt=png" />\n          <text id="title" value="${e}" />\n          <text id="close2" />\n        </view>\n        <view id="main">\n          ${r?`<image id="icon" src="${!0===r?"http://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNSByZLicUmsht3OjibpgsQSWKlYHJ8u8AiacNQgu4ianBYzC5gEXmxS74iaGkZUzEbFjwp6n7d8rJV7JSA/0?wx_fmt=png":r}" />`:""}\n          <text id="content" value="${t}" />\n        </view>\n        <view id="footer">\n          ${s?`<text id="cancel" value="${s}" />`:""}\n          ${n?`<text id="confirm" value="${n}" />`:""}\n        </view>\n      </view>\n    </view>`,{root:g}=a()(h),v=(({cancelText:e,confirmText:t,icon:r})=>{var n=p>f;return{mask:{width:p,height:f,zIndex:1000007,opacity:.5,backgroundColor:"#000000"},tail:{bottom:0,height:12,zIndex:1000008,position:"absolute",backgroundColor:"#ffffff",left:n?(p-f)/2:0,width:n?f:p},popup:{bottom:0,zIndex:1000008,position:"absolute",backgroundColor:"#ffffff",borderRadius:12,left:n?(p-f)/2:0,width:n?f:p},header:{height:64,flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:n?f:p},close:{width:14,height:14,marginLeft:20},title:{width:150,height:40,fontSize:15,lineHeight:40,textAlign:"center",color:"#000000"},close2:{width:14,height:14,marginRight:20},main:{flexDirection:"column",alignItems:"center",width:n?f:p},icon:{height:64,width:64,marginTop:12,marginBottom:8},content:{height:60,fontSize:17,color:"#000000",textAlign:"center",lineBreak:"break-all",marginTop:r?0:64,marginBottom:r?0:15,width:n?.9*f:.9*p},footer:{heihgt:40,marginBottom:32,flexDirection:"row",justifyContent:"center",width:n?f:p},cancel:{height:40,fontSize:17,borderRadius:4,lineHeight:40,textAlign:"center",marginLeft:8,marginRight:8,color:"#07c160",backgroundColor:"rgba(0, 0, 0, 0.05)",width:t?120:184},confirm:{height:40,fontSize:17,borderRadius:4,lineHeight:40,textAlign:"center",marginLeft:8,marginRight:8,color:"#ffffff",backgroundColor:"#04c160",width:e?120:184}}})(arguments[0]);Object.keys(u).forEach((e=>{v[e]&&Object.assign(v[e],u[e])})),o.S1.call(this,g,v),i.u.add(d.container),d.close&&d.close.on("click",(()=>{"function"==typeof l&&l()})),d.cancel&&d.cancel.on("click",(()=>{"function"==typeof l&&l()})),d.confirm&&d.confirm.on("click",(()=>{"function"==typeof c&&c()}))}destroy(){var e=(0,o.Wj)(this);i.u.remove(e.container),(0,o.bn)(this)}}function g(e={}){return u.DD?((0,d._showModal)(Object.assign({},e,{showCancel:!!e.cancelText,success({confirm:t,cancel:r}){t?e.confirm&&e.confirm():r&&e.cancel&&e.cancel()}})),{destroy:()=>{}}):new h(e)}},364:(e,t,r)=>{"use strict";r.d(t,{W:()=>g});var n=r(6760),a=r(1893),i=r(4402),o=r(3671),s=r(5333),c=r(4770),l=(e,t)=>{((e,t,r)=>{r&&(0,c.n)(e,t)})(e,t,"undefined"==typeof IS_SDK_PACKAGE)},u=r(3842),d=new n.Z({maxListeners:2e5}),p="portrait",f="";s.Z.onReady((()=>{p=s.Z.deviceOrientation||p,f=(0,a.Oo)().model||""}));var h=(e,t)=>-1!==["click","touchstart","touchmove","touchend","touchcancel","ready","prop-change"].indexOf(e)?`element-${t}-${e}`:-1!==["layout"].indexOf(e)?e:void 0;class g{constructor({parentId:e=0,id:t=u.r.increase(),style:r={},props:n={},name:a=""}={}){var c=s.Z.platform;this.parentId=e,this.dest=0,this.id=t,this.name=a,this.children={},this.parent=null,this.isInserted=!1,this.shouldUpdate=!1,this.readyResult=new Promise((e=>{this.on("ready",e)})),r=Object.assign((0,i.ph)(),r),Object.assign(r,r[p]);var l=/iphone x/.test(f.toLowerCase())?"iphone x":c;Object.assign(r,r[l]),Object.assign(r,r[`${l}-${p}`]),this.style={},this.computedStyle=Object.assign({},r),this.lastComputedStyle=Object.assign({},r),this.layoutBox=null,Object.keys(r).forEach((e=>{Object.defineProperty(this.style,e,{configurable:!0,enumerable:!0,get:()=>r[e],set:t=>{if(t!==r[e]&&void 0!==t){if(r[e]=t,this.computedStyle[e]=t,this.lastComputedStyle[e]=t,-1!==i.fc.indexOf(e)&&this.style.scale){var n=t*this.style.scale;this.computedStyle[e]=n,this.lastComputedStyle[e]=n}"scale"===e&&i.fc.forEach((e=>{r[e]&&(this.computedStyle[e]=r[e]*t,this.lastComputedStyle[e]=r[e]*t)})),this.shouldUpdate=!0,"hidden"===e&&(t?((0,o.cM)(this.id,this.name,"隐藏, 保存宽高",this.computedStyle.width,this.computedStyle.height),i.MY.forEach((e=>{this.computedStyle[e]=0}))):((0,o.cM)(this.id,this.name,"显示, 设置回来",this.lastComputedStyle.width,this.lastComputedStyle.height),i.MY.forEach((e=>{this.computedStyle[e]=this.lastComputedStyle[e]})))),this.requestLayout()}}})})),i.fc.forEach((e=>{if(this.style[e]&&this.style.scale){var t=this.style[e]*this.style.scale;this.computedStyle[e]=t,this.lastComputedStyle[e]=t}})),r.hidden&&i.MY.forEach((e=>{this.computedStyle[e]=0})),Object.keys(n).forEach((e=>{Object.defineProperty(this,e,{configurable:!0,enumerable:!0,get:()=>n[e],set:t=>{t!==n[e]&&(n[e]=t,this.shouldUpdate=!0,this.requestLayout())}})})),["touchstart","touchmove","touchend","touchcancel"].forEach((e=>{this.on(e,(t=>{if(this.bubbleEvent&&this.parent){var r=0,n=0;try{r=this.layoutBox.left,n=this.layoutBox.top}catch(e){}if("touchstart"===e||"touchend"===e){var a=Object.assign({},t);a.x+=r,a.y+=n,this.parent.emit(e,a)}else{var i=t.map((e=>({x:e.x+r,y:e.y+n})));this.parent.emit(e,i)}}}))}))}getChildren(){return Object.keys(this.children).map((e=>{var t=this.children[e];return t.dest=this.dest,{id:t.id,name:t.name,style:t.computedStyle,children:t.getChildren()}}))}getAbsolutePosition(e){if(!e)return this.getAbsolutePosition(this);if(!e.parent)return{left:0,top:0};var{left:t,top:r}=this.getAbsolutePosition(e.parent);return{left:t+e.layoutBox.left,top:r+e.layoutBox.top}}add(e){e.parent=this,e.parentId=this.id,e.dest=this.dest,this.children[e.id]=e,this.requestLayout()}remove(e){e?this.children[e.id]&&(e.remove(),delete this.children[e.id]):(Object.keys(this.children).forEach((e=>{this.children[e].remove(),delete this.children[e]})),this.destroy(),this.parent&&delete this.parent.children[this.id]),this.requestLayout()}emit(e,t){d.emit(h(e,this.id),t)}on(e,t){d.on(h(e,this.id),t)}once(e,t){d.once(h(e,this.id),t)}off(e,t){d.off(h(e,this.id),t)}nextLayout(e){if(!e||"function"!=typeof e)return new Promise((e=>this.nextLayout(e)));setTimeout(e,250)}nextUpdate(e){if(!e||"function"!=typeof e)return new Promise((e=>this.nextUpdate(e)));this.once("update-done",e)}ready(){var e=Object.keys(this.children).map((e=>this.children[e].ready()));return Promise.all(e.concat(this.readyResult))}requestLayout(){this.emit("layout")}forceUpdate(){var e=this.isInserted?this.update():this.insert(),t=Object.keys(this.children).map((e=>this.children[e].forceUpdate()));return e.then((()=>Promise.all(t)))}insert(){return Promise.resolve()}update(){return Promise.resolve()}destroy(){["click","ready","touchstart","touchmove","touchend","touchcancel"].forEach((e=>{var t=h(e,this.id);d.removeAllListeners(t)}))}}var v=e=>{var{id:t}=JSON.parse(e.data);d.emit(h("click",t))};l("onTextViewClick",v),l("onImageViewClick",v),["onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"].forEach((e=>{var t=e.replace(/^on/,"").toLowerCase();l(e,(e=>{try{if(e.data){var{id:r}=JSON.parse(e.data);d.emit(h(t,r),e.touch||e.touches)}else d.emit(h(t,e.viewId),e.touch||e.touches)}catch(e){}}))}))},4733:(e,t,r)=>{"use strict";r.d(t,{E:()=>i});var n=r(8423),a=r(346);class i extends n.G{constructor({id:e,style:t,src:r="",name:n="",autoInsert:a=!1,eventType:i,bubbleEvent:o,clickState:s,independent:c=!1}={}){super({id:e,style:t,props:{src:r},type:"image",name:n,autoInsert:a,eventType:i,bubbleEvent:o,clickState:s,independent:c})}toNativeData(){return Object.assign(super.toNativeData(),{iconPath:(0,a.Uj)(this.src)})}}},8052:(e,t,r)=>{"use strict";r.d(t,{Ee:()=>o.E,Gf:()=>h,gw:()=>b,xv:()=>a.x,nk:()=>s.n,G7:()=>n.G,kh:()=>w.k,_w:()=>i._,uo:()=>i.u});var n=r(8423),a=r(5653),i=r(5753),o=r(4733),s=r(2531),c=r(364),l=r(1702),u=r(4770),d=r(4318),p={},f=new l.Q("LivePlayer",!0);class h extends c.W{constructor({style:e,name:t,x:r=0,y:n=0,width:a=300,height:i=200,src:o,mode:s="live",autoplay:c=!1,muted:l=!1,orientation:u="vertical",objectFit:f="contain",minCache:h=1,maxCache:g=3,soundMode:v="speaker",autoPauseIfOpenNative:m=!0,autoInsert:y=!0,success:b,fail:_,complete:w}={}){super({style:e,name:t}),p[this.id]=this;var I=null;this.deferred=[];var S={x:r,y:n,width:a,height:i,src:o,mode:s,autoplay:c,muted:l,orientation:u,objectFit:f,minCache:h,maxCache:g,soundMode:v,autoPauseIfOpenNative:m};Object.keys(S).forEach((e=>{Object.defineProperty(this,e,{enumerable:!0,get:()=>S[e],set:t=>{if(S[e]!==t){if(S[e]=t,!this.isInserted)return this.deferred.push({type:"property",property:e,value:t}),t;clearTimeout(I),I=setTimeout((()=>this.update()),0)}}})}));var k={success:b,fail:_,complete:w};y&&this.insert().then((()=>{var e=this.deferred;this.isInserted=!0,this.deferred=[],e.forEach((e=>{"property"===e.type?this[e.property]=e.value:this.operate(e.method,e.args)})),(0,d.FE)({name:"createLivePlayer",args:k})})).catch((({errMsg:e})=>{var t=(e||"").replace(/^\w+:fail\s*/,"");(0,d.YG)("createLivePlayer",k,t)}))}insert(){if(!this.isInserted)return new Promise(((e,t)=>{(0,d.IN)("insertLivePlayer",Object.assign(this.toNativeData(),{success:e,fail:t}))}))}update(){return new Promise(((e,t)=>{(0,d.IN)("updateLivePlayer",Object.assign(this.toNativeData(),{success:e,fail:t}))}))}operate(e,t=[]){return this.isInserted?new Promise(((r,n)=>{(0,d.IN)("operateLivePlayer",{livePlayerId:this.id,type:e,data:t,quality:t.quality,fail:n,success:r})})):(this.deferred.push({type:"method",method:e,args:t}),Promise.resolve({}))}toNativeData(){var e=this.layoutBox||{left:this.x,top:this.y,width:this.width,height:this.height},t={livePlayerId:this.id,position:e,playUrl:this.src,mode:"live"===this.mode?1:2,autoplay:this.autoplay,muted:this.muted,orientation:this.orientation,objectFit:this.objectFit,minCache:this.minCache,maxCache:this.maxCache,soundMode:this.soundMode,autoPauseIfOpenNative:this.autoPauseIfOpenNative,needEvent:!0,needNetStatus:!0,needAudioVolume:!0};return this.autoInsert||(t.parentId=this.parentId),t}play(){return this.operate("play")}stop(){return this.operate("stop")}pause(){return this.operate("pause")}resume(){return this.operate("resume")}mute(){return this.operate("mute")}requestFullScreen(e=0){return this.operate("requestFullScreen",[e])}exitFullScreen(){return this.operate("exitFullScreen")}snapshot(e="raw"){return this.operate("snapshot",{quality:e})}destroy(){return new Promise(((e,t)=>{delete p[this.id],f.off(`state-${this.id}`),f.off(`fs-${this.id}`),f.off(`net-${this.id}`),f.off(`audio-${this.id}`),(0,d.IN)("removeLivePlayer",{livePlayerId:this.id,success:e,fail:t})}))}onStateChange(e){f.on(`state-${this.id}`,e)}offStateChange(e){f.off(`state-${this.id}`,e)}onFullScreenChange(e){f.on(`fs-${this.id}`,e)}offFullScreenChange(e){f.off(`fs-${this.id}`,e)}onNetStatus(e){f.on(`net-${this.id}`,e)}offNetStatus(e){f.off(`net-${this.id}`,e)}onAudioVolumeNotify(e){f.on(`audio-${this.id}`,e)}offAudioVolumeNotify(e){f.off(`audio-${this.id}`,e)}}var g=(e,t)=>(0,u.n)(e,(e=>t(e||{})));g("onLivePlayerEvent",(({livePlayerId:e,errCode:t,errMsg:r})=>{f.emit(`state-${e}`,{code:t,message:r})})),g("onLivePlayerFullScreenChange",(({livePlayerId:e,fullScreen:t,direction:r})=>{f.emit(`fs-${e}`,{fullScreen:t,direction:r})})),g("onLivePlayerNetStatus",(({livePlayerId:e,info:t})=>{t&&f.emit(`net-${e}`,{videoBitrate:t.VIDEO_BITRATE,audioBitrate:t.AUDIO_BITRATE,videoFPS:t.VIDEO_FPS,videoGOP:t.VIDEO_GOP,netSpeed:t.NET_SPEED,netQualityLevel:t.NET_QUALITY_LEVEL,netJitter:t.NET_JITTER,videoWidth:t.VIDEO_WIDTH,videoHeight:t.VIDEO_HEIGHT})})),g("onLivePlayerAudioVolume",(({livePlayerId:e,volume:t})=>{f.emit(`audio-${e}`,{volume:t})}));var v={},m=new l.Q("LivePusher",!0);function y(e){switch(e){case"SD":return 1;case"HD":return 2;case"FHD":return 3;default:return 6}}class b extends c.W{constructor({style:e,name:t,x:r=0,y:n=0,width:a=300,height:i=200,url:o,mode:s="RTC",autopush:c=!1,muted:l=!1,enableCamera:u=!0,autoFocus:p=!0,orientation:f="vertical",beauty:h=0,whiteness:g=0,aspect:m="9:16",minBitrate:y=200,maxBitrate:b=1e3,audioQuality:_="high",waitingImage:w,waitingImageHash:I,zoom:S=!1,devicePosition:k="front",remoteMirror:C=!1,localMirror:T="auto",audioReverbType:E=0,enableMic:A=!0,enableAgc:P=!1,enableAns:x=!1,audioVolumeType:M="voicecall",videoWidth:R=360,videoHeight:D=640,autoInsert:L=!0,success:N,fail:O,complete:B}={}){super({style:e,name:t}),v[this.id]=this;var j=null;this.deferred=[];var F={x:r,y:n,width:a,height:i,url:o,mode:s,autopush:c,muted:l,enableCamera:u,autoFocus:p,orientation:f,beauty:h,whiteness:g,aspect:m,minBitrate:y,maxBitrate:b,audioQuality:_,waitingImage:w,waitingImageHash:I,zoom:S,devicePosition:k,remoteMirror:C,localMirror:T,audioReverbType:E,enableMic:A,enableAgc:P,enableAns:x,audioVolumeType:M,videoWidth:R,videoHeight:D};Object.keys(F).forEach((e=>{Object.defineProperty(this,e,{enumerable:!0,get:()=>F[e],set:t=>{if(F[e]!==t){if(F[e]=t,!this.isInserted)return this.deferred.push({type:"property",property:e,value:t}),t;clearTimeout(j),j=setTimeout((()=>this.update()),0)}}})}));var U={success:N,fail:O,complete:B};L&&this.insert().then((()=>{var e=this.deferred;this.isInserted=!0,this.deferred=[],e.forEach((e=>{"property"===e.type?this[e.property]=e.value:this.operate(e.method,e.args)})),(0,d.FE)({name:"createLivePusher",args:U})})).catch((({errMsg:e})=>{var t=(e||"").replace(/^\w+:fail\s*/,"");(0,d.YG)("createLivePusher",U,t)}))}insert(){if(!this.isInserted)return new Promise(((e,t)=>{(0,d.IN)("insertLivePusher",Object.assign(this.toNativeData(),{success:e,fail:t}))}))}update(){return new Promise(((e,t)=>{(0,d.IN)("updateLivePusher",Object.assign(this.toNativeData(),{success:e,fail:t}))}))}operate(e,t={}){return this.isInserted?new Promise(((r,n)=>{(0,d.IN)("operateLivePusher",{livePusherId:this.id,type:e,url:t.url,volume:t.volume,quality:t.quality,fail:n,success:r})})):(this.deferred.push({type:"method",method:e,args:t}),Promise.resolve({}))}toNativeData(){var e,t=this.layoutBox||{left:this.x,top:this.y,width:this.width,height:this.height},r={livePusherId:this.id,position:t,pushUrl:this.url,mode:y(this.mode),autopush:this.autopush,muted:this.muted,enableCamera:this.enableCamera,focusMode:this.autoFocus?0:1,orientation:this.orientation,beauty:this.beauty,whiteness:this.whiteness,aspect:(e=this.aspect,"3:14"===e?1:2),minBitrate:this.minBitrate,maxBitrate:this.maxBitrate,backgroundImage:this.waitingImage,backgroundMD5:this.waitingImageHash,zoom:this.zoom,devicePosition:this.devicePosition,remoteMirror:this.remoteMirror,localMirror:this.localMirror,enableMic:this.enableMic,enableAGC:this.enableAgc,enableANS:this.enableAns,audioVolumeType:this.audioVolumeType,audioReverbType:this.audioReverbType,videoWidth:this.videoWidth,videoHeight:this.videoHeight,needEvent:!0,needNetStatus:!0};return this.autoInsert||(r.parentId=this.parentId),r}start(){return this.operate("start")}stop(){return this.operate("stop")}pause(){return this.operate("pause")}resume(){return this.operate("resume")}playBGM(e){return this.operate("playBGM",{url:e})}stopBGM(){return this.operate("stopBGM")}pauseBGM(){return this.operate("pauseBGM")}resumeBGM(){return this.operate("resumeBGM")}setBGMVolume(e=1){return this.operate("setBGMVolume",{volume:e})}setMICVolume(e=1){return this.operate("setMICVolume",{volume:e})}startPreview(){return this.operate("startPreview")}stopPreview(){return this.operate("stopPreview")}snapshot(e){return this.operate("snapshot",{quality:e})}switchCamera(){return this.operate("switchCamera")}toggleTorch(){return this.operate("toggleTorch")}destroy(){return new Promise(((e,t)=>{delete v[this.id],m.off(`state-${this.id}`),m.off(`net-${this.id}`),m.off(`start-${this.id}`),m.off(`progress-${this.id}`),m.off(`complete-${this.id}`),m.off(`error-${this.id}`),(0,d.IN)("removeLivePusher",{livePusherId:this.id,success:e,fail:t})}))}onStateChange(e){m.on(`state-${this.id}`,e)}offStateChange(e){m.off(`state-${this.id}`,e)}onNetStatus(e){m.on(`net-${this.id}`,e)}offNetStatus(e){m.off(`net-${this.id}`,e)}onBGMStart(e){m.on(`start-${this.id}`,e)}offBGMStart(e){m.off(`start-${this.id}`,e)}onBGMProgress(e){m.on(`progress-${this.id}`,e)}offBGMProgress(e){m.off(`progress-${this.id}`,e)}onBGMComplete(e){m.on(`complete-${this.id}`,e)}offBGMComplete(e){m.off(`complete-${this.id}`,e)}onError(e){m.on(`error-${this.id}`,e)}offError(e){m.off(`error-${this.id}`,e)}}var _=(e,t)=>(0,u.n)(e,(e=>t(e||{})));_("onLivePusherEvent",(({livePusherId:e,errCode:t,errMsg:r})=>{m.emit(`state-${e}`,{code:t,message:r})})),_("onLivePusherNetStatus",(({livePusherId:e,info:t})=>{t&&m.emit(`net-${e}`,{videoBitrate:t.VIDEO_BITRATE,audioBitrate:t.AUDIO_BITRATE,videoFPS:t.VIDEO_FPS,videoGOP:t.VIDEO_GOP,netSpeed:t.NET_SPEED,netQualityLevel:t.NET_QUALITY_LEVEL,netJitter:t.NET_JITTER,videoWidth:t.VIDEO_WIDTH,videoHeight:t.VIDEO_HEIGHT})})),_("onLivePusherBGMStart",(({livePusherId:e})=>{m.emit(`start-${e}`)})),_("onLivePusherBGMProgress",(({livePusherId:e,progress:t,duration:r})=>{m.emit(`progress-${e}`,{progress:t,duration:r})})),_("onLivePusherBGMComplete",(({livePusherId:e,errCode:t})=>{m.emit(`complete-${e}`,{errCode:t})})),_("onLivePusherError",(({livePusherId:e,errCode:t,errMsg:r,data:n})=>{m.emit(`error-${e}`,{errCode:t,errMsg:r,data:n})}));var w=r(5532)},5753:(e,t,r)=>{"use strict";r.d(t,{_:()=>u,u:()=>l});var n=r(364),a=function(){var e,t="inherit",r="row",n="row-reverse",a="column",i="column-reverse",o="flex-start",s="center",c="flex-start",l="center",u="flex-end",d="stretch",p="relative",f="absolute",h={row:"left","row-reverse":"right",column:"top","column-reverse":"bottom"},g={row:"right","row-reverse":"left",column:"bottom","column-reverse":"top"},v={row:"left","row-reverse":"right",column:"top","column-reverse":"bottom"},m={row:"width","row-reverse":"width",column:"height","column-reverse":"height"};function y(e){return void 0===e}function b(e){return e===r||e===n}function _(e,t){if(void 0!==e.style.marginStart&&b(t))return e.style.marginStart;var r=null;switch(t){case"row":r=e.style.marginLeft;break;case"row-reverse":r=e.style.marginRight;break;case"column":r=e.style.marginTop;break;case"column-reverse":r=e.style.marginBottom}return void 0!==r?r:void 0!==e.style.margin?e.style.margin:0}function w(e,t){if(void 0!==e.style.marginEnd&&b(t))return e.style.marginEnd;var r=null;switch(t){case"row":r=e.style.marginRight;break;case"row-reverse":r=e.style.marginLeft;break;case"column":r=e.style.marginBottom;break;case"column-reverse":r=e.style.marginTop}return null!=r?r:void 0!==e.style.margin?e.style.margin:0}function I(e,t){if(void 0!==e.style.borderStartWidth&&e.style.borderStartWidth>=0&&b(t))return e.style.borderStartWidth;var r=null;switch(t){case"row":r=e.style.borderLeftWidth;break;case"row-reverse":r=e.style.borderRightWidth;break;case"column":r=e.style.borderTopWidth;break;case"column-reverse":r=e.style.borderBottomWidth}return null!=r&&r>=0?r:void 0!==e.style.borderWidth&&e.style.borderWidth>=0?e.style.borderWidth:0}function S(e,t){if(void 0!==e.style.borderEndWidth&&e.style.borderEndWidth>=0&&b(t))return e.style.borderEndWidth;var r=null;switch(t){case"row":r=e.style.borderRightWidth;break;case"row-reverse":r=e.style.borderLeftWidth;break;case"column":r=e.style.borderBottomWidth;break;case"column-reverse":r=e.style.borderTopWidth}return null!=r&&r>=0?r:void 0!==e.style.borderWidth&&e.style.borderWidth>=0?e.style.borderWidth:0}function k(e,t){return function(e,t){if(void 0!==e.style.paddingStart&&e.style.paddingStart>=0&&b(t))return e.style.paddingStart;var r=null;switch(t){case"row":r=e.style.paddingLeft;break;case"row-reverse":r=e.style.paddingRight;break;case"column":r=e.style.paddingTop;break;case"column-reverse":r=e.style.paddingBottom}return null!=r&&r>=0?r:void 0!==e.style.padding&&e.style.padding>=0?e.style.padding:0}(e,t)+I(e,t)}function C(e,t){return function(e,t){if(void 0!==e.style.paddingEnd&&e.style.paddingEnd>=0&&b(t))return e.style.paddingEnd;var r=null;switch(t){case"row":r=e.style.paddingRight;break;case"row-reverse":r=e.style.paddingLeft;break;case"column":r=e.style.paddingBottom;break;case"column-reverse":r=e.style.paddingTop}return null!=r&&r>=0?r:void 0!==e.style.padding&&e.style.padding>=0?e.style.padding:0}(e,t)+S(e,t)}function T(e,t){return I(e,t)+S(e,t)}function E(e,t){return _(e,t)+w(e,t)}function A(e,t){return k(e,t)+C(e,t)}function P(e,t){return t.style.alignSelf?t.style.alignSelf:e.style.alignItems?e.style.alignItems:"stretch"}function x(e,t){if("rtl"===t){if(e===r)return n;if(e===n)return r}return e}function M(e,t){return function(e){return e===a||e===i}(e)?x(r,t):a}function R(e){return e.style.position?e.style.position:"relative"}function D(e){return R(e)===p&&e.style.flex>0}function L(e,t){return e.layout[m[t]]+E(e,t)}function N(e,t){return void 0!==e.style[m[t]]&&e.style[m[t]]>=0}function O(e,t){return void 0!==e.style[t]}function B(e,t){return void 0!==e.style[t]?e.style[t]:0}function j(e,t,r){var n={row:e.style.minWidth,"row-reverse":e.style.minWidth,column:e.style.minHeight,"column-reverse":e.style.minHeight}[t],a={row:e.style.maxWidth,"row-reverse":e.style.maxWidth,column:e.style.maxHeight,"column-reverse":e.style.maxHeight}[t],i=r;return void 0!==a&&a>=0&&i>a&&(i=a),void 0!==n&&n>=0&&i<n&&(i=n),i}function F(e,t){return e>t?e:t}function U(e,t){void 0===e.layout[m[t]]&&N(e,t)&&(e.layout[m[t]]=F(j(e,t,e.style[m[t]]),A(e,t)))}function W(e,t,r){t.layout[g[r]]=e.layout[m[r]]-t.layout[m[r]]-t.layout[v[r]]}function G(e,t){return void 0!==e.style[h[t]]?B(e,h[t]):-B(e,g[t])}function V(S,V,q){var z=function(e,r){var n;return(n=e.style.direction?e.style.direction:t)===t&&(n=void 0===r?"ltr":r),n}(S,q),Z=x(function(e){return e.style.flexDirection?e.style.flexDirection:a}(S),z),H=M(Z,z),K=x(r,z);U(S,Z),U(S,H),S.layout.direction=z,S.layout[h[Z]]+=_(S,Z)+G(S,Z),S.layout[g[Z]]+=w(S,Z)+G(S,Z),S.layout[h[H]]+=_(S,H)+G(S,H),S.layout[g[H]]+=w(S,H)+G(S,H);var J=S.children.length,Y=A(S,K);if(function(e){return void 0!==e.style.measure}(S)){var Q=!y(S.layout[m[K]]),X=e;X=N(S,K)?S.style.width:Q?S.layout[m[K]]:V-E(S,K),X-=Y;var ee=!N(S,K)&&!Q,te=!N(S,a)&&y(S.layout[m[a]]);if(ee||te){var re=S.style.measure(X);ee&&(S.layout.width=re.width+Y),te&&(S.layout.height=re.height+A(S,a))}if(0===J)return}var ne,ae,ie,oe,se=function(e){return"wrap"===e.style.flexWrap}(S),ce=function(e){return e.style.justifyContent?e.style.justifyContent:"flex-start"}(S),le=k(S,Z),ue=k(S,H),de=A(S,Z),pe=A(S,H),fe=!y(S.layout[m[Z]]),he=!y(S.layout[m[H]]),ge=b(Z),ve=null,me=null,ye=e;fe&&(ye=S.layout[m[Z]]-de);for(var be=0,_e=0,we=0,Ie=0,Se=0,ke=0;_e<J;){var Ce,Te=0,Ee=0,Ae=0,Pe=0,xe=fe&&ce===o||!fe&&ce!==s,Me=xe?J:be,Re=!0,De=J,Le=null,Ne=null,Oe=le,Be=0;for(ne=be;ne<J;++ne){if((ie=S.children[ne]).lineIndex=ke,ie.nextAbsoluteChild=null,ie.nextFlexChild=null,(ze=P(S,ie))===d&&R(ie)===p&&he&&!N(ie,H))ie.layout[m[H]]=F(j(ie,H,S.layout[m[H]]-pe-E(ie,H)),A(ie,H));else if(R(ie)===f)for(null===ve&&(ve=ie),null!==me&&(me.nextAbsoluteChild=ie),me=ie,ae=0;ae<2;ae++)oe=0!==ae?r:a,!y(S.layout[m[oe]])&&!N(ie,oe)&&O(ie,h[oe])&&O(ie,g[oe])&&(ie.layout[m[oe]]=F(j(ie,oe,S.layout[m[oe]]-A(S,oe)-E(ie,oe)-B(ie,h[oe])-B(ie,g[oe])),A(ie,oe)));var je=0;if(fe&&D(ie)?(Ee++,Ae+=ie.style.flex,null===Le&&(Le=ie),null!==Ne&&(Ne.nextFlexChild=ie),Ne=ie,je=A(ie,Z)+E(ie,Z)):(Ce=e,ge||(Ce=N(S,K)?S.layout[m[K]]-Y:V-E(S,K)-Y),0===we&&$(ie,Ce,z),R(ie)===p&&(Pe++,je=L(ie,Z))),se&&fe&&Te+je>ye&&ne!==be){Pe--,we=1;break}xe&&(R(ie)!==p||D(ie))&&(xe=!1,Me=ne),Re&&(R(ie)!==p||ze!==d&&ze!==c||y(ie.layout[m[H]]))&&(Re=!1,De=ne),xe&&(ie.layout[v[Z]]+=Oe,fe&&W(S,ie,Z),Oe+=L(ie,Z),Be=F(Be,j(ie,H,L(ie,H)))),Re&&(ie.layout[v[H]]+=Ie+ue,he&&W(S,ie,H)),we=0,Te+=je,_e=ne+1}var Fe=0,Ue=0,We=0;if(We=fe?ye-Te:F(Te,0)-Te,0!==Ee){var Ge,Ve,$e=We/Ae;for(Ne=Le;null!==Ne;)(Ge=$e*Ne.style.flex+A(Ne,Z))!==(Ve=j(Ne,Z,Ge))&&(We-=Ve,Ae-=Ne.style.flex),Ne=Ne.nextFlexChild;for(($e=We/Ae)<0&&($e=0),Ne=Le;null!==Ne;)Ne.layout[m[Z]]=j(Ne,Z,$e*Ne.style.flex+A(Ne,Z)),Ce=e,N(S,K)?Ce=S.layout[m[K]]-Y:ge||(Ce=V-E(S,K)-Y),$(Ne,Ce,z),ie=Ne,Ne=Ne.nextFlexChild,ie.nextFlexChild=null}else ce!==o&&(ce===s?Fe=We/2:"flex-end"===ce?Fe=We:"space-between"===ce?(We=F(We,0),Ue=Ee+Pe-1!=0?We/(Ee+Pe-1):0):"space-around"===ce&&(Fe=(Ue=We/(Ee+Pe))/2));for(Oe+=Fe,ne=Me;ne<_e;++ne)R(ie=S.children[ne])===f&&O(ie,h[Z])?ie.layout[v[Z]]=B(ie,h[Z])+I(S,Z)+_(ie,Z):(ie.layout[v[Z]]+=Oe,fe&&W(S,ie,Z),R(ie)===p&&(Oe+=Ue+L(ie,Z),Be=F(Be,j(ie,H,L(ie,H)))));var qe=S.layout[m[H]];for(he||(qe=F(j(S,H,Be+pe),pe)),ne=De;ne<_e;++ne)if(R(ie=S.children[ne])===f&&O(ie,h[H]))ie.layout[v[H]]=B(ie,h[H])+I(S,H)+_(ie,H);else{var ze,Ze=ue;if(R(ie)===p)if((ze=P(S,ie))===d)y(ie.layout[m[H]])&&(ie.layout[m[H]]=F(j(ie,H,qe-pe-E(ie,H)),A(ie,H)));else if(ze!==c){var He=qe-pe-L(ie,H);Ze+=ze===l?He/2:He}ie.layout[v[H]]+=Ie+Ze,he&&W(S,ie,H)}Ie+=Be,Se=F(Se,Oe),ke+=1,be=_e}if(ke>1&&he){var Ke=S.layout[m[H]]-pe,Je=Ke-Ie,Ye=0,Qe=ue,Xe=function(e){return e.style.alignContent?e.style.alignContent:"flex-start"}(S);Xe===u?Qe+=Je:Xe===l?Qe+=Je/2:Xe===d&&Ke>Ie&&(Ye=Je/ke);var et=0;for(ne=0;ne<ke;++ne){var tt=et,rt=0;for(ae=tt;ae<J;++ae)if(R(ie=S.children[ae])===p){if(ie.lineIndex!==ne)break;y(ie.layout[m[H]])||(rt=F(rt,ie.layout[m[H]]+E(ie,H)))}for(et=ae,rt+=Ye,ae=tt;ae<et;++ae)if(R(ie=S.children[ae])===p){var nt=P(S,ie);if(nt===c)ie.layout[v[H]]=Qe+_(ie,H);else if(nt===u)ie.layout[v[H]]=Qe+rt-w(ie,H)-ie.layout[m[H]];else if(nt===l){var at=ie.layout[m[H]];ie.layout[v[H]]=Qe+(rt-at)/2}else nt===d&&(ie.layout[v[H]]=Qe+_(ie,H))}Qe+=rt}}var it=!1,ot=!1;if(fe||(S.layout[m[Z]]=F(j(S,Z,Se+C(S,Z)),de),Z!==n&&Z!==i||(it=!0)),he||(S.layout[m[H]]=F(j(S,H,Ie+pe),pe),H!==n&&H!==i||(ot=!0)),it||ot)for(ne=0;ne<J;++ne)ie=S.children[ne],it&&W(S,ie,Z),ot&&W(S,ie,H);for(me=ve;null!==me;){for(ae=0;ae<2;ae++)oe=0!==ae?r:a,!y(S.layout[m[oe]])&&!N(me,oe)&&O(me,h[oe])&&O(me,g[oe])&&(me.layout[m[oe]]=F(j(me,oe,S.layout[m[oe]]-T(S,oe)-E(me,oe)-B(me,h[oe])-B(me,g[oe])),A(me,oe))),O(me,g[oe])&&!O(me,h[oe])&&(me.layout[h[oe]]=S.layout[m[oe]]-me.layout[m[oe]]-B(me,g[oe]));ie=me,me=me.nextAbsoluteChild,ie.nextAbsoluteChild=null}}function $(e,t,r){e.shouldUpdate=!0;var n=e.style.direction||"ltr";!e.isDirty&&e.lastLayout&&e.lastLayout.requestedHeight===e.layout.height&&e.lastLayout.requestedWidth===e.layout.width&&e.lastLayout.parentMaxWidth===t&&e.lastLayout.direction===n?(e.layout.width=e.lastLayout.width,e.layout.height=e.lastLayout.height,e.layout.top=e.lastLayout.top,e.layout.left=e.lastLayout.left):(e.lastLayout||(e.lastLayout={}),e.lastLayout.requestedWidth=e.layout.width,e.lastLayout.requestedHeight=e.layout.height,e.lastLayout.parentMaxWidth=t,e.lastLayout.direction=n,e.children.forEach((function(e){e.layout.width=void 0,e.layout.height=void 0,e.layout.top=0,e.layout.left=0})),V(e,t,r),e.lastLayout.width=e.layout.width,e.lastLayout.height=e.layout.height,e.lastLayout.top=e.layout.top,e.lastLayout.left=e.layout.left)}return{layoutNodeImpl:V,computeLayout:$,fillNodes:function e(t){return t.layout&&!t.isDirty||(t.layout={width:void 0,height:void 0,top:0,left:0,right:0,bottom:0}),t.style||(t.style={}),t.children||(t.children=[]),t.children.forEach(e),t}}}();var i=(e,t)=>{var r=!1;t.layoutBox=t.layoutBox||{},["left","top","width","height"].forEach((n=>{r=r||t.layoutBox[n]!==e.layout[n],t.layoutBox[n]=e.layout[n]})),t.shouldUpdate=t.shouldUpdate||r,e.children.forEach((e=>{var r=t.children[e.id];r&&i(e,r)}))},o=e=>{var t=Promise.resolve();return e.isInserted?e.shouldUpdate&&(t=e.update()):t=e.insert(),t.then((()=>Promise.all(Object.keys(e.children).map((t=>{var r=e.children[t];return o(r)})))))},s=e=>{e.isInserted?e.shouldUpdate&&e.update():e.insert(),Object.keys(e.children).map((t=>{var r=e.children[t];return s(r)}))};class c extends n.W{constructor({style:e,name:t,auto:r=!0}={}){super({style:e,id:0,name:t});var n=null;this.auto=r,this.on("layout",(()=>{this.auto&&(clearTimeout(n),n=setTimeout((()=>this.layout()),0))})),this.onebyone=!0}layout(){var e,t={id:this.id,style:{width:this.style.width,height:this.style.height,flexDirection:"row"},children:this.getChildren()};return e=t,a.fillNodes(e),a.computeLayout(e),i(t,this),this.onebyone?o(this).then((()=>this.emit("update-done"))):(s(this),Promise.resolve().then((()=>this.emit("update-done"))))}}var l=new c({name:"webview-layout"});l.dest=0;var u=new c({name:"nativeview-layout",auto:!1});u.onebyone=!1,u.dest=1},4402:(e,t,r)=>{"use strict";r.d(t,{MY:()=>a,fc:()=>n,ph:()=>i});var n=["left","top","right","bottom","width","height","margin","marginLeft","marginRight","marginTop","marginBottom","padding","paddingLeft","paddingRight","paddingTop","paddingBottom","fontSize","lineHeight","borderRadius"],a=["margin","marginTop","marginBottom","marginLeft","marginRight","padding","paddingTop","paddingBottom","paddingLeft","paddingRight","width","height"],i=()=>({left:void 0,top:void 0,right:void 0,bottom:void 0,width:void 0,height:void 0,maxWidth:void 0,maxHeight:void 0,minWidth:void 0,minHeight:void 0,margin:void 0,marginLeft:void 0,marginRight:void 0,marginTop:void 0,marginBottom:void 0,padding:void 0,paddingLeft:void 0,paddingRight:void 0,paddingTop:void 0,paddingBottom:void 0,borderWidth:void 0,flexDirection:void 0,justifyContent:void 0,alignItems:void 0,alignSelf:void 0,flex:void 0,flexWrap:void 0,position:void 0,hidden:!1,scale:1,scaleWidth:1,scaleHeight:1,color:void 0,fontSize:void 0,textAlign:void 0,fontWeight:void 0,lineHeight:void 0,lineBreak:void 0,backgroundColor:void 0,backgroundColorOpacity:1,borderRadius:void 0,borderColor:void 0,borderColorOpacity:1,opacity:void 0,overflow:void 0,zIndex:1,fixed:!1,rotate:0})},5653:(e,t,r)=>{"use strict";r.d(t,{x:()=>a});var n=r(8423);class a extends n.G{constructor({id:e,style:t,value:r="",name:n="",autoInsert:a=!1,eventType:i,bubbleEvent:o,clickState:s,independent:c=!1}={}){super({id:e,style:t,props:{value:r},type:"text",name:n,autoInsert:a,eventType:i,bubbleEvent:o,clickState:s,independent:c})}toNativeData(){var e=["color","fontSize","textAlign","fontWeight","lineHeight","lineBreak"].reduce(((e,t)=>(e[t]=this.computedStyle[t],e)),{});return Object.assign(super.toNativeData(),{label:Object.assign(e,{content:this.value})})}}},3842:(e,t,r)=>{"use strict";r.d(t,{r:()=>n});var n={uuid:32768,increase(){return this.uuid++}}},2531:(e,t,r)=>{"use strict";r.d(t,{n:()=>y});var n=r(3366),a=r(364),i=r(4318),o=r(4770),s=r(4275),c=r(5333),l=r(8013),u={video:1,"live-player":2,"live-pusher":3,image:4,audio:5},d=0,p={};c.Z.onReady((()=>{d=c.Z.appType+1e3,p=c.Z.appLaunchInfo}));var f={onLoad:1,onWaiting:2,onError:3,onPlay:4,onPause:5,onFullScreenChange:6,onEnd:7,onTimeUpdate:8,onSrcSet:9,onImageLoad:91,onImageError:92},h=r(346),g={},v=["onVideoWaiting","onVideoPlay","onVideoPause","onVideoEnded","onVideoTimeUpdate","onVideoError","onVideoProgress"];s.wZ&&v.push("onVideoFullScreenChange");var m=(e,t,r)=>{"ad"!==e.scene&&(({component:e,eventName:t,eventData:r,src:n=""}={})=>{var a=(0,l._getCurrentNetworkType)(),i=c.Z.SDKVersion||"",o=Object.keys(p.query||{}).map((e=>`${e}=${p.query[e]}`)).join(",");o=encodeURIComponent(o);var s="";switch(t){case"onLoad":s=[r.duration,r.controls?2:1].join(";");break;case"onWaiting":case"onTimeUpdate":s=[r.position,r.buffered].join(";");break;case"onError":s=r.errMsg.replace(","," ");break;case"onFullScreenChange":s=r.fullScreen?2:1;break;case"onImageLoad":s=[r.isLazyLoad?2:1,r.size,r.loadTime,r.width,r.height,r.originalWidth,r.originalHeight].join(";");break;case"onImageError":s=[r.isLazyLoad?2:1].join(";")}var h=[Math.round(Date.now()/1e3),p.scene,"",p.sessionid||p.sessionId,p.path,o,a,i,u[e],f[t],s,encodeURIComponent(n.substring(0,1024)).substring(0,1024),d].join(",");w.reportKeyValue({key:"MediaCompStatus",value:h})})({component:"video",eventName:t,eventData:r,src:e.src})};class y extends a.W{constructor({style:e={},name:t,x:r=0,y:a=0,width:i=300,height:o=200,hide:s=!1,src:c,poster:l,referrerPolicy:u="no-referrer",initialTime:d=0,playbackRate:p=1,live:f=!1,objectFit:h="contain",controls:m=!0,showProgress:y=!0,showProgressInControlMode:b=y,autoplay:_=!1,muted:w=!1,loop:I=!1,customCache:S=!1,enableProgressGesture:k=!0,enablePlayGesture:C=!1,showCenterPlayBtn:T=!0,autoInsert:E=!0,scene:A="default",preLoad:P=!1,obeyMuteSwitch:x=!1,underGameView:M=!1,backgroundColor:R="#000000",playerHint:D="",zIndex:L,autoPauseIfNavigate:N=!0,autoPauseIfOpenNative:O=!0,independent:B=!1}={}){super({style:e,name:t}),this.isSrcChanged=!1,this.autoInsert=E,this.playerHint=D,this.scene=A,this.preLoad=P,this.underGameView=M,this.zIndex=L,this.autoPauseIfOpenNative=O,this.autoPauseIfNavigate=N,this.customCache=S,this.independent=B,g[this.id]=this;var j=null;this.emitter=new n.Z,this.deferred=[],this._buffered=0,this._position=0;var F={x:r,y:a,width:i,height:o,hide:s,src:c,poster:l,initialTime:d,playbackRate:p,live:f,objectFit:h,controls:m,showProgress:y,showProgressInControlMode:b,backgroundColor:R,autoplay:_,muted:w,loop:I,enableProgressGesture:k,enablePlayGesture:C,showCenterPlayBtn:T,obeyMuteSwitch:x,referrerPolicy:u};Object.keys(F).forEach((e=>{Object.defineProperty(this,e,{configurable:!0,enumerable:!0,get:()=>F[e],set:t=>{"src"!==e&&F[e]===t||(F[e]=t,this.isInserted?("src"===e&&(this.isSrcChanged=!0),"poster"===e&&(this.isPosterChanged=!0),"playbackRate"===e?this.operate("playbackRate",[t]):(clearTimeout(j),j=setTimeout((()=>this.update()),0))):this.deferred.push({type:"property",property:e,value:t}))}})})),v.forEach((e=>{var t=e.toLowerCase().replace("video","");this[t]=()=>{},this.emitter.on(e,(e=>{this[t](e)}))})),this.autoInsert&&this.insert().then((()=>{this.playbackRate&&1!==this.playbackRate&&this.operate("playbackRate",[this.playbackRate])})).then((()=>{this.deferred.forEach((e=>{"property"===e.type?this[e.property]=e.value:this.operate(e.method,e.args)}))}))}insert(){if(!this.isInserted)return this.isInserted=!0,m(this,"onSrcSet",{}),new Promise(((e,t)=>{(0,i.IN)("insertVideoPlayer",Object.assign(this.toNativeData(),{data:JSON.stringify({id:this.id}),filePath:(0,h.Uj)(this.src),scene:this.scene,preLoad:this.preLoad,underGameView:this.underGameView,referrerPolicy:this.referrerPolicy,playerHint:this.playerHint,zIndex:this.zIndex,success:t=>{this.emit("ready"),e(t)},fail:t}))}))}destroy(){return new Promise(((e,t)=>{s.cj?setTimeout((()=>{(0,i.IN)("removeVideoPlayer",{videoPlayerId:this.id,success:e,fail:t})}),0):(0,i.IN)("removeVideoPlayer",{videoPlayerId:this.id,success:e,fail:t}),v.forEach((e=>{var t=e.replace("Video","").replace("on","off");"function"==typeof this[t]&&this[t]()})),delete g[this.id]}))}toNativeData(){var e=this.layoutBox||{left:this.x,top:this.y,width:this.width,height:this.height},t={videoPlayerId:this.id,position:e,hide:this.hide,zIndex:Number.isInteger(+this.zIndex)?+this.zIndex:0,initialTime:this.initialTime,live:this.live,objectFit:this.objectFit,needEvent:!0,showBasicControls:this.controls,showProgress:this.showProgress,showProgressInControlMode:this.showProgressInControlMode,backgroundColor:this.backgroundColor,backgroudColor:this.backgroundColor,autoplay:this.autoplay,muted:this.muted,loop:this.loop,customCache:this.customCache,enableProgressGesture:this.enableProgressGesture,enablePlayGesture:this.enablePlayGesture,showCenterPlayBtn:this.showCenterPlayBtn,obeyMuteSwitch:this.obeyMuteSwitch,referrerPolicy:this.referrerPolicy,autoPauseIfNavigate:this.autoPauseIfNavigate,autoPauseIfOpenNative:this.autoPauseIfOpenNative,independent:this.independent};return this.isSrcChanged&&(t.filePath=(0,h.Uj)(this.src),this.isSrcChanged=!1),this.isPosterChanged&&(t.poster=(0,h.Uj)(this.poster),this.isPosterChanged=!1),this.autoInsert||(t.parentId=this.parentId),t}update(){this.shouldUpdate=!1;var e=this.toNativeData();return e.filePath&&m(this,"onSrcSet",{}),new Promise(((t,r)=>{(0,i.IN)("updateVideoPlayer",Object.assign({},e,{success:t,fail:r}))}))}operate(e,t=[]){if(this.isInserted)return this.hide&&"playbackRate"!==e?Promise.reject(new Error(`${e} can't be invoked when video is hidden`)):new Promise(((r,n)=>{(0,i.IN)("operateVideoPlayer",{videoPlayerId:this.id,type:e,data:t,independent:this.independent,success:r,fail:n})}));this.deferred.push({type:"method",method:e,args:t})}play(){return this.operate("play")}pause(){return this.operate("pause")}stop(){return this.operate("stop")}seek(e){return this.operate("seek",[e])}requestFullScreen(e){return this.operate("requestFullScreen",[e])}exitFullScreen(){return this.operate("exitFullScreen")}}v.forEach((e=>{var t=e.replace("Video","");y.prototype[t]=function(t){this.emitter.on(e,t)};var r=t.replace("on","off");y.prototype[r]=function(t){this.emitter.off(e,t)}})),v.forEach((e=>{(0,o.n)(e,(t=>{var r=t.videoPlayerId||JSON.parse(t.data||"{}").id,n=g[r];if(n)if(n.emitter.emit(e,t),"onVideoProgress"!==e){var a=t;"onVideoTimeUpdate"===e?(n._position=t.position,a={position:t.position,buffered:n._buffered}):"onVideoWaiting"===e&&(a={position:n._position,buffered:n._buffered}),m(n,e.replace("Video",""),a)}else n._buffered=t.buffered}))}))},8423:(e,t,r)=>{"use strict";r.d(t,{G:()=>o});var n=r(4318),a=r(364),i=r(3671);class o extends a.W{constructor({id:e,parentId:t,style:r,props:n={},type:a="text",name:i="",autoInsert:s=!1,eventType:c="touch",clickState:l=!1,bubbleEvent:u=!1,independent:d=!1}={}){super({id:e,style:r,props:Object.assign(n,{fullscreen:!1}),name:i,parentId:t}),this.type="text"===a?"TextView":"ImageView",this.eventType=c,this.autoInsert=s,this.bubbleEvent=u,this.independent=d,"touch"===this.eventType&&l&&this.ready().then((()=>{this.mask=new o({style:{backgroundColor:"rgba(0, 0, 0, 0.1)",hidden:!0,position:"absolute",left:0,top:0},eventType:"click",independent:this.independent}),this.mask.name="mask",this.add(this.mask)})).catch((()=>{}));var p=Date.now(),f={x:0,y:0};this.on("touchstart",(e=>{l&&this.mask&&(this.mask.style.hidden=!1),p=Date.now(),f=e}));var h=e=>{l&&this.mask&&(this.mask.style.hidden=!0);var t={x:0,y:0};try{t=this.getAbsolutePosition()}catch(e){}var r={x:0,y:0};Array.isArray(e)?r=e.pop():e.x&&e.y&&(r=e);var n={absoluteX:t.left+f.x,absoluteY:t.top+f.y,relativeX:f.x,relativeY:f.y,absoluteEndX:t.left+r.x,absoluteEndY:t.top+r.y,relativeEndX:r.x,relativeEndY:r.y,pressInterval:Date.now()-p};this.emit("click",n)};this.on("touchend",h),this.on("touchcancel",h),this.autoInsert&&this.insert()}toNativeData(){var e=["borderRadius","borderWidth","borderColor","opacity","overflow","fixed","rotate"];"ImageView"===this.type&&e.push("objectFit");var t=e.reduce(((e,t)=>(e[t]=this.computedStyle[t],"borderColor"===t&&(e[t]=(0,i.$v)(this.computedStyle[t])),e)),{});t.bgColor=(0,i.$v)(this.computedStyle.backgroundColor),t.scaleX=this.computedStyle.scaleWidth,t.scaleY=this.computedStyle.scaleHeight;var r={left:this.computedStyle.left,top:this.computedStyle.top,width:this.computedStyle.width,height:this.computedStyle.height};return this.layoutBox&&(r={left:this.layoutBox.left,top:this.layoutBox.top,width:this.layoutBox.width,height:this.layoutBox.height}),this.computedStyle.hidden&&(r.width=0,r.height=0),this.mask&&(this.mask.style.width=r.width,this.mask.style.height=r.height),t.padding=[0,0,0,0],void 0!==t.borderRadius&&t.borderRadius||(t.borderRadius=0),{parentId:this.parentId,dest:this.dest,viewId:this.id,position:r,hide:this.computedStyle.hidden,style:t,notCoverRect:!0,fullscreen:this.fullscreen,zIndex:this.style.zIndex,fixed:t.fixed,independent:this.independent}}insert(){var e=Object.assign(this.toNativeData(),{clickable:"click"===this.eventType,gesture:"touch"===this.eventType,transEvt:!1,sendTo:"appservice",data:JSON.stringify({id:this.id})});return this.isInserted=!0,new Promise(((t,r)=>{(0,n.IN)(`insert${this.type}`,Object.assign(e,{success:e=>{(0,i.cM)(this.name,this.id,"ready"),this.emit("ready"),t(e)},fail:r}))}))}update(){this.shouldUpdate=!1;var e=this.toNativeData();return new Promise(((t,r)=>{(0,n.IN)(`update${this.type}`,Object.assign(e,{success:t,fail:r}))}))}destroy(){super.destroy();var e={dest:this.dest,viewId:this.id};return new Promise(((t,r)=>{(0,n.IN)(`remove${this.type}`,Object.assign(e,{success:t,fail:r}))}))}animate({left:e,top:t,opacity:r,scaleWidth:a,scaleHeight:i,rotate:o=0,duration:s=500}={}){var c={dest:this.dest,viewId:this.id,easing:"ease-in",duration:s,finalStyle:{left:e,top:t,opacity:r,rotate:o,scaleX:a,scaleY:i},independent:this.independent};return new Promise(((e,t)=>{(0,n.IN)("animateCoverView",Object.assign(c,{success:e,fail:t}))})).then((n=>(void 0!==e&&(this.style.left=e),void 0!==t&&(this.style.top=t),void 0!==a&&(this.style.scaleWidth=a),void 0!==i&&(this.style.scaleHeight=i),void 0!==r&&(this.style.opacity=r),void 0!==o&&(this.style.rotate=o),n))).catch((e=>{f.error("animateCoverView fail",e)}))}}},5532:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m,k:()=>v});var n=r(364),a=r(4318),i=r(4770),o=r(5333),s=r(4275),c=r(346),l=["game.weixin.qq.com"],u=new Map,d=new WeakMap,p=e=>e?"updateGameHTMLWebView":"updateHTMLWebView",h=(e,t)=>e&&t?(0,a.qu)(t):a.IN;function g(){return new Promise(((e,t)=>{var r=d.get(this),{style:n,__skipDomainCheck__:a,src:i,zIndex:o,isGameWebview:s,pluginId:c}=r,l=(e=>e?"insertGameHTMLWebView":"insertHTMLWebView")(s);h(s,c)(l,{htmlId:this.id,position:n,src:i,zIndex:o,backgroundColor:n.backgroundColor,__skipDomainCheck__:a,success:e,fail:t})}))}class v extends n.W{constructor({src:e,zIndex:t,style:r={},__skipDomainCheck__:n=!1,isGameWebview:a=!1},i){super({style:r}),u.set(this.id,this);var o={};try{o=(0,c.en)(e)}catch(e){console.error(e)}d.set(this,{src:e,zIndex:t,style:r,urlObj:o,isGameWebview:a,__skipDomainCheck__:n,pluginId:i}),g.call(this),this.isInserted=!0}get src(){var e;return null===(e=d.get(this))||void 0===e?void 0:e.src}set src(e){var t=d.get(this);if(t){t.src=e;var r=p(t.isGameWebview);try{var n=(0,c.en)(e);t.urlObj=n}catch(e){console.error(e)}h(t.isGameWebview,t.pluginId)(r,{htmlId:this.id,src:e})}}get style(){var e;return null===(e=d.get(this))||void 0===e?void 0:e.style}set style(e){var t=d.get(this);if(t&&t.style){var r=t.style;Object.assign(r,e);var n=p(t.isGameWebview),a=h(t.isGameWebview,t.pluginId);this.isInserted&&a(n,{htmlId:this.id,position:r,backgroundColor:r.backgroundColor})}else t?t.style=e:d.set(this,{style:e})}get zIndex(){var e;return null===(e=d.get(this))||void 0===e?void 0:e.zIndex}set zIndex(e){var t=d.get(this);if(t){t.zIndex=e;var r=p(t.isGameWebview);h(t.isGameWebview,t.pluginId)(r,{htmlId:this.id,zIndex:e})}}postMessage(e){var t=d.get(this);return this.isInserted?t&&t.isGameWebview?new Promise(((r,n)=>{var a=p(t.isGameWebview);h(t.isGameWebview,t.pluginId)(a,{htmlId:this.id,evaluateJavascript:"window.onMessage("+JSON.stringify(e)+")",success:r,fail:n})})):t&&!t.isGameWebview?Promise.reject({errMsg:"not support"}):Promise.reject({errMsg:"webview has been destroyed"}):Promise.reject({errMsg:"not inserted"})}destroy(){var e=d.get(this);if(e){var t=e.isGameWebview?"removeGameHTMLWebView":"removeHTMLWebView";u.delete(this.id),d.delete(this),h(e.isGameWebview,e.pluginId)(t,{htmlId:this.id})}}}function m(){return[...u.keys()]}function y({htmlId:e}){var t=u.get(e);t&&t.onload&&setTimeout(t.onload)}function b({name:e,arg:t,htmlId:r}){"postMessage"===e?u.forEach((({onmessage:e},n)=>{r&&r!==n||e&&setTimeout((()=>e(t)))})):0!==e.indexOf("XLogManager.")&&"reportKeyValue"!==e&&"getSDKVersion"!==e||u.forEach(((n,a)=>{var i;if(!r||r===a){var o=u.get(a),s=null===(i=d.get(o))||void 0===i?void 0:i.urlObj;if(s&&l.includes(s.host))if(0===e.indexOf("XLogManager.")){var c=e.split(".")[1];f[c](t)}else"reportKeyValue"===e&&w.reportKeyValue(t)}}))}o.Z.onReady((()=>{(0,s.aI)()&&((0,i.n)("onWebviewFinishLoad",y),(0,i.n)("onWebInvokeAppService",b),(0,i.n)("WEB_INVOKE_APPSERVICE",b))}))},3671:(e,t,r)=>{"use strict";r.d(t,{$v:()=>s,Fr:()=>o,P2:()=>c,cM:()=>n,um:()=>a});var n=()=>{},a=e=>e.split("-").map(((e,t)=>0===t?e:e[0].toUpperCase()+e.slice(1))).join(""),i=Object.assign,o=e=>(t={})=>new Promise(((r,n)=>{e(i(t,{success:r,fail:n}))})),s=e=>{var t=null;return!/^#/.test(e)||7!==e.length&&9!==e.length?null!==(t=/^(rgb|rgba)\((.+)\)/.exec(e))?"#"+t[2].split(",").map(((e,t)=>(e=e.trim(),1===(e=(e=3===t?Math.floor(255*parseFloat(e)):parseInt(e,10)).toString(16)).length&&(e="0"+e),e))).join(""):"#00000000":e},c=function(e,t,r){var n,a,i,o=null,s=0;r||(r={});var c=function(){s=!1===r.leading?0:Date.now(),o=null,i=e.apply(n,a),o||(n=a=null)};return function(){var l=Date.now();s||!1!==r.leading||(s=l);var u=t-(l-s);return n=this,a=arguments,u<=0||u>t?(clearTimeout(o),o=null,s=l,i=e.apply(n,a),o||(n=a=null)):o||!1===r.trailing||(o=setTimeout(c,u)),i}}},2490:(e,t,r)=>{"use strict";r.d(t,{a2:()=>o,pp:()=>s,rc:()=>l});var n=r(6310),a=r(7023),i=null,o=e=>{i=_.surroundThirdByTryCatch(e,"at onShareInvitationToLiveRoom callback function")},s=()=>{i=null},c=(e=3e3)=>new Promise((t=>{setTimeout((()=>{t("time out")}),e)})),l=()=>{var e={};"function"==typeof i&&(e=i(),(0,a.Kn)(e)||(e={}));var{promise:t,onError:r}=e;(0,a.tI)(t)?Promise.race([t,c(3e3)]).then((t=>{if("time out"===t)return _.surroundThirdByTryCatch(r,"at api onShareInvitationToLiveRoom")({errMsg:"promise time out"}),void console.error("onShareInvitationToLiveRoom error: promise time out (3000ms)");e=t,(0,a.Kn)(e)||(e={}),(0,n.Q8)(e,true)})):(0,n.Q8)(e,true)}},1816:(e,t,r)=>{"use strict";r.d(t,{DT:()=>a,JE:()=>o,KR:()=>i});var n=(0,r(5358).s)("GameLiveStateChange"),a=n.internalOnMethod,i=n.internalOffMethod,o=n.emitInternal.bind(n)},8045:(e,t,r)=>{"use strict";r.d(t,{OQ:()=>g,Vh:()=>m});var n=r(1590),a=r(5358),i=r(5333),s=r(4275),c=r(4770),l=r(3435),u=r(2965),d=r(7023),p=r(6299),f=r(7733),h=(0,a.s)("BaseFrameShow"),g=h.internalOnMethod;h.internalOffMethod;function m(e,t){e=e||(0,n.Ir)(),t=t||(0,n.x9)(),w.__query__=e.query,l.Z.query=e.query,l.Z.scene=e.scene,(0,f.LJ)(t),(0,f.e4)(e)}function y(e){l.Z.sceneNote=e.scene_note,h.emitInternal(e)}function b(e=""){var t=e.indexOf("?"),r={};if(t>=0){var n=e.slice(t+1);if(n)try{r=n.split("&").reduce(((e,t)=>{var r=t.split("="),n=r[0],a=r.slice(1).join("=");return e[n]=a,e}),{})}catch(e){r={}}}return r}o.onLoad((()=>{var e,t;(s.gm||s.DD||void 0!==v&&null!==(e=v)&&void 0!==e&&null!==(t=e.isAsync)&&void 0!==t&&t.call(e))&&p.Z.once("onhide",!0)})),(0,c.n)("onAppEnterForeground",((e={})=>{var t=e.path;s.wZ&&(0,d.Kn)(e.query)&&Object.keys(e.query).length>0||t&&(e.query=b(t));var{publicLaunchInfo:r,appLaunchInfo:a}=(0,n.Br)(e);y(a),setTimeout((()=>{!(0,u.b$)()&&p.Z.get("onhide")&&m(r,a)}),0)})),i.Z.onReady((()=>{var e=(0,n.Ir)(),t=(0,n.x9)();w.__query__=e.query,l.Z.query=e.query,l.Z.scene=e.scene,s.gm||(y(t),s.jP?(0,c.n)("onGamejsInjected",(()=>{(0,u.b$)()||m(e,t)})):setTimeout((()=>{(0,u.b$)()||m(e,t)}),0))}))},3507:(e,t,r)=>{"use strict";var n;function a(e){n=e}function i(){return n}r.d(t,{B:()=>i,v:()=>a})},6466:(e,t,r)=>{"use strict";r.d(t,{KK:()=>l,UP:()=>c,Vt:()=>s});var n=r(5517),a=r(7032),i=r(8941),o=!1;function s(){return!(!o&&!(0,n._checkIsInteracting)())}function c(e){return e===l||s()||(0,n._checkIsInteracting)()?Promise.resolve():Promise.reject(new Error("require user interaction (only in touchend event)"))}a.U.on("beforeTouchEnd",(()=>{o=!0})),a.U.on("afterTouchEnd",(()=>{o=!1})),(0,i.vv)((()=>{o=!1}));var l=Symbol("skipTouchEventCheckFlag")},2047:(e,t,r)=>{"use strict";r.d(t,{Bq:()=>n,Gy:()=>a,W0:()=>i});var n="__wx__/functional-page",a={PLAY_PAGE_IMAGE:"play_page_image",PLAY_PAGE_VIDEO:"play_page_video"},i=[1154,1007,1008,1074,1088,1044,1045,1046,1010,1096]},5393:(e,t,r)=>{"use strict";r.d(t,{n:()=>a});var n={},a={get:(e="default")=>n[e],set(e,t="default"){n[t]=e},clear(){n={}}}},2965:(e,t,r)=>{"use strict";r.d(t,{CV:()=>c,Vc:()=>o,b$:()=>d,hk:()=>l,oq:()=>u,uy:()=>f,xF:()=>i});var n=r(5393),a=r(2047);function i({pageType:e="",query:t}={}){var r="";return"string"==typeof t?r=t:t&&"object"==typeof t&&(r=p(t)),`${a.Bq}/${e}?${r.replace(/^\?/,"")}`}function o(e=""){return new RegExp(`^${a.Bq}/(${s()})`).test(e)}function s(){return Object.keys(a.Gy).map((e=>a.Gy[e])).join("|")}function c(e=""){var t=e.indexOf("?"),r="",n="";t>=0?(r=e.slice(0,t),n=e.slice(t+1)):r=e;var i=new RegExp(`^${a.Bq}/(${s()})`),o=e.match(i),c="";return o&&(c=o[1]),{path:r,query:n,functionalPageType:c,isFunctionalPage:!!c}}function l(e){var t={},r=n.n.get();if(r.pageType===a.Gy.PLAY_PAGE_IMAGE){var o=i({pageType:a.Gy.PLAY_PAGE_IMAGE,query:r.query});t={title:r.params.title||e.title,path:o,imageUrl:r.params.imageUrl||r.params.fileUrl,messageExtraData:Object.assign({},r.params,{pageType:a.Gy.PLAY_PAGE_IMAGE}),cardSubType:u(a.Gy.PLAY_PAGE_IMAGE)}}else if(r.pageType===a.Gy.PLAY_PAGE_VIDEO){var s=i({pageType:a.Gy.PLAY_PAGE_VIDEO,query:r.query});t={title:r.params.title||e.title,path:s,imageUrl:r.params.thumbUrl,messageExtraData:Object.assign({},r.params,{pageType:a.Gy.PLAY_PAGE_VIDEO}),cardSubType:u(a.Gy.PLAY_PAGE_VIDEO)}}return t}function u(e){return{[a.Gy.PLAY_PAGE_IMAGE]:0,[a.Gy.PLAY_PAGE_VIDEO]:1}[e]}function d(){return!!n.n.get()}function p(e={}){var t=Object.keys(e).reduce(((t,r)=>`${t}${r}=${e[r]}&`),"");return t=t.replace(/&$/,"")}function f(e,t="index.html"){var r="";return"string"==typeof e?r=e:e&&"object"==typeof e&&(r=p(e)),t+"?"+r}},9468:(e,t,r)=>{"use strict";r.d(t,{n:()=>E});var n,a,i,o,s,c=r(5333),l=r(7766),u=r(373),d=r(1328);!function(e){e.devtools="devtools",e.android="android",e.ios="ios",e.windows="windows",e.mac="mac"}(n||(n={})),function(e){e.portrait="portrait",e.landscape="landscape",e.landscapeLeft="landscapeLeft",e.landscapeRight="landscapeRight"}(a||(a={})),function(e){e.DEVELOP="develop",e.TRIAL="trial",e.RELEASE="release"}(i||(i={})),function(e){e[e.release=1]="release",e[e.develop=2]="develop",e[e.trial=3]="trial"}(o||(o={})),function(e){e[e.Android=0]="Android",e[e.IOSJscore=1]="IOSJscore",e[e.IOSWK=2]="IOSWK",e[e.UnKnow=3]="UnKnow",e[e.PC=4]="PC",e[e.Devtools=5]="Devtools",e[e.IPadJscore=6]="IPadJscore",e[e.IPadWK=7]="IPadWK"}(s||(s={}));class p extends d.ZP{constructor({reportFunc:e,logid:t,schemas:r={},base:n,reportType:a,asyncGetBase:i=(()=>Promise.resolve({})),debug:o,namespace:s=""}){super({logid:t,schemas:r,base:n,debug:o,namespace:s}),this.reportType=d.C2.SvrReport,this.asyncGetBase=i,e||console.error(`[minigamefe${this.namespace}GameTransferReport]: 未传入上报函数。`),this.reportFunc=e,void 0!==a&&(this.reportType=a)}setKvStatBase(e,t){if(this.reportType===d.C2.KvStat){var r=(e.system||"").split(" ");Object.assign(this.schemas,{DeviceModel:d.QD.STRING,DeviceBrand:d.QD.STRING,OsName:d.QD.STRING,OsVersion:d.QD.STRING,LanguageVersion:d.QD.STRING,Count:d.QD.UINT,AppId:d.QD.STRING,AppVersion:d.QD.UINT,AppState:d.QD.UINT}),this.setBase({DeviceModel:e.model||"",DeviceBrand:e.brand||"",OsName:r[0]||"",OsVersion:r[1]||"",LanguageVersion:e.language||"",Count:1}),(null==t?void 0:t.miniProgram)&&this.setBase({AppState:o[t.miniProgram.envVersion]||o.release,AppId:t.miniProgram.appId,AppVersion:0})}}send(e,t){if(this.reportFunc&&"function"==typeof this.reportFunc){var r,n=[],a=this.logid;r=Array.isArray(e)?e:[e],this.asyncGetBase().then((e=>{this.setBase(e),r.forEach((e=>{var t=Object.assign(Object.assign({},this.base),e);if(t.ExternInfo&&"object"==typeof t.ExternInfo&&this.schemas.ExternInfo===d.QD.STRING&&(t.ExternInfo=encodeURIComponent(JSON.stringify(t.ExternInfo))),this.validate(t),this.reportType===d.C2.KvStat){var r=Math.floor(Date.now()/1e3);Object.assign(t,{StartTime:r,EndTime:r})}var i={log_id:this.logid,custom_data:t};n.push(i),this.debug&&console.log(`[minigamefe${this.namespace}GameTransferReport]: ${a},`,t)}));var i={report_list:n};this.reportFunc({req_path:"comm_datareport",json_data:JSON.stringify(i),success(){t&&t(a,JSON.stringify(i))},fail(e){console.error(e),t&&t(a,(0,u.bV)(e))}})}))}else console.error("[minigamefe GameTransferReport]: 未传入上报函数!!!")}}class f extends d.ZP{constructor({reportFunc:e,logid:t,schemas:r={},base:n,debug:a,namespace:i,asyncGetBase:o=(()=>Promise.resolve({})),reportType:s}){super({logid:t,schemas:r,base:n,debug:a,namespace:i}),this.reportType=d.C2.SvrReport,this.reportFunc=e,e||console.error(`[minigamefe${this.namespace}RequestReport]: 未传入上报函数。`),this.asyncGetBase=o,void 0!==s&&(this.reportType=s)}setKvStatBase(e,t){if(this.reportType===d.C2.KvStat){var r=(e.system||"").split(" ");Object.assign(this.schemas,{DeviceModel:d.QD.STRING,DeviceBrand:d.QD.STRING,OsName:d.QD.STRING,OsVersion:d.QD.STRING,LanguageVersion:d.QD.STRING,Count:d.QD.UINT,AppId:d.QD.STRING,AppVersion:d.QD.UINT,AppState:d.QD.UINT}),this.setBase({DeviceModel:e.model||"",DeviceBrand:e.brand||"",OsName:r[0]||"",OsVersion:r[1]||"",LanguageVersion:e.language||"",Count:1}),(null==t?void 0:t.miniProgram)&&this.setBase({AppState:o[t.miniProgram.envVersion]||o.release,AppId:t.miniProgram.appId,AppVersion:0})}}send(e,t){if(this.reportFunc&&"function"==typeof this.reportFunc){var r,n=[],a=this.logid;r=Array.isArray(e)?e:[e],this.asyncGetBase().then((e=>{this.setBase(e),r.forEach((e=>{var t=Object.assign(Object.assign({},this.base),e);this.validate(t);var r={log_id:a,custom_data:t};n.push(r)}));var i=JSON.stringify({report_list:n});this.debug&&console.log(`[minigamefe${this.namespace}RequestReport]: ${a}`,...n),this.reportFunc({url:"https://game.weixin.qq.com/cgi-bin/comm/datareport",method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:i,success(){t&&t(a,JSON.stringify(i))},fail(e){console.error(e),t&&t(a,(0,u.bV)(e))}})}))}else console.error("[minigamefe RequestReport]: 未传入上报函数!!!")}}var h=["BenchmarkLevel","NetworkType","RuntimeType","PluginAppId","PluginVersion","Scene","SDKVersion","IsVisible","Type","Target","Params","Result","CostTime","ExternInfo","CustomKey1","CustomKey2","CustomKey3","IsError","FELibVersion"],g={BenchmarkLevel:d.QD.UINT,NetworkType:d.QD.STRING,RuntimeType:d.QD.UINT,PluginAppId:d.QD.STRING,PluginVersion:d.QD.STRING,Scene:d.QD.UINT,SDKVersion:d.QD.STRING,IsVisible:d.QD.UINT,Type:d.QD.UINT,Target:d.QD.STRING,Params:d.QD.STRING,Result:d.QD.STRING,CostTime:d.QD.UINT,ExternInfo:d.QD.STRING,CustomKey1:d.QD.STRING,CustomKey2:d.QD.STRING,CustomKey3:d.QD.STRING,IsError:d.QD.UINT,FELibVersion:d.QD.STRING},v=r(7486);function m(e,t){var r=e||"";if((0,u.Kn)(r))try{r=JSON.stringify(r)}catch(e){console.error(`[minigamefe stringify error]: ${e}`),r=""}else r=String(r);return r.length&&r.length>=1024&&(r="",console.warn(`[minigamefe stringify warning]: ${t} 上报长度超过1024, 已置空`)),r}class y{constructor(e){var t,a;this.benchmarkLevel=0,this.network="",this.runtimeType=s.UnKnow,this.sdkVersion="0.0.0",this.isVisible=v.Xu.Front,this.scene=0,this.query="",this.pluginAppId="",this.pluginVersion="",this.inited=!1;var{systemInfo:i,launchInfo:o,onShow:c,onHide:u,pluginAppId:m="",pluginVersion:y=""}=e;if(!c||!u)return console.error("[minigamefe stringify warning]: please inject QualityConfig correctly"),void(this.inited=!1);this.inited=!0,this.onShow=c,this.onHide=u,this.benchmarkLevel=i.benchmarkLevel+100,this.sdkVersion=i.SDKVersion,this.launchInfo=o,this.scene=null===(t=this.launchInfo)||void 0===t?void 0:t.scene,this.query=encodeURIComponent(JSON.stringify(null===(a=this.launchInfo)||void 0===a?void 0:a.query)),this.runtimeType=function(e){var t,a,i=s.UnKnow;return e.platform===n.devtools?i=s.Devtools:e.platform===n.ios?(i=(null===(t=r.g)||void 0===t?void 0:t.isIOSHighPerformanceMode)?s.IOSWK:s.IOSJscore,e.model.indexOf("iPad")>-1&&(i=(null===(a=r.g)||void 0===a?void 0:a.isIOSHighPerformanceMode)?s.IPadWK:s.IPadJscore)):e.platform===n.android?i=s.Android:e.platform===n.windows&&(i=s.PC),i}(i),this.pluginAppId=m,this.pluginVersion=y,this.bindNativeEvent(),this.reporter=function(e){var t,{type:r=v.ql.KeyValueReport,reportKeyValue:n,debug:a,gameTransfer:i,systemInfo:o,accountInfo:s,getNetworkType:c,onNetworkStatusChange:u,request:m,namespace:y}=e,b="";function _(){return new Promise((e=>{b?e({NetworkType:b}):c({success:t=>{b=t.networkType,e({NetworkType:b})},fail:()=>{e({NetworkType:b="unknown"})}})}))}return r===v.ql.KeyValueReport?t=new l.Z({reportFunc:n,logid:26340,schemas:g,protocolParams:h,debug:a,namespace:y,asyncGetBase:_}):r===v.ql.GameTransferReport?(t=new p({reportFunc:i,logid:26340,schemas:g,reportType:d.C2.KvStat,debug:a,namespace:y,asyncGetBase:_})).setKvStatBase(o,s):(console.warn("[minigamefe]: 当前选择 reqeust 进行质量上报, 请自行确保兼容性"),(t=new f({reportFunc:m,logid:26340,schemas:g,debug:a,namespace:y,asyncGetBase:_,reportType:d.C2.KvStat})).setKvStatBase(o,s)),r!==v.ql.GameTransferReport&&r!==v.ql.WxRequestReport||(0,d.Mi)((e=>{b=e,t.setBase({NetworkType:e})}),c,u),t}(e),this.reporter.setBase({BenchmarkLevel:this.benchmarkLevel,RuntimeType:this.runtimeType,Scene:+this.scene,SDKVersion:this.sdkVersion,IsVisible:this.isVisible,PluginAppId:m,PluginVersion:y,FELibVersion:"1.1.15"})}bindNativeEvent(){this.onHide((()=>{this.isVisible=v.Xu.Background,this.reporter.setBase({IsVisible:this.isVisible})})),this.onShow((()=>{this.isVisible=v.Xu.Front}))}innerReport(e){this.reporter.send(Object.assign(e,{CostTime:(0,u.hj)(e.CostTime)?e.CostTime:0,Params:m(e.Params,"Params"),Result:m(e.Result,"Result"),ExternInfo:m(e.ExternInfo,"ExternInfo")}))}report(e){v.EM.indexOf(e.Type)>-1&&console.error(`[minigamefe quality report]: 若为自定义上报, Type 请不要使用内置枚举值 ${e.Type}, 内置枚举可见 mgp.consts.ReportType`),this.inited&&this.innerReport(e)}setCustomKey(e){this.inited&&this.reporter.setBase({CustomKey1:e.CustomKey1&&m(e.CustomKey1,"CustomKey1")||"",CustomKey2:e.CustomKey2&&m(e.CustomKey2,"CustomKey2")||"",CustomKey3:e.CustomKey3&&m(e.CustomKey3,"CustomKey3")||""})}clearCustomKey(){this.inited&&this.reporter.setBase({CustomKey1:"",CustomKey2:"",CustomKey3:""})}}var b=r(8013),_=r(1590),w=r(1211),I=r(7485),S=r(7733),k=r(8941),C=r(3365),T=r(9512);class E{constructor(e){this.quality=void 0,this.inited=!1,this.initPromise=void 0,this.initPromise=this.initQuality(e)}initQuality(e){return new Promise((t=>{c.Z.onReady((()=>{this.inited=!0,this.quality=new y({debug:!1,type:v.ql.KeyValueReport,pluginAppId:e.pluginAppId||"wxapplib",pluginVersion:e.pluginVersion||"1.0.0",launchInfo:(0,_.Ir)(),accountInfo:(0,I.E)(),systemInfo:(0,w.getSystemInfoSync)(),onShow:S.dN,onHide:k.vv,getNetworkType:b.getNetworkType,onNetworkStatusChange:b.onNetworkStatusChange,gameTransfer:C.i,reportKeyValue:T.G}),t(this.quality)}))}))}report(e){this.inited?this.quality.report(e):this.initPromise.then((()=>{this.quality.report(e)}))}}new E({})},4730:(e,t,r)=>{"use strict";r.d(t,{v:()=>c});var n=r(5333),a=r(1328),i=r(7766),o=r(8013),s=1;class c extends i.Z{constructor(){super({reportFunc:w.reportKeyValue,logid:"GameAdsSkipCard",debug:!1,protocolParams:["NetworkType","SSID","ToUin","SceneID","UIArea","PositionID","ActionID","ActionStatus","OpType","Object","Status","SourceID","Allpath","ExpID","LogType","ErrType","Time","FuncType","FuncID","ContentType","ContentID","ReasonID","ExternInfo"],schemas:{AppId:a.QD.STRING,NetworkType:a.QD.STRING,SSID:a.QD.UINT,ToUin:a.QD.STRING,SceneID:a.QD.LONGLONG,UIArea:a.QD.LONGLONG,PositionID:a.QD.LONGLONG,ActionID:a.QD.LONGLONG,ActionStatus:a.QD.STRING,OpType:a.QD.LONGLONG,Object:a.QD.STRING,Status:a.QD.STRING,SourceID:a.QD.LONGLONG,Allpath:a.QD.STRING,ExpID:a.QD.LONGLONG,Time:a.QD.LONGLONG,FuncType:a.QD.LONGLONG,FuncID:a.QD.STRING,ReasonID:a.QD.LONGLONG,ExternInfo:a.QD.STRING,ErrType:a.QD.STRING},base:{SceneID:36}}),1!==s?this.setBase({NetworkType:s}):n.Z.onReady((()=>{(0,a.Mi)((e=>{a.XN[e]&&(s=a.XN[e]),this.setBase({NetworkType:s})}),o.getNetworkType,o.onNetworkStatusChange)}))}}},2036:(e,t,r)=>{"use strict";r.d(t,{I:()=>l,V:()=>c});var n=r(9097),a=r.n(n),i=r(5333),o=r(6459),s=r(7023);function c(e,t={},r=!1){var n,{pluginId:c,contexts:l,path:u}=(e=>{var t=e.match(/([^/]*)\/?(.*)/);if(!t||t.length<2)throw new Error(`Plugin "${e}" has not registered.`);var r=t[1],n=t[2],a=i.Z.plugins||i.Z.gamePlugins,o=a&&a[r];if(void 0===o)throw new Error(`Plugin "${e}" has not registered.`);return{pluginId:o.provider,contexts:o.contexts,alias:r,path:n}})(e),d=`__plugin__/${c}`+(u?`/${u}`:"");if(((e=[])=>e.some((e=>"isolatedContext"===e.type)))(l)){var p=(0,o.d)(c,a()(a()({},t),{},{subContext:r}));p.subContext=r,p.host=i.Z.accountInfo.appId,n=b.createIsolatedGamePlugin({provider:c,secure:!0,env:p,subContext:r,isPreload:!1})}else if(!r&&(e=>!e||e.some((e=>"gameContext"===e.type)))(l))n=b.getGameContext().contextGlobal.__require;else{if(!r||!(e=>e.some((e=>"openDataContext"===e.type)))(l))throw new Error(`invalid context type: ${(0,s.e6)(l)}`);n=b.getGameOpenDataContext().contextGlobal.__require}return n(d)}function l(e,t){return c(e,t)}},6459:(e,t,r)=>{"use strict";r.d(t,{d:()=>_e,Q:()=>we});var a,i=r(7547),o=r.n(i),s=r(5333),c=r(9629),l=r(4318),u=r(9512),d=r(619),p=r(1770),h=r(3249),g=r(3950),v=r(5738),m=r(557),y=r(6509),_=r(5739),I=r(8940),S=r(6104),k=r(2099),C=r(9317),T=(0,l.TG)("getGameLifeProfile","webapi_getgamelifeprofile",(e=>JSON.parse(JSON.stringify(e)))),E=(0,l.TG)("getGreetingControlInfo","webapi_getgreetingcontrolinfo",(e=>JSON.parse(JSON.stringify(e)))),A=(0,l.TG)("interactGameLifeTag","webapi_interactgamelifetag",(e=>JSON.parse(JSON.stringify(e)))),P=r(2105),x=r(1904),M=r(1673),R=r(5273),D=r(1404),L=r(8052),N=r(7371),O=r(3365),B=r(2791),j=r(7835),F={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}}},U="undefined"==typeof self&&"undefined"!=typeof process&&process.hrtime?function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:"undefined"!=typeof self&&void 0!==self.performance&&void 0!==self.performance.now?self.performance.now.bind(self.performance):void 0!==Date.now?Date.now:function(){return(new Date).getTime()},W=function(){function e(){this._tweens={},this._tweensAddedDuringUpdate={}}return e.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map((function(t){return e._tweens[t]}))},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},e.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},e.prototype.update=function(e,t){void 0===e&&(e=U()),void 0===t&&(t=!1);var r=Object.keys(this._tweens);if(0===r.length)return!1;for(;r.length>0;){this._tweensAddedDuringUpdate={};for(var n=0;n<r.length;n++){var a=this._tweens[r[n]],i=!t;a&&!1===a.update(e,i)&&!t&&delete this._tweens[r[n]]}r=Object.keys(this._tweensAddedDuringUpdate)}return!0},e}(),G={Linear:function(e,t){var r=e.length-1,n=r*t,a=Math.floor(n),i=G.Utils.Linear;return t<0?i(e[0],e[1],n):t>1?i(e[r],e[r-1],r-n):i(e[a],e[a+1>r?r:a+1],n-a)},Bezier:function(e,t){for(var r=0,n=e.length-1,a=Math.pow,i=G.Utils.Bernstein,o=0;o<=n;o++)r+=a(1-t,n-o)*a(t,o)*e[o]*i(n,o);return r},CatmullRom:function(e,t){var r=e.length-1,n=r*t,a=Math.floor(n),i=G.Utils.CatmullRom;return e[0]===e[r]?(t<0&&(a=Math.floor(n=r*(1+t))),i(e[(a-1+r)%r],e[a],e[(a+1)%r],e[(a+2)%r],n-a)):t<0?e[0]-(i(e[0],e[0],e[1],e[1],-n)-e[0]):t>1?e[r]-(i(e[r],e[r],e[r-1],e[r-1],n-r)-e[r]):i(e[a?a-1:0],e[a],e[r<a+1?r:a+1],e[r<a+2?r:a+2],n-a)},Utils:{Linear:function(e,t,r){return(t-e)*r+e},Bernstein:function(e,t){var r=G.Utils.Factorial;return r(e)/r(t)/r(e-t)},Factorial:(a=[1],function(e){var t=1;if(a[e])return a[e];for(var r=e;r>1;r--)t*=r;return a[e]=t,t}),CatmullRom:function(e,t,r,n,a){var i=.5*(r-e),o=.5*(n-t),s=a*a;return(2*t-2*r+i+o)*(a*s)+(-3*t+3*r-2*i-o)*s+i*a+t}}},V=function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e}(),$=new W,q=function(){function e(e,t){void 0===t&&(t=$),this._object=e,this._group=t,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=F.Linear.None,this._interpolationFunction=G.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=V.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.to=function(e,t){return this._valuesEnd=Object.create(e),void 0!==t&&(this._duration=t),this},e.prototype.duration=function(e){return this._duration=e,this},e.prototype.start=function(e){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed)for(var t in this._reversed=!1,this._valuesStartRepeat)this._swapEndStartRepeatValues(t),this._valuesStart[t]=this._valuesStartRepeat[t];return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=void 0!==e?"string"==typeof e?U()+parseFloat(e):e:U(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},e.prototype._setupProperties=function(e,t,r,n){for(var a in r){var i=e[a],o=Array.isArray(i),s=o?"array":typeof i,c=!o&&Array.isArray(r[a]);if("undefined"!==s&&"function"!==s){if(c){var l=r[a];if(0===l.length)continue;l=l.map(this._handleRelativeValue.bind(this,i)),r[a]=[i].concat(l)}if("object"!==s&&!o||!i||c)void 0===t[a]&&(t[a]=i),o||(t[a]*=1),n[a]=c?r[a].slice().reverse():t[a]||0;else{for(var u in t[a]=o?[]:{},i)t[a][u]=i[u];n[a]=o?[]:{},this._setupProperties(i,t[a],r[a],n[a])}}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},e.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},e.prototype.pause=function(e){return void 0===e&&(e=U()),this._isPaused||!this._isPlaying||(this._isPaused=!0,this._pauseStart=e,this._group&&this._group.remove(this)),this},e.prototype.resume=function(e){return void 0===e&&(e=U()),this._isPaused&&this._isPlaying?(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this):this},e.prototype.stopChainedTweens=function(){for(var e=0,t=this._chainedTweens.length;e<t;e++)this._chainedTweens[e].stop();return this},e.prototype.group=function(e){return this._group=e,this},e.prototype.delay=function(e){return this._delayTime=e,this},e.prototype.repeat=function(e){return this._initialRepeat=e,this._repeat=e,this},e.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},e.prototype.yoyo=function(e){return this._yoyo=e,this},e.prototype.easing=function(e){return this._easingFunction=e,this},e.prototype.interpolation=function(e){return this._interpolationFunction=e,this},e.prototype.chain=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._chainedTweens=e,this},e.prototype.onStart=function(e){return this._onStartCallback=e,this},e.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},e.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},e.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},e.prototype.onStop=function(e){return this._onStopCallback=e,this},e.prototype.update=function(e,t){if(void 0===e&&(e=U()),void 0===t&&(t=!0),this._isPaused)return!0;var r,n,a=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(e>a)return!1;t&&this.start(e)}if(this._goToEnd=!1,e<this._startTime)return!0;!1===this._onStartCallbackFired&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),n=(e-this._startTime)/this._duration,n=0===this._duration||n>1?1:n;var i=this._easingFunction(n);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,i),this._onUpdateCallback&&this._onUpdateCallback(this._object,n),1===n){if(this._repeat>0){for(r in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat)this._yoyo||"string"!=typeof this._valuesEnd[r]||(this._valuesStartRepeat[r]=this._valuesStartRepeat[r]+parseFloat(this._valuesEnd[r])),this._yoyo&&this._swapEndStartRepeatValues(r),this._valuesStart[r]=this._valuesStartRepeat[r];return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=e+this._repeatDelayTime:this._startTime=e+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var o=0,s=this._chainedTweens.length;o<s;o++)this._chainedTweens[o].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},e.prototype._updateProperties=function(e,t,r,n){for(var a in r)if(void 0!==t[a]){var i=t[a]||0,o=r[a],s=Array.isArray(e[a]),c=Array.isArray(o);!s&&c?e[a]=this._interpolationFunction(o,n):"object"==typeof o&&o?this._updateProperties(e[a],i,o,n):"number"==typeof(o=this._handleRelativeValue(i,o))&&(e[a]=i+(o-i)*n)}},e.prototype._handleRelativeValue=function(e,t){return"string"!=typeof t?t:"+"===t.charAt(0)||"-"===t.charAt(0)?e+parseFloat(t):parseFloat(t)},e.prototype._swapEndStartRepeatValues=function(e){var t=this._valuesStartRepeat[e],r=this._valuesEnd[e];this._valuesStartRepeat[e]="string"==typeof r?this._valuesStartRepeat[e]+parseFloat(r):this._valuesEnd[e],this._valuesEnd[e]=t},e}(),z=V.nextId,Z=$,H=Z.getAll.bind(Z),K=Z.removeAll.bind(Z),J=Z.add.bind(Z),Y=Z.remove.bind(Z),Q=Z.update.bind(Z),X={Easing:F,Group:W,Interpolation:G,now:U,Sequence:V,nextId:z,Tween:q,VERSION:"18.6.4",getAll:H,removeAll:K,add:J,remove:Y,update:Q},ee=r(1344),te=r(418);var re=r(1702),ne=r(4770),ae=new re.Q("Gamelife");(0,ne.n)("onGameLifeMsg",(e=>{ae.emit("onGameLifeMsg",e)}));var ie=r(5737),oe=new re.Q("WebRTC");(0,ne.n)("onWebRTCLoadedMetaData",(e=>{oe.emit("onWebRTCLoadedMetaData",e)}));var se=r(9636),ce=r(2036),le=(e={})=>{(0,l.IN)("setFileSpaceStatistics",e)},ue=r(7032),de=r(1430),pe=r(2400),fe={Component:N.wA,getPrivateThis:N.Wj,removePrivateThis:N.bn,create:N.Ue,init:N.S1,webviewLayout:L.uo,nativeviewLayout:L._w,xmlParser:o()},he={getUserCloudStorage:h.u,getFriendCloudStorage:g.l,getGroupCloudStorage:v.q,getPotentialFriendList:m.e,getGroupInfo:y.y,shareMessageToFriend:_.N,getUserCloudStorageKeys:S.r,modifyFriendInteractiveStorage:k.Fc},ge=["openChannelsLive","insertWebRTCRendererView","updateWebRTCRendererView","removeWebRTCRendererview","isOpenSR","isSupportSR","requestSRFile"],ve={Kanata:null,wxGA:null,get __wxSourceMapRetrace__(){return"function"==typeof __wxSourceMapRetrace__?__wxSourceMapRetrace__:void 0},reportIDKey:({id:e,key:t,value:r})=>w.reportIDKey({id:e,key:t,value:r}),reportKeyValue:u.G,getXLogManager:()=>f,getUserInfo:I.b,WebAssembly:C.J,getGameLifeProfile:T,getGreetingControlInfo:E,interactGameLifeTag:A,openGameLifeAccountInfo:P.wH,openGameLifeMiniGameTransfer:P.bo,Function:n.prototype.constructor,createCanvas:(...e)=>(0,M.ED)(...e),createScreenCanvas:(...e)=>(0,M.UG)(...e),createWebView:e=>t=>new L.kh(t,e),navigateToMiniProgramDirectly:e=>(0,x.iy)(e,e),privateOpenUrl:D.n8,gamelifeManager:function(e={}){(0,l.IN)("gamelifeManager",e)},getGameLifeRedCount:function(e={}){(0,l.IN)("getGameLifeRedCount",e)},onGameLifeMsg:function(e){ae.on("onGameLifeMsg",e)},offGameLifeMsg:function(e){ae.off("onGameLifeMsg",e)},getABTestConfig:function(e={}){(0,l.IN)("getABTestConfig",e)},gameTransfer:O.z,coverview:fe,launchApplicationDirectly:B.dx,encode:j.c,decode:j.J,PIXI:null,TWEEN:X,onStoreEmoticonSelect:ee.Ej,offStoreEmoticonSelect:ee.lj,onKeyboardHeightChange:ee.LK,offKeyboardHeightChange:ee.M2,showUserGrantInfoModal:te.rL,createScreenCanvas2:null,clearCreateCanvas:!0,getSelfUserInfo:ie.N,onWebRTCLoadedMetaData:function(e){oe.on("onWebRTCLoadedMetaData",e)},offWebRTCLoadedMetaData:function(e){oe.off("onWebRTCLoadedMetaData",e)},requestSubscribeSystemMessage:se.B,requirePlugin:ce.I,transformFakePath2RealPath:ue.d4,getPrivateFileSystemManager:de.Bg},me={createWebView:e=>t=>new L.kh(t,e),requestSubscribeSystemMessage:se.B,getPrivateFileSystemManager:e=>()=>(0,de.Bg)(e)},ye={};s.Z.onReady((()=>{var e=(0,d.J)("engineOpenData");Object.assign(ve,e?he:{})}));var be=e=>{if(ye[e])return ye[e];var t=(0,p.vC)(e),r={platform:s.Z.platform},n=!1,a=function(a){var i=p.jC[a],o=t[i];if("wx20afc706a711eefc"===e||"wx4d5893418b75cb20"===e||o){if("createCanvas"===a&&(0,R.I)(!0),"createScreenCanvas2"===a&&(a="createScreenCanvas"),a in me&&(ve[a]=me[a](e)),a in he&&((0,R.I)(!0),n=!0),["PIXI","wxGA","Kanata"].includes(a))return Object.defineProperty(r,a,{get:()=>({PIXI:PIXI,wxGA:wxGA,Kanata:_Kanata}[a])}),"continue";r[a]=ve[a]}};for(var i in ve)a(i);return r.clearCreateCanvas&&(delete r.clearCreateCanvas,delete r.createCanvas,!n&&(0,R.$)()&&(0,R.I)(!1)),"wx2ea687f4258401a9"!==e&&"wxfc466bb0d1a16d17"!==e||(r.NativeGlobal=c.Z),"wxe5a48f1ed5f544b7"===e&&(r.setFileSpaceStatistics=le,r.instanceId=s.Z.instanceId,r.createBufferURLAsync=pe.j_),ye[e]=r,ye[e]},_e=(e,{enableRequireHostModule:t,customEnv:r,subContext:n})=>{var a=be(e);return ge.forEach((t=>{a[t]=r=>{(0,l.qu)(e)(t,r)}})),a.customEnv=r,t&&(a.requireHostModule=n?b.getGameOpenDataContext().contextGlobal.__require:b.getGameContext().contextGlobal.__require),a},we=()=>{var e=s.Z.plugins||s.Z.gamePlugins;e&&Object.keys(e).forEach((t=>{var r=e[t].provider;be(r)}))}},1444:(e,t,r)=>{"use strict";r.d(t,{F0:()=>o,az:()=>l,y4:()=>u});var n=r(4318),a=r(7023),i=r(5532),o={EVENT_CANVAS_BEFORE_SHARE:1,EVENT_CANVAS_AFTER_SHARE_SUCCESS:2,EVENT_CANVAS_AFTER_SHARE_CANCEL:3,EVENT_CANVAS_BEFORE_ADS:4,EVENT_CANVAS_ADS_FIN:5,EVENT_CANVAS_ADS_CANCEL:6,EVENT_CANVAS_BEFORE_JUMP_TO_APP:7,EVENT_CANVAS_BEFORE_PAY:8,EVENT_CANVAS_BEFORE_JUMP_TO_CUSTOMER_SERVICE:9,EVENT_CANVAS_BEFORE_CLOSE_CUSTOMER_SERVICE:10,EVENT_CANVAS_BEFORE_QR_CODE:11,EVENT_CANVAS_BEFORE_MORE:12,EVENT_CANVAS_BEFORE_GAME_ClUB:13,EVENT_CANVAS_AFTER_MODAL:14,EVENT_CANVAS_BEFORE_NORMAL_EXIT:15,EVENT_CANVAS_SAMPLE_BY_TIME:16,EVENT_CANVAS_WEBVIEW_TIMING:17,EVENT_CANVAS_WEBVIEW_BEFORE_JUMP:18},s={sampleEventList:[]},c=new Map;function l(){(0,n.jQ)("onCanvasReportEventSampleConfigReceived",(e=>{var t=JSON.parse(e.keyEventSampleConfig);Array.isArray(t.sample_event_list)&&(s.sampleEventList=t.sample_event_list,s.sampleEventList.forEach((e=>{c.set(e,0)})),function(){var e=s.sampleEventList.find((e=>e.event===o.EVENT_CANVAS_SAMPLE_BY_TIME));if(e){var t=6e3,r=6,n=0;(0,a.hj)(e.sample_interval_seconds)&&(t=1e3*e.sample_interval_seconds),(0,a.hj)(e.sample_cnt)&&(r=e.sample_cnt),setTimeout((()=>{u(o.EVENT_CANVAS_SAMPLE_BY_TIME),n++}),1e3);var i=setInterval((()=>{n>r?clearInterval(i):setTimeout((()=>{u(o.EVENT_CANVAS_SAMPLE_BY_TIME),n++}),500)}),t)}}(),function(){var e=s.sampleEventList.find((e=>e.event===o.EVENT_CANVAS_WEBVIEW_TIMING));if(e){var t=6e3,r=6,n=0;(0,a.hj)(e.sample_interval_seconds)&&(t=1e3*e.sample_interval_seconds),(0,a.hj)(e.sample_cnt)&&(r=e.sample_cnt),setTimeout((()=>{(0,i.Z)().forEach((e=>{u(o.EVENT_CANVAS_WEBVIEW_TIMING,e)})),n++}),1e3);var c=setInterval((()=>{n>r?clearInterval(c):setTimeout((()=>{(0,i.Z)().forEach((e=>{u(o.EVENT_CANVAS_WEBVIEW_TIMING,e)})),n++}),500)}),t)}}())})),(0,n.jQ)("onStartReportCanvasData",(({event:e})=>{e===o.EVENT_CANVAS_WEBVIEW_BEFORE_JUMP?(0,i.Z)().forEach((t=>{u(e,t)})):u(e)}))}function u(e,t){var r=function(e){return s.sampleEventList.find((t=>e===t.event))}(e);if(r){var a=Date.now(),i=c.get(r);if(r.sample_interval_seconds,(a-i)/1e3<r.sample_interval_seconds)return;(0,n.IN)("reportCanvasData",{eventInfo:JSON.stringify(r),viewId:t>0?t:0,success(){c.set(r,a)},fail({errMsg:e}){}})}}},418:(e,t,r)=>{"use strict";r.d(t,{Vw:()=>n,eu:()=>y,rL:()=>v});var n,a,i,o,s,c=r(3888),l=r.n(c),u=r(8013),d=r(5333),p=r(9011),h=r(3365);!function(e){e[e.USER_ACTION_LOGIN=0]="USER_ACTION_LOGIN",e[e.USER_ACTION_APPLY_HEADIMG_NICKNAME=1]="USER_ACTION_APPLY_HEADIMG_NICKNAME",e[e.USER_ACTION_CLICK_CHAT_RANK_TAB=2]="USER_ACTION_CLICK_CHAT_RANK_TAB",e[e.USER_ACTION_APPLY_CHAT_SELF_RANK=3]="USER_ACTION_APPLY_CHAT_SELF_RANK"}(n||(n={})),function(e){e[e.WXAG_GAME_LOGIN_STATUS_GRANT_UKNOWN=0]="WXAG_GAME_LOGIN_STATUS_GRANT_UKNOWN",e[e.WXAG_GAME_LOGIN_STATUS_GRANT_ALL=1]="WXAG_GAME_LOGIN_STATUS_GRANT_ALL",e[e.WXAG_GAME_LOGIN_STATUS_GRANT_ONLY_ME=2]="WXAG_GAME_LOGIN_STATUS_GRANT_ONLY_ME"}(a||(a={})),function(e){e[e.WXAG_GAME_ACCOUNT_STATUS_GRANT_UNKNOWN=0]="WXAG_GAME_ACCOUNT_STATUS_GRANT_UNKNOWN",e[e.WXAG_GAME_ACCOUNT_STATUS_GRANT_ALL=1]="WXAG_GAME_ACCOUNT_STATUS_GRANT_ALL",e[e.WXAG_GAME_ACCOUNT_STATUS_GRANT_ONLY_ME=2]="WXAG_GAME_ACCOUNT_STATUS_GRANT_ONLY_ME",e[e.WXAG_GAME_ACCOUNT_STATUS_GRANT_DENY=3]="WXAG_GAME_ACCOUNT_STATUS_GRANT_DENY"}(i||(i={})),function(e){e[e.GAME_GRANT_SUBMIT_APPROVE=1]="GAME_GRANT_SUBMIT_APPROVE",e[e.GAME_GRANT_SUBMIT_DENY=2]="GAME_GRANT_SUBMIT_DENY"}(o||(o={})),function(e){e[e.GAME_INTERFACE_ITEM_ID_RELATION=1]="GAME_INTERFACE_ITEM_ID_RELATION",e[e.GAME_INTERFACE_ITEM_ID_ACCOUNT=2]="GAME_INTERFACE_ITEM_ID_ACCOUNT"}(s||(s={}));var g=null;function v(e,t,r=!1){if(null===g){var n=r?1:2,a=e.body.item_list.flatMap((({status_list:e})=>e)),i=Object.fromEntries(a.map((({item_status_name:e,item_status_value:t})=>[t,e]))),c=Object.fromEntries(t.map((({item_id:e,item_status_value:t})=>[e,t])));__sclEngine__.initScl((t=>{S({UIArea:0,PositionID:0,ActionID:1,ExternInfo:{source:n}}),(g=t.mainRoot.append("game-grant-info",{config:e,infoMap:c,statusMap:i})).addListener("back",(()=>{g&&(S({UIArea:4502,PositionID:2,ActionID:2,FuncID:g.data.selectItemId,ExternInfo:{source:n}}),g.setData({show:!1}),setTimeout((()=>{var e;null===(e=g)||void 0===e||e.setData({show:!0,page:"index",buttons:[{type:"default",text:"取消"},{type:"primary",text:"确定"}]})}),200))})),g.addListener("select",(e=>{if(g){var t=e.detail.index,r=g.data.selectItemId,a=g.data.selections;g.data.infoMap[r]=a[t].item_status_value,r===s.GAME_INTERFACE_ITEM_ID_RELATION&&(g.data.infoMap[s.GAME_INTERFACE_ITEM_ID_ACCOUNT]=a[t].item_status_value),S({UIArea:4502,PositionID:1,ActionID:2,ExternInfo:{menu:a[t].item_status_value,source:n},FuncID:r}),g.setData({show:!1}),setTimeout((()=>{var e;null===(e=g)||void 0===e||e.setData({show:!0,page:"index",infoMap:g.data.infoMap,buttons:[{type:"default",text:"取消"},{type:"primary",text:"确定"}]})}),200)}})),g.addListener("showAction",(t=>{var r,a,i;if(g){var o=t.detail.id,s=null===(r=e.body.item_list.find((({item_id:e})=>o===e)))||void 0===r||null===(a=r.status_list)||void 0===a?void 0:a.filter((e=>!e.item_status_hide_if_list.some((({item_id:e,item_status_value:t})=>{var r;return(null===(r=g)||void 0===r?void 0:r.data.infoMap[e])===t}))));S({UIArea:4501,PositionID:o,ActionID:2,ExternInfo:{source:n}});var c=null!==(i=null==s?void 0:s.findIndex((({item_status_value:e})=>{var t;return e===(null===(t=g)||void 0===t?void 0:t.data.infoMap[o])})))&&void 0!==i?i:0;g.setData({show:!1}),setTimeout((()=>{var e;null===(e=g)||void 0===e||e.setData({show:!0,page:"action",selections:s,selected:c,selectItemId:o,buttons:[]}),S({UIArea:4502,PositionID:0,ActionID:1,FuncID:o,ExternInfo:{source:n}})}),200)}})),g.addListener("destroy",(()=>{g=null})),g.addListener("submit",(()=>{g&&(S({UIArea:4501,ActionID:2,PositionID:20,ExternInfo:{logGrant:g.data.infoMap[s.GAME_INTERFACE_ITEM_ID_RELATION],roleGrant:g.data.infoMap[s.GAME_INTERFACE_ITEM_ID_ACCOUNT],source:n}}),_({submit_value:o.GAME_GRANT_SUBMIT_APPROVE,user_grant_info_list:Object.entries(g.data.infoMap).map((([e,t])=>({item_id:+e,item_status_value:t})))}))})),g.addListener("deny",(()=>{S({UIArea:4501,ActionID:2,PositionID:21,ExternInfo:{source:n}}),_({submit_value:o.GAME_GRANT_SUBMIT_DENY,user_grant_info_list:[]})}))}))}}d.Z.onReady((()=>{setTimeout((()=>{y({user_action:[n.USER_ACTION_LOGIN]}).then((({need_pop_up_grant_window:e,interface_config:t,user_grant_info_list:r})=>{e&&v(t,r,!0)})).catch((e=>{f.error("getUserGrantInfo",e)}))}),3e3)}));var m=(0,p.Fr)(h.i);function y(e){return b.apply(this,arguments)}function b(){return(b=l()((function*({user_action:e}){var t,r,n=null!==(t=null===d.Z||void 0===d.Z||null===(r=d.Z.accountInfo)||void 0===r?void 0:r.appId)&&void 0!==t?t:"",{data:a}=yield m({reqData:{req_path:"gamewxagcdatawap_getusergrantinfo",json_data:JSON.stringify({appid:n,user_action:e})}});return a.data}))).apply(this,arguments)}function _(e){return I.apply(this,arguments)}function I(){return(I=l()((function*({submit_value:e,user_grant_info_list:t}){try{var r,n,a={appid:null!==(r=null===d.Z||void 0===d.Z||null===(n=d.Z.accountInfo)||void 0===n?void 0:n.appId)&&void 0!==r?r:"",submit_value:e,user_grant_info_list:t};yield m({reqData:{req_path:"gamewxagcdatawap_setusergrantinfo",json_data:JSON.stringify(a)}})}catch(e){f.error(e)}}))).apply(this,arguments)}function S({UIArea:e,PositionID:t,ActionID:r,ExternInfo:n,FuncID:a}){w.reportKeyValue({key:"GameAdsSkipCard",value:[(0,u._getCurrentNetworkType)(),d.Z.appLaunchInfo.scene,0,45,e,t,r,"",0,/landscape/.test(d.Z.deviceOrientation)?2:1,0,0,"","",0,"",0,0,a,0,0,0,n?encodeURIComponent(JSON.stringify(n)):""].join(",")})}},3883:(e,t,r)=>{"use strict";r.d(t,{O:()=>a});var n=r(1673);function a(){return new Promise(((e,t)=>{var r=(0,n.rU)();r.toTempFilePath({x:0,y:0,width:r.width,height:r.height,destWidth:r.width,destHeight:r.height,success(t){t.width=r.width,t.height=r.height,e(t)},fail(e){t(e)}})}))}},9618:(e,t,r)=>{"use strict";r.d(t,{c:()=>i});var n=r(4318),a=r(7032);function i({filePath:e,thumbFilePath:t,fileType:r,appType:i}={}){return new Promise(((o,s)=>{if(!/wxfile:\/\//.test(e)&&!/http:\/\//.test(e)){var c=a.LC.get(e);e=c}(0,n.IN)("uploadToCommonCDN",{filePath:e,thumbFilePath:t,fileType:r,appType:i,isStorageMode:!0,snsUploadVersion:0,directReturnInDevtools:!0,success:o,fail:s})}))}},7032:(e,t,r)=>{"use strict";r.d(t,{LC:()=>o,U:()=>i,d4:()=>s});var n=r(6760),a=r(3306),i=new n.Z,o={map:{},set(e){var t=(0,a.M8)();return this.map[t]=e,t},get(e){return e?this.map[e]:Object.keys(this.map).map((e=>this.map[e]))}},s=e=>/wxfile:\/\//.test(e)||/http:\/\//.test(e)?e:o.get(e)},1822:(e,t,r)=>{"use strict";r.d(t,{hb:()=>c,hI:()=>s});var n={emitter:new(r(6760).Z),puidToPluginWX:{},pluginIDs:{},pluginVersions:{},pluginInfos:{}},a=r(4275),i=r(9591),o=e=>{for(var t in n.puidToPluginWX)if(n.puidToPluginWX[t]===e)return t},s=e=>{if((0,a.aI)()){var t=(0,i.y)(e);return t&&t.provider?t.provider:void 0}return n.pluginIDs[o(e)]},c=(Object.keys,e=>{var t=Number(e);return[Math.floor(t/1e6),Math.floor(t/1e3)%1e3,t%1e3].join(".")})},9591:(e,t,r)=>{"use strict";r.d(t,{oq:()=>a,y:()=>i});var n=new WeakMap,a=(e,t)=>n.set(e,t),i=e=>n.get(e)},9011:(e,t,r)=>{"use strict";r.d(t,{Av:()=>m,Fr:()=>u,Hw:()=>o,KU:()=>c,M7:()=>g,N0:()=>y,Y6:()=>s,a2:()=>p,fm:()=>f,v7:()=>v,vB:()=>h});var n=r(5333),a=r(4275),i=r(7023);function o(e,t,r){return function(){try{return e.apply(e,arguments)}catch(e){if("[object Error]"===Object.prototype.toString.apply(e)){if("AppServiceSdkKnownError"===e.type)throw e;"ThirdScriptError"===e.type?w.thirdErrorReport({error:e,extend:t}):w.errorReport({key:r,error:e,extend:t})}}}}function s(e){return"string"==typeof e?e.length:"object"==typeof e&&null!==e&&"number"==typeof e.byteLength?e.byteLength:0}function c(e){var t="unknown";if(n.Z.appContactInfo&&n.Z.appContactInfo.operationInfo&&n.Z.appContactInfo.operationInfo.jsonInfo&&n.Z.appContactInfo.operationInfo.jsonInfo.apiAvailable){var{apiAvailable:r}=n.Z.appContactInfo.operationInfo.jsonInfo;"number"==typeof r[e]&&(t=1===r[e])}return t}var l=(()=>Object.assign)();function u(e){return(t={})=>new Promise(((r,n)=>{e(l(t,{success:r,fail:n}))}))}var d=/(?=[A-Z])/;function p(e){return e.split(d).join("_").toLowerCase()}function f(e){return e.charAt(0).toUpperCase()+e.slice(1)}function h(){return a.gm?!n.Z.urlCheck:!0===n.Z.debug}function g(e,t){var r,n=String(e).split(".").map((e=>parseInt(e,10))),a=String(t).split(".").map((e=>parseInt(e,10))),i=Math.max(n.length,a.length);if(null!=e&&null!=t){if(0===e.length&&0===t.length)return 0;if(0===e.length)return-1;if(0===t.length)return 1;for(var o=0;o<i&&0===(r=s(n[o],a[o]));o++);return r}function s(e,t){return"number"!=typeof e&&(e=0),"number"!=typeof t&&(t=0),e>t?1:e<t?-1:0}console.error("versionCompare()参数格式错误")}function v(e,t){return t.reduce(((t,r)=>((0,i.o8)(e[r])||(t[r]=e[r]),t)),{})}function m(){return n.Z.appLaunchInfo&&"singlePage"===n.Z.appLaunchInfo.mode}var y=function(){return n.Z.isIsolateContext}},1351:e=>{"use strict";e.exports=a.applyDecoratedDescriptor},3888:e=>{"use strict";e.exports=a.asyncToGenerator},9097:e=>{"use strict";e.exports=a.objectSpread2},3243:e=>{"use strict";e.exports=a.objectWithoutProperties}},l={};function d(t){var r=l[t];if(void 0!==r)return r.exports;var n=l[t]={id:t,loaded:!1,exports:{}};return e[t](n,n.exports,d),n.loaded=!0,n.exports}d.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return d.d(t,{a:t}),t},d.d=(e,t)=>{for(var r in t)d.o(t,r)&&!d.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},d.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new n("return this")()}catch(e){if("object"==typeof window)return window}}(),d.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),d.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},d.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var h={};(()=>{"use strict";d.d(h,{default:()=>E3});var e={};d.r(e),d.d(e,{_WebAssembly:()=>Nv.J,_downloadFileSkipCheckDomain:()=>G.ot,_requestSkipCheckDomain:()=>G.ac,_socketSkipCheckDomainFactory:()=>G.as,_uploadFileSkipCheckDomain:()=>G.OZ,cacheManager:()=>fk,checkPermissionSync:()=>Ze.J,emitCustomAttrEvent:()=>xT,invokeOperateWXData:()=>B.yD,isUsedCache:()=>zk,privateCacheManager:()=>hk,private_getBackgroundFetchData:()=>VI,private_getUserAgent:()=>GI.Y,private_onBackgroundFetchData:()=>$I,reportCallContainer:()=>ok,request:()=>G.WY,resetCosInfo:()=>LT,setupUserBehaviorAnalytics:()=>TT,startRecordingUserBehavior:()=>ET,stopRecordingUserBehavior:()=>AT,uploadToCommonCDN:()=>WI});var l={};d.r(l),d.d(l,{IS_IOS:()=>R.cj,PLATFORM:()=>R.iw,_createCanvas:()=>qu.ED,_requestSkipCheckDomain:()=>G.ac,createImage:()=>zu.B,getPerformance:()=>cd,getShouldMakeCanvasSecure:()=>GT.$});var g={};d.r(g),d.d(g,{appRouteInfo:()=>NE,deviceInfo:()=>LE,deviceInfoLoaded:()=>JE,getDeviceOrientation:()=>$E,getGameTouchStatus:()=>QE,getIndentityInfo:()=>VE,loadDeviceInfoByManual:()=>YE,proxyReady:()=>zE,stopTouchHanlder:()=>tA});var I={};d.r(I),d.d(I,{getABTestConfig:()=>cl.b,getGameRelatedContextsExports:()=>UA,getGameRelatedContextsExportsWx:()=>WA,getIsolatedGamePluginContextEnv:()=>VA,loadPreloadSdkSubPackage:()=>GA,onSubPackageReady:()=>xA});var S=a.initializerDefineProperty,C=d.n(S),T=d(1351),E=d.n(T),A=(a.initializerWarningHelper,d(6968)),P={};["onViewDidResize","onAppRouteResized","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","onTextViewDrag","onImageViewLoad","onScrollViewScroll","onThemeChange","onKeyboardHeightChange"].forEach((e=>{P[e]=(0,A.p)(e)}));var x=d(3752),M=d(9629),R=d(4275),D="undefined"!=typeof console?console.log:(...e)=>{(0,M.a)((t=>{t.log(...e)}))};if((0,M.a)((e=>{D=e.log})),!R.gm&&!R.DD&&!R.Ae){var L=function(e,t){var r=(0,x.f$)(e,t,(0,R.Dq)());r&&D(r)};globalThis.console={log(){L(x.pO.LOG,arguments)},info(){L(x.pO.INFO,arguments)},warn(){L(x.pO.WARNING,arguments)},error(){L(x.pO.ERROR,arguments)},debug(){L(x.pO.DEBUG,arguments)},time(){L(x.pO.TIME,arguments)},timeEnd(){L(x.pO.TIME_END,arguments)},group(){},groupEnd(){}}}var N=()=>R.cj||R.wZ?{log(...e){(0,R.Dq)()&&globalThis.console.log(...e)},info(...e){(0,R.Dq)()&&globalThis.console.info(...e)},warn(...e){(0,R.Dq)()&&globalThis.console.warn(...e)},error(...e){(0,R.Dq)()&&globalThis.console.error(...e)},debug(...e){(0,R.Dq)()&&globalThis.console.debug(...e)},time(...e){(0,R.Dq)()&&globalThis.console.time(...e)},timeEnd(...e){(0,R.Dq)()&&globalThis.console.timeEnd(...e)},group(){},groupEnd(){}}:Object.assign({},console),O=d(5333),B=d(4318),j=d(5358),F=(0,j.s)("UpdateWXConfig"),U=F.onMethod;F.offMethod;(0,B.jQ)("onUpdateWXConfig",(e=>{f.info("onUpdateWXConfig",e),Object.keys(e).forEach((t=>{O.Z[t]=e[t]})),F.emit(e)}));var W,G=d(7065),V=d(6302),$=d(1430),q=new Map,z=d(9097),Z=d.n(z),H=d(3306),K=d(3329),J=d(7023),Y=d(3888),Q=d.n(Y),X=d(7051),ee=d(8010),te=null;function re(){return W?Promise.resolve(W):te||(te=(0,B.Qh)({sdkApiName:"getEncryptKey",apiName:"wxaapi_getwxastoragekey",reqData:{type:1}}).then((e=>{e=e.data;var{key:t,iv:r}=e,n=new Uint8Array((0,ee.RG)(t)),a=new Uint8Array((0,ee.RG)(r));return te=null,W={encryptKeyBytes:n,ivBytes:a}})).catch((e=>{throw te=null,e})))}var ne=!1;function ae(){ne||((0,X.k)().runTask("initAesWasm",{}),ne=!0)}function ie(e,t,r){return(0,X.k)().runTask("aesDecrypt",{data:e,encryptEnv:t,tokenInfo:{encryptKeyBytes:r.encryptKeyBytes.buffer,ivBytes:r.ivBytes.buffer}})}function oe(){return oe=Q()((function*(e={},t,r){var{encryptEnv:n="wasm"}=e;"wasm"===n&&ae();var a=yield r;return yield ie(t,n,a)})),oe.apply(this,arguments)}function se(e={},t){var{key:r,data:n,dataType:a,storageId:i,encryptEnv:o="wasm"}=e,{failWithMsg:s}=(0,B.Rn)(e,"setStorage"),c=[re()];"wasm"===o&&ae(),Promise.all(c).then((([e])=>function(e,t,r){return(0,X.k)().runTask("aesEncrypt",{data:e,encryptEnv:t,tokenInfo:{encryptKeyBytes:r.encryptKeyBytes.buffer,ivBytes:r.ivBytes.buffer}})}(n,o,e))).then((n=>{var o=R.cj?"setStorageAsync":"setStorage";(0,B.IN)(o,{key:r,data:n,dataType:a,storageId:i,success:t=>{q.get(i).set(r,{data:n,dataType:a}),(0,J.mf)(e.success)&&e.success(t)},fail:e.fail,complete:e.complete},t)})).catch((e=>{s({msg:e.message}),f.error("encryptThenSetStorage error",e)}))}var ce=d(9190),le=(0,ce.NX)("getStorage",Q()((function*(e={},t){var{encrypt:r,key:n}=e,a=r&&u.isSupportWXLibWorker(),i=R.cj?"getStorageAsync":"getStorage";(0,B.zy)(e,{key:""});var o,s={checkNeedReportFail:e=>-1===e.errMsg.indexOf("data not found"),beforeAll:e=>{e.errMsg=e.errMsg.replace("getStorageAsync","getStorage")}},c=Object.assign({},e,{storageId:t}),l=q.get(t),d=a?re():null;return l.has(n)?o=Z()({},l.get(n)):(o=yield(0,B.bb)(i,c,s),l.set(n,{data:o.data,dataType:o.dataType})),a&&(o.data=yield function(){return oe.apply(this,arguments)}(e,o.data,d)),o.data=(e._stringToAnyType||H.Yt)(o.data,o.dataType),delete o.dataType,o})));var ue=(0,ce.NX)("batchGetStorage",Q()((function*(e={},t){(0,B.zy)(e,{keyList:["1"]});var r=Object.assign({},e,{storageId:t}),n=q.get(t),a=yield(0,B.bb)("batchGetStorage",r);return Array.isArray(a.dataList)&&(a.dataList=a.dataList.map(((e,t)=>{var{data:a,dataType:i}=e;return a&&n.set(r.keyList[t],e),(0,H.Yt)(a,i)}))),a}))),de=(0,ce.NX)("batchSetStorage",function(){var e=Q()((function*(e,t){(0,B.zy)(e,{kvList:[{key:"1"}]});var r=q.get(t),n=e.kvList.map((e=>{r.delete(e.key);var{data:t,dataType:n}=(0,H.op)(e.value);return{key:e.key,data:t,dataType:n}})),a={kvList:n,storageId:t,success:e.success,fail:e.fail,complete:e.complete};return yield(0,B.bb)("batchSetStorage",a)}));return function(t,r){return e.apply(this,arguments)}}()),pe=function(e){return Array.isArray(e)?e.filter((e=>"string"==typeof e&&!e.startsWith("__plugins__"))):[]},fe={setStorage:(e,t={})=>{var{encrypt:r}=t;if((0,B.r3)("setStorage",t,{key:""}))try{var{data:n,dataType:a}=(0,H.op)(t.data),i=t.key,o={key:i,data:n,dataType:a,storageId:e,success:t.success,fail:t.fail,complete:t.complete,encryptEnv:t.encryptEnv},s={beforeAll:e=>{e.errMsg=e.errMsg.replace("setStorageAsync","setStorage")}};if(r&&u.isSupportWXLibWorker())se(o,s);else{var c=q.get(e),l=c.get(i);if(l&&l.dataType===a&&l.data===n)(0,B.FE)({name:"setStorage",args:t});else{var d=R.cj?"setStorageAsync":"setStorage";(0,B.IN)(d,o,Z()(Z()({},s),{},{beforeSuccess:()=>{c.set(i,{data:n,dataType:a})}}))}}}catch(e){"function"==typeof t.fail&&t.fail({errMsg:`setStorage:fail ${e.message}`}),"function"==typeof t.complete&&t.complete({errMsg:`setStorage:fail ${e.message}`})}},batchSetStorage:(e,t={})=>de(t,e),setStorageSync:(e,t,r="")=>{if("string"==typeof t){var n=R.cj?"setStorage":"setStorageSync",{data:a,dataType:i}=(0,H.op)(r),o=!1,s="",c=q.get(e),l=c.get(t);if(!l||l.dataType!==i||l.data!==a){if((0,B.IN)(n,{key:t,data:a,dataType:i,storageId:e,fail(e={}){o=!0,s=e.errMsg.replace("setStorage:","setStorageSync:")}}),o)throw new K.l(s);c.set(t,{data:a,dataType:i})}}else console.error(`setStorageSync:fail the first parameter should be a string instead of ${(0,J.Em)(t)}`)},batchSetStorageSync:(e,t)=>{(0,B.zy)(t,[{key:"1"}]);var r,n=q.get(e),a=t.map((e=>{var{data:t,dataType:r}=(0,H.op)(e.value);return n.delete(e.key),{key:e.key,data:t,dataType:r}}));return(0,B.IN)("batchSetStorageSync",{storageId:e,kvList:a,beforeAll(e){r=e}}),r},getStorage:(e,t={})=>le(t,e),batchGetStorage:(e,t={})=>ue(t,e),getStorageSync:function(e,t){var r=arguments[arguments.length-1]||{};if((0,J.HD)(t)){var n=q.get(e);if(n.has(t)){var{data:a,dataType:i}=n.get(t);return(r._stringToAnyType||H.Yt)(a,i)}var o,s=R.cj?"getStorage":"getStorageSync";return(0,B.IN)(s,{key:t,storageId:e},{beforeSuccess:(e={})=>{n.set(t,{data:e.data,dataType:e.dataType}),o=(r._stringToAnyType||H.Yt)(e.data,e.dataType)},beforeFail:()=>{o=""},checkNeedReportFail:e=>-1===e.errMsg.indexOf("data not found")}),o}},batchGetStorageSync:(e,t)=>{var r;(0,B.zy)(t,["1"]);var n=q.get(e);return(0,B.IN)("batchGetStorageSync",{keyList:t,storageId:e},{beforeSuccess:(e={})=>{(r=e).dataList=e.dataList.map(((e,r)=>{var{data:a,dataType:i}=e;return a&&n.set(t[r],e),(0,H.Yt)(a,i)}))}}),r.dataList},getStorageInfo:(e,t)=>{(0,B.IN)("getStorageInfo",Object.assign({},t,{storageId:e}),{beforeAll:e=>{e.keys=pe(e.keys)}})},getStorageInfoSync:e=>{var t;return(0,B.IN)("getStorageInfoSync",{storageId:e},{beforeAll:e=>{t=e,e.keys=pe(e.keys),delete e.errMsg}}),t},removeStorage:(e,t)=>{(0,B.r3)("removeStorage",t,{key:""})&&(q.get(e).delete(t.key),(0,B.IN)("removeStorage",Object.assign({},t,{storageId:e})))},removeStorageSync:(e,t)=>{(0,B.r3)("removeStorageSync",t,"")&&(q.get(e).delete(t),(0,B.IN)("removeStorageSync",{key:t,storageId:e}))},clearStorage:(e,t)=>{q.get(e).clear();var r=R.cj?"clearStorageAsync":"clearStorage";(0,B.IN)(r,Object.assign({},t,{storageId:e}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("clearStorageAsync","clearStorage")}})},clearStorageSync:e=>{q.get(e).clear();var t=R.cj?"clearStorage":"clearStorageSync";(0,B.IN)(t,{storageId:e})}},he={app:0,game:0,opendata:1,singlePage:2,cache:3},ge=e=>{var t=he[e];return q.has(t)||q.set(t,(()=>{var e=new Map;return R.gm||(0,R.fs)()?new Proxy(e,{get:()=>()=>{}}):e})()),Object.keys(fe).reduce(((e,r)=>(e[r]=(...e)=>fe[r](t,...e),e)),{})},ve={app:ge("app"),game:ge("game"),opendata:ge("opendata"),singlePage:ge("singlePage"),cache:ge("cache")},me=d(560),ye=d(6468),be=d(8311);function _e(e,t,r){var n=void 0===t._relativePath?ye.Z.lastRoute:t._relativePath;f.info(`[normalizeUrl] APIName=${e}, url=${t.url}, _relativePath=${t._relativePath}, Global.lastRoute=${ye.Z.lastRoute}`);try{return(0,be.s$)(n,t.url,!r)}catch(a){if(!(a instanceof be.l0))throw a;if(!r){if(!(0,be.Bf)(n,t.url))return t.url;(0,B.YG)(e,t,a.message)}}return""}var we=d(346),Ie=(d(7810),d(415),d(1822));function Se(){throw new Error("getLaunchOptionsSync:fail get launch options")}var ke=d(8934),Ce=d(1211),Te=d(8688),Ee=d(7092),Ae=d(7063);var Pe=d(5517),xe=d(6195),Me=d(5409),Re=d(9011),De=d(7828);var Le=(0,j.s)("AppPerfRouteNavigation");function Ne(e,t,r){if(function(e){return"wxpage://"===(0,be.pD)(e)}(t))return!0;var n=void 0===r._relativePath?ye.Z.lastRoute:r._relativePath;return!(0,be.Bf)(n,t)||/^__wx__\//.test(t)||function(e,t,r){var n=t.replace(/\.html\?.*|\.html$/,"");return!!De.hr.hasPageRoute(n)||((0,B.YG)(e,r,`page "${(0,we.Z8)(t)}" is not found`),!1)}(e,t,r)}var Oe=!1;var Be=e=>{if("active"===ye.Z.runningStatus||"ios"!==R.iw){if((0,B.r3)("reLaunch",e,{url:""})&&function(e,t){var r=_e(e,t,!0);if(!r)return!0;var n=(0,Me.ZA)(r),a=Me.n6[(0,Re.a2)(e).toUpperCase()],i=!0,o="",s=Me.UU.OK;if(n>-1){var c=Me.Jx[n];(o=c.redirect_url)&&1===c.is_valid?((0,B.YG)(e,t,"url has been banned"),(0,Te.L)("openUrl",{url:o}),s=Me.UU.BLOCK,i=!1):o&&1!==c.is_valid&&(s=Me.UU.NO_BLOCK)}return(0,Me.ye)(e,s,a,o,r),i}("reLaunch",e)&&function(e,t){return!Oe||((0,B.YG)(e,t,"current operation was banned."),!1)}("reLaunch",e)){var t=_e("reLaunch",e,!1);t&&(e.url=t,e.url=(0,we.yP)(e.url),Ne("reLaunch",e.url,e)&&(ye.Z.navigatorLock=!0,(0,B.IN)("reLaunch",e,{afterFail(){ye.Z.navigatorLock=!1,y.traceRoute("reLaunch",e.url,!1)},beforeSuccess(){y.traceRoute("reLaunch",e.url)}}),Le.emit({type:"reLaunch",start:Date.now()})))}}else(0,B.YG)("reLaunch",e,"can not invoke reLaunch in background")},je=d(1702),Fe=[],Ue=null;function We(){var e=Fe;Fe=[],Ue=null;for(var t=0,r=e.length;t<r;t++){var n=e[t];n&&(n=_.surroundThirdByTryCatch(n,"at api nextTick callback function")),n&&n()}}var Ge=e=>{e&&"function"==typeof e&&(Fe.push(e),Ue||(Ue=setTimeout(We,0)))},Ve=new je.Q("InnerPage",!1),$e={lifetimes:{detached(){var e=this.options;null!=e&&e.pageType&&Ge((()=>{Ve.emit(`${e.pageType}-unload`,e)}))},ready(){var e=this.options;null!=e&&e.pageType&&Ge((()=>{Ve.emit(`${e.pageType}-load`,e)}))}},pageLifetimes:{hide(){}}};(0,De.fe)((()=>{var e="wx://inner-page",t={[`${e}.json`]:{usingComponents:{}}};De.P3.Component($e,"//",t,`${e}.js`)}));var qe=(e,t)=>{Ve.on(`${e}-load`,t)},ze=(e,t)=>{Ve.on(`${e}-unload`,t)},Ze=d(619),He=d(3084),Ke=d(4770),Je=d(8013),Ye=[],Qe=[],Xe=~~(Date.now()/1e3),et=0;function tt(e,t,r,n){var a;a="string"==typeof n?n:n?"high":"low",(0,B.IN)("operateRealtimeData",{type:t,content:r,priority:a,id:e},{beforeSuccess(){},beforeFail(e){Qe.forEach((t=>t(e)))}})}function rt(){var e=Ye.shift();"function"==typeof e&&(e(),et=+new Date),Ye.length&&setTimeout(rt,200)}o.onLoad((()=>{Xe=~~(Date.now()/1e3)}));var nt=(e,t,r)=>{if(1005===e||!R.gm){var n=+new Date,a=Xe++;return n-et>=200&&!Ye.length?(tt(a,e,t,r),et=n):(Ye.push((()=>{tt(a,e,t,r)})),setTimeout(rt,200)),a}};(0,B.jQ)("onRealtimeDataResponse",(e=>{Qe.forEach((t=>t(e)))}));var at,it,ot=d(7485),st=d(6776),ct=!1,lt={},ut=JSON.parse;function dt(){if("string"==typeof O.Z.opConfig){var e;try{e=ut(O.Z.opConfig)}catch(e){}return e&&e.expt_info}return O.Z.opConfig&&O.Z.opConfig.expt_info}function pt(){var e,t=dt();return t&&ct?(e=1,at=t,w.reportIDKey({key:"useLaunchExptInfo"})):t?(e=2,at=t,w.reportIDKey({key:"useLaunchExptInfo"}),w.reportIDKey({key:"useOriginLaunchExptInfo"})):(e=0,w.reportIDKey({key:"useContactExptInfo"})),{exptInfo:at,jsDataType:e}}function ft(){if(void 0===De.hr)return"";var e=De.hr.getCurrentPagesByDomain("");return e&&e.length?e[e.length-1].route:""}(0,Ke.n)("onAppEnterForeground",(e=>{Object.assign(lt,e),it=lt.sessionid||lt.sessionId})),U((e=>{dt()&&(ct=!0)})),O.Z.onReady((()=>{Object.assign(lt,O.Z.appLaunchInfo);var e=dt();e?at=e:O.Z.appContactInfo&&O.Z.appContactInfo.passThroughInfo&&(at=O.Z.appContactInfo.passThroughInfo.expt_info)}));var ht=(0,B.TG)("getExptInfo","webapi_wxaexpt_hit",(({keyList:e})=>({param_name_list:e})),(e=>(e.list={},Array.isArray(e.hit_list)&&e.hit_list.forEach((t=>{e.list[t.param_name]=t.param_value})),delete e.base_resp,delete e.hit_list,e)));function gt(e){var t={},{exptInfo:r,jsDataType:n}=pt();return r&&Array.isArray(r.expt_param_list)&&(Array.isArray(e)||(e=r.expt_param_list.map((e=>e.param_name))),r.expt_param_list.forEach((r=>{-1!==e.indexOf(r.param_name)&&(t[r.param_name]=r.param_value,r.expt_id&&function(e,t,r){w.reportKeyValue({key:"ExptHit",value:[(0,st.k)(),(0,st.n)(),e,encodeURIComponent(JSON.stringify(t)),0,"",r].join(",")})}(r.expt_group_id,r,n),void 0!==r.expt_id&&function(e,t,r,n,a){var i=["","","getExptInfo",void 0!==y?y.getCurrentRoutePath():"",null,JSON.stringify({groupId:e,exptId:t,paramName:r,paramValue:n,jsDataType:a})].map(encodeURIComponent).join(",");w.reportKeyValue({key:"SdkInnerApiInvoke",value:i})}(r.expt_group_id,r.expt_id,r.param_name,r.param_value,n))}))),t}function vt(e,t,r="immediate"){var n=2,{accountInfo:a,envVersion:i}=O.Z||{},o=a?a.appId:"";"release"===i?n=1:"trial"===i&&(n=3);var s=(0,Ce._getSystemInfoSyncFromCache)(!0),c=lt.sessionid||lt.sessionId,l=lt.usedstate||lt.usedState;nt(1005,JSON.stringify({appid:o,app_state:n,appversion:(0,ot.E)().miniProgram.version,enter_scene:lt.scene,scene_note:lt.scene_note||lt.sceneNote,prescene:lt.prescene,prescene_note:lt.prescene_note||lt.presceneNote,sessionid:c,add_state:l,page_path:ft()||lt.path,page_query:JSON.stringify(lt.query||{}),referpagepath:lt.referpagepath,isentrance:it||it===c?0:1,event_time:Date.now(),sdk_version:He.c,devicemodel:s.model,devicebrand:s.brand,os_name:s.platform,os_version:s.system,language_version:s.language,networktype:(0,Je._getCurrentNetworkType)(),event_name:e,event_value:JSON.stringify(t),unique_id:String(Date.now()+Math.random()),screen_width:O.Z.screenWidth,screen_height:O.Z.screenHeight,open_source:O.Z.host&&O.Z.host.appId?2:1,host_appid:O.Z.host?O.Z.host.appId:""}),r)}function mt(e,t={}){setTimeout((()=>vt(e,t))),w.reportIDKey({key:"reportEventInvoke"})}var yt="payCompletedPage",bt=0,_t=()=>""+ ++bt,wt=(e,t)=>{var r=n=>{var a,i;JSON.parse(n.payCompletedPageArgs).payCompletedPageId===e&&("function"==typeof t&&_.surroundThirdByTryCatch(t,"at on payCompletedPage.onLoad callback function")(),a=yt,i=r,Ve.off(`${a}-load`,i))};qe(yt,r)},It=(e,t)=>{var r=n=>{var a,i;JSON.parse(n.payCompletedPageArgs).payCompletedPageId===e&&("function"==typeof t&&_.surroundThirdByTryCatch(t,"at on payCompletedPage.onUnload callback function")(),a=yt,i=r,Ve.off(`${a}-unload`,i))};ze(yt,r)},St={};qe(yt,(e=>{var t=JSON.parse(e.payCompletedPageArgs).payCompletedPageId;St[t]={startTime:Date.now()},Et("exposePaymentCompletedPage","")})),ze(yt,(e=>{var t=JSON.parse(e.payCompletedPageArgs).payCompletedPageId;if(St[t]){var r=St[t].startTime,n=Date.now()-r;Et("stayDuration",n),delete St[t]}Et("exitPage","")}));var kt,Ct=new Map,Tt=new Map,Et=(e,t)=>{var r=(null===De.hr||void 0===De.hr?void 0:De.hr.getCurrentRoute())||"";w.reportKeyValue({key:"PayCompletedPage",value:[0,r,e,t].join(",")})},At=!1,Pt=500,xt=!1,Mt=0,Rt=1,Dt=2,Lt=3,Nt=4,Ot=()=>{var e,t,r;return{shouldCheck:null!==(e=At)&&void 0!==e&&e,timeout:null!==(t=Pt)&&void 0!==t?t:500,deprecated:null!==(r=xt)&&void 0!==r&&r}},Bt=function(){var e=Q()((function*(e){try{var t=(0,Ee.Zv)(),{data:r}=yield Wt({apiName:"webapi_openproduct_bizaccount",reqData:{path:e.path,query:JSON.stringify(e.query||{}),cookie:t}});if(void 0!==r.openproduct_checkticket&&(At=!!r.openproduct_checkticket),void 0!==r.openproduct_checktickettimeout&&(Pt=parseInt(r.openproduct_checktickettimeout,10)),void 0!==r.openproduct_checkticket_deprecated&&(xt=!!r.openproduct_checkticket_deprecated),void 0!==r.openleague_cookie){var n=[];(0,Ee.jl)(r.openleague_cookie||"",!1,n);var a=(0,Ee.zv)({cookies:n});a&&f.error("[set openleague_cookie]",a)}if(void 0!==r.share_cookie){var i=[];(0,Ee.jl)(r.share_cookie||"",!1,i);var o=(0,Ee.zv)({cookies:i,isTemporary:!0});o&&f.error("[set share_cookie]",o)}}catch(e){}}));return function(t){return e.apply(this,arguments)}}();O.Z.onReady((()=>{setTimeout((()=>Bt(O.Z.appLaunchInfo||{})),1e3)})),(0,ke.T)((e=>{(e.reLaunch||e.isLaunch)&&Bt(e)}));var jt=(()=>{var e,t,r,n;return(0,ke.T)((a=>{e=+a.scene||0,t=a.scene_note||a.sceneNote||"",r=+a.prescene||0,n=a.prescene_note||a.presceneNote||""})),O.Z.onReady((()=>{(()=>{var a=O.Z.appLaunchInfo||{};e=a.scene||0,t=a.scene_note||a.sceneNote||"",r=a.prescene||0,n=a.prescene_note||a.presceneNote||""})()})),()=>({scene:e,scene_note:t,prescene:r,prescene_note:n})})(),Ft=(0,ce.NX)("requestPayment",function(){var e=Q()((function*(e){var t=(0,J.x7)(e,{timeStamp:"",nonceStr:"",package:"",signType:"",paySign:""});if(t)throw new Error(`parameter error: ${t}`);e=Object.assign({},e);var r,n,{deprecated:a,shouldCheck:i}=Ot(),o=i||!1,s=(()=>{var e=(0,Ze.J)("openPaymentCompletedPage"),t=(0,Ze.J)("openPaymentCompletedPageFull");if(f.info("支付回调页 mainControl=",e),console.info("支付回调页 mainControl=",e),f.info("支付回调页 hasFull=",t),console.info("支付回调页 hasFull=",t),e){if(t)return!0;var r="wx_wxapp_expt_payad";return"1"===gt([r])[r]?(f.info("支付回调页 expt=",!0),console.info("支付回调页 expt=",!0),!0):(f.info("支付回调页 expt=",!1),console.info("支付回调页 expt=",!1),!1)}return!1})(),c=(0,Ze.J)("paymentCompletedPageCoupon");if(f.info("是否开了支付回调页功能",s),f.info("是否配了商家优惠券",c),s&&(R.cj||R.wZ)&&(((e,t={})=>{var r,n;Et("fetchPaymentCompletedPageInfo","");var a={pay_key_list:(null===(r=t.templateData)||void 0===r?void 0:r.infos)||[],pay_title:null===(n=t.templateData)||void 0===n?void 0:n.title,template_id:t.templateId};(0,B.yD)({apiName:"webapi_getpaycallbackappconf",sdkApiName:"preFetchPaymentCompletedPageInfo",reqData:a,fail(){Et("fetchPaymentCompletedPageInfoFail","")},success(){Et("fetchPaymentCompletedPageInfoSuccess","")},complete(t){f.info("webapi_getpaycallbackappconf 回调",t),Tt.get(e)?(Tt.get(e)(t),Tt.delete(e)):Ct.set(e,t)}})})(r=_t(),e.payCompletedPageOptions),n=(e=>"function"==typeof kt&&kt(e))({withCoupon:c})),o){if(a)throw new Error("wx.reqeustPayment is disabed");var l=Mt,u=e.ticket||"";try{var d=Ot().timeout||500;try{var{is_authorized:p}=yield Promise.race([Gt(Z()(Z()({ticket:u,prepay_id:e.package.replace("prepay_id=","")},jt()),{},{cookie:(0,Ee.Zv)(),sdk_version:O.Z.SDKVersion||""})),Vt("timeout",d)]);l=p?Lt:Nt}catch(e){f.error("[paymentCheckTicket] fail",e),l=e&&"timeout"===e.message?Dt:Rt}if(l===Nt)throw new Error("wx.reqeustPyament is disabled in the current context")}finally{$t({ticket:u,checkTicketStatus:l})}}var h,g=Zt.NONE;try{var v=yield zt(e,{payCompletedPageId:r,checkHaveAdPromise:n,withCoupon:c});return g=Zt.SUCCESS,v}catch(e){throw g=Zt.FAILED,h=e.message,e}finally{o&&Ht({prepayId:(e.package||"").replace("prepay_id=",""),requestPaymentStatus:g,requestPaymentErrmsg:h})}}));return function(t){return e.apply(this,arguments)}}()),Ut=((0,ce.NX)("requestPayment",function(){var e=Q()((function*(e){var t=(0,J.x7)(e,{timeStamp:"",nonceStr:"",package:"",signType:"",paySign:""});if(t)throw new Error(`parameter error: ${t}`);return e=Object.assign({},e),yield zt(e)}));return function(t){return e.apply(this,arguments)}}()),(0,ce.Vl)(B.IN.bind(null,"requestPayment"))),Wt=(0,ce.Vl)(B.yD),Gt=function(){var e=Q()((function*(e={}){var{data:t}=yield Wt({apiName:"webapi_openproductcheckticket",reqData:Z()({},e)});return t}));return function(){return e.apply(this,arguments)}}(),Vt=(e,t)=>new Promise(((r,n)=>setTimeout((()=>n(new Error(e))),t))),$t=({ticket:e,checkTicketStatus:t})=>{var r=O.Z.appLaunchInfo||{},n=jt(),a=[r.sessionid||r.sessionId||"",n.scene,n.scene_note,n.prescene,n.prescene_note,t||0,e||""].join(",");w.reportKeyValue({key:"RequestPaymentCheckTicket",value:a})},qt=!1,zt=function(){var e=Q()((function*(e,{payCompletedPageId:t,checkHaveAdPromise:r,withCoupon:n}={}){var a,i,o,s;var c=(0,Ee.Zv)();e.passCookies&&"string"==typeof e.passCookies?e.cookie=c?e.passCookies+";; "+c:e.passCookies:c?e.cookie=c:delete e.cookie,delete e.passCookies,e.cookie;var l=(0,xe.I)(),u=null===(a=O.Z.appContactInfo)||void 0===a||null===(i=a.operationInfo)||void 0===i||null===(o=i.jsonInfo)||void 0===o||null===(s=o.op_info)||void 0===s?void 0:s.jump_homepage_after_pay,d=()=>qt=!0,p={afterSuccess:d,beforeSuccess:e=>{if(u){var a=O.Z.entryPagePath;a&&("/"!==a[0]&&(a="/"+a),a=a.replace(".html",""),Be({url:a}),function(e=0){Oe=!0,setTimeout((()=>Oe=!1),e)}(100))}else t&&(e.payCompletedPage={onLoad(e){wt(t,e)},onUnload(e){It(t,e)}},(0,J.tI)(r)&&Promise.race([new Promise((e=>{setTimeout((()=>{e(void 0)}),1e3)})),r]).then((e=>{f.info("是否有广告配置",e),"boolean"==typeof e&&e&&((e={})=>{(0,B.IN)("navigateTo",{url:`wxpage://inner-page?pageType=payCompletedPage&payCompletedPageArgs=${encodeURIComponent(JSON.stringify(e))}`,success(e){f.info("openPayCompletedPage success",e)},fail(e){f.info("openPayCompletedPage fail",e)}})})({payCompletedPageId:t,withCoupon:n})})))}};R.gm&&(p.afterAll=d);var h=yield Ut(Z()(Z()({adUxInfo:l},e),{},{grantMessageQuota:!0}),p);return(0,B.yD)({apiName:"webapi_reportpayrecord",reqData:{prepay_id:e.package.replace("prepay_id=","")}}),(0,Te.L)("reportPaymentFormId",{packageStr:e.package}),(0,Ae.Hk)(),h}));return function(t){return e.apply(this,arguments)}}(),Zt={NONE:0,SUCCESS:1,FAILED:2},Ht=function(){var e=Q()((function*({extUserUin:e,addOrderStatus:t,requestPaymentStatus:r,requestPaymentErrmsg:n,prepayId:a,payInfo:i,outOrderId:o}){var s=(0,Ce._getSystemInfoSyncFromCache)(!0),c=O.Z.appLaunchInfo||{},{data:l}=yield(0,B.Qh)({apiName:"webapi_openproductreportorder",reqData:{ext_info:Z()(Z()({ext_useruin:e,ext_appid:O.Z.host&&O.Z.host.appId,session_id:c.sessionid||c.sessionId||""},jt()),{},{add_order_status:t,request_payment_status:r,request_payment_errmsg:n,model:s.model,brand:s.brand,version:s.version,system:s.system,platform:s.platform,sdk_version:s.SDKVersion}),prepay_id:a,pay_info:i,order_info:{out_order_id:o}}});return l}));return function(t){return e.apply(this,arguments)}}(),Kt=[1011,1017,1025,1047,1124,1034],Jt=[1001,1038,1041,1089,1090,1104,1131,1187],Yt={NeedCheck:0,NotCheck:1},Qt=e=>{if(Kt.includes(e))return!0;if(Jt.includes(e)){var{scene:t}=function(){throw new Error("getLaunchOptionsSync:fail get launch options")}();return Kt.includes(t)}return!1},Xt=function(){var e=Q()((function*(){try{var{data:e}=yield(0,B.Qh)({apiName:"webapi_getapppublishwxstatecheckflag",reqData:{}}),{check_scene_flag:t=Yt.NeedCheck,check_pay_success_flag:r=Yt.NeedCheck}=e||{};return{shouldCheckScene:t===Yt.NeedCheck,shouldCheckPayment:r===Yt.NeedCheck}}catch(e){return{shouldCheckScene:!0,shouldCheckPayment:!0}}}));return function(){return e.apply(this,arguments)}}(),er=(e={})=>{var{scene:t}=(0,me.r)();Xt().then((({shouldCheckScene:r,shouldCheckPayment:n})=>{if(!n||qt)if(!r||Qt(t)){var a=Object.assign({},e);if("string"==typeof a.url){var i=_e("publishWeChatState",a,!1);if(!i)return;a.url=i,a.url=(0,we.yP)(a.url)}(0,B.IN)("publishWeChatState",a)}else(0,B.YG)("publishWeChatState",e,`invalid scene, current is ${t}`);else(0,B.YG)("publishWeChatState",e,"should only called after a successful payment")}))},tr=d(3374),rr="getShareInfo",nr={showShareAppMessageMenu:!1,showShareTimelineMenu:!1,withShareTicket:!1,isPrivateMessage:!1};function ar(e){return new Promise(((t,r)=>{"boolean"==typeof e.withShareTicket?(0,B.IN)("updateShareMenuShareTicket",{withShareTicket:e.withShareTicket,success:t,fail:r},{beforeAll(e){e.errMsg=e.errMsg.replace("updateShareMenuShareTicket","updateShareMenu")},beforeFail(e){e.errMsg+=', with arg "withShareTicket": true'}}):t({errMsg:"updateShareMenu:ok"})}))}function ir(e){return new Promise(((t,r)=>{if("boolean"==typeof e.isUpdatableMessage||"boolean"==typeof e.isPrivateMessage){var n=JSON.stringify({activity_id:e.activityId,template_id:e.templateInfo&&e.templateInfo.templateId,parameter_list:e.templateInfo&&e.templateInfo.parameterList});(0,B.IN)("updateShareMenuUpdatable",{isPrivateMessage:e.isPrivateMessage,updatable:e.isUpdatableMessage,templateId:n,success:t,fail:r}),!0===e.isPrivateMessage?nr.isPrivateMessage=!0:!1===e.isPrivateMessage&&(nr.isPrivateMessage=!1)}else t({errMsg:"updateShareMenu:ok"})}))}function or(e){return new Promise(((t,r)=>{"string"==typeof e.toDoActivityId?((0,B.IN)("updateShareMenuUpdatable",{updatable:!0}),(0,B.IN)("updateShareMenuShareTicket",{withShareTicket:!0}),(0,B.IN)("updateShareMenuToDo",{toDoActivityId:e.toDoActivityId,isToDoMessage:"boolean"!=typeof e.isToDoMessage||e.isToDoMessage,success:e=>{t(e)},fail:e=>{r(e)}})):t({errMsg:"updateShareMenu:ok"})}))}var sr="authPrivateMessage";var cr=d(3311),lr=d(3444),ur=d(7032),dr=d(2364),pr=d(8941),fr=!1;function hr(e){fr="tap"===e}function gr(){setTimeout((()=>{fr=!1}),0)}function vr(){return(0,R.aI)()?fr:fr||De.P3.checkTapMark()}var mr=0,yr={};O.Z.onReady((()=>{mr=O.Z.appType,yr=O.Z.appLaunchInfo}));var br=(e,t)=>{var r=[];return t.forEach((t=>{var n=e[t];"boolean"==typeof n&&(n=n?1:0),r.push(`${t}:${n}`)})),r.join("|")},_r=({name:e,data:t})=>{var r=void 0!==De.hr?De.hr.getCurrentPagesByDomain(""):[],n=r.length>0&&r[r.length-1].__route__||"",a=(0,Je._getCurrentNetworkType)(),i=O.Z.SDKVersion||"",o="";switch(e){case"loadFontFace":o=br(t,["family","source","global","scopes"]);break;case"requestSubscribeMessage":o=br(t,["templateCount","templateType","operationType"]);break;case"openCustomerServiceChat":o=br(t,["extInfo","corpId"])}var s=[Math.round(Date.now()/1e3),yr.scene,yr.sessionid||yr.sessionId,n,a,i,e,o,mr,1,""].join(",");w.reportKeyValue({key:"APIUse",value:s})},wr={};function Ir(e,t={},r=!1,n=!1){r=r||vr(),w.reportKeyValue({key:"MiniprogramDoEvilIdentification",value:[e,encodeURIComponent(JSON.stringify(t)),r?1:0,Date.now(),n?1:0].join(",")})}(0,pr.vv)((()=>{var e=!1;Object.keys(wr).forEach((t=>{var r=wr[t];r.cameraFrame&&r.webgl&&(e=!0)})),e&&_r({name:"suspectAR",data:{}}),wr={}}));var Sr,kr,Cr,Tr,Er,Ar=d(8050);!function(e){e[e.DisableAsyncReport=0]="DisableAsyncReport",e[e.ReportAction=1]="ReportAction",e[e.ReportContent=2]="ReportContent",e[e.ReportContentWithImg=3]="ReportContentWithImg"}(Sr||(Sr={})),function(e){e[e.DisableSyncCheck=4]="DisableSyncCheck",e[e.EasyMode=5]="EasyMode",e[e.StrictMode=6]="StrictMode"}(kr||(kr={})),function(e){e[e.Blur=0]="Blur",e[e.Upload=1]="Upload"}(Cr||(Cr={})),function(e){e[e.Success=0]="Success",e[e.Fail=1]="Fail"}(Tr||(Tr={})),function(e){e[e.NO=0]="NO",e[e.YES=1]="YES"}(Er||(Er={}));var Pr={textInput:0,input_text:0,nicknameInput:1,input_nickname:1,textarea:2,editor:3,chooseImage:4,chooseMedia:5,chooseAvatar:6},xr=e=>t=>null!=t&&e.includes(t),Mr=xr([Sr.DisableAsyncReport,Sr.ReportAction,Sr.ReportContent,Sr.ReportContentWithImg]),Rr=xr([kr.DisableSyncCheck,kr.EasyMode,kr.StrictMode]),Dr=d(4786),Lr=d(593),Nr=d(9955),Or=null,Br=(0,ce.Vl)(Lr.ac),jr=(0,ce.Vl)(Nr.p),Fr=(e,t)=>new Promise(((r,n)=>setTimeout((()=>n(new Error(t))),e))),Ur=null,Wr=function(){var e=Q()((function*(e,t){for(var r,n=0;n<=t;)try{return yield e()}catch(e){r=e,n+=1}throw r}));return function(t,r){return e.apply(this,arguments)}}();function Gr(e){return Vr.apply(this,arguments)}function Vr(){return(Vr=Q()((function*(e){Or||(Or=(0,ce.Vl)(cn));var{tempFilePath:t}=yield Or({src:e,quality:60,compressedWidth:224,compressHeight:224}),{data:r}=yield jr({filePath:t});return yield Wr(Q()((function*(){var e,t=null===(e=O.Z.appLaunchInfo)||void 0===e?void 0:e.openId,n=yield Promise.race([Fr(4e3,"upload timeout"),Br({url:`https://mp.weixin.qq.com/publicpoc/uploadwxaimg?action=uploadimg&sn=${Ur.uploadimg_sn||""}&openid=${t||""}`,method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded"},data:r})]);if(200!==n.statusCode)throw new Error(`upload fail, ${n.data.retcode}`);return n.data.media_id_str})),2)}))).apply(this,arguments)}function $r(e,t){return qr.apply(this,arguments)}function qr(){return qr=Q()((function*(e,t,r=""){if(Ur&&Array.isArray(t)){var n=Ur.async_report_mode,a=Ur.sync_check_mode;if((!Rr(a)||a===kr.DisableSyncCheck)&&Mr(n)&&n!==Sr.DisableAsyncReport&&"number"==typeof Pr[e]){var i={async_report_mode:n,query_path:(0,Dr.FZ)(),component_type:Pr[e],report_time:Date.now(),content_length:t.length,action_type:Cr.Upload,plugin_app_id:r};if(n===Sr.ReportContentWithImg){var o=[];for(var s of t)o.push(yield Gr(s));i.content=o.join(",")}(0,B.yD)({apiName:"webapi_wxaasyncinputreport",reqData:i,pluginId:r,success:e=>{},fail:e=>{}})}}})),qr.apply(this,arguments)}function zr(e){if(Ur){var t=Ur[`${e}_auth`]===Er.YES;return t&&(0,Pe.showToast)({icon:"none",title:"小程序涉嫌违规该功能暂不可用"}),t}}var Zr,Hr=31,Kr=788,Jr=new Map,Yr=new Map,Qr=!1,Xr=function(){var e=Q()((function*(e){var t;if(!Qr){var{data:r={}}=yield(0,Ar.o)(),{api_cooltime_list:n=[]}=r;for(var{api:a,cooltime:i}of n)Yr.set(a,i);Qr=!0}return null!==(t=Yr.get(e))&&void 0!==t?t:0}));return function(t){return e.apply(this,arguments)}}(),en=function(){var e=Q()((function*(e){var t=yield Xr(e);if(t<=0)return!1;Jr.has(e)||Jr.set(e,0);var r=Jr.get(e),n=Date.now(),a=!0;if(n-r>=t)a=!1;else{var i=(0,Ae.B7)();a=i<r||i>n}return a||Jr.set(e,n),a}));return function(t){return e.apply(this,arguments)}}(),tn=function(){var e=Q()((function*(e,t,r){var n=yield Xr(e);(0,B.YG)(t,r,`can't be invoked in ${n}ms until user taps`)}));return function(t,r,n){return e.apply(this,arguments)}}(),rn=function(e={}){if(zr("choose_image"))(0,B.YG)("chooseImage",e,"This api is temporarily unavailable");else{var t=(0,Ie.hI)(this);(0,B.qu)(t)("chooseImage",(0,cr.f0)({count:9,sizeType:["original","compressed"],sourceType:["album","camera"]},e),{beforeSuccess(e){var r;e.tempFileSizes?e.tempFiles=(e.tempFilePaths||[]).filter((e=>e)).map(((t,r)=>({path:t,size:e.tempFileSizes[r]}))):e.tempFiles=(e.tempFiles||[]).filter((e=>e.path&&"number"==typeof e.size)),delete e.tempFileSizes,null!==(r=e.tempFiles)&&void 0!==r&&r.length&&$r("chooseImage",e.tempFiles.map((e=>e.path)),t)}})}},nn="previewImage",an=function(){var e=Q()((function*(e={}){if((0,B.r3)(nn,e,{urls:[""]})){var t=yield en(Hr),r=O.Z.version,n=O.Z.system,a="7.0.12"===r&&n.indexOf("iOS 13.4")>=0;for(var i of e.urls)if(/^\s*data:image\//.test(i)&&a)return void(0,B.YG)(nn,e,"url can not be base64 on iOS 13.4");var o=Object.assign({},e);o.urls=o.urls.slice(),o.referrerPolicy=o.referrerPolicy||"origin",(0,dr.V)(o.urls,"image",(r=>{var n=o.urls;if(o.urls=[...r.data.map((e=>e.url))],o.current){var a=n.indexOf(o.current);a>=0&&(o.current=o.urls[a])}o.urls&&(o.urls=o.urls.map((e=>ur.LC.get(e)||e))),t?tn(Hr,nn,e):(0,B.IN)(nn,o),Ir(nn,{urls:o.urls||[]},!1,t)}))}}));return function(){return e.apply(this,arguments)}}(),on=(e,t)=>{(0,B.r3)("getImageInfo",e,{src:""})&&(/^wxfile:\/\//.test(e.src)||/^http:\/\/tmp\//.test(e.src)?(0,B.IN)("getImageInfo",e,{beforeSuccess:t=>{t.path=e.src}}):/^(http|https):\/\//.test(e.src)?t({url:e.src,success(t){404!==t.statusCode?(e.src=t.tempFilePath,(0,B.IN)("getImageInfo",e,{beforeSuccess:t=>{t.path=e.src}})):(0,B.YG)("getImageInfo",e,"image not found (404)")},fail(t){(0,B.YG)("getImageInfo",e,"download image fail. reason: "+t.errMsg)}}):(e.src=(0,be.sd)(ye.Z.lastRoute,e.src,!1),(0,B.IN)("getImageInfo",e,{beforeSuccess:t=>{t.path=e.src}})))},sn=function(e={}){e.filePath=ur.LC.get(e.filePath)||e.filePath,(0,B.qu)((0,Ie.hI)(this))("saveImageToPhotosAlbum",e,{})},cn=(e={})=>{var t={src:"",quality:80};t=(0,cr.l7)(t,e),(0,B.r3)("compressImage",t,{src:" ",quality:80})&&(/^wxfile:\/\//.test(e.src)||/^http:\/\/(tmp|store|usr)\//.test(e.src)||(t.src=(0,be.sd)(ye.Z.lastRoute,t.src,!1)),(0,B.IN)("compressImage",t))},ln=d(5042),un=(0,ce.Vl)((e=>{var t=Object.assign({},e),r=[t.src];(0,dr.V)(r,"image",(e=>(t.src=e.data[0].url,on(t,lr.S))))})),dn=1,pn=3,fn=4,hn=5,gn=6,vn=7,mn=({action:e})=>{var t=O.Z.appLaunchInfo||{},r=[O.Z.appType+1e3,e,t.sessionid||t.sessionId||""].join(",");w.reportKeyValue({key:"ShareImageMenu",value:r})},yn=function(){var e=Q()((function*(e){var t=yield new Promise((e=>__sclEngine__.initScl((t=>e(t.mainRoot))))),r=t.append("share-image",{imgPath:e.imgPath,height:e.height,width:e.width,actions:JSON.stringify([{action:"shareToFriend",text:"发送给朋友",imageSrc:"https://res.wx.qq.com/op_res/9uyxJUMf5aP9owCkoJvfePWjtv7dvB_UbB9Mh2QOnIvTu_Q6ulI-q0micEIFzNyo-XSO9_sHyTzCgIXG4zFhDg",imageDarkSrc:"https://res.wx.qq.com/op_res/9uyxJUMf5aP9owCkoJvfePWjtv7dvB_UbB9Mh2QOnIvTu_Q6ulI-q0micEIFzNyo-XSO9_sHyTzCgIXG4zFhDg"},{action:"addToFavorites",text:"收藏",imageSrc:"https://res.wx.qq.com/op_res/UbamEkuHzZDPCFQqhA85ckRvMsATv5uZhqjM2cvJpBJr5Rcv_XUNOkYBJJZGzJkgxqSygrF92hgA4Bthvzb8ng",imageDarkSrc:"https://res.wx.qq.com/op_res/UbamEkuHzZDPCFQqhA85ckRvMsATv5uZhqjM2cvJpBJr5Rcv_XUNOkYBJJZGzJkgxqSygrF92hgA4Bthvzb8ng"},{action:"saveToAlbum",text:"保存到相册",imageSrc:"https://res.wx.qq.com/op_res/BgIIq_VgA_b30mPKYKb4CmnQemMBJMujsqfe6REw4MSf3i_ql8KU-FywDJLSRGRnxQOWW5VphGdXW0Yr2-Z-0g",imageDarkSrc:"https://res.wx.qq.com/op_res/G0_niEOxSlL24rHxfWQRrYEhHlR548A2lETw0Se_jFtJt3ZpHTIaPZPeINUGM3--cFoO5adG9q8jjhNfUzKUxA"}])}),n=(0,ln.vJ)((e=>{[ln.ML.BottomBackButton,ln.ML.NavigationBackInterceptionType,ln.ML.NavigateBackCall].includes(e.type)&&r.handleClose()})),{action:a}=yield new Promise((e=>{["shareToFriend","addToFavorites","saveToAlbum","cancel"].forEach((t=>{r.addListener(t,(()=>e({action:t})))}))}));return(0,ln.J_)(n),{action:a}}));return function(t){return e.apply(this,arguments)}}(),bn=(0,ce.NX)("showShareImageMenu",Q()((function*(e={}){if(!(0,Ze.J)("showShareImageMenu"))throw new Error("no permission");(0,B.zy)(e,{path:""});var t=e.path;if(/^\w+:\/\//.test(t)){if(!/^wxfile:\/\//.test(t)&&!/^http:\/\/tmp\//.test(t))throw new Error("invalid path")}else t="/"+((e,t=!0)=>(0,be.sd)(ye.Z.lastRoute,e,t))(t,!1);var{height:r,width:n}=yield un({src:t}),{action:a}=yield yn({imgPath:t,height:r,width:n});switch(mn({action:dn}),a){case"shareToFriend":try{yield(0,B.bb)("shareImageMessage",{imagePath:t}),mn({action:pn})}catch(e){if("cancel"===e.message)return void mn({action:fn});throw e}return;case"addToFavorites":return mn({action:hn}),void(yield(0,B.bb)("addImageToFavorites",{url:t}));case"saveToAlbum":return mn({action:gn}),yield(0,B.bb)("saveImageToPhotosAlbum",{filePath:t}),void(R.cj&&(0,Pe.showToast)({icon:"success",title:"已保存"}));default:throw mn({action:vn}),new Error("cancel")}}))),_n=(e={})=>{if((0,Ze.J)("sendBizRedPacketForOpen")){var t=(0,me.r)().scene;if(1047!==t&&1124!==t&&1011!==t&&1025!==t){var r=`sendBizRedPacket:fail scene ${t} not support.`;return e.fail&&e.fail({errMsg:r}),void(e.complete&&e.complete({errMsg:r}))}}(0,B.IN)("sendBizRedPacket",e,{})},wn=(e={})=>{(0,B.IN)("sendRedPacket",e,{})},In=(e={})=>{(0,B.IN)("openRedPacket",e,{})},Sn=Object.assign,kn=Object.create,Cn=n.prototype.call.bind(String.prototype.toString),Tn=n.prototype.call.bind(String.prototype.indexOf),En=(e={})=>{if((0,B.r3)("showRedPackage",e,{url:""}))if((0,Ze.J)("showRedPackage")){var t=kn(null);Sn(t,e),t.url=Cn(t.url),t.isNativeStyle=!0,0===Tn(t.url,"https://support.weixin.qq.com/cgi-bin/mmsupport-bin/showredpacket")?(0,B.IN)("private_openUrl",t,{beforeAll(e){e.errMsg=e.errMsg.replace("private_openUrl","showRedPackage")}}):(0,B.YG)("showRedPackage",t,"url is invalid")}else(0,B.YG)("showRedPackage",e,"no permission")},An=d(1770),Pn=e=>{(0,B.IN)("login",(0,cr.f0)(e,{requestInQueue:!1}))},xn=e=>{Zr&&clearTimeout(Zr),(0,B.IN)("refreshSession",e,{beforeSuccess:e=>{Zr=setTimeout((()=>{(0,B.IN)("refreshSession")}),1e3*e.expireIn),delete e.err_code,delete e.expireIn},beforeAll:e=>{e.errMsg=e.errMsg.replace("refreshSession","checkSession")}})},Mn=function(e={}){var t="setPluginLoginAuth",r=(0,Ie.hI)(this),n=Object.assign({},e,{miniprogram_appid:O.Z.accountInfo.appId,auth_status:1}),{success:a,fail:i}=(0,B.Rn)(e,t);(0,B.yD)({sdkApiName:t,apiName:"webapi_plugin_setauth",reqData:n,pluginId:r,success:e=>{Object.assign(e,e.data),delete e.data,a(e)},fail:i})},Rn=d(6760),Dn=d(4084),Ln={cancel:0,accept:1},Nn={scopes:{"scope.devicePanel":{api:"authorize",tmpl:"device-panel",checkArgs:{},checkApi:{name:"webapi_wx_authorize",request:({scope:e})=>({scope:e}),confirm:e=>e.data.need_confirm},opApi:{name:"webapi_wx_authorize_confirm",request:({scope:e,opType:t})=>({scope:e,opt:t?1:2}),success:()=>{}},genData:()=>({wording1:"自动同步所有设备到「发现 - 小程序 - 设备」中",wording2:"同步后，可直接控制使用设备。"})}}},On=["scope.userLocation","scope.userFuzzyLocation"],Bn=(e="gcj02")=>{var t,r=null===O.Z||void 0===O.Z?void 0:O.Z.appLaunchInfo,n=null!==(t=ye.Z.scene)&&void 0!==t?t:null==r?void 0:r.scene;if(1242===n||1245===n){var a,i,o=null==r||null===(a=r.referrerInfo)||void 0===a||null===(i=a.privateExtraData)||void 0===i?void 0:i.location;if(o)return"gcj02"===e?Z()({},o):Gn(o)}return null},jn=(e,{type:t}={},r=!0)=>r?Z()(Z()({},e),{},{type:t,speed:0,altitude:0,accuracy:10,verticalAccuracy:10,horizontalAccuracy:10}):Z()(Z()({},e),{},{type:t}),Fn=Math.PI,Un=6378245,Wn=.006693421622965943,Gn=e=>{if(qn(e.longitude,e.latitude))return Z()({},e);var{latitude:t,longitude:r}=e,n=t/180*Fn,a=Vn(r-105,t-35),i=$n(r-105,t-35),o=Math.sin(n);o=1-Wn*o*o;var s=Math.sqrt(o);return a=180*a/(Un*(1-Wn)/(o*s)*Fn),{longitude:2*r-(r+(i=180*i/(Un/s*Math.cos(n)*Fn))),latitude:2*t-(t+a)}},Vn=(e,t)=>{var r=2*e-100+3*t+.2*t*t+.1*e*t+.2*Math.sqrt(Math.abs(e));return r+=2*(20*Math.sin(6*e*Fn)+20*Math.sin(2*e*Fn))/3,r+=2*(20*Math.sin(t*Fn)+40*Math.sin(t/3*Fn))/3,r+=2*(160*Math.sin(t/12*Fn)+320*Math.sin(t*Fn/30))/3},$n=(e,t)=>{var r=300+e+2*t+.1*e*e+.1*e*t+.1*Math.sqrt(Math.abs(e));return r+=2*(20*Math.sin(6*e*Fn)+20*Math.sin(2*e*Fn))/3,r+=2*(20*Math.sin(e*Fn)+40*Math.sin(e/3*Fn))/3,r+=2*(150*Math.sin(e/12*Fn)+300*Math.sin(e/30*Fn))/3},qn=(e,t)=>!(e>73.66&&e<135.05&&t>3.86&&t<53.55),zn=(()=>{var e=new Rn.Z,t="",r=null,n=[];function a(e){r&&!n.length?(n.push(e),r.des()):e()}function i(n,a,i,s){var{tmpl:c,opApi:l}=a;r||(r=s.mainRoot.append(c,{})),r.addListener("ready",(()=>{if(r)if(r.isReady){var e=o(a,n,r.extra);r.setData(Z()(Z()({},e),{},{enter:!0}))}else r.isReady=!0})),r.addListener("destroy",(a=>{r=null,(0,ln.J_)(i);var{type:o}=a.detail;o?function(e,r,n){(0,B.yD)({sdkApiName:t,apiName:r.name,reqData:r.request(Z()({opType:n},e)),success(a){n===Ln.accept?((0,B.FE)({name:t,args:e,res:a}),r.success()):(0,B.YG)(t,e,"user cancel operation")},fail(r){var n=r.errMsg.replace(`${t}:fail`,"").trim();(0,B.YG)(t,e,n,+r.err_code)}})}(n,l,Ln[o]):e.emit("desComp")}))}function o(e,t,r={}){var n=e.genData(t,r);return Object.assign(n,{appIcon:O.Z.accountInfo.icon||"https://res.wx.qq.com/op_res/yytAZD8UVkSQiY3p1COF23jOcEEUXzIgkoz1dEMh7AaDptVrldnHP_Vw24igHeMwpbwo-RRtTJ-_9hk9BBDqHQ",appName:O.Z.accountInfo.nickname}),n}return e.on("desComp",(()=>{n.forEach((e=>e())),n=[]})),(e,n={})=>{t=n.api,(0,B.r3)(t,e,n.checkArgs)&&(e.deviceName.length>13?(0,B.YG)("requestDeviceVoIP",e,"deviceName length must less 13",Dn.Wkc):__sclEngine__.initScl((s=>{var c=function(e){return(0,ln.vJ)((r=>{[ln.ML.BottomBackButton,ln.ML.NavigationBackInterceptionType,ln.ML.NavigateBackCall].includes(r.type)&&a((()=>{(0,B.YG)(t,e,"user navigate back operation")}))}))}(e);i(e,n,c,s),(0,B.yD)({sdkApiName:t,apiName:n.checkApi.name,reqData:n.checkApi.request(e),success(i){if(!n.checkApi.confirm(i))return delete i.data,void a((()=>{(0,B.FE)({name:t,args:e,res:i})}));if(r)if(r.isReady){var s=o(n,e,i);r.setData(Z()(Z()({},s),{},{enter:!0}))}else r.isReady=!0,r.extra=i},fail(r){var n=r.errMsg.replace(`${t}:fail`,"").trim();a((()=>{(0,B.YG)(t,e,n,+r.err_code)}))}})})))}})();var Zn=(e=>{var t="authorize",r=(0,B.qu)(e);return(e={})=>{(0,B.r3)("authorize",e,{scope:""})&&("scope.userInfo"!==e.scope||(0,Re.KU)("getUserInfo")||(0,Re.KU)("authorize")?!function(e){return Object.keys(Nn.scopes).includes(e)}(e.scope)?e.scope&&Bn()&&On.includes(e.scope)?setTimeout((()=>(0,B.F0)({},t,e,{})),100):r(t,(0,cr.f0)(e,{scope:[e.scope],requestInQueue:!0}),{beforeAll(e){delete e.body,void 0!==e.err_code&&(e.errCode=e.err_code,delete e.err_code)}}):Object.entries(Nn.scopes).forEach((([t,r])=>{t===e.scope&&zn(e,r)})):(0,B.YG)("authorize",e,"scope unauthorized"))}})(),Hn=d(5489);var Kn=(0,B.TG)("getSetting","webapi_getuserallappauth",(function(e){var t=O.Z.SDKVersion,r=Object.assign({with_sub_msg:"boolean"==typeof e.withSubscriptions&&e.withSubscriptions,version:t},e);return delete r.withSubscriptions,r}),(function(e){if(f.info("webapi_getuserallappauth res=",e),e.auth_item?e.authSetting=e.auth_item.reduce(((e,t)=>(e[t.scope]=1===t.state,e)),{}):e.authSetting={},void 0!==e.sub_msg_switch){var t={mainSwitch:1===e.sub_msg_switch};if(e.sub_msg_list){var r=e.sub_msg_list.reduce(((e,t)=>{var r=t.template_id;return t.sys_msg_type>0&&(r=(0,Hn.r)(t.sys_msg_type)),t.ban_flag?e[r]="ban":(e[r]=t.setting_status?"accept":"reject",t.is_accept_with_audio?e[r]="acceptWithAudio":t.is_accept_with_force_push&&(e[r]="acceptWithForcePush")),e}),{});t.itemSettings=r,Object.assign(t,r)}e.subscriptionsSetting=t}return delete e.signature,delete e.auth_item,delete e.sub_msg_list,delete e.sub_msg_switch,e})),Jn=d(7997),Yn=d(9789),Qn=function(e={}){var t=(0,Ie.hI)(this);(0,B.qu)(t)("openWeRunSetting",{checkSupport:!0,success(){var{success:r,fail:n}=(0,B.Rn)(e);(0,B.yD)({apiName:"webapi_getwerunstep_history",sdkApiName:"getWeRunData",reqData:{},success(e){r(e),setTimeout((()=>(0,Yn.jj)(t,"wx.getWeRunData")))},fail:n})},fail(t){t.errMsg=t.errMsg.replace("openWeRunSetting","getWeRunData"),"function"==typeof e.fail&&_.surroundThirdByTryCatch(e.fail,"at api getWeRunData fail callback function")(t),"function"==typeof e.complete&&_.surroundThirdByTryCatch(e.complete,"at api getWeRunData fail callback function")(t)}})},Xn=(e={})=>{"number"!=typeof e.step||e.step<0?(0,B.YG)("uploadWeRunData",e,"parameter error: step should be number and greater or equal to 0"):(0,B.IN)("openWeRunSetting",{checkSupport:!1,success(){(0,B.IN)("uploadWeRunData",e,{})},fail(t){t.errMsg=t.errMsg.replace("openWeRunSetting","uploadWeRunData"),"function"==typeof e.fail&&_.surroundThirdByTryCatch(e.fail,"at api uploadWeRunData fail callback function")(t),"function"==typeof e.complete&&_.surroundThirdByTryCatch(e.complete,"at api uploadWeRunData fail callback function")(t)}})},ea=(e={})=>{"number"!=typeof e.step||e.step<0?(0,B.YG)("addWeRunData",e,"parameter error: step should be number and greater or equal to 0"):(0,B.IN)("openWeRunSetting",{checkSupport:!1,success(){(0,B.IN)("addWeRunData",e,{})},fail(t){t.errMsg=t.errMsg.replace("openWeRunSetting","addWeRunData"),"function"==typeof e.fail&&_.surroundThirdByTryCatch(e.fail,"at api addWeRunData fail callback function")(t),"function"==typeof e.complete&&_.surroundThirdByTryCatch(e.complete,"at api addWeRunData fail callback function")(t)}})},ta=e=>(t={})=>{(0,B.r3)("operateWXData",t,{apiName:""})&&(0,B.t4)({apiName:t.apiName,reqData:t.reqData||{},pluginId:e?t.pluginId:void 0,timeout:t.timeout,success(e){"function"==typeof t.success&&t.success(e)},fail(e){"function"==typeof t.fail&&t.fail(e)},complete(e){"function"==typeof t.complete&&t.complete(e)}})},ra=ta(!1),na=(ta(!0),(0,B.TG)("getUserGameLabel","webapi_getgameplayerlabel",(()=>{}),(e=>e))),aa=d(4141),ia=(0,B.TG)("checkIsUserAdvisedToRest ","webapi_getplaytimelimit",(({todayPlayedTime:e=0})=>({today_played_seconds:e})),(e=>{e.result=!e.is_healthy,delete e.is_healthy})),oa=e=>{(0,B.r3)("checkIsUserAdvisedToRest",e,{todayPlayedTime:0})&&ia(e)},sa="";O.Z.onReady((()=>{sa=O.Z.appLaunchInfo.chatroomUsername})),(0,Ke.n)("onAppEnterForeground",((e={})=>{sa=e.chatroomUsername}));var ca="getGroupEnterInfo",la=(e={})=>{var{success:t,fail:r,failWithMsg:n}=(0,B.Rn)(e,ca);sa?(0,Ze.J)("getGroupToolbarInfo")?(0,B.yD)({sdkApiName:ca,apiName:"webapi_swapopengid",reqData:{chatroom_name:sa},success:t,fail:r}):n({msg:"no permission"}):n({msg:"invalid scene"})},ua=(e={})=>{var t=O.Z.SDKVersion,r=!0===(0,Re.KU)("getUserInfo")||"unknown"===(0,Re.KU)("getUserInfo"),{success:n,fail:a}=(0,B.Rn)(e,"getUserInfo");(0,B.yD)({sdkApiName:"getUserInfo",apiName:"webapi_getuserinfo",reqData:{lang:e.lang||"en",version:t},withCredentials:"boolean"!=typeof e.withCredentials||e.withCredentials,showConfirm:r,success:e=>{var{cloudID:t,encryptedData:r,iv:a,signature:i,data:o}=e;n({cloudID:t,encryptedData:r,iv:a,signature:i,userInfo:o,rawData:JSON.stringify(e.data)}),(0,R.aI)()&&setTimeout((()=>(0,Yn.$J)("","wx.getUserInfo")))},fail:e=>{e.errMsg=e.errMsg.replace(/fail:scope unauthorized|fail auth denied/,"fail auth deny"),a(e)}})},da=d(5737),pa=d(418),fa=function(e={}){(0,da.e)(Object.assign({},e,{complete(t){(0,pa.eu)({user_action:[pa.Vw.USER_ACTION_APPLY_HEADIMG_NICKNAME]}).then((({need_pop_up_grant_window:e,interface_config:t,user_grant_info_list:r})=>{e&&(0,pa.rL)(t,r,!0)})).catch((e=>{f.error("getUserGrantInfo fail",e)})),"function"==typeof e.complete&&e.complete(t)}}))},ha=(e={})=>{setTimeout((()=>{(0,B.IN)("getBatteryInfo",e)}),0)},ga=()=>{var e={level:100,isCharging:!0};if((0,B.IN)("getBatteryInfo",{complete:t=>e=t}),e.errMsg=e.errMsg?e.errMsg.replace("getBatteryInfo","getBatteryInfoSync"):"getBatteryInfoSync:ok",/fail/.test(e.errMsg))throw new Error(e.errMsg);return e},va=!1,ma=(0,j.s)("accelerometerChange"),ya=(e={})=>{var t={fast:0,game:20,ui:60,normal:200},r=void 0!==t[e.interval]?t[e.interval]:t.normal,n=(0,cr.f0)(e,{interval:r,enable:!0});(0,B.IN)("enableAccelerometer",n,{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableAccelerometer","startAccelerometer")}}),va=!0},ba=(e={})=>{(0,B.IN)("enableAccelerometer",(0,cr.f0)(e,{enable:!1}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableAccelerometer","stopAccelerometer")}}),va=!1},_a=ma.onMethod,wa=ma.offMethod,Ia=e=>{va||((0,B.IN)("enableAccelerometer",{enable:!0}),va=!0),_a(e)};(0,B.jQ)("onAccelerometerChange",((e={})=>{O.Z.clientVersion>=369558016&&O.Z.clientVersion<369558272&&(e.x&&(e.x/=180/Math.PI),e.y&&(e.y/=180/Math.PI),e.z&&(e.z/=180/Math.PI)),ma.emit(e)}));var Sa=!1,ka=(0,j.s)("compassChange"),Ca=(e={})=>{(0,B.IN)("enableCompass",(0,cr.f0)(e,{enable:!0}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableCompass","startCompass")}}),Sa=!0},Ta=(e={})=>{(0,B.IN)("enableCompass",(0,cr.f0)(e,{enable:!1}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableCompass","stopCompass")}}),Sa=!1},Ea=ka.onMethod,Aa=ka.offMethod,Pa=e=>{Sa||((0,B.IN)("enableCompass",{enable:!0}),Sa=!0),Ea(e)};(0,B.jQ)("onCompassChange",((e={})=>{ka.emit(e)}));var xa=(e={})=>{(0,B.IN)("getClipboardData",e,{beforeSuccess(){var e;if(!(0,R.tK)()){var t=(null===(e=O.Z.accountInfo)||void 0===e?void 0:e.nickname)||"小程序";(0,B.be)("showToast",{icon:"",title:`“${t}”读取了你的剪切板内容`})}}})},Ma=(e={})=>{(0,B.r3)("setClipboardData",e,{data:""})&&(0,B.IN)("setClipboardData",e,{beforeSuccess(){(0,B.be)("showToast",{icon:"",title:"内容已复制"})}})},Ra=(e={})=>{if(e.uuids)if(Array.isArray(e.uuids)){if(0!==e.uuids.length){var t=new RegExp(/^[0-9a-f]{4}$|^[0-9a-f]{8}$|^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i);if(!e.uuids.some((e=>"string"==typeof e&&t.test(e))))return void(0,B.YG)("startBeaconDiscovery",e,"invalid service uuid")}(0,B.IN)("startBeaconDiscovery",e)}else(0,B.YG)("startBeaconDiscovery",e,"uuid must be an Array");else(0,B.YG)("startBeaconDiscovery",e,"must have uuid")},Da=(e={})=>{(0,B.IN)("stopBeaconDiscovery",e)},La=(e={})=>{(0,B.IN)("getBeacons",e)},Na=e=>{(0,B.r3)("onBeaconUpdate",e,J.ZT)&&(0,B.jQ)("onBeaconUpdated",_.surroundThirdByTryCatch(e,"at onBeaconUpdate callback function"))},Oa=()=>{(0,B.jQ)("onBeaconUpdated",(()=>{}))},Ba=e=>{(0,B.r3)("onBeaconServiceChange",e,J.ZT)&&(0,B.jQ)("onBeaconServiceChanged",_.surroundThirdByTryCatch(e,"at onBeaconServiceChange callback function"))},ja=()=>{(0,B.jQ)("onBeaconServiceChanged",(()=>{}))},Fa=(e={})=>{(0,B.IN)("captureScreen",e,{})},Ua=(0,j.s)("userCaptureScreen"),Wa=Ua.onMethod,Ga=(Ua.offMethod,null);(0,Ke.n)("onUserCaptureScreen",(e=>{"function"==typeof Ga&&Ga(e),Ua.emit(e)}));var Va=e=>{Ga=_.surroundThirdByTryCatch(e,"at onUserCaptureScreen callback function")},$a=()=>{Ga=null};O.Z.onReady((()=>{var e,t,r,n=1092===(null===(e=O.Z.appLaunchInfo)||void 0===e?void 0:e.scene),a=null===(t=O.Z.appLaunchInfo)||void 0===t||null===(r=t.referrerInfo)||void 0===r?void 0:r.extraData;(0,Ke.n)("onAppEnterForeground",(e=>{var t;n=1092===e.scene,a=null===(t=e.referrerInfo)||void 0===t?void 0:t.extraData})),(0,Ke.n)("onUserCaptureScreen",(()=>{var e,t,r=ye.Z.lastRoute||"",i=ye.Z.query||{};"object"==typeof i&&(i=Object.keys(i).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(i[e])}`)).join("&")),w.reportKeyValue({key:"MiniprogramOnUserCaptureScreen",value:[r,i].join(",")}),n&&(null===(e=a)||void 0===e?void 0:e.csSessionId)&&(0,B.yD)({apiName:"webapi_reportwxacityservicescreenshot",reqData:{report_type:1,cs_session_id:null===(t=a)||void 0===t?void 0:t.csSessionId}})}))}));var qa=(e={})=>{(0,B.IN)("getScreenBrightness",e,{})},za=(e={})=>{(0,B.IN)("setScreenBrightness",e,{})},Za=(e={})=>{(0,B.r3)("setKeepScreenOn",e,{keepScreenOn:!0})&&(0,B.IN)("setKeepScreenOn",e,{})},Ha=(e={})=>{var t=Object.assign({},e);t.style=t.type,(0,B.IN)("vibrateShort",t,{})},Ka=(e={})=>{(0,B.IN)("vibrateLong",e,{})},Ja=function(e={}){(0,B.qu)((0,Ie.hI)(this))("openBluetoothAdapter",e,{})},Ya=(e={})=>{(0,B.IN)("closeBluetoothAdapter",e,{})},Qa=(e={})=>{(0,B.IN)("getBluetoothAdapterState",e,{})},Xa=(e={})=>{if(e.services){if(!Array.isArray(e.services))return void(0,B.YG)("startBluetoothDevicesDiscovery",{},"services must be an Array");if(0!==e.services.length){var t=new RegExp(/^[0-9a-f]{4}$|^[0-9a-f]{8}$|^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i);if(!e.services.some((e=>"string"==typeof e&&t.test(e))))return void(0,B.YG)("startBluetoothDevicesDiscovery",{},"invalid service uuid");e.services=e.services.map((e=>(R.wZ&&(e=e.toUpperCase()),4===e.length?`0000${e}-0000-1000-8000-00805F9B34FB`:8===e.length?`${e}-0000-1000-8000-00805F9B34FB`:e)))}}(0,B.IN)("startBluetoothDevicesDiscovery",e,{})},ei=(e={})=>{(0,B.IN)("stopBluetoothDevicesDiscovery",e,{})},ti=(e={})=>{(0,B.IN)("getBluetoothDevices",e,{beforeSuccess(e){Array.isArray(e.devices)||(e.devices=[]),e.devices.map((e=>{if(e.name||(e.name="未知设备"),e.advertisData&&(e.advertisData=(0,ee.RG)(e.advertisData)),e.serviceData){var t=e.serviceData;Object.keys(t).forEach((e=>{t[e]&&(t[e]=(0,ee.RG)(t[e]))}))}return e}))}})},ri=(e={})=>{(0,B.r3)("getBLEDeviceRSSI",e,{deviceId:""})&&(0,B.IN)("getBLEDeviceRSSI",e)},ni=(e={})=>{if(e.services){if(!Array.isArray(e.services))return void(0,B.YG)("getConnectedBluetoothDevices",e,"services must be an Array");if(0!==e.services.length){var t=new RegExp(/^[0-9a-f]{4}$|^[0-9a-f]{8}$|^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i);if(!e.services.some((e=>"string"==typeof e&&t.test(e))))return void(0,B.YG)("getConnectedBluetoothDevices",{},"invalid service uuid");e.services=e.services.map((e=>(R.wZ&&(e=e.toUpperCase()),4===e.length?`0000${e}-0000-1000-8000-00805F9B34FB`:8===e.length?`${e}-0000-1000-8000-00805F9B34FB`:e)))}}(0,B.IN)("getConnectedBluetoothDevices",e,{beforeSuccess(e){Array.isArray(e.devices)||(e.devices=[]),e.devices=e.devices.map((e=>(e.name||(e.name="未知设备"),e.advertisData&&(e.advertisData=(0,ee.RG)(e.advertisData)),e)))}})},ai=(e={})=>{e.type="getAll",(0,B.IN)("operateGlobalMonitoredBluetoothDevice",e,{beforeAll(e){var t="operateGlobalMonitoredBluetoothDevice:fail";e.errMsg.includes(t)?e.errMsg=e.errMsg.replace(t,""):delete e.errMsg},beforeSuccess(e){e.devices.forEach((e=>{e.appId&&(e.appid=e.appId,delete e.appId),e.sn=e.deviceId,delete e.deviceId}))}})},ii=[];(new Rn.Z).on("_updateMonitorDevices",(function(){((e={})=>{ai({success(t){var r=t.devices.filter((e=>e.appid===O.Z.accountInfo.appId));r.forEach((e=>{e.deviceId=e.bluetoothDeviceId,delete e.bluetoothDeviceId,delete e.appid})),(0,B.F0)({devices:r},"getMonitoredBluetoothDevices",e,{})},fail(t){(0,B.YG)("getMonitoredBluetoothDevices",e,t.errMsg)}})})({success(e){e.devices&&(ii=e.devices)}})}));new Rn.Z;var oi=()=>O.Z&&Array.isArray(O.Z.requiredBackgroundModes)&&O.Z.requiredBackgroundModes.includes("bluetooth"),si=d(7584),ci=null;function li(){var e;return null===ci?!(null===(e=O.Z.appLaunchInfo)||void 0===e||!e.inBackground):ci}var ui=(0,j.s)("onBLEConnectionStateChanged"),di=ui.onMethod,pi=ui.offMethod,fi=ui.internalOnMethod;(0,B.jQ)("onBLEConnectionStateChanged",(e=>{ui.emit(e)}));var hi=(0,j.s)("onBluetoothAdapterStateChange"),gi=hi.onMethod,vi=hi.offMethod,mi=hi.internalOnMethod;(0,B.jQ)("onBluetoothAdapterStateChange",(e=>{hi.emit(e)}));var yi,bi=n.prototype.call.bind(Object.prototype.hasOwnProperty),_i=(yi=Object.create(null),{add(e){yi[e]=e},remove(e){delete yi[e]},has:e=>bi(yi,e),clear(){yi=Object.create(null)}});fi((e=>{e&&(e.connected?_i.add(e.deviceId):_i.remove(e.deviceId))})),mi((e=>{e&&!e.available&&_i.clear()}));var wi=new Rn.Z;Object.create(null);var Ii=!1,Si=!1,ki=[];(0,ke.T)((()=>{Ii=!1})),(0,si.J)((()=>{Ii=!0})),wi.on("_setBluetoothBackgroundMode",(e=>{Si=e.enable,ki=e.devices.map((e=>e.deviceId))}));var Ci,Ti=(e,t)=>{var r=Ii||li();!function(e){return ii.some((t=>t.deviceId===e))}(e)&&r&&Si?t(!((e=>_i.has(e))(e)&&ki.includes(e))):t(!1)},Ei=(e={})=>{(0,B.r3)("createBLEConnection",e,{deviceId:""})&&(oi()?Ti(e.deviceId,(t=>{t?(0,B.YG)("createBLEConnection",e,"connect unknown devices is not allowed in bluetooth background mode",10015):(0,B.IN)("createBLEConnection",e,{})})):(0,B.IN)("createBLEConnection",e,{}))},Ai=(e={})=>{(0,B.r3)("closeBLEConnection",e,{deviceId:""})&&(0,B.IN)("closeBLEConnection",e,{})},Pi=(e={})=>{(0,B.r3)("getBLEDeviceServices",e,{deviceId:""})&&(0,B.IN)("getBLEDeviceServices",e,{beforeSuccess(e){Array.isArray(e.services)||(e.services=[]),void 0===e.errCode&&(e.errCode=0)}})},xi=(e={})=>{(0,B.r3)("getBLEDeviceCharacteristics",e,{deviceId:"",serviceId:""})&&(0,B.IN)("getBLEDeviceCharacteristics",Object.assign({},e,{serviceId:R.wZ?e.serviceId.toUpperCase():e.serviceId}),{beforeSuccess(e){Array.isArray(e.characteristics)||(e.characteristics=[])}})},Mi=(e={})=>{(0,B.r3)("notifyBLECharacteristicValueChanged",e,{state:!0,deviceId:"",serviceId:"",characteristicId:""})&&(0,B.IN)("notifyBLECharacteristicValueChanged",Object.assign({},e,{serviceId:R.wZ?e.serviceId.toUpperCase():e.serviceId,characteristicId:R.wZ?e.characteristicId.toUpperCase():e.characteristicId}),{})},Ri=(e={})=>{(0,B.r3)("notifyBLECharacteristicValueChange",e,{state:!0,deviceId:"",serviceId:"",characteristicId:""})&&(0,B.IN)("notifyBLECharacteristicValueChanged",Object.assign({},e,{serviceId:R.wZ?e.serviceId.toUpperCase():e.serviceId,characteristicId:R.wZ?e.characteristicId.toUpperCase():e.characteristicId}),{beforeAll(e){void 0!==e.errCode&&(e.errCode=Number(e.errCode)),e.errMsg=e.errMsg.replace("notifyBLECharacteristicValueChanged","notifyBLECharacteristicValueChange")}})},Di=(e={})=>{(0,B.r3)("readBLECharacteristicValue",e,{deviceId:"",serviceId:"",characteristicId:""})&&(0,B.IN)("readBLECharacteristicValue",Object.assign({},e,{serviceId:R.wZ?e.serviceId.toUpperCase():e.serviceId,characteristicId:R.wZ?e.characteristicId.toUpperCase():e.characteristicId}),{})},Li=(e={})=>{(0,B.r3)("writeBLECharacteristicValue",e,{value:new ArrayBuffer(0),deviceId:"",serviceId:"",characteristicId:""})&&(!e.writeType||Ni(e.writeType)?(0,B.IN)("writeBLECharacteristicValue",Object.assign({},e,{value:(0,ee.sM)(e.value),serviceId:e.serviceId.toUpperCase(),characteristicId:R.wZ?e.characteristicId.toUpperCase():e.characteristicId}),{}):(0,B.YG)("writeBLECharacteristicValue",e,"invalid writeType"))},Ni=e=>["write","writeNoResponse"].includes(e),Oi=e=>{(0,B.jQ)("onBLEConnectionStateChanged",_.surroundThirdByTryCatch(e,"at onBLEConnectionStateChanged callback function"))},Bi=()=>{(0,B.jQ)("onBLEConnectionStateChanged",(()=>{}))},ji=e=>{(0,B.jQ)("onBLECharacteristicValueChange",((t={})=>{"string"==typeof t.value&&(t.value=(0,ee.RG)(t.value)),_.surroundThirdByTryCatch(e,"at onBLECharacteristicValueChange callback function")(t)}))},Fi=()=>{(0,B.jQ)("onBLECharacteristicValueChange",(()=>{}))},Ui=e=>{(0,B.jQ)("onBluetoothDeviceFound",((t={})=>{var r=[];Array.isArray(t.devices)?r=t.devices:r.push(t),r=r.map((e=>{try{e.advertisData=(0,ee.RG)(e.advertisData)}catch(e){}try{var t=e.serviceData||{};Object.keys(t).forEach((e=>{t[e]&&(t[e]=(0,ee.RG)(t[e]))}))}catch(e){}return e})),_.surroundThirdByTryCatch(e,"at onBluetoothDeviceFound callback function")({devices:r})}))},Wi=()=>{(0,B.jQ)("onBluetoothDeviceFound",(()=>{}))},Gi=(e,t)=>Object.assign({},e,{[t]:(0,ee.sM)(e[t])}),Vi=e=>!(e>=0&&e<65536),$i=new Rn.Z,qi=new WeakMap,zi=new WeakMap,Zi=function(e,t){var r=`${qi.get(this)}_on${e}`,n=r=>{_.surroundThirdByTryCatch(t,`at BLEPeripheralServer.on${e} callback function`)(r)};zi.get(this).set(t,n),$i.on(r,n)},Hi=function(e,t){var r=`${qi.get(this)}_on${e}`,n=zi.get(this);if((0,J.mf)(t)){var a=n.get(t);(0,J.mf)(a)&&(n.delete(t),$i.off(r,a))}else zi.set(this,new WeakMap),$i.removeAllListeners(r)},Ki=(0,j.s)("CharacteristicReadRequest");Ki.onMethod,Ki.offMethod;(0,B.jQ)("onCharacteristicReadRequest",((e={})=>{$i.emit(`${e.serverId}_onCharacteristicReadRequest`,e),Ki.emit(e)}));var Ji=(0,j.s)("CharacteristicWriteRequest");Ji.onMethod,Ji.offMethod;(0,B.jQ)("onCharacteristicWriteRequest",((e={})=>{"string"==typeof e.value&&(e.value=(0,ee.RG)(e.value)),$i.emit(`${e.serverId}_onCharacteristicWriteRequest`,e),Ji.emit(e)}));var Yi=(0,j.s)("CharacteristicSubscribed");Yi.onMethod,Yi.offMethod;(0,B.jQ)("onCharacteristicSubscribed",((e={})=>{$i.emit(`${e.serverId}_onCharacteristicSubscribed`,e),Yi.emit(e)}));var Qi=(0,j.s)("CharacteristicUnsubscribed");Qi.onMethod,Qi.offMethod;(0,B.jQ)("onCharacteristicUnsubscribed",((e={})=>{$i.emit(`${e.serverId}_onCharacteristicUnsubscribed`,e),Qi.emit(e)}));var Xi=(Ci=class{constructor(e){this.serverId=e,this.services=[],qi.set(this,e),zi.set(this,new WeakMap);["CharacteristicReadRequest","CharacteristicWriteRequest","CharacteristicSubscribed","CharacteristicUnsubscribed"].forEach((e=>{this[`on${e}`]=t=>{Zi.call(this,e,t)},this[`off${e}`]=t=>{Hi.call(this,e,t)}}))}close(e={}){var t=this,r=Object.assign({},e,{serverId:this.serverId});(0,B.IN)("closeBLEPeripheralServer",r,{beforeSuccess(){t.serverId="",qi.delete(t)}})}addService(e={}){if((0,B.r3)("BLEPeripheralServer.addService",e,{service:{}})){var t=e.service.characteristics||[];t=t.map((e=>{var t=e.descriptors||[];return t=t.map((e=>Gi(e,"value"))),Object.assign({},e,{value:(0,ee.sM)(e.value),descriptors:t})}));var r=Object.assign({},e,{serverId:this.serverId,service:{uuid:e.service.uuid,characteristics:t}}),n=this;(0,B.IN)("addBLEPeripheralService",r,{beforeSuccess(){n.services.push(e.service.uuid)}})}}removeService(e={}){if((0,B.r3)("BLEPeripheralServer.removeService",e,{serviceId:""})){var t=this,r=Object.assign({},e,{serverId:this.serverId});(0,B.IN)("removeBLEPeripheralService",r,{beforeSuccess(){var r=t.services.indexOf(e.serviceId);r>=0&&t.services.splice(r,1)}})}}startAdvertising(e={}){if((0,B.r3)("BLEPeripheralServer.startAdvertising",e,{advertiseRequest:{}})){var t=e.advertiseRequest||{},r={connectable:!0};if(t.beacon){if(t.deviceName||t.serviceUuids||t.manufacturerData)throw new Error("iBeacon mode only accept connectable and beacon properties");if(!(0,B.r3)("BLEPeripheralServer.startAdvertising",t,{beacon:{uuid:"",major:0,minor:0}}))throw new Error("iBeacon mode must include [uuid、major、minor] properties");if(Vi(t.beacon.major)||Vi(t.beacon.minor))throw new Error("major or minor must be between 0 and 65536");r=Object.assign(r,t)}else{var n=t.manufacturerData||[];n=n.map((e=>Gi(e,"manufacturerSpecificData"))),r=Object.assign(r,t,{manufacturerData:n})}var a=Object.assign({},e,{serverId:this.serverId,advertiseRequest:r,powerLevel:e.powerLevel||"medium"});(0,B.IN)("startBLEPeripheralAdvertising",a,{})}}stopAdvertising(e={}){var t=Object.assign({},e,{serverId:this.serverId});(0,B.IN)("stopBLEPeripheralAdvertising",t,{})}writeCharacteristicValue(e={}){var t=Object.assign({},e,{serverId:this.serverId,value:(0,ee.sM)(e.value)});(0,B.IN)("writeBLEPeripheralCharacteristicValue",t,{})}},E()(Ci.prototype,"close",[H.Qu],Object.getOwnPropertyDescriptor(Ci.prototype,"close"),Ci.prototype),E()(Ci.prototype,"addService",[H.Qu],Object.getOwnPropertyDescriptor(Ci.prototype,"addService"),Ci.prototype),E()(Ci.prototype,"removeService",[H.Qu],Object.getOwnPropertyDescriptor(Ci.prototype,"removeService"),Ci.prototype),E()(Ci.prototype,"startAdvertising",[H.Qu],Object.getOwnPropertyDescriptor(Ci.prototype,"startAdvertising"),Ci.prototype),E()(Ci.prototype,"stopAdvertising",[H.Qu],Object.getOwnPropertyDescriptor(Ci.prototype,"stopAdvertising"),Ci.prototype),E()(Ci.prototype,"writeCharacteristicValue",[H.Qu],Object.getOwnPropertyDescriptor(Ci.prototype,"writeCharacteristicValue"),Ci.prototype),Ci),eo=function(e={}){(0,B.qu)((0,Ie.hI)(this))("createBLEPeripheralServer",e,{beforeSuccess(e){var t=e.serverId,r=new Xi(t);delete e.serverId,e.server=r}})},to=(0,j.s)("BLEPeripheralConnectionStateChanged"),ro=to.onMethod,no=to.offMethod;(0,B.jQ)("onBLEPeripheralConnectionStateChanged",((e={})=>{to.emit(e)}));var ao=(e={})=>{if((0,B.r3)("makeBluetoothPair",e,{deviceId:""})){var t=Object.assign({},e);(0,J.eP)(e.pin||null)&&(t.pin=(0,ee.sM)(e.pin)),(0,B.IN)("makeBluetoothPair",t)}},io=(e={})=>{(0,B.r3)("isBluetoothDevicePaired",e,{deviceId:""})&&(0,B.IN)("isBluetoothDevicePaired",e)},oo=(e={})=>{R.wZ?(0,B.r3)("setBLEMTU",e,{deviceId:"",mtu:0})&&(0,B.IN)("setBLEMTU",e,{}):(0,B.YG)("setBLEMTU",e,"can only be invoked on android")},so=(0,j.s)("onBLEMTUChange"),co={},lo=so.onMethod,uo=so.offMethod;R.wZ&&(0,B.jQ)("onBLEMTUChange",(e=>{e.deviceId&&e.mtu&&(Object.keys(co).forEach((e=>{delete co[e]})),co[e.deviceId]={mtu:e.mtu}),so.emit(e)}));var po=(e={})=>{if((0,B.r3)("getBLEMTU",e,{deviceId:""}))if(R.wZ){var t=co[e.deviceId],r={mtu:t?t.mtu:23};(0,B.F0)(r,"getBLEMTU",e,{})}else{if(e.writeType)if(!["write","writeNoResponse"].includes(e.writeType))return void(0,B.YG)("getBLEMTU",e,"invalid write type");(0,B.IN)("getBLEMTU",e,{})}},fo=(0,j.s)("local-service-found"),ho=(0,j.s)("local-service-lost"),go=(0,j.s)("local-service-discovery"),vo=(0,j.s)("local-service-resolve-fail"),mo=(e={})=>{(0,B.IN)("operateLocalServicesScan",Object.assign({},e,{action:"start"}),{beforeSuccess:e=>e.errMsg=e.errMsg.replace("operateLocalServicesScan","startLocalServiceDiscovery"),beforeFail:e=>e.errMsg=e.errMsg.replace("operateLocalServicesScan","startLocalServiceDiscovery")})},yo=(e={})=>{(0,B.IN)("operateLocalServicesScan",Object.assign({},e,{action:"stop"}),{beforeSuccess:e=>e.errMsg=e.errMsg.replace("operateLocalServicesScan","stopLocalServiceDiscovery"),beforeFail:e=>e.errMsg=e.errMsg.replace("operateLocalServicesScan","stopLocalServiceDiscovery")})};(0,B.jQ)("onLocalServiceEvent",(e=>{var t=Object.assign({},e);switch("object"==typeof t.attributes&&null!==t.attributes&&Object.keys(t.attributes).forEach((e=>{var r=t.attributes[e];t.attributes[e]=(0,ee.RG)(r)})),delete t.event,e.event){case"found":fo.emit(t);break;case"lost":ho.emit(t);break;case"stopScan":delete t.serviceType,delete t.serviceName,delete t.ip,delete t.port,go.emit(t);break;case"resolveFail":delete t.ip,delete t.port,vo.emit(t)}}));var bo=fo.onMethod,_o=fo.offMethod,wo=ho.onMethod,Io=ho.offMethod,So=go.onMethod,ko=go.offMethod,Co=vo.onMethod,To=vo.offMethod,Eo=(0,j.s)("gyroscopeChange"),Ao=(e={})=>{var t={fast:0,game:20,ui:60,normal:200},r=t[e.interval]||t.normal;(0,B.IN)("enableGyroscope",(0,cr.f0)(e,{interval:r,enable:!0}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableGyroscope","startGyroscope")}})},Po=(e={})=>{(0,B.IN)("enableGyroscope",(0,cr.f0)(e,{enable:!1}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableGyroscope","stopGyroscope")}})},xo=Eo.onMethod,Mo=Eo.offMethod;(0,B.jQ)("onGyroscopeChange",(e=>{Eo.emit(e)}));var Ro=(0,j.s)("deviceMotionChange"),Do=(e={})=>{var t={fast:0,game:20,ui:60,normal:200},r=t[e.interval]||t.normal;(0,B.IN)("enableDeviceMotionChangeListening",(0,cr.f0)(e,{interval:r,enable:!0}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableDeviceMotionChangeListening","startDeviceMotionListening")}})},Lo=(e={})=>{(0,B.IN)("enableDeviceMotionChangeListening",(0,cr.f0)(e,{enable:!1}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableDeviceMotionChangeListening","stopDeviceMotionListening")}})},No=Ro.onMethod,Oo=Ro.offMethod;(0,B.jQ)("onDeviceMotionChange",(e=>{Ro.emit(e)}));var Bo=e=>{R.cj||R.wZ?(0,B.IN)("getIPAddress",e,{beforeAll(e){e.errMsg=e.errMsg.replace("getIPAddress","getLocalIPAddress")}}):(0,B.IN)("getLocalIPAddress",e)},jo=d(1893),Fo=d(8510),Uo=d(4157),Wo=void 0,Go=!1;function Vo(){return new Wo}o.onLoad((()=>{Wo=M.Z&&M.Z.WXAUDIO?M.Z.WXAUDIO:M.Z&&M.Z.AudioContext?M.Z.AudioContext:"undefined"!=typeof AudioContext?AudioContext:"undefined"!=typeof webkitAudioContext?webkitAudioContext:null,Go=!0}));var $o=d(9628),qo=d(6299),zo=d(1691),Zo={"jsapi-1.0":{duringPlayToRealPlay:{firstPlay:[],notFirstPlay:[]},playCount:0,realPlayCount:0,playErrorCount:0},"useWebAudioImplement-1.0":{duringPlayToRealPlay:{firstPlay:[],notFirstPlay:[]},playCount:0,realPlayCount:0,playErrorCount:0}},Ho={},Ko=(e,t)=>t+"-"+e,Jo=(e,t,r)=>{if(t){Zo[e].playCount++;var n=Ko(t,r);Ho[n]?(Ho[n].playCount++,Ho[n].playBeginTime=Date.now()):Ho[n]={playCount:1,playBeginTime:Date.now()}}},Yo=(e,t,r,n)=>{Zo[e].realPlayCount++;var a=Ko(t,r);if(t&&Ho[a]){var i=n-Ho[a].playBeginTime,o=1===Ho[a].playCount?"firstPlay":"notFirstPlay";Zo[e].duringPlayToRealPlay[o].push(i)}},Qo=({mediaType:e,implementType:t,mediaInstanceId:r,actionType:n,actionStatus:a,costTime:i,src:o,errmsg:s})=>{Zo[t].playErrorCount++,Zo[t].playErrorCount>1||w.reportKeyValue({key:"MediaApi",value:[(0,Je._getCurrentNetworkType)(),(0,st.k)()+" "+(0,st.n)(),e,t,r,n,a,i,(0,zo.c)(`"${o}" fail: ${s}`)].join(",")})};(0,pr.vv)((()=>{(0,R.aI)()&&Math.random()<.1&&Object.keys(Zo).forEach((e=>{var t=Zo[e],r=t.duringPlayToRealPlay;Object.keys(r).forEach((t=>{var n=r[t];if(n.length>0){var a=n.reduce(((e,t)=>e+t),0)/n.length;w.reportKeyValue({key:"MediaApi",value:[(0,Je._getCurrentNetworkType)(),(0,st.k)()+" "+(0,st.n)(),"createInnerAudioContext",e,"",`avgDuringPlayToRealPlayCostTime(${t})`,a,a,""].join(",")})}}));var n=t.playCount,a=t.realPlayCount;if(n>0){var i=t.playErrorCount;w.reportKeyValue({key:"MediaApi",value:[(0,Je._getCurrentNetworkType)(),(0,st.k)()+" "+(0,st.n)(),"createInnerAudioContext",e,"","successRate",a/n,a/n,(0,zo.c)(JSON.stringify({playCount:n,realPlayCount:a,playErrorCount:i}))].join(",")})}})),Zo={"jsapi-1.0":{duringPlayToRealPlay:{firstPlay:[],notFirstPlay:[]},playCount:0,realPlayCount:0,playErrorCount:0},"useWebAudioImplement-1.0":{duringPlayToRealPlay:{firstPlay:[],notFirstPlay:[]},playCount:0,realPlayCount:0,playErrorCount:0}}}));var Xo=()=>{},es=()=>{},ts=()=>{},rs="useWebAudioImplement-1.0";Xo=(e,t)=>{Jo(rs,e,t)},es=(e,t)=>{Qo({mediaType:"createInnerAudioContext",implementType:rs,mediaInstanceId:"",actionType:"playError",actionStatus:"",costTime:0,src:e,errmsg:t})},ts=(e,t,r)=>{Yo(rs,e,t,r)};var ns,as=0,is=0,os=0,ss=new WeakMap,cs=new WeakMap,ls=new WeakMap,us=new WeakMap,ds=new WeakMap,ps=new WeakMap,fs=new WeakMap,hs=new WeakMap,gs=new WeakMap,vs=new WeakMap,ms=new WeakMap,ys=new Map,bs={},_s=52428800,ws=0,Is=0,Ss=()=>{var e=Object.keys(bs).sort(((e,t)=>bs[e].index-bs[t].index));e.some((e=>{var t=bs[e];if(t.audioBuffer){var r=t.audioBufferSize;if(delete t.audioBuffer,delete t.audioBufferSize,delete bs[e],(ws-=r)<=_s)return!0}return!1}))},ks=e=>{e.index=++Is},Cs=(e,t,r)=>{var n=bs[e];if(n&&n.audioBuffer)ks(n),t(n.audioBuffer,{sync:!0});else if(n&&n.loading)ks(n),n.successCallbacks.push(t),n.failCallbacks.push(r);else{bs[e]={loading:!0,successCallbacks:[t],failCallbacks:[r]},(/^(http|https):\/\//.test(e)?Es(e):/^(cloud):\/\//.test(e)?As(e):/^(wxblob:\/\/)/.test(e)?Ps(e):Ts(e)).then((t=>{ns.decodeAudioData(t,(t=>{var r,n=bs[e];ks(n),r=n.audioBuffer?n.audioBuffer:((e,t)=>(e.audioBuffer=t,e.audioBufferSize=t.sampleRate*t.duration*4*t.numberOfChannels,(ws+=e.audioBufferSize)>_s&&Ss(),e.audioBuffer))(n,t);try{n.successCallbacks&&n.successCallbacks.forEach((e=>{e(r,{sync:!1})}))}catch(e){console.error(e),f.error("loadAudio invoke successCallback fail",e.message),n.failCallbacks&&n.failCallbacks.forEach((t=>{t(e)}))}delete n.successCallbacks,delete n.failCallbacks,delete n.loading}),(t=>{try{var r=bs[e];r&&r.failCallbacks&&r.failCallbacks.forEach((e=>{e(t)}))}catch(t){console.error(t),f.error("loadAudio invoke failCallback fail",t.message)}delete n.successCallbacks,delete n.failCallbacks,delete n.loading}))})).catch((t=>{try{var r=bs[e];r&&r.failCallbacks&&r.failCallbacks.forEach((e=>{e(t)}))}catch(t){console.error(t),f.error("loadAudio invoke failCallback fail",t.message)}delete n.successCallbacks,delete n.failCallbacks,delete n.loading}))}},Ts=e=>{return(t={filePath:e},new $o.Q(((e,r)=>{(0,Nr.p)(Z()(Z()({},t),{},{success:e,fail:r}))}))).then((e=>e.data));var t},Es=e=>{return(t={url:e,responseType:"arraybuffer",enableHttp2:!0,enableCache:!0},new $o.Q(((e,r)=>{(0,Lr.UF)(Z()(Z()({},t),{},{success:e,fail:r}))}))).then((e=>e.data));var t},As=e=>new $o.Q(((t,r)=>{(0,dr.V)([e],"audio",(e=>{Es(e.data[0].url).then((e=>t(e))).catch((e=>{r(e)}))}))})),Ps=e=>new $o.Q((t=>{t(qo.Z.get(e))})),xs=function(e){ss.set(this,Object.assign(ss.get(this),e))},Ms=function(e){return ss.get(this)[e]},Rs=function(){return ss.get(this)},Ds=function(){this.stop(!0),xs.call(this,{_source:null});var e=ls.get(this);e&&e()},Ls=function(e){var t=++os,r=ns.createBufferSource(t),{currentPlayBackTime:n,state:a}=Ns.call(this,e),{loop:i,playbackRate:o,_buffer:s,_gainNode:c,_instanceId:l,src:u,withReport:d}=a,p=Ds.bind(this);r.onended=p,r.buffer=s,r.loop=i,r.playbackRate.value=o,c&&r.connect(c),r.start(0,n),ns.resume(),xs.call(this,{_isPlaying:!0,paused:!1,_source:r,_played:!0,_playbackTime:0,_lastCurrentTime:n,_startedAt:ns.currentTime,_endedHandler:p,_bufferSourceId:t}),(R.cj||R.wZ)&&d&&ys.set(t,{_instanceId:l,src:u})},Ns=function(e){e=e||Rs.call(this);var t,{_startedAt:r,_playbackTime:n,_isPlaying:a,playbackRate:i,_lastCurrentTime:o,duration:s}=e;return(t=a?o+(ns.currentTime-r)*i:n)>s&&(t%=s),{currentPlayBackTime:t,state:e}},Os=function(){this.stop(!0);var{_gainNode:e,_audioLoadPromiseResolve:t}=Rs.call(this);e&&e.disconnect(),xs.call(this,{_buffer:null,_source:null,_loadPromise:null,_gainNode:null,_audioLoadPromiseResolve:null,_audioLoadPromiseReject:null,_playPendingIdMap:null}),t(!0),e=null,t=null,cs.delete(this),ls.delete(this),us.delete(this),ds.delete(this),fs.delete(this),ps.delete(this),hs.delete(this),gs.delete(this),ms.delete(this),clearInterval(vs.get(this)),vs.delete(this)},Bs=function(){this.stop(!0),xs.call(this,{_buffer:null,_source:null,_loadPromise:null,_audioLoadPromiseResolve:null,_audioLoadPromiseReject:null})},js=function(e){var t,r;Bs.call(this);var n=new $o.Q(((e,n)=>{t=e,r=n}));xs.call(this,{src:e,_ready:!1,_played:!1,_loadPromise:n,_audioLoadPromiseResolve:t,_audioLoadPromiseReject:r})},Fs={},Us=(e,t)=>e+"-"+t,Ws=function(e,t){var r=Us(t,e);Fs[r]?Fs[r]++:Fs[r]=1};class Gs{constructor({withReport:e}={}){ns||("function"==typeof(ns=Vo()).create&&ns.create(-1,!0),(R.cj||R.wZ)&&(ns.onmessage=e=>{var{message:t,node_id:r}=e;if("real_play"===t){var n=ys.get(r);if(ys.delete(r),n){var{_instanceId:a,src:i}=n,o=Us(a,i);Fs[o]&&(Fs[o]--,ts(i,a,Date.now()))}}}));var t=ns.createGain();t.connect(ns.destination);var r={withReport:e},n=new $o.Q(((e,t)=>{r._audioLoadPromiseResolve=e,r._audioLoadPromiseReject=t}));ss.set(this,Object.assign(r,{startTime:0,autoplay:!1,loop:!1,volume:1,playbackRate:1,paused:!0,duration:NaN,_loadPromise:n,_gainNode:t,_played:!1,_playbackTime:0,_ready:!1,_isPlaying:!1,src:"",_playPendingIdMap:{},_instanceId:++is}))}get src(){return Ms.call(this,"src")}set src(e){var{src:t,_gainNode:r}=Rs.call(this);r&&"string"==typeof e&&e.length>0&&t!==e&&(t&&js.call(this,e),xs.call(this,{src:e}),Cs(e,((t,{sync:r})=>{var{src:n,_gainNode:a,_isPlaying:i,autoplay:o,_audioLoadPromiseResolve:s}=Rs.call(this);if(a){if(n===e){if(xs.call(this,{_ready:!0,_buffer:t,duration:t.duration}),r)setTimeout((()=>{var e=cs.get(this);e&&e()}),0);else{var c=cs.get(this);c&&c()}return!o||i||yc()||this.play(),s(!1),null}s(!0)}}),(t=>{var r=`set audio src "${e}" fail: ${t.message||t.errMsg}`;console.error(t),f.error("loadAudioFail ",t);var n=Rs.call(this),{_audioLoadPromiseReject:a}=n,i=us.get(this);i&&i({type:"error",errMsg:r,errno:t.errno}),a(t)})))}get startTime(){return Ms.call(this,"startTime")}set startTime(e){var{_played:t,startTime:r,_gainNode:n}=Rs.call(this);n&&e!==r&&"number"==typeof e&&e>=0&&(xs.call(this,{startTime:e}),t||this.seek(e))}get autoplay(){return Ms.call(this,"autoplay")}set autoplay(e){var{autoplay:t,_gainNode:r}=Rs.call(this);r&&!!e!==t&&xs.call(this,{autoplay:!!e})}get loop(){return Ms.call(this,"loop")}set loop(e){var{_source:t,_gainNode:r}=Rs.call(this);r&&(xs.call(this,{loop:e=!!e}),t&&(t.loop=e))}get volume(){return Ms.call(this,"volume")}set volume(e){var{volume:t,_gainNode:r}=Rs.call(this);r&&"number"==typeof e&&e>=0&&e<=1&&e!==t&&(xs.call(this,{volume:e}),r&&r.gain&&(r.gain.value=e))}get playbackRate(){return Ms.call(this,"playbackRate")}set playbackRate(e){var{playbackRate:t,_source:r,_gainNode:n}=Rs.call(this);n&&"number"==typeof e&&t!==e&&e>=.5&&e<=2&&(xs.call(this,{playbackRate:e,_lastCurrentTime:this.currentTime,_startedAt:ns.currentTime}),r&&(r.playbackRate.value=e))}get duration(){return Ms.call(this,"duration")}get currentTime(){var{currentPlayBackTime:e}=Ns.call(this);return e}set currentTime(e){if("number"==typeof e&&e>=0){var{_isPlaying:t,_gainNode:r}=Rs.call(this);if(!r)return;var n=hs.get(this),a=gs.get(this),i=cs.get(this);a&&a(),t?(this.stop(!0),xs.call(this,{_playbackTime:e}),this.play(!0)):xs.call(this,{_playbackTime:e}),n&&n(),i&&i()}}get paused(){return Ms.call(this,"paused")}get buffered(){var{duration:e}=Rs.call(this);return e>0?e:0}play(e=!1){var t=Rs.call(this),{_isPlaying:r,_ready:n,_loadPromise:a,_gainNode:i,_playPendingIdMap:o,withReport:s,src:c,_instanceId:l}=t;if(i){if(r&&!e&&s)return Xo(c,l),void ts(c,l,Date.now());!e&&s&&Xo(c,l);var u=()=>{if(!e){var t=ds.get(this);t&&t()}};if(n){var d;try{Ls.call(this,t)}catch(t){d=t;var p=us.get(this);p&&p({type:"error",errMsg:t.message}),!e&&s&&es(c,t.message),console.error(t)}d||(!e&&s&&Ws(c,l),u())}else{var f=++as;o[f]=!0,a.then((d=>{var p=!1===o[f];if(delete o[f],d)return r=null,n=null,a=null,i=null,t=null,void(u=null);if(!p){var h,g=Rs.call(this),{_isPlaying:v}=g;if(!v){try{Ls.call(this,g)}catch(t){h=t;var m=us.get(this);m&&m({type:"error",errMsg:t.message}),!e&&s&&es(c,t.message),console.error(t)}return h||(!e&&s&&Ws(c,l),u()),null}}})).catch((e=>{s&&es(c,e.errMsg||e.message)}))}}}pause(){var e=Rs.call(this),{_isPlaying:t,_source:r,_gainNode:n,_playPendingIdMap:a}=e;if(n)if(r&&t){var i=ps.get(this);r.stop(0),r.disconnect(),r.onended=null,xs.call(this,{_isPlaying:!1,_playbackTime:this.currentTime,paused:!0,_endedHandler:null}),i&&i()}else Object.keys(a).forEach((e=>{a[e]=!1}))}stop(e=!1){var{_source:t,_gainNode:r,_isPlaying:n,_playPendingIdMap:a}=Rs.call(this);if(r){if(t)try{var i=fs.get(this);t.stop(0),t.disconnect(),t.onended=null,xs.call(this,{_isPlaying:!1,_playbackTime:0,paused:!0,_endedHandler:null}),!e&&i&&i()}catch(e){}n||Object.keys(a).forEach((e=>{a[e]=!1}))}}seek(e){if("number"==typeof e&&e>=0){var{_isPlaying:t,_gainNode:r}=Rs.call(this);if(!r)return;var n=hs.get(this),a=gs.get(this),i=cs.get(this);a&&a(),t?(this.stop(!0),xs.call(this,{_playbackTime:e}),this.play(!0)):xs.call(this,{_playbackTime:e}),n&&n(),i&&i()}}destroy(){var{_gainNode:e}=Rs.call(this);e&&Os.call(this)}set oncanplay(e){if("function"==typeof e){var{_gainNode:t}=Rs.call(this);if(!t)return;cs.set(this,e)}else cs.delete(this)}set onended(e){if("function"==typeof e){var{_gainNode:t}=Rs.call(this);if(!t)return;ls.set(this,e)}else ls.delete(this)}set onerror(e){if("function"==typeof e){var{_gainNode:t}=Rs.call(this);if(!t)return;us.set(this,e)}else us.delete(this)}set onplay(e){if("function"==typeof e){var{_gainNode:t}=Rs.call(this);if(!t)return;ds.set(this,e)}else ds.delete(this)}set onpause(e){if("function"==typeof e){var{_gainNode:t}=Rs.call(this);if(!t)return;ps.set(this,e)}else ps.delete(this)}set onstop(e){if("function"==typeof e){var{_gainNode:t}=Rs.call(this);if(!t)return;fs.set(this,e)}else fs.delete(this)}set onseeked(e){if("function"==typeof e){var{_gainNode:t}=Rs.call(this);if(!t)return;hs.set(this,e)}else hs.delete(this)}set onseeking(e){if("function"==typeof e){var{_gainNode:t}=Rs.call(this);if(!t)return;gs.set(this,e)}else gs.delete(this)}set ontimeupdate(e){if("function"==typeof e){var{_gainNode:t}=Rs.call(this);if(!t)return;var r=vs.get(this);clearInterval(r);var n=setInterval((()=>{var{_isPlaying:t}=Rs.call(this);t&&e()}),350);vs.set(this,n)}else vs.delete(this)}set onwaiting(e){if("function"==typeof e){var{_gainNode:t}=Rs.call(this);if(!t)return;ms.set(this,e)}else ms.delete(this)}}var Vs=()=>function(){if(!Go)throw new Error("detect WebAudioContext too early");return!!Wo}()&&!0,$s=d(8405),qs=new Set([1177,1184,1200,1228]),zs=new Set([0,1,2,7]),Zs=()=>{var{scene:e}=(0,$s._)();return qs.has(e)&&zs.has(O.Z.appType)},Hs=["src","startTime","autoplay","loop","obeyMuteSwitch","volume","playbackRate","duration","currentTime","paused","buffered","referrerPolicy"],Ks=["startTime","duration","currentTime"],Js=["Canplay","Ended","Error","Pause","Play","Seeked","Seeking","Stop","TimeUpdate","Waiting"],Ys=new Set,Qs=new WeakMap,Xs=new WeakMap,ec=new WeakMap,tc=new WeakMap;class rc{constructor(e,t=1e3,r){var n=new Rn.Z;Qs.set(this,e),Ys.add(this),tc.set(this,{conversion:t,type:r}),Hs.forEach((r=>Object.defineProperty(this,r,{get:()=>Ks.includes(r)?e[r]/t:e[r],set(n){Zs()||(Ks.includes(r)?e[r]=t*n:e[r]=n)}}))),Js.forEach((t=>{this["on"+t]=e=>{var r=_.surroundThirdByTryCatch(e,`at audioContext.on${t} callback function`);Xs.set(e,r),ec.set(r,e),n.on(t,r)},this["off"+t]=e=>{if((0,J.mf)(e)){var r=Xs.get(e);(0,J.mf)(r)&&(n.off(t,r),Xs.delete(e),ec.delete(r))}else n.listeners(t).forEach((e=>{var t=ec.get(e);Xs.delete(t),ec.delete(e)})),n.removeAllListeners(t)},e["on"+t.toLowerCase()]=(e,r)=>{e?(0,J.Kn)(e)?n.emit(t,e):n.emit(t,{errCode:e,errMsg:r}):n.emit(t)}}))}play(){var e;Zs()||yc()&&"inner"!==tc.get(this).type||null===(e=Qs.get(this))||void 0===e||e.play()}stop(){var e;null===(e=Qs.get(this))||void 0===e||e.stop()}pause(){var e;null===(e=Qs.get(this))||void 0===e||e.pause()}seek(e){var t,r;if(!Zs()){var{conversion:n}=null!==(t=tc.get(this))&&void 0!==t?t:{};null===(r=Qs.get(this))||void 0===r||r.seek(n*e)}}destroy(){var e=Qs.get(this);e.destroy&&e.destroy(),Js.forEach((e=>{this["off"+e]()})),Ys.delete(this),Qs.delete(this)}static pauseAllAudio(){Ys.forEach((e=>{if("inner"!==tc.get(e).type){var t=Qs.get(e);t&&t.pause()}}))}}class nc extends rc{constructor({type:e}){super(new M.Z.Audio,1e3,e)}}class ac extends rc{constructor({withReport:e,type:t}={}){super(new Gs({withReport:e}),1,t)}}var ic=void 0===t?{version:"9.9.9",updateTime:"unknown"}:t,oc=()=>({updateTime:ic.updateTime,version:ic.version});function sc(e,t){if("string"!=typeof e||"string"!=typeof t)return 0;for(var r=e.split("."),n=t.split("."),a=Math.max(r.length,n.length);r.length<a;)r.push("0");for(;n.length<a;)n.push("0");for(var i=0;i<a;i++){var o=parseInt(r[i],10),s=parseInt(n[i],10);if(o>s)return 1;if(o<s)return-1}return 0}function cc(e){if("string"!=typeof e)return String(Number.parseInt(e,10));for(var t,r=0;r<e.length;r++)if(!Number.isNaN(parseInt(e[r],10))){t=r;break}return e.slice(t)}function lc(e,t){return e||t?e?t?sc(cc(e),cc(t)):1:-1:0}var uc=new Set,dc=()=>{var{system:e}=(0,Ce.getStableSystemInfo)();R.wZ&&-1===lc(e,"6.0.0")&&console.error("Error: WebAudio don't support android system under 6!");var t=Vo();M.Z&&M.Z.WXAUDIO&&t&&"function"==typeof t.create&&t.create(),uc.add(t);var r=[];return["close","resume","suspend"].forEach((e=>{var n=t[e];Object.defineProperty(t,e,{configurable:!1,get:()=>function(){return"close"===e&&uc.delete(t),new Promise((e=>{r.push(e);var a=t.onstatechange;t.onstatechange=()=>{"function"==typeof a&&a();var e=r.pop();e&&e(),t.onstatechange=a},n.call(t)}))}.bind(t)})})),t};class pc{static pauseAllAudio(){uc.forEach((e=>{e.suspend()}))}}var fc=()=>{Kc.pauseAllAudio(),nc.pauseAllAudio(),ac.pauseAllAudio(),pc.pauseAllAudio()},hc=!1,gc=!1;"undefined"!=typeof IS_SDK_PACKAGE||(0,B.jQ)("onAudioInterruptionBegin",(e=>{hc=!0,!1===gc&&Fo.u.emit(e)})),"undefined"!=typeof IS_SDK_PACKAGE||(0,B.jQ)("onAudioInterruptionEnd",(e=>{hc=!1,!1===gc&&Uo.FY.emit(e)}));var vc=()=>{!1===hc&&!1===gc&&(fc(),gc=!0,Fo.u.emit({}))},mc=()=>{!1===hc&&!0===gc&&(gc=!1,Uo.FY.emit({}))},yc=()=>gc,bc=()=>{},_c=()=>{},wc=()=>{},Ic="jsapi-1.0";bc=(...e)=>{Jo(Ic,...e)},_c=(e,t)=>{Qo({mediaType:"createInnerAudioContext",implementType:Ic,mediaInstanceId:"",actionType:"playError",actionStatus:"",costTime:0,src:e,errmsg:t})},wc=(...e)=>{Yo(Ic,...e)};var Sc=new WeakMap,kc=new WeakMap,Cc=new WeakMap,Tc=new WeakMap,Ec=new WeakMap,Ac=new WeakMap,Pc=new WeakMap,xc=new WeakMap,Mc=new Map,Rc=new Map,Dc=new Map,Lc=f.createLogger("InnerAudio"),Nc=function(e,t){kc.set(this,Object.assign(kc.get(this),{[e]:t})),"src"===e&&kc.set(this,Object.assign(kc.get(this),{paused:!0})),Tc.get(this)&&(setTimeout((()=>{var r=Object.assign({},kc.get(this),Ec.get(this),{timestamp:Date.now(),audioId:Sc.get(this),success:()=>{kc.set(this,Object.assign(kc.get(this),{[e]:t}))},fail:()=>{Bc.call(this)}});yc()&&(r.autoplay=!1),(0,B.IN)("setAudioState",r),Tc.set(this,!0)}),0),Tc.set(this,!1)),Ec.set(this,Object.assign(Ec.get(this),{[e]:t}))},Oc=function(e,t){Pc.get(this).then((()=>{Nc.call(this,e,t)}))},Bc=function(e,t){var r=kc.get(this)[e];return(0,B.IN)("getAudioState",{audioId:Sc.get(this),success:n=>{delete n.errMsg,kc.set(this,Object.assign(kc.get(this),n)),r=n[e],"function"==typeof t&&t(r)}}),r},jc=function(e){var t=Sc.get(this);(0,B.IN)("operateAudio",Object.assign({timestamp:Date.now(),audioId:t,fail:({errMsg:r})=>{Lc.error(`operateAudio fail: errMsg="${r}"`,e.operationType,t),qc.call(this,"error",{errMsg:r,errCode:-1});var n=kc.get(this);null!=n&&n.withReport&&_c("",r)}},e))},Fc=function(e){return Pc.get(this).then((()=>{if("play"===e.operationType){var t=kc.get(this);if(null!=t&&t.withReport){var r=Sc.get(this);bc(null==t?void 0:t.src,r)}}setTimeout((()=>{jc.call(this,e)}),0)}))},Uc=new Rn.Z;"undefined"!=typeof IS_SDK_PACKAGE||(0,B.jQ)("onAudioStateChange",((e={})=>{if("real_play"===e.state){var t=Mc.get(e.audioId);null!=t&&t.withReport&&wc(null==t?void 0:t.src,e.audioId,Date.now())}else{e.state=e.state.toLowerCase();var{state:r,audioId:n,errMsg:a}=e;delete e.audioId,delete e.state;var i="play"!==r,o=Mc.get(n);o&&(o.paused=i),"error"===r&&null!=o&&o.withReport&&_c(null==o?void 0:o.src,a);var s=Dc.get(n);if(!s||!(r in s))return;Uc.emit(`${n}_onAudioStateChange_${r}`,e)}}));var Wc=function(e,t){var r=`${Sc.get(this)}_onAudioStateChange_${e}`,n=r=>{_.surroundThirdByTryCatch(t,`at audioContext.on${e} callback function`)(r)};Ac.set(t,n),Uc.on(r,n)},Gc=function(e,t){Pc.get(this).then((()=>{Wc.call(this,e,t)}))},Vc=function(e,t){var r=`${Sc.get(this)}_onAudioStateChange_${e}`;if((0,J.mf)(t)){var n=Ac.get(t);(0,J.mf)(n)&&Uc.off(r,n)}else Uc.removeAllListeners(r)},$c=function(e,t){Pc.get(this).then((()=>{Vc.call(this,e,t)}))},qc=function(e,t){Uc.emit(`${Sc.get(this)}_onAudioStateChange_${e}`,t)},zc=0,Zc=!1;var Hc,Kc=class{constructor({pluginId:e,withReport:t,type:r}={}){var n,a;kc.set(this,{}),Ec.set(this,{}),Cc.set(this,void 0),Tc.set(this,!0),"string"==typeof e&&xc.set(this,e.split("/",1)[0]),Pc.set(this,new $o.Q(((e,t)=>{n=e,a=t})));var i={};(0,B.IN)(R.wZ||R.jP||R.Ae?"createAudioInstanceAsync":"createAudioInstance",{timestamp:Date.now(),success:e=>{var a={src:"",startTime:0,paused:!0,currentTime:0,duration:0,obeyMuteSwitch:!0,volume:1,autoplay:!1,loop:!1,buffered:0,referrerPolicy:"",withReport:t,type:r};if(Dc.set(e.audioId,i),Mc.set(e.audioId,a),Sc.set(this,e.audioId),kc.set(this,a),M.Z.BindingObject){var o=new M.Z.BindingObject;this.__bindingObject=o,Rc[o.__id]=e.audioId}(zc+=1)>=1024&&!Zc&&R.cj&&(Zc=!0,w.reportIDKey({id:356,key:"audioInstancesCountReach1024"})),zc>=200&&console.warn("warning(wx.createInnerAudioContext): Too many (200) InnerAudioContext instances have been created, please destroy the existing instances first !"),setTimeout(n,0)},fail:e=>{t&&_c("",e.errMsg),a(e.errMsg)}}),["Play","Pause","Stop","Canplay","Error","Ended","Waiting","Seeking","Seeked"].forEach((e=>{this[`on${e}`]=t=>{var r=e.toLowerCase();i[r]=1,Gc.call(this,r,t)},this[`off${e}`]=t=>{var r=e.toLowerCase();delete i[r],$c.call(this,r,t)}}))}get src(){return this.cloudId?this.cloudId:Bc.call(this,"src")}set src(e){if("string"==typeof e&&0!==e.length){var t=xc.get(this);"string"==typeof t&&null===(0,be.pD)(e)&&(e=(0,be.RP)(t,e)),(0,dr.V)([e],"audio",(t=>{/^(cloud):\/\//.test(e)?this.cloudId=e:this.cloudId="",e=t.data[0].url,Oc.call(this,"src",e)}))}else qc.call(this,"error",{errMsg:`Failed to set src, the src ${e} is invalid.`})}get startTime(){return Bc.call(this,"startTime")/1e3}set startTime(e){"number"==typeof e?Oc.call(this,"startTime",1e3*e):qc("error",{errMsg:`Failed to set startTime, the startTime ${e} is invalid.`})}set autoplay(e){"boolean"!=typeof e||Zs()||Oc.call(this,"autoplay",e)}get autoplay(){return Bc.call(this,"autoplay")}set loop(e){"boolean"==typeof e&&Oc.call(this,"loop",e)}get loop(){return Bc.call(this,"loop")}set obeyMuteSwitch(e){"boolean"==typeof e&&Oc.call(this,"obeyMuteSwitch",e)}get obeyMuteSwitch(){return Bc.call(this,"obeyMuteSwitch")}set volume(e){"number"!=typeof e||e<0||e>1||Oc.call(this,"volume",e)}get volume(){return Bc.call(this,"volume")}set playbackRate(e){"number"!=typeof e||e<0||Oc.call(this,"playbackRate",e)}get playbackRate(){return Bc.call(this,"playbackRate")}set referrerPolicy(e){"string"==typeof e&&Oc.call(this,"referrerPolicy",e)}get referrerPolicy(){return Bc.call(this,"referrerPolicy")}get paused(){return Bc.call(this,"paused")}get duration(){return Bc.call(this,"duration")/1e3}set currentTime(e){"number"!=typeof e||e<0?qc("error",{errMsg:`Failed to seek, the currentTime ${e} is invalid.`}):Fc.call(this,{operationType:"seek",currentTime:1e3*e})}get currentTime(){return Bc.call(this,"currentTime")/1e3}get buffered(){return Bc.call(this,"buffered")/1e3}play(){Zs()||yc()&&"inner"!==kc.get(this).type||Fc.call(this,{operationType:"play"}).catch((e=>{console.error(e)}))}pause(){Fc.call(this,{operationType:"pause"})}stop(){Fc.call(this,{operationType:"stop"})}seek(e){Zs()||("number"!=typeof e||e<0?qc("error",{errMsg:`Failed to seek, the currentTime ${e} is invalid.`}):Fc.call(this,{operationType:"seek",currentTime:1e3*e}))}destroy(){Pc.get(this).then((()=>{var e=Sc.get(this);Mc.has(e)&&(["play","pause","stop","canplay","error","ended","waiting","seeking","seeked"].forEach((t=>{var r=`${e}_onAudioStateChange_${t}`;Uc.removeAllListeners(r)})),Dc.delete(e),Mc.delete(e),zc-=1,setTimeout((()=>{(0,B.IN)("destroyAudioInstance",{audioId:e})}),0))}))}onTimeUpdate(e){Pc.get(this).then((()=>{var t=`${Sc.get(this)}_onAudioStateChange_timeupdate`;void 0===Cc.get(this)&&Cc.set(this,setInterval((()=>{if("active"===ye.Z.runningStatus&&!0!==kc.get(this).paused&&1!==kc.get(this).paused){var e=kc.get(this).currentTime;Bc.call(this,"currentTime",(r=>{r!==e&&Uc.emit(t)}))}}),250)),Uc.removeAllListeners(t);var r=t=>{_.surroundThirdByTryCatch(e,"at audioContext.onTimeUpdate callback function")(t)};Ac.set(e,r),Uc.on(t,r)}))}offTimeUpdate(e){Pc.get(this).then((()=>{$c.call(this,"timeupdate",e)}))}static pauseAllAudio(){Mc.forEach(((e,t)=>{"inner"!==e.type&&(0,B.IN)("operateAudio",{timestamp:Date.now(),audioId:t,operationType:"pause"})}))}},Jc=d(7146),Yc=new WeakMap,Qc=function(e){return Yc.get(e)||{}},Xc=function(e,t){var r;return null===(r=Yc.get(e))||void 0===r?void 0:r[t]},el=new Map,tl=(0,Re.Fr)(Jc.lz),rl=function(e,t){var{bufferedOperations:r,staticOperations:n}=e;e.audioInstance=t,Object.keys(n).forEach((e=>{var r=n[e];(0,J.DM)(r)?r.forEach((r=>{t["on"+e](r)})):t[e]=r})),r.forEach((e=>{"set"===e.type?t[e.key]=e.value:"method"===e.type&&t[e.key](e.value)})),e.bufferedOperations=[]},nl=function(e,t,r){t in e.staticOperations?(e.staticOperations[t]=r,e.audioInstance&&(e.audioInstance[t]=r)):e.audioInstance?e.audioInstance[t]=r:e.bufferedOperations.push({type:"set",value:r,key:t})},al=function(e,t,r,n){n?("on"===n?e.staticOperations[t].add(r):"off"===n&&e.staticOperations[t].delete(r),e.audioInstance&&e.audioInstance[n+t](r)):e.audioInstance?e.audioInstance[t](r):e.bufferedOperations.push({type:"method",value:r,key:t})},il=(e,t)=>{var r=e=>{var{stats:r}=e;r.size<102400?(()=>{if(void 0===Hc){var e=R.cj?"clicfg_appbrand_ios_inneraudio2webaudio_usewebaudio":"clicfg_appbrand_android_inneraudio2webaudio_usewebaudio";Hc=1===Number(O.Z.expt&&O.Z.expt[e])}return Hc})()?t("NativeWebAudio",!0):t("AudioJsApi",!0):t("AudioJsApi")};if(/^(http|https):\/\//.test(e)||/^(cloud):\/\//.test(e)||/^(wxblob:\/\/)/.test(e))t("AudioJsApi");else{var n=(e=>el.has(e)?el.get(e):tl({path:e}).then((t=>(el.set(e,t),t))))(e);(0,J.tI)(n)?n.then((e=>{r(e)})).catch((e=>{console.error(e),f.error("statLocalAudio fail",e),t("AudioJsApi")})):r(n)}},ol=function(e,t){var r;this.stop(!0),t._statPromise=null,t._statPromiseResolve=null;var n=new $o.Q((e=>{r=e}));t.src=e,t._ready=!1,t._statPromise=n,t._statPromiseResolve=r};class sl{constructor({pluginId:e,type:t}={}){var r={pluginId:e,bufferedOperations:[],staticOperations:{startTime:0,autoplay:!1,loop:!1,volume:1,playbackRate:1,referrerPolicy:"",TimeUpdate:new Set,Canplay:new Set,Play:new Set,Pause:new Set,Stop:new Set,Ended:new Set,Error:new Set,Waiting:new Set,Seeking:new Set,Seeked:new Set},_ready:!1,type:t};r._statPromise=new $o.Q((e=>{r._statPromiseResolve=e})),Yc.set(this,r)}get src(){return Xc(this,"src")}set src(e){var t=Qc(this),{src:r,audioInstance:n,audioInstanceType:a,pluginId:i}=t;"string"==typeof e&&e.length>0&&r!==e&&(r&&ol.call(this,e,t),t.src=e,il(e,n?(r,o)=>{var s=Qc(this);if(s.src===e){var{_statPromiseResolve:c}=s;t._ready=!0,t.audioInstanceType=r,r===a?n.src=e:(n.destroy(),t.audioInstance=null,"AudioJsApi"===r?(nl(t,"src",e),rl(t,new Kc({pluginId:i,withReport:o,type:Yc.get(this).type}))):"NativeWebAudio"===r&&(nl(t,"src",e),rl(t,new ac({withReport:o,type:Yc.get(this).type})))),c()}}:(r,n)=>{var a=Qc(this);if(a.src===e){var{_statPromiseResolve:o}=a;t._ready=!0,t.audioInstanceType=r,"AudioJsApi"===r?(nl(t,"src",e),rl(t,new Kc({pluginId:i,withReport:n,type:Yc.get(this).type}))):"NativeWebAudio"===r&&(nl(t,"src",e),rl(t,new ac({withReport:n,type:Yc.get(this).type}))),o()}}))}get startTime(){var e=Xc(this,"startTime");return void 0!==e?e:0}set startTime(e){var t=Qc(this),{startTime:r}=t;e!==r&&"number"==typeof e&&e>=0&&(t.startTime=e,nl(t,"startTime",e))}get autoplay(){var e=Xc(this,"autoplay");return void 0!==e&&e}set autoplay(e){var t=Qc(this),{autoplay:r,_statPromise:n}=t;(e=!!e)!==r&&(t.autoplay=e,e?n.then((()=>{nl(t,"autoplay",e)})):nl(t,"autoplay",e))}get loop(){var e=Xc(this,"loop");return void 0!==e&&e}set loop(e){var t=Qc(this),{loop:r}=t;(e=!!e)!==r&&(t.loop=e,nl(t,"loop",e))}get volume(){var e=Xc(this,"volume");return void 0!==e?e:1}set volume(e){var t=Qc(this),{volume:r}=t;"number"==typeof e&&e>=0&&e<=1&&e!==r&&(t.volume=e,nl(t,"volume",e))}get playbackRate(){var e=Xc(this,"playbackRate");return void 0!==e?e:1}set playbackRate(e){var t=Qc(this),{playbackRate:r}=t;"number"==typeof e&&r!==e&&e>=.5&&e<=2&&(t.playbackRate=e,nl(t,"playbackRate",e))}get duration(){var{audioInstance:e}=Qc(this);return e?e.duration:0}get currentTime(){var{audioInstance:e}=Qc(this);return e?e.currentTime:0}set currentTime(e){if("number"==typeof e&&e>=0){var t=Qc(this);t.currentTime=e,nl(t,"currentTime",e)}}get paused(){var{audioInstance:e}=Qc(this);return!e||e.paused}get buffered(){var{audioInstance:e}=Qc(this);return e?e.buffered:0}set obeyMuteSwitch(e){}get obeyMuteSwitch(){return!0}get referrerPolicy(){return Xc(this,"referrerPolicy")||""}set referrerPolicy(e){var t=Qc(this),{referrerPolicy:r}=t;"string"==typeof e&&e.length>0&&r!==e&&(t.referrerPolicy=e,nl(t,"referrerPolicy",e))}play(){var e=Qc(this),{_statPromise:t,_ready:r}=e;r?al(e,"play"):t.then((()=>{al(e,"play")}))}pause(){var e=Qc(this);al(e,"pause")}stop(){var e=Qc(this);al(e,"stop")}seek(e){var t=Qc(this);al(t,"seek",e)}destroy(){var e=Qc(this);al(e,"destroy"),Yc.delete(this)}onTimeUpdate(e){var t=Qc(this);al(t,"TimeUpdate",e,"on")}offTimeUpdate(e){var t=Qc(this);al(t,"TimeUpdate",e,"off")}onCanplay(e){var t=Qc(this);al(t,"Canplay",e,"on")}offCanplay(e){var t=Qc(this);al(t,"Canplay",e,"off")}onPlay(e){var t=Qc(this);al(t,"Play",e,"on")}offPlay(e){var t=Qc(this);al(t,"Play",e,"off")}onPause(e){var t=Qc(this);al(t,"Pause",e,"on")}offPause(e){var t=Qc(this);al(t,"Pause",e,"off")}onStop(e){var t=Qc(this);al(t,"Stop",e,"on")}offStop(e){var t=Qc(this);al(t,"Stop",e,"off")}onEnded(e){var t=Qc(this);al(t,"Ended",e,"on")}offEnded(e){var t=Qc(this);al(t,"Ended",e,"off")}onError(e){var t=Qc(this);al(t,"Error",e,"on")}offError(e){var t=Qc(this);al(t,"Error",e,"off")}onWaiting(e){var t=Qc(this);al(t,"Waiting",e,"on")}offWaiting(e){var t=Qc(this);al(t,"Waiting",e,"off")}onSeeking(e){var t=Qc(this);al(t,"Seeking",e,"on")}offSeeking(e){var t=Qc(this);al(t,"Seeking",e,"off")}onSeeked(e){var t=Qc(this);al(t,"Seeked",e,"on")}offSeeked(e){var t=Qc(this);al(t,"Seeked",e,"off")}}var cl=d(4938),ll=!1;(R.cj||R.wZ)&&O.Z.onReady((()=>{var e;e=R.cj?"clicfg_appbrand_ios_inneraudio2webaudio":"clicfg_appbrand_android_inneraudio2webaudio",1===Number(O.Z.expt&&O.Z.expt[e])&&(0,Ze.J)("forceUseAudioDynamic")?(f.info("开启 forceUseAudioDynamic"),ll=!0):f.info("关闭 forceUseAudioDynamic")}));var ul=f.createLogger("InnerAudioContext"),dl=function(e={},t="outer"){var r=!0;if(R.wZ){var{system:n}=(0,jo.Oo)();-1===lc(n,"6.0.0")&&(r=!1)}R.jP&&(r=!1);var a=(0,Ie.hI)(this),{useWebAudioImplement:i}=e;return(R.DD||R.Ae)&&M.Z.Audio?(ul.info("using NativeAudio"),new nc({type:t})):i&&Vs()&&r?(ul.info("using WebAudio"),new ac({type:t})):Vs()&&r&&(0,R.aI)()&&ll?(ul.info("using AudioDynamic"),new sl({pluginId:a,type:t})):(ul.info("using AudioJsApi"),new Kc({pluginId:a,type:t}))},pl=function(e={}){return dl(e)},fl="getLocation",hl={wgs84:0,gcj02:0},gl={wgs84:null,gcj02:null},vl=!1,ml=0,yl=[],bl=function(e={}){"gcj02"!==e.type&&(e.type="wgs84");var t=Bn(e.type);if(t)setTimeout((()=>(0,B.F0)(jn(t,e),fl,e,{})),100);else{var r=Date.now(),n=gl[e.type],a=hl[e.type];if(vl&&r-ml<1e4)yl.push(e);else{if(r-a>=1e4||!n){var i=(0,Ie.hI)(this);return vl=!0,ml=Date.now(),void((e={},t={},r)=>{(0,B.qu)(r)(fl,e,Object.assign({beforeSuccess(t){e.altitude||delete t.altitude}},t))})(e,{afterSuccess(t){hl[e.type]=r,gl[e.type]=t},afterAll(){vl=!1;var e=yl;yl=[],e.forEach((e=>bl(e)))}},i)}var o=n.errMsg&&0===n.errMsg.indexOf("getLocation:ok");(0,B.FE)({name:"getLocation",success:o,args:e,errMsg:n.errMsg,res:n})}}},_l={wgs84:null,gcj02:null},wl=null,Il="getFuzzyLocation",Sl=function(e={}){"gcj02"!==e.type&&(e.type="wgs84"),wl&&Date.now()-wl>18e5&&(_l[e.type]=null);var t=_l[e.type];if(t){var r=t.errMsg&&0===t.errMsg.indexOf(`${Il}:ok`);(0,B.FE)({name:Il,success:r,args:e,errMsg:t.errMsg,res:t})}else{var n={afterSuccess(t){_l[e.type]=t,wl=Date.now()}},a=Bn(e.type);if(a)setTimeout((()=>(0,B.F0)(jn(a,e),Il,e,{})),100);else{var i=(0,Ie.hI)(this);(0,B.qu)(i)(Il,e,n)}}},kl=new Rn.Z,Cl={8e3:[16e3,48e3],11025:[16e3,48e3],12e3:[24e3,64e3],16e3:[24e3,96e3],22050:[32e3,128e3],24e3:[32e3,128e3],32e3:[48e3,192e3],44100:[64e3,32e4],48e3:[64e3,32e4]};(0,B.jQ)("onRecorderStateChange",((e={})=>{var{state:t}=e;delete e.state,kl.emit(`onRecorderStateChange_${t}`,e)}));var Tl=e=>{(0,B.IN)("operateRecorder",Object.assign({},e))},El={start(e={}){var t=Object.assign({format:"aac",sampleRate:8e3,encodeBitRate:48e3,numberOfChannels:2,audioSource:"auto"},e);if(-1===Object.keys(Cl).map((e=>parseInt(e,10))).indexOf(t.sampleRate))throw new Error(`invalid sampleRate "${t.sampleRate}", sampleRate should be one of ${JSON.stringify(Object.keys(Cl))}`);if(t.encodeBitRate>Cl[t.sampleRate][1]||t.encodeBitRate<Cl[t.sampleRate][0])throw new Error(`invalid encodeBitRate "${t.encodeBitRate}", encodeBitRate should be greater than ${Cl[t.sampleRate][0]} and less than ${Cl[t.sampleRate][1]}`);t.operationType="start",t.fail=e=>{kl.emit("onRecorderStateChange_error",e)},t.afterSuccess=()=>{(0,Yn.Vy)(void 0,"RecorderManager.start")},Tl(t)},pause(){Tl({operationType:"pause",fail(e){kl.emit("onRecorderStateChange_error",e)}})},resume(){Tl({operationType:"resume",success(){kl.emit("onRecorderStateChange_resume")},fail(e){kl.emit("onRecorderStateChange_error",e)}})},stop(){Tl({operationType:"stop",fail(e){kl.emit("onRecorderStateChange_error",e)}})},onStart(e){kl.removeAllListeners("onRecorderStateChange_start"),kl.on("onRecorderStateChange_start",(()=>{"function"==typeof e&&_.surroundThirdByTryCatch(e,"at recorderManager.onPause callback function")()}))},onResume(e){kl.removeAllListeners("onRecorderStateChange_resume"),kl.on("onRecorderStateChange_resume",(()=>{"function"==typeof e&&_.surroundThirdByTryCatch(e,"at recorderManager.onResume callback function")()}))},onPause(e){kl.removeAllListeners("onRecorderStateChange_pause"),kl.on("onRecorderStateChange_pause",(()=>{"function"==typeof e&&_.surroundThirdByTryCatch(e,"at recorderManager.onPause callback function")()}))},onStop(e){kl.removeAllListeners("onRecorderStateChange_stop"),kl.on("onRecorderStateChange_stop",(t=>{"function"==typeof e&&_.surroundThirdByTryCatch(e,"at recorderManager.onStop callback function")(t)}))},onFrameRecorded(e){kl.removeAllListeners("onRecorderStateChange_frameRecorded"),kl.on("onRecorderStateChange_frameRecorded",(t=>{"function"==typeof e&&_.surroundThirdByTryCatch(e,"at recorderManager.onFrameRecorded callback function")(t)}))},onError(e){kl.removeAllListeners("onRecorderStateChange_error"),kl.on("onRecorderStateChange_error",(t=>{"function"==typeof e&&_.surroundThirdByTryCatch(e,"at recorderManager.onError callback function")(t)}))},onInterruptionBegin(e){kl.removeAllListeners("onRecorderStateChange_interruptionBegin"),kl.on("onRecorderStateChange_interruptionBegin",(t=>{"function"==typeof e&&_.surroundThirdByTryCatch(e,"at recorderManager.onInterruptionBegin callback function")(t)}))},onInterruptionEnd(e){kl.removeAllListeners("onRecorderStateChange_interruptionEnd"),kl.on("onRecorderStateChange_interruptionEnd",(t=>{"function"==typeof e&&_.surroundThirdByTryCatch(e,"at recorderManager.onInterruptionEnd callback function")(t)}))}},Al=()=>El,Pl=e=>{(0,B.IN)("getAvailableAudioSources",e)},xl=e=>{(0,B.IN)("setInnerAudioOption",Object.assign({mixWithOther:!0,obeyMuteSwitch:!0},e))},Ml=new WeakMap;function Rl(e,t){Ml.set(this,Object.assign(Ml.get(this),{[e]:t})),this.promise.then((()=>{(0,B.IN)("operateAudioPlayer",{operationType:"update",containerId:Ml.get(this).containerId,[e]:t,success:e=>{},fail:e=>{}})})).catch((e=>{}))}class Dl{constructor(){Ml.set(this,{}),this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t})),(0,B.IN)("operateAudioPlayer",{operationType:"create",success:e=>{Ml.set(this,Object.assign(Ml.get(this),{containerId:e.containerId})),this.resolve(e)},fail:e=>{this.reject(e)}}),Zs()&&Rl.call(this,"audioVolume",0)}start(){return this.promise.then((()=>new Promise(((e,t)=>{(0,B.IN)("operateAudioPlayer",{operationType:"start",containerId:Ml.get(this).containerId,success:t=>{e(t)},fail:e=>{t(e)}})}))))}addAudioSource(e){return this.promise.then((()=>new Promise(((t,r)=>{(0,B.IN)("operateAudioPlayer",{operationType:"addTask",containerId:Ml.get(this).containerId,taskId:e.videoDecoderId,success:e=>{t(e)},fail:e=>{r(e)}})}))))}removeAudioSource(e){return this.promise.then((()=>new Promise(((t,r)=>{(0,B.IN)("operateAudioPlayer",{operationType:"delTask",containerId:Ml.get(this).containerId,taskId:e.videoDecoderId,success:e=>{t(e)},fail:e=>{r(e)}})}))))}stop(){return this.promise.then((()=>new Promise(((e,t)=>{(0,B.IN)("operateAudioPlayer",{operationType:"stop",containerId:Ml.get(this).containerId,success:t=>{e(t)},fail:e=>{t(e)}})}))))}destroy(){return this.promise.then((()=>new Promise(((e,t)=>{(0,B.IN)("operateAudioPlayer",{operationType:"remove",containerId:Ml.get(this).containerId,success:t=>{e(t)},fail:e=>{t(e)}}),Ml.delete(this)}))))}set volume(e){Zs()||Rl.call(this,"audioVolume",e)}get volume(){return Ml.get(this).audioVolume}}var Ll=new WeakMap;function Nl(e,t){Ll.set(this,Object.assign(Ll.get(this),{[e]:t})),this.promise.then((()=>{M.Z.MediaToolKit.audioUpdate({containerId:Ll.get(this).containerId,[e]:t},(e=>{e.errCode}))})).catch((e=>{}))}class Ol{constructor(){Ll.set(this,{}),this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t})),M.Z.MediaToolKit.audioCreate({},(e=>{0===e.errCode?(Ll.set(this,Object.assign(Ll.get(this),{containerId:e.containerId})),this.resolve(e)):this.reject(e)})),Zs()&&Nl.call(this,"audioVolume",0)}start(){return this.promise.then((()=>new Promise(((e,t)=>{M.Z.MediaToolKit.audioStart({containerId:Ll.get(this).containerId},(r=>{0===r.errCode?e(r):t(r)}))}))))}addAudioSource(e){return this.promise.then((()=>new Promise(((t,r)=>{M.Z.MediaToolKit.audioAddTask({containerId:Ll.get(this).containerId,taskId:e.videoDecoderId},(e=>{0===e.errCode?t(e):r(e)}))}))))}removeAudioSource(e){return this.promise.then((()=>new Promise(((t,r)=>{M.Z.MediaToolKit.audioDelTask({containerId:Ll.get(this).containerId,taskId:e.videoDecoderId},(e=>{0===e.errCode?t(e):r(e)}))}))))}stop(){return this.promise.then((()=>new Promise(((e,t)=>{M.Z.MediaToolKit.audioStop({containerId:Ll.get(this).containerId},(r=>{0===r.errCode?e(r):t(r)}))}))))}destroy(){return this.promise.then((()=>new Promise(((e,t)=>{M.Z.MediaToolKit.audioRemove({containerId:Ll.get(this).containerId},(r=>{0===r.errCode?e(r):t(r)})),Ll.delete(this)}))))}set volume(e){Zs()||Nl.call(this,"audioVolume",e)}get volume(){return Ll.get(this).audioVolume}}var Bl=()=>M.Z.MediaToolKit&&M.Z.MediaToolKit.audioCreate?new Ol:new Dl,jl=(0,j.s)("lifeCycle:AppRouteDone"),Fl=jl.internalOnMethod,Ul=(jl.internalOffMethod,jl.emit.bind(jl),d(5543)),Wl=null,Gl=!1;(0,Ul.HM)((()=>{Gl=!0})),Fl((()=>{Gl=!1,Wl&&(Vl(Wl),Wl=null)}));var Vl=function(e={}){var t=(0,B.qu)((0,Ie.hI)(this));e.type||(e.type="all"),void 0===e.count&&(e.count=100),(0,B.r3)("chooseMessageFile",e,{type:"",count:0})&&(e.count<=0?(0,B.YG)("chooseMessageFile",e,"param count should be larger than 0."):void 0===e.extension||"[object Array]"===Object.prototype.toString.call(e.extension)?!e.extension||e.extension.length?(e.count>100&&(e.count=100),Gl?Wl=e:t("chooseMessageFile",e)):(0,B.YG)("chooseMessageFile",e,"param extension should not be empty."):(0,B.YG)("chooseMessageFile",e,"param extension should be Array."))},$l=function(e={}){if(zr("choose_media"))(0,B.YG)("chooseMedia",e,"This api is temporarily unavailable");else{var t=(0,Ie.hI)(this);(0,B.qu)(t)("chooseMedia",e,{beforeSuccess(e){var r;null!==(r=e.tempFiles)&&void 0!==r&&r.length&&$r("chooseMedia",e.tempFiles.map((e=>e.tempFilePath)),t)}})}},ql="previewMedia",zl=function(){var e=Q()((function*(e={}){if((0,B.r3)(ql,e,{sources:[]}))if(e.sources.length>50)(0,B.YG)(ql,e,"maximum length of sources is 50");else{var t=yield en(Kr),r=(0,Ie.hI)(this),n=e=>"string"!=typeof r||"/"!==e[0]?e:(0,be.RP)(r,e),a=JSON.parse(JSON.stringify(e.sources)),i=[],o=[];a.forEach(((e,t)=>{e.type=e.type||"image",e.index=t,e.url=e.url?ur.LC.get(e.url)||e.url:"","image"===e.type?i.push(e):"video"===e.type&&o.push(e)}));var s=i.map((e=>e.url||"")).map((e=>n(e))),c=o.map((e=>e.url||"")).map((e=>n(e)));(0,dr.V)(s,"image",(r=>{var n=r.data.map((e=>e.url));(0,dr.V)(c,"video",(r=>{var s=r.data.map((e=>e.url));n.forEach(((e,t)=>{var r=i[t].index;a[r].url=e})),s.forEach(((e,t)=>{var r=o[t].index;a[r].url=e}));var c=Object.assign({current:0},e,{sources:a});t?tn(Kr,ql,c):(0,B.IN)(ql,c),Ir(ql,{sources:c.sources||[]},!1,t)}))}))}}));return function(){return e.apply(this,arguments)}}(),Zl=d(1641),Hl=new Rn.Z,Kl=new WeakMap,Jl=new WeakMap;(0,B.jQ)("onCanvasPlayerStateChange",(e=>{var t=e.state;"playEnd"===t?Hl.emit(e.containerId,{event:"ended",data:{}}):"buffSize"===t?Hl.emit(e.containerId,{event:"bufferchange",data:{size:e.buffSize}}):"error"===t&&Hl.emit(e.containerId,{event:"error",data:{message:e.errMsg,code:e.errCode}})}));var Yl=!1;function Ql(e){return Xl.apply(this,arguments)}function Xl(){return(Xl=Q()((function*(e){var t=Jl.get(e);yield t}))).apply(this,arguments)}function eu(e,t,r={}){return(0,B.bb)("operateCanvasPlayer",Z()(Z()({},r),{},{containerId:e.id||0,operationType:t}))}function tu(e,t,r={}){return new Promise(((n,a)=>{M.Z.MediaToolKit[t](Z()(Z()({},r),{},{containerId:e.id||0}),(e=>{if(0!==e.errCode){var r=new Error(e.errMsg||`${t} failed`);return Object.assign(r,e),void a(r)}n(e)}))}))}function ru(e,t,r){var n=Kl.get(e);n&&n.emit(t,r)}class nu{constructor(){var e=this,t=new Rn.Z;Kl.set(this,t);var r=Q()((function*(){if(R.wZ){R.wZ&&(Yl||(Yl=!0,M.Z.MediaToolKit.addEventListener("onPlayerBuffSize",(e=>{Hl.emit(e.containerId,{event:"bufferchange",data:{size:e.buffSize}})})),M.Z.MediaToolKit.addEventListener("onPlayerPlayEnd",(e=>{Hl.emit(e.containerId,{event:"ended",data:{}})}))));var r=yield new Promise(((e,t)=>{M.Z.MediaToolKit.playerCreate({},(r=>{if(0!==r.errCode){var n=new Error(r.errMsg||"create failed");return Object.assign(n,r),void t(n)}e(r)}))}));e.id=r.containerId}else{var n=yield(0,B.bb)("operateCanvasPlayer",{operationType:"create"});e.id=n.containerId}Hl.on(e.id,(({event:e,data:r})=>t.emit(e,r)))}))();Jl.set(this,r)}start(e={}){var t=this;return Q()((function*(){var r;if(yield Ql(t),R.wZ){var n=e.source;if(!e.source||!/^(http|https):\/\/.*/i.test(e.source))n=(yield(0,B.bb)("private_fileSystemConvert",{operationType:"getAbsolutePath",localId:e.source})).filePath;var a=yield tu(t,"playerStart",{filePath:n,mode:void 0!==e.mode?e.mode:1,videoFormat:e.videoFormat||55,startStamp:e.startTime,abortAudio:e.abortAudio,abortVideo:e.abortVideo});r=Object.assign({},a.video),t.width=r.width||0,t.height=r.height||0,t.buffer=new ArrayBuffer(t.width*t.height*4),r.video=a.video,r.audio=a.audio}else{var i=yield eu(t,"start",{source:e.source,mode:void 0!==e.mode?e.mode:1,videoFormat:e.videoFormat||55,startStamp:e.startTime,abortAudio:e.abortAudio,abortVideo:e.abortVideo});r=Object.assign({},i.video),t.buffId=i.buffId,t.width=r.width||0,t.height=r.height||0,r.video=i.video,r.audio=i.audio}return ru(t,"start",r),r}))()}seek(e,t="inaccurate"){var r=this;return Q()((function*(){yield Ql(r);var n="accurate"===t;return R.wZ?yield tu(r,"playerSeek",{seekStamp:e,seekByStamp:n}):yield eu(r,"seek",{seekStamp:e,seekByStamp:n}),ru(r,"seek",{position:e}),e}))()}wait(e=!1){var t=this;return Q()((function*(){yield Ql(t),R.wZ?yield tu(t,"playerWait",{wait:e}):yield eu(t,"wait",{wait:e}),ru(t,"wait",{})}))()}stop(){var e=this;return Q()((function*(){yield Ql(e),R.wZ?yield tu(e,"playerStop",{}):yield eu(e,"stop",{}),ru(e,"stop",{})}))()}remove(){var e=this;return Q()((function*(){if(yield Ql(e),e.id){Hl.removeAllListeners(e.id);var t=Kl.get(e);t.eventNames().forEach((e=>t.removeAllListeners(e)))}R.wZ?yield tu(e,"playerRemove",{}):yield eu(e,"remove",{})}))()}getFrameData(){var e,t,r,n,a,i;if(R.wZ?M.Z.MediaToolKit.playerGetFrame({containerId:this.id,buffer:this.buffer},(i=>{i.got&&(e=this.buffer),t=i.pts,r=i.pk_pts,n=i.dts,a=i.pk_dts})):(0,B.IN)("operateCanvasPlayer",{operationType:"getFrame",containerId:this.id,success:i=>{i.got&&(e=(0,Zl.t)().get(this.buffId))&&(e.__proto__=ArrayBuffer.prototype),t=i.pts,r=i.pk_pts,n=i.dts,a=i.pk_dts},fail(e){i=new Error(e.errMsg&&e.errMsg.replace(/operateCanvasPlayer/g,"getFrameData")),Object.assign(i,e)}}),i)throw i;return e?{width:this.width,height:this.height,data:e,pts:t,pkPts:r,dts:n,pkDts:a}:null}on(e,t){Kl.get(this).on(e,t)}off(e,t){Kl.get(this).off(e,t)}get videoDecoderId(){return this.id}}function au(){return new nu}var iu,ou=0,su=(e={})=>{e.text?Date.now()-ou<5e3?(0,B.YG)("setTopBarText",e,"invoke too frequently"):(0,B.IN)("setTopBarText",e,{beforeSuccess(){ou=Date.now()}}):(0,B.YG)("setTopBarText",e,"invalid text")},cu=(e={})=>{(0,B.YG)("setWindowSize",e,"deprecated")},lu=(e={})=>{(0,B.IN)("saveFileToDisk",e,{})},uu=d(3555),du=d(1913),pu=(e={})=>{(0,B.IN)("restart",Object.assign({},e,{force:!0,mode:"default",url:e.path||"?"}))},fu=(e={})=>{(0,B.r3)("setEnableDebug",e,{enableDebug:!0})&&((0,B.IN)("setEnableDebug",e,{}),e.enableDebug&&console.warn("已通过 wx.setEnableDebug 打开调试"))},hu=d(9147),gu="GetUploadSetting",vu={};function mu(e){return e?(vu[e]||(vu[e]=(0,B.Qh)({sdkApiName:gu,apiName:"GetUploadSetting",reqData:{},pluginId:e})),vu[e]):iu||(iu=(0,B.Qh)({sdkApiName:gu,apiName:"GetUploadSetting",reqData:{}}))}var yu=d(8555),bu=d(3188),_u=d(4704);var wu={offset:0,now:function(){if(0===this.offset)throw Error("offset not ready");return Date.now()-this.offset}};void 0!==o?o.onLoad((()=>{wu.offset=Date.now(),Date.now()})):(wu.offset=Date.now(),Date.now());var Iu=function(){var e=null;return{next:()=>(null===e&&(e=Date.now()),e++)}}(),Su=(0,be.Hw)((e=>ku(e).errMsg.indexOf("accessSync:ok")>=0)),ku=function(){try{return bu.c.apply(this,arguments),{errMsg:"accessSync:ok"}}catch(e){return{errMsg:e.message||""}}},Cu={DEBUG:1,INFO:2,WARN:4,ERROR:8},Tu=1,Eu=2,Au=1,Pu="",xu=!1;function Mu(e){xu?e&&e():(xu=!0,O.Z.onReady((()=>{Pu=O.Z.accountInfo.appId,e&&e()})))}var Ru=function(e,t){if("string"!=typeof e)return 0;var r,n,a,i=0;if("utf-16"===(t=t?t.toLowerCase():"utf8")||"utf16"===t)for(n=0,a=e.length;n<a;n++)i+=(r=e.charCodeAt(n))<=65535?2:4;else for(n=0,a=e.length;n<a;n++)i+=(r=e.charCodeAt(n))<=127?1:r<=2047?2:r<=65535?3:4;return i};function Du(){if(void 0!==De.hr){var e=De.hr.getCurrentPagesByDomain("");return e&&e.length?e[e.length-1].route:""}if((0,R.aI)())return"index"}var Lu;function Nu(){Lu&&(Lu=clearTimeout(Lu))}var Ou=!1;class Bu{constructor(e={}){var t;this.systemInfo=(0,Ce.getStableSystemInfo)(),this.opt={},this.opt.level=Cu.INFO,this.mode=e.mode||"normal",this.pluginId=e.pluginId,this.pluginVersion=e.pluginVersion,this.timerId=null,this.isExceedTodayUploadLogCount=!1,this.opt.isClientReport=!!e.isClientReport,this.msgList={},this.filterList={},this.kvFilterList={},this.sizeList={},this.levelList={},this._uploadList=[],this._logInfo={},this._logInfo.level=0,this._logInfo.version=2,this._logInfo.source=Au,this._logInfo.platform="ios"===this.systemInfo.platform?Eu:Tu,this._logInfo.libraryVersion=this.systemInfo.SDKVersion,this._logInfo.clientVersion=this.systemInfo.version,this.exceedSizeList={},this.structSizeList={},this.historyLog={},this.retryLogList={},this.MaxSize=10240,this.MaxLogCount=500,this._logCacheBeforeLogConfig=[],setTimeout((()=>{R.gm||this._getLogConfig()}),300),Mu((()=>{(0,R.aI)()&&this.cyclelyUploadInGame()})),this.uploadCount=0,this.failCount=0,this.opt.isClientReport&&(this.MaxSize=5120,this.MaxLogCount=200,t=e=>{this.onRealtimeDataResponse(e)},R.gm||"function"==typeof t&&Qe.push((0,H.Hw)(t)))}cyclelyUploadInGame(){setTimeout((()=>{$u(),this.cyclelyUploadInGame()}),6e5)}onRealtimeDataResponse(e){if(this.uploadCount++,0!==e.errcode){var t=(0,Je._getCurrentNetworkType)();if("wifi"!==t&&"4g"!==t&&"5g"!==t||(this.failCount++,this.uploadCount>=5&&this.failCount/this.uploadCount>=.6&&(Ou=!0,this.failCount=0,this.uploadCount=0,setTimeout((()=>{Ou=!1}),6e4))),e.idList&&e.idList.length){var r=!1,n={},a=!1,i={};e.idList.forEach((o=>{var s=this.historyLog[o];s&&(s.id,s.url,w.reportKeyValue({key:"UserLogFail",value:`,${t},${e.errcode},${parseInt(Date.now()/1e3,10)},${s.url},${s.libraryVersion},${Pu}`}),r=!0,delete this.historyLog[o],n[o]=s);var c=this.retryLogList[o];c&&(c.id,c.url,i[o]=c,delete this.retryLogList[o],a=!0)})),r&&(this.retryLogList=n,this.failRetry(n)),a&&this.saveToFile(i)}}}_getLogConfig(e,t){return mu(this.pluginId).then((r=>{if(r.data){try{var n=r.data;this.MaxSize=1024*n.MaxLogSize,n.MaxLogCount&&(this.MaxLogCount=n.MaxLogCount),this._logInfo.id=n.UserUin,n.OpenId&&(this.traceid=`${n.OpenId}_${parseInt(Date.now()/1e3,10)}`),n.Debug&&n.Debug.MaxSize&&n.Debug.ExpireTime>Date.now()/1e3&&(this.isDebugMode=!0,this.MaxSize=1024*n.Debug.MaxSize,this.opt.level=Cu.DEBUG,n.Debug.MaxLogCount&&(this.MaxLogCount=n.Debug.MaxLogCount));var a=this._logCacheBeforeLogConfig||[];this._logCacheBeforeLogConfig=[],a.forEach((e=>{this._baseLog(e.key,e.path,...e.args)})),this._getConfigFail=!1,e&&this.upload(t),(0,R.aI)()||function(e){if(Nu(),e="number"!=typeof e?3e5:e,(e=Math.max(e,5e3))>0){var t=()=>{Nu(),Lu=setTimeout((()=>{$u(),t()}),e)};t()}}(n.ReportInterval)}catch(e){this._hasNoPermission=!0,this._logCacheBeforeLogConfig=[]}setTimeout((()=>{this.tryUploadFailLog()}),100)}else this._hasNoPermission=!0,this._logCacheBeforeLogConfig=[]})).catch((e=>{e.errMsg&&e.errMsg.indexOf("fail invalid scope")>=0&&(this._hasNoPermission=!0,this._logCacheBeforeLogConfig=[]),this._getConfigFail=!0}))}_config(e={}){e.mode&&(this.mode=e.mode)}_checkSize(e,t){var r=0;if(!t||!t.length)return!0;if(!(e=this.pluginId||e||Du()))return!0;t.forEach((e=>{r+=Ru(e)})),this.sizeList[e]=this.sizeList[e]||0;var n=this.sizeList[e];return n+r>this.MaxSize?r:(this.sizeList[e]=n+r,!0)}_getLogValue(e){var t,r=typeof e,n="";if("function"===r&&(t="function(){}"),"undefined"===r)t="<Undefined>";else if("object"===r){n=(n=Object.prototype.toString.call(e)).replace(/^\[object |\]$/g,"");try{t="Error"===n?e.stack:JSON.stringify(e)}catch(e){n="Error",t=e.message}}else e+="";return t||e}_baseLog(e,t,...r){if(r.length&&!this._hasNoPermission)if(this._logInfo.id){var n,a,i,o;"object"==typeof e?(n=e.id,a=e.name,i=e.level,o=e.time):(n="__DEFAULT__",a="__DEFAULT__",i=e,o=+new Date);var s=Cu[i.toUpperCase()]||0;if(!(s<this.opt.level)){var c,l;if(t=this.pluginId||t||Du(),this.structSizeList[t]=this.structSizeList[t]||0,"kv"===this.mode){var[u,d]=r;if(!u||"string"!=typeof u)return;var p=this._getLogValue(d);l=this._checkSize(t,[u,p]),c=[n,o,a,u,p]}else c=r.map(this._getLogValue),l=this._checkSize(t,c),this.structSizeList[t]+=6+(c.length?3*c.length-1:0);if(!0===l)this._addLogMsg(c,t,s);else{if(this.exceedSizeList[t]=this.exceedSizeList[t]||0,!this.exceedSizeList[t]){var f=[`UserLog:fail Log Size ${l} Exceed.`];"kv"===this.mode&&f.unshift("warning"),this._addLogMsg(f,t,Cu.WARN)}this.exceedSizeList[t]+=l}}}else this._logCacheBeforeLogConfig.push({key:e,path:t,args:r})}_addLogMsg(e,t,r){if(!this.isExceedTodayUploadLogCount&&r&&(!this._getConfigFail||!this._getConfigRetry)){var n=this.pluginId||t||Du();if(n)if(this.msgList[n]=this.msgList[n]||[],this.msgList[n].length>=this.MaxLogCount)this.MaxLogCount;else{var a=this.msgList[n][0];if("kv"===this.mode){var[i,o,s,c,l]=e,u=[r,i,o,s,c,l];this.msgList[n].push(u)}else{var d=new Date,p=Math.ceil(+d/1e3),f=[a?p-a[0]:p,e,r,d.getMilliseconds()];if(!this.msgList[n].length){var h=(new Date).getTimezoneOffset();f.push(h)}this.msgList[n].push(f)}this.levelList[n]=this.levelList[n]||0,this.levelList[n]|=r}}}OperateWxUploadLog(e,t){if(!this.isExceedTodayUploadLogCount){var r=e.structSize||0;delete e.structSize;var n,a=e.rawSize||0;if(delete e.rawSize,this.opt.isClientReport){var i=this.pluginId?1004:1001;e.url;var o=nt(i,JSON.stringify({interface:this.pluginId?"plugin_log":"weapplog",data:JSON.stringify(e),debug:this.isDebugMode?1:0,pluginId:this.pluginId||"",pluginVersion:this.pluginVersion||"",appId:Pu}));return this.historyLog[o]=e,w.reportKeyValue({key:"UserLog",value:`,${r+a},${a}${e.timestamp},${e.url},${e.filter1},${Pu}`}),void(t&&t(!0))}return(n={sdkApiName:"UploadByApi",apiName:"UploadByApi",pluginId:this.pluginId,reqData:{interface:this.pluginId?"plugin_log":"weapplog",data:JSON.stringify(e),debug:this.isDebugMode?1:0}},(0,B.Qh)(n)).then((()=>{t&&t(!0)})).catch((e=>{e&&1e4==+e.err_code&&(this.isExceedTodayUploadLogCount=!0),t&&t(!1),this.failCount++}))}}failRetry(e){this.uploadFailRetryTimerId||(this.uploadFailRetryTimerId=setTimeout((()=>{if(e)for(var t in e)this.historyLog.hasOwnProperty(t)&&this.OperateWxUploadLog(this.historyLog[t])}),3e3))}stat(e){return(e=this.pluginId||e||Du())&&this.sizeList[e]||0}getCurrentState(e){return{size:(e=this.pluginId||e||Du())&&this.sizeList[e]||0,maxSize:this.MaxSize,logCount:e&&this.msgList[e]&&this.msgList[e].length||0,maxLogCount:this.MaxLogCount}}_hasUploadInterval(){return!!this.opt.isClientReport||!(this._isUploading||Date.now()-this._lastUploadTime<1e3)}upload(e){var t=e||Du();if(e=this.pluginId||t){var r=this.msgList[e]||[];if(r&&r.length)if(this._hasUploadInterval()){if(this._getConfigFail||!this._logInfo.id){if(this._getConfigRetry)return;return this._getConfigRetry=!0,void this._getLogConfig(!0,t)}if(xu){if(!Ou){this.msgList[e]=[];var n=this.levelList[e]||Cu.DEBUG;this.levelList[e]=0;var a=this.sizeList[e];this.sizeList[e]=0;var i=this.exceedSizeList[e];this.exceedSizeList[e]=0;var o=this._logInfo;o.level=n,o.rawSize=i+a;var s=this.structSizeList[e]||0;if(o.structSize=s,this.structSizeList[e]=0,this._logInfo.timestamp=Math.ceil(Date.now()/1e3),this._logInfo=Object.assign({},this._logInfo),"kv"===this.mode){var c={},l={};r.forEach((e=>{var[t,r,n,a,i,o]=e,s=t||Cu.DEBUG;l[r]=l[r]||[n,{},s],l[r][1][i]=o,l[r][2]=Math.max(l[r][2],s),c[a]=c[a]||[],-1===c[a].indexOf(l[r])&&c[a].push(l[r])}));var u=this.kvFilterList,d=[];u&&u[e]&&Object.keys(u[e]).forEach((t=>{var r=u[e][t];r&&r.length&&r.forEach((e=>{var[r,n=""]=e;if(l[r]){var a=l[r][1];a.__REALTIME_LOG_TAG__=a.__REALTIME_LOG_TAG__||[],-1===a.__REALTIME_LOG_TAG__.indexOf(n)&&a.__REALTIME_LOG_TAG__.push(n),-1===d.indexOf(n)&&(d.push(n),d.push(`${t}_${n}`))}}))})),o.msg=JSON.stringify(c),o.filter1=[].concat(Object.keys(c),d).join(" "),this.kvFilterList[e]=[]}else o.msg=JSON.stringify(r),o.filter1=this.filterList[e]||"",this.filterList[e]="";Ru(o.msg),o.appid=Pu,this.pluginId&&(o.pluginid=this.pluginId),this.pluginVersion&&(o.pluginVersion=this.pluginVersion),"kv"===this.mode&&(o.mode=this.mode),o.url=t,this.traceid&&(o.traceid=this.traceid),o.device=this.systemInfo.model+" "+this.systemInfo.system,this._isUploading=!0,this.OperateWxUploadLog(o,(e=>{this._isUploading=!1,this._lastUploadTime=Date.now(),e&&this._uploadList.length&&(this.timerId&&clearTimeout(this.timerId),this.timerId=setTimeout((()=>{this.timerId=null,this.upload(this._uploadList.shift())}),1e3))}))}}else Mu((()=>{Pu&&this.upload(t)}))}else this._uploadList.indexOf(t)<0&&this._uploadList.push(t)}}setFilterMsg(e,t,r){if("string"!=typeof t&&(t=JSON.stringify(t)),Ru(t)>2048)return!1;if(e=this.pluginId||e||Du(),"kv"===this.mode&&"object"==typeof r){var n=this.kvFilterList;return n[e]=n[e]||{},n[e][r.name]=[[r.id,t]],!0}return this.filterList[e]=t,!0}addFilterMsg(e,t,r){if("string"!=typeof t&&(t=JSON.stringify(t)),e=this.pluginId||e||Du(),"kv"===this.mode&&"object"==typeof r){var n=this.kvFilterList;return n[e]=n[e]||{},n[e][r.name]=n[e][r.name]||[],void n[e][r.name].push([r.id,t])}var a=this.filterList[e]||"";this.setFilterMsg(e,a+(a?" ":"")+t)}getTraceId(){return this.traceid||""}getFilePath(){var e=(O.Z&&O.Z.env.USER_DATA_PATH||(R.gm?"http://usr":"wxfile://usr"))+"/miniprogramLog/",t=e+"realtime.log";return Su(e)||function(){try{_u.h.apply(this,arguments)}catch(e){return{errMsg:e.message}}}(e),t}getFileContent(e){var t=function(){try{return{data:Nr.N.apply(this,arguments),errMsg:"readFileSync:ok"}}catch(e){return{errMsg:e.message}}}(e,"utf8");try{if(t&&t.data)return t=JSON.parse(t.data)}catch(e){}return null}saveToFile(e){if(e){var t=this.getFilePath();if(Su(t)){var r=this.getFileContent(t);r&&Object.keys(r).forEach((t=>{e[t]||(e[t]=r[t])}))}(0,yu.N)({filePath:t,data:JSON.stringify(e),encoding:"utf8",fail(e){e.errMsg},success(e){}})}}tryUploadFailLog(){var e=this.getFilePath();if(Su(e)){var t=this.getFileContent(e);if(!t)return;Object.keys(t).forEach((e=>{this.OperateWxUploadLog(t[e])})),(0,yu.N)({filePath:e,data:"{}",encoding:"utf8",fail(e){e.errMsg},success(e){}})}}}var ju,Fu=null,Uu={},Wu=e=>e?Uu[e]:Fu,Gu=(e={},t,r)=>{var n="",a={stat(){if(!R.gm){var e=Wu(t);if(e)return e.stat(n)}},getCurrentState(){if(R.gm)return{};var e=Wu(t);return e?e.getCurrentState(n):{}},setFilterMsg(e){if(!R.gm){var r=Wu(t);if(r)return r.setFilterMsg(n,e)}},addFilterMsg(e){if(!R.gm){var r=Wu(t);if(r)return r.addFilterMsg(n,e)}},in(e){(0,R.aI)()?n="index":e&&e.route&&(n=e.route)},tag(e){var r=Iu.next(),a=+new Date;return{debug(i,o){if(!R.gm){var s=Wu(t);if(s)return s._baseLog({id:r,name:e,time:a,level:"debug"},n,i,o)}},info(i,o){if(!R.gm){var s=Wu(t);if(s)return s._baseLog({id:r,name:e,time:a,level:"info"},n,i,o)}},warn(i,o){if(!R.gm){var s=Wu(t);if(s)return s._baseLog({id:r,name:e,time:a,level:"warn"},n,i,o)}},error(i,o){if(!R.gm){var s=Wu(t);if(s)return s._baseLog({id:r,name:e,time:a,level:"error"},n,i,o)}},setFilterMsg(a){if(!R.gm){var i=Wu(t);if(i)return i.setFilterMsg(n,a,{name:e,id:r})}},addFilterMsg(a){if(!R.gm){var i=Wu(t);if(i)return i.addFilterMsg(n,a,{name:e,id:r})}}}}};return a=t?Object.assign(a,{config(){},debug(){},info(){},warn(){},error(){}}):Object.assign(a,{config(e){if(!R.gm&&"object"==typeof e){var r=Wu(t);r&&r._config(e)}},debug(...e){if(!R.gm){var r=Wu(t);if(r)return r._baseLog("debug",n,...e)}},info(...e){if(!R.gm){var r=Wu(t);if(r)return r._baseLog("info",n,...e)}},warn(...e){if(!R.gm){var r=Wu(t);if(r)return r._baseLog("warn",n,...e)}},error(...e){if(!R.gm){var r=Wu(t);if(r)return r._baseLog("error",n,...e)}}}),Wu(t)||((e,t)=>{e?Uu[e]=t:Fu=t})(t,new Bu({isClientReport:e.isClientReport,pluginId:t,pluginVersion:r,mode:t?"kv":"normal"})),a},Vu=e=>{e=e||{};var t="develop"===O.Z.envVersion||"trial"===O.Z.envVersion;return e.isClientReport=!t,Gu(e)},$u=e=>{if(!R.gm){var t,r=(t=[],Fu&&t.push(Fu),Object.keys(Uu).forEach((e=>t.push(Uu[e]))),t);r.length&&r.forEach((t=>{try{t.upload(e)}catch(e){}}))}};(0,si.J)((e=>{R.gm||e&&8===e.targetAction||xu&&(ju&&clearTimeout(ju),ju=setTimeout((()=>{void 0!==De.hr?De.hr.getCurrentPagesByDomain("").forEach((e=>{$u(e.route)})):(0,R.aI)()&&$u();ju=null}),10))}));var qu=d(1673),zu=d(5907);function Zu(...e){return new M.Z.ImageData(...e)}function Hu(...e){return new M.Z.Path2D(...e)}var Ku,Ju=d(7559),Yu=d(3339),Qu=d(1590),Xu=d(2157),ed=e=>{"function"==typeof M.Z.setPreferredFramesPerSecond?M.Z.setPreferredFramesPerSecond(e):console.warn("当前版本暂不支持设置帧率")},td=new Map,rd=e=>{if("function"==typeof M.Z.loadFont){if(R.cj&&"string"==typeof e&&"/"===e[0]&&(e=e.slice(1)),td.has(e))return td.get(e);var t=M.Z.loadFont(e);return td.set(e,t),t}return console.warn("当前版本暂不支持此加载自定义字体"),null},nd=(e,t,r)=>"function"==typeof M.Z.setCursor?M.Z.setCursor(e,t,r):(console.warn("当前版本暂不支持加载自定义光标"),!1),ad=function(...e){return M.Z.requestPointerLock(...e)},id=function(...e){return M.Z.exitPointerLock(...e)},od=function(...e){return M.Z.isPointerLocked(...e)},sd={now:()=>M.Z.performanceNow()},cd=()=>sd,ld=(0,j.s)("memoryWarning"),ud=ld.onMethod,dd=ld.offMethod,pd=(e,t=!1)=>{t?Ku=e:ud(e)},fd=(e,t=!1)=>{t?Ku=null:dd(e)};(0,B.jQ)("onMemoryWarningReceive",((e={})=>{R.wZ&&e.level<10||(ld.getGlobalListeners().length?ld.emitGlobal(e):"function"==typeof Ku&&Ku(e))}));var hd=0,gd=function(){M.Z.gc?M.Z.gc():function(){for(var e={},t=0;t<1e5;t++)e[t]=[];e=null}()};pd((()=>{Date.now()-hd>1e3&&gd(),hd=Date.now()}),!0);var vd=d(6310),md=new je.Q("touch",!0),yd=new je.Q("touch",!0),bd={};["start","move","end","cancel"].forEach((e=>{(0,M.a)((t=>{if("start"===e){t.EventHandler[`ontouch${e}`]=t=>{ur.U.emit("beforeTouchStart",t),ur.U.emit("setLastTapTime",Date.now()),hr("tap"),md.emit(e,t),yd.emit(e,t)}}else if("end"===e){t.EventHandler[`ontouch${e}`]=t=>{ur.U.emit("beforeTouchEnd"),md.emit(e,t),yd.emit(e,t),ur.U.emit("afterTouchEnd")}}else t.EventHandler[`ontouch${e}`]=t=>{md.emit(e,t),yd.emit(e,t)}})),bd[`onTouch${e.charAt(0).toUpperCase()+e.slice(1)}`]=(t,r)=>{(0,J.Kn)(r)&&(M.Z.EventHandler[`ontouch${e}Dst`]=r),md.on(e,t)},bd[`offTouch${e.charAt(0).toUpperCase()+e.slice(1)}`]=t=>{md.off(e,t)}}));var _d=bd,wd=new je.Q("Mouse",!0),Id={};["Down","Move","Up"].forEach((e=>{Id[`onMouse${e}`]=t=>wd.on(e,t),Id[`offMouse${e}`]=t=>wd.off(e,t),(0,M.a)((t=>{t.EventHandler[`onmouse${e.toLowerCase()}`]=t=>{"Up"===e&&ur.U.emit("beforeTouchEnd"),wd.emit(e,t),"Up"===e&&ur.U.emit("afterTouchEnd")}}))}));var Sd=Id,kd=new je.Q("PointerLock",!0),Cd={};["Change","Error"].forEach((e=>{Cd[`onPointerLock${e}`]=t=>kd.on(e,t),Cd[`offPointerLock${e}`]=t=>kd.off(e,t),(0,M.a)((t=>{t.EventHandler[`onpointerlock${e.toLowerCase()}`]=()=>kd.emit(e)}))}));var Td=Cd,Ed=new je.Q("Mouse",!0);(0,M.a)((e=>{var{EventHandler:t}=e;t.onwheel=e=>Ed.emit("Wheel",e)}));var Ad=(0,j.s)("Game-Error"),Pd=(0,j.s)("Game-UnhandledRejection"),xd=Ad.onMethod,Md=Ad.offMethod,Rd=Pd.onMethod,Dd=Pd.offMethod;w.registerThirdErrorListener((e=>{Ad.emit({message:e,stack:""})})),w.registerThirdUnhandledRejectionListener(((e,t)=>{Pd.emit({reason:e,promise:t})}));var Ld=d(2965),Nd=null;function Od(e,t){"object"!=typeof e&&(e={});var r=(0,Xu.y)(),n=r.scene,a=r.chatroomUsername,i="shareAppMessage",o=e.toCurrentGroup;o=1158===n?"boolean"!=typeof o||o:"boolean"==typeof o&&o;var s={title:e.title||O.Z.accountInfo.nickname,imageUrl:e.imageUrl,query:e.query,imageUrlId:e.imageUrlId,path:e.path};o&&1158===n&&(s.chatroomUsername=a,i="shareAppMessageToSpecificContactDirectly"),(0,Ju.HP)(s,i,t)}(0,B.jQ)("onShareAppMessage",(e=>{if((0,Ld.b$)()){var t=(0,Ld.hk)(e);(0,B.IN)("shareAppMessageDirectly",Z()({},t))}else{var r={};if("function"==typeof Nd&&"object"!=typeof(r=Nd({}))&&(r={}),"Promise"===(0,J.Em)(r.promise)){var n=!1;setTimeout((()=>{n||(n=!0,Od(r,e))}),3e3),r.promise.then((t=>{n||(n=!0,Od(t,e))}))}else Od(r,e)}}));var Bd=d(2047),jd=d(5393),Fd=d(3883),Ud=d(9618),Wd=d(7499),Gd=d(2915),Vd=d(5075),$d=f.createLogger("shareTimeline");function qd(e={},t={title:O.Z.accountInfo.nickname}){var r={},n="string"==typeof e.query?e.query:"";n.length>2e3&&(console.warn(`shreTimeline: query exceed max length limit 2000: "${n.length}"`),n=n.substr(0,2e3)),r.path=(0,Ld.xF)({pageType:Bd.Gy.PLAY_PAGE_IMAGE,query:n});var a=(0,Vd.VW)(),i=(0,Vd.rZ)();if(a){var o=ur.LC.get(e.imageUrl);r.imageUrl="string"==typeof o?o:e.imageUrl}else{if(!i[e.imageUrlId])return(0,Pe.showToast)({icon:"none",title:"由于小程序违规，分享功能暂时无法使用"}),null;r.imageUrl=i[e.imageUrlId]}return Object.assign({userPath:"string"==typeof e.path?e.path:"",userQuery:n},t,e,r)}function zd(e,t={},r,n={}){return new Promise(((a,i)=>{var o={title:t.title,path:t.path,imageUrl:t.imageUrl?t.imageUrl:"",cardSubType:(0,Ld.oq)(r),messageExtraData:Z()({userPath:t.userPath,userQuery:t.userQuery,title:t.title,imageUrl:t.imageUrl||"",pageType:r,thumbUrl:e.thumbUrl,fileUrl:e.fileUrl,isCustomPreviewImg:e.isSnapshot?0:1},n)};r===Bd.Gy.PLAY_PAGE_IMAGE&&(o.preloadResources=[e.fileUrl]),(0,B.IN)("shareTimeline",Z()(Z()({},o),{},{success:a,fail:i}))}))}function Zd(e){(0,Pe.showLoading)({title:"请稍等"}),function(e={}){var{imagePreviewUrlId:t,imagePreviewUrl:r}=e,n=(0,Vd.VW)(),a=(0,Vd.rZ)();if(n){if(/^(http|https):\/\//.test(r))return new Promise((e=>{(0,lr.o)({url:r,success:t=>{e(Hd(t.tempFilePath).catch((e=>{$d.error(e),Kd()})))},fail:t=>{$d.error(t),e(Kd())}})}));if(/^wxfile:\/\//.test(r))return Hd(r).catch((e=>($d.error("getFinalUrlWithImageInfoAndCDNUrl fail",e,r),Kd())));if((0,J.HD)(r)){var i=r.split(".").pop();i=i?i.toLowerCase():"jpg";var o=`__wx_temp_timeline_img_${(0,be.M8)()}.${i}`,s=`${O.Z.env.USER_DATA_PATH}/${o}`;return(0,Re.Fr)(Wd.c)({srcPath:r,destPath:s}).then((()=>Hd(s))).then((e=>((0,Gd.q)({filePath:s,success:e=>{$d.log("unlink success",e)},fail:e=>{$d.error("unlink fail",e)}}),e))).catch((e=>($d.error("getFinalUrlWithImageInfoAndCDNUrl fail",e,s),Kd())))}return Kd()}var c=a[t];return t&&c?new Promise((e=>{on({src:c,success:t=>{var{width:r,height:n}=t,a=(0,Vd.Mc)(c,r,n);e({fileUrl:a,thumbUrl:a})},fail:()=>e(Kd())},lr.o)})):Kd()}(e).then((e=>((0,Pe.hideLoading)(),e))).then((t=>zd(t,e,Bd.Gy.PLAY_PAGE_IMAGE))).catch((e=>{(0,Pe.hideLoading)(),$d.error("invokeShareTimeline fail",e)}))}function Hd(e){return Promise.all([(0,Vd.tK)(e),(0,Vd.Hi)(e,1048576).then((()=>(0,Vd.AV)(e)))]).then((([e,t])=>{var{width:r,height:n}=e;return{fileUrl:(0,Vd.Mc)(t.fileUrl,r,n),thumbUrl:(0,Vd.Mc)(t.thumbUrl,r,n)}}))}function Kd(){return(0,Fd.O)().then((e=>{var{width:t,height:r,tempFilePath:n}=e;return(0,Vd.AV)(n).then((e=>({fileUrl:(0,Vd.Mc)(e.fileUrl,t,r),thumbUrl:(0,Vd.Mc)(e.thumbUrl,t,r),isSnapshot:!0})))}))}var Jd=null;function Yd(e,t){var r=function(e){var t={};return"function"==typeof Jd&&"object"!=typeof(t=Jd())&&(t={}),qd(t,e)}(t);r&&Zd(r)}(0,B.jQ)("onShareTimeline",(e=>{var t=jd.n.get();t?function(e,t){var r="",n="";e.pageType===Bd.Gy.PLAY_PAGE_IMAGE?(r=(0,Ld.xF)({pageType:Bd.Gy.PLAY_PAGE_IMAGE,query:e.query}),n=e.params.imageUrl||""):e.pageType===Bd.Gy.PLAY_PAGE_VIDEO&&(r=(0,Ld.xF)({pageType:Bd.Gy.PLAY_PAGE_VIDEO,query:e.query}),n=e.params.thumbUrl||""),zd({thumbUrl:e.params.thumbUrl,fileUrl:e.params.fileUrl},{title:e.params.title||t.title,imageUrl:n,path:r,userPath:e.params.userPath,userQuery:e.params.userQuery},e.pageType,e.params).catch((e=>{f.error("onShareTimeline fail",e)}))}(t,e):Yd(0,e)}));var Qd=d(2490),Xd=d(3581),ep=d(6466),tp="startGameLive",rp=!1,np=e=>{var t="";if(e&&"object"==typeof e){var{query:r}=e;(r="string"==typeof r?r:"").length>2e3&&(console.warn(`onGameLiveStateChange: query exceed max length limit 2000: "${r.length}"`),r=r.substr(0,2e3)),r.length>0&&(t=`?${r.replace(/^\?/,"")}`)}return t},ap=(e={})=>{rp?(0,B.YG)(tp,e,"please invoke after last invoke ended"):(rp=!0,(0,ep.UP)().then((()=>new Promise(((e,t)=>{(0,B.IN)("getGameLivePermission",{success(r){1===r.status&&(0,Ze.J)("startGameLiveDirectly")?e():t({errMsg:"not support",errCode:r.errCode})},fail:t})})))).then((()=>((e={})=>{var t=np(e);return new Promise(((e,r)=>{(0,B.IN)("startGameLive",{path:t,reportInfo:JSON.stringify({scene:5}),success:e,fail:r})}))})(e))).then((t=>((0,B.FE)({name:tp,args:e,res:t}),rp=!1,ip({actionStatus:1}),null))).catch((t=>{ip({actionStatus:0,errType:t.errCode}),(0,B.YG)(tp,e,t.errMsg||t.message,t.errCode||t.err_code),rp=!1})))},ip=({actionStatus:e,errType:t})=>{w.reportKeyValue({key:"MidasFriendPayment",value:["","",37,2,"",e,"","","",(0,Je._getCurrentNetworkType)(),"","",t,"","","",""].join(",")})},op=d(1816),sp=null,cp=e=>({0:"end",1:"start",4:"menuClick"}[e]);(0,Ke.n)("onGameLiveStateChange",((e={})=>{(0,op.JE)(e)}));(0,op.DT)((e=>{var{event:t,extra:r}=e;if(4===t){var{path:n}=(e=>{var t="";if("function"==typeof sp){var r={state:cp(e.event)},n=sp(r);t=np(n)}return{path:t}})(e);(0,B.IN)("startGameLive",{path:n,reportInfo:JSON.stringify({scene:4})})}else if((0===t||1===t)&&"function"==typeof sp){var a={state:cp(e.event)};r&&r.wxaGameExportId&&(a.feedId=r.wxaGameExportId),sp(a)}}));var lp=new je.Q("key",!0);(0,M.a)((e=>{e.EventHandler.onkeydown=e=>{lp.emit("down",e)},e.EventHandler.onkeyup=e=>{lp.emit("up",e)}}));var up,dp,pp=d(1344);(0,B.jQ)("onWindowResize",(()=>{var e={},t=(0,Ce.getSystemInfoSync)();up===t.windowWidth&&dp===t.windowHeight||(up=e.windowWidth=t.windowWidth,dp=e.windowHeight=t.windowHeight,ur.U.emit("onWindowResize",e))}));var fp=null;(0,B.jQ)("onAddToFavorites",(e=>{var t={};if((0,Ld.b$)()){var r=(0,Ld.hk)(e);(0,B.IN)("addToFavorites",Z()({},r))}else{"function"==typeof fp&&("object"!=typeof(t=fp({}))&&(t={}),t.path="string"==typeof t.path?t.path:"","string"==typeof t.query&&(t.path=t.path+"?"+t.query));var n=t.imageUrl;(0,dr.V)([n],"image",(r=>{/^(cloud):\/\//.test(n)&&(n=r.data[0].url),t.imageUrl=n,(0,B.IN)("addToFavorites",Object.assign(e,t))}))}}));var hp=d(2791),gp=d(7733),vp=!1,mp=!1,yp=hp.P0,bp="";function _p(e={}){if((0,Ze.J)("launchApp"))if(vp)if(mp){var t=Object.assign({},e,{appId:bp});yp===hp.nw?t.extraData=e.appParameter:(t.messageExt=e.appParameter,t.extInfo=e.appParameter),yp(t)}else(0,B.YG)("launchApp",e,"invalid scene");else(0,B.YG)("launchApp",e,"not in touchEnd");else(0,B.YG)("launchApp",e,"no permission")}(0,gp.dN)(((e={})=>{var{scene:t}=e,{referrerInfo:r}=e;void 0!==t&&("string"==typeof t&&(t=parseInt(t,10)),r&&r.appId&&(bp=r.appId),1036===t?(mp=!0,yp=hp.P0):1069===t?(mp=!0,yp=hp.nw):1089!==t&&1090!==t&&1038!==t&&(mp=!1))})),ur.U.on("beforeTouchEnd",(()=>{vp=!0})),ur.U.on("afterTouchEnd",(()=>{vp=!1}));var wp,Ip=d(9438),Sp=d(7835),kp=d(8052),Cp=(e={})=>{var t=Object.assign({},e);return(0,J.hj)(t.zIndex)?t.zIndex=Math.min(0,t.zIndex):(0,J.o8)(t.zIndex)||(t.zIndex=0),new kp.nk(t)},Tp=d(364),Ep=new Set,Ap=new WeakMap,Pp="service",xp="plugin",Mp={[Pp]:0,[xp]:0},Rp={add(e,t){Ep.add(e),Ap.set(e,t),Mp[t]++},remove(e){var t=Ap.get(e);Ep.delete(e)&&(Ap.delete(e),Mp[t]--)},get size(){return Ep.size},getSizeByType:e=>Mp[e]},Dp=0,Lp=1,Np=2,Op=new WeakMap,Bp=new Map,jp=ArrayBuffer;o.onLoad((()=>{wp="undefined"==typeof WeixinSharedBuffer?{}:WeixinSharedBuffer,"undefined"==typeof WeixinSharedBuffer&&("undefined"!=typeof __global?jp=__global.SharedArrayBuffer:d.g.SharedArrayBuffer&&(jp=d.g.SharedArrayBuffer))}));class Fp{constructor(e,t){if(!(0,J.hj)(e)||e<0)throw new K.i(`Invalid array buffer length ${e}`);if((0,J.hj)(t)){var r;try{r=wp.get(t)}catch(e){throw new Error(`WeixinSharedBuffer.get${t} fail: ${e.message}`)}Object.defineProperty(this,"buffer",{value:r,writable:!1,enumerable:!0}),Object.defineProperty(this,"_sabId",{value:t,enumerable:!0,writable:!1})}else{Object.defineProperty(this,"buffer",{value:new jp(e),writable:!1,enumerable:!0});var n=wp.new(this.buffer);Object.defineProperty(this,"_sabId",{value:n,enumerable:!0,writable:!1})}var a={writeStatus:Dp,readStatus:Dp,writeLockCallbacks:[],readLockCallbacks:[],writeLockId:void 0,readLockId:void 0,destroyed:!1};Op.set(this,a),Bp.set(this._sabId,this)}destroy(){var e=Op.get(this);e.writeLockCallbacks=[],e.readLockCallbacks=[],Bp.delete(this._sabId),Op.get(this).destroyed=!0,this.unlock(),wp.destroy(this._sabId)}lock(e,t=!1){var r=Op.get(this),{destroyed:n,writeStatus:a,readStatus:i,writeLockCallbacks:o,readLockCallbacks:s}=r;if(n)throw new K.i("SharedArrayBuffer has been destroyed");if(!(0,J.mf)(e))throw new K.i("callback must be a function");a!==Np?(o.push(e),a===Lp||(r.writeStatus=Lp,r.writeLockId=wp.Lock(this._sabId,(()=>{o.forEach((e=>e())),s.forEach((e=>e())),r.writeStatus=Np,r.writeLockCallbacks=[],r.readLockCallbacks=[]})))):e()}unlock(){var e=Op.get(this),{writeLockId:t,readLockId:r,writeStatus:n,readStatus:a,destroyed:i}=e;i?console.warn("unlock: SharedArrayBuffer has been destroyed"):(n!==Lp&&n!==Np||(wp.Unlock(this._sabId,t),e.writeStatus=Dp,e.writeLockId=void 0,e.writeLockCallbacks=[]),a!==Lp&&a!==Np||(wp.Unlock(this._sabId,r),e.readStatus=Dp,e.readLockId=void 0,e.readLockCallbacks=[]))}}var Up,Wp,Gp=e=>new Fp(e),Vp=e=>{return(0,J.Kn)(e)?(0,J.hj)(e._sabId)?(t=e._sabId,Bp.has(t)?Bp.get(t):new Fp(0,t)):Object.keys(e).reduce(((t,r)=>{var n=e[r];return t[r]=Vp(n),t}),{}):(0,J.kJ)(e)?e.map(Vp):e;var t},$p=()=>{if("windows"===O.Z.platform||"mac"===O.Z.platform)return!0;var e=!1,t="ios"===O.Z.platform&&"clicfg_appbrand_ios_allow_multi_context_worker";return!t||(f.info(`[expt] clicfg_appbrand_ios_allow_multi_context_worker: ${O.Z.expt[t]}`),1===Number(O.Z.expt&&O.Z.expt[t])&&(e=!0),e)},qp=()=>{if("windows"===O.Z.platform||"mac"===O.Z.platform)return!1;var e=!1,t="ios"===O.Z.platform&&"clicfg_appbrand_ios_allow_worker_binding_message";return!!t&&(f.info(`[expt] clicfg_appbrand_ios_allow_worker_binding_message: ${O.Z.expt[t]}`),1===Number(O.Z.expt&&O.Z.expt[t])&&(e=!0),e)};"undefined"!=typeof WORKER_RUNTIME&&WORKER_RUNTIME?R.DD?Wp=4===i.appType:(Wp=(i.supportWorkerMultiContext||i.supoortWorkerMultiContext)&&$p(),Up=qp()):O.Z.onReady((()=>{Wp=O.Z.supportWorkerMultiContext||O.Z.supoortWorkerMultiContext&&$p(),Up=qp()})),o.onLoad((()=>{(function(e,t,r,n,a){this.message=e,this.line=t,this.column=r,this.stack=n,this.error=a}).prototype=Error}));var zp,Zp=()=>Wp,Hp=new WeakMap,Kp=new WeakMap,Jp=new WeakMap,Yp={},Qp={},Xp={},ef=new WeakMap,tf=new WeakMap,rf=0,nf={};function af(e,t,r=++rf){return Xp[e]?(nf[e]||(nf[e]=[]),nf[e].push({id:r,callback:t})):(Xp[e]=r,t()),r}function of(e,t){if(Xp[e]===t&&(delete Xp[e],nf[e]&&nf[e].length)){var{id:r,callback:n}=nf[e].shift();af(e,n,r)}}zp=e=>{var t=0;Object.assign(e,{new(e){var r=++t;return Qp[r]=e,Object.keys(Yp).forEach((t=>{var n=Hp.get(Yp[t]);u.postMsgToWorker(n,{__cmd__:"setSharedBuffer",__buffer__:e,__id__:r},!1)})),r},get:e=>Qp[e],destroy(e){delete Qp[e]},Lock:af,Unlock:of})},o.onLoad((()=>{wp.new||zp(wp)})),u.onWorkerMsg(((e,t)=>{var r=Yp[e],n=Kp.get(r),a=tf.get(r);if(t.__inner_postmsg_flag__&&(t=t.data),t.__log__&&t.logs)(e=>{e.__isNativeConsole__?f[e.level](...e.logs):console[e.level](...e.logs)})(t);else{if("setSharedBuffer"===t.__cmd__)return Qp[t.__id__]=t.__buffer__,void Object.keys(Yp).forEach((r=>{var n=Hp.get(Yp[r]);n!==e&&u.postMsgToWorker(n,t,!1)}));if("lockSharedBuffer"!==t.__cmd__)if("unlockSharedBuffer"!==t.__cmd__){if("workerUncaughtError"===t.__cmd__){var i=t.__data__;if("string"==typeof i)try{i=JSON.parse(i)}catch(e){console.warn("warning: occur illegal error: ",i)}return i=o.convertToErrorObj(i),void("function"==typeof Yp[e].errorHandler?Yp[e].errorHandler(i):console.error("Worker Uncaught: ",i))}if(r)if(a&&a.useWKWorker){if(!(e=>e.workerId)(t))return;if("requireScriptSuccess"===t.__cmd__){var s=ef.get(r);return void(s&&s.evaluateWorkerScriptPromiseResolve&&s.evaluateWorkerScriptPromiseResolve())}if("readFile"===t.__cmd__)return void(0,Nr.p)({filePath:t.filePath,success:({data:r})=>u.postMsgToWorker(e,{__cmd__:"callback",originalMsg:t,result:String.fromCharCode(...new Uint16Array(r))}),fail:({errMsg:r})=>u.postMsgToWorker(e,{__cmd__:"callback",originalMsg:t,errMsg:r})});"function"==typeof n&&n(t.data)}else"function"==typeof n&&n(Vp(t))}else of(t.__sid__,t.__lid__);else af(t.__sid__,(()=>{r.postMessage(t)}),t.__lid__)}}));var sf=function(e,t){this.postMessage({__cmd__:"requireScript",__script__:e,__id__:Hp.get(this),__options__:t})},cf=function(){var e,t=new Promise((t=>{e=t}));ef.set(this,{evaluateWorkerScriptPromise:t,evaluateWorkerScriptPromiseResolve:e})};class lf{constructor(e,t,r={useWKWorker:!1,contextType:"",pluginId:"",injectFilePath:""}){this.errorHandler=void 0,this.allowPostMessage=!1,this.useWorkerBindingMessage=Up,Hp.set(this,e),tf.set(this,r),Yp[e]=this,this._id=e,r.useWKWorker?(this.useWKWorker=!0,cf.call(this)):Zp()?sf.call(this,t,{pluginId:r.pluginId,workerId:e,injectFilePath:r.injectFilePath},!0):sf.call(this,t,{pluginId:r.pluginId,workerId:e}),Rp.add(this,r.contextType)}postMessage(e){var t=Hp.get(this),r=ef.get(this),n=tf.get(this);n&&n.useWKWorker&&r?r.evaluateWorkerScriptPromise.then((()=>{u.postMsgToWorker(t,{data:e,appid:O.Z.accountInfo.appId},void 0,this.useWKWorker)})):(e={data:e,__inner_postmsg_flag__:!0},this.useWorkerBindingMessage?u.sendMsgToWorker(t,e):u.postMsgToWorker(t,e))}onMessage(e){Kp.set(this,e)}onError(e){this.errorHandler=e}terminate(){var e=Hp.get(this),t=tf.get(this);t&&t.useWKWorker?u.postMsgToWorker(e,{__cmd__:"terminate",appid:O.Z.accountInfo.appId}):u.terminate(e),Rp.remove(this),Hp.delete(this),Kp.delete(this),ef.delete(this),Jp.delete(this),tf.delete(this),delete Yp[e]}onProcessKilled(e){Jp.set(this,e)}}(0,B.jQ)("onWorkerWebViewTerminate",(()=>{Object.keys(Yp).forEach((e=>{var t=Yp[e],r=tf.get(t);if(r&&r.useWKWorker){var n=Jp.get(t);Rp.remove(t),Hp.delete(t),Kp.delete(t),ef.delete(t),Jp.delete(t),tf.delete(t),delete Yp[e],"function"==typeof n&&_.surroundThirdByTryCatch(n,"at Worker.onProcessKilled callback function")(),w.reportIDKey({key:"onWorkerWebViewTerminate"}),f.error("onWorkerWebViewTerminate",e)}}))}));var uf=new Rn.Z,df={};class pf extends Tp.W{constructor({style:e,name:t,x:r=0,y:n=0,width:a=300,height:i=200,devicePosition:o="back",flash:s="auto",size:c="small",autoInsert:l=!0,success:u,fail:d,complete:p}={}){super({style:e,name:t}),this.size=c,df[this.id]=this;var f=null;this.deferred=[];var h={x:r,y:n,width:a,height:i,devicePosition:o,flash:s};Object.keys(h).forEach((e=>{Object.defineProperty(this,e,{configurable:!0,enumerable:!0,get:()=>h[e],set:t=>{h[e]!==t&&(h[e]=t,this.isInserted?(clearTimeout(f),f=setTimeout((()=>this.update()),0)):this.deferred.push({type:"property",property:e,value:t}))}})})),uf.on("onInit",(()=>{var e=this.deferred;this.isInserted=!0,this.deferred=[],e.forEach((e=>{"property"===e.type?this[e.property]=e.value:this.operate(e.method,e.args)}))}));var g={success:u,fail:d,complete:p};l&&this.insert().then((e=>{this.frameWidth=e.width,this.frameHeight=e.height,(0,B.FE)({name:"createCamera",args:g})})).catch((e=>{e.errMsg&&(e.errMsg=e.errMsg.replace("insertCamera:fail","")),103===e.errno&&uf.emit("onAuthCancel"),(0,B.FE)({name:"createCamera",args:g,success:!1,errno:e.errno,errMsg:e.errMsg})}))}insert(){if(!this.isInserted)return new Promise(((e,t)=>{(0,B.IN)("insertCamera",Object.assign(this.toNativeData(),{success:e,fail:t}))}))}update(){return new Promise(((e,t)=>{(0,B.IN)("updateCamera",Object.assign(this.toNativeData(),{success:e,fail:t}))}))}operate(e,t={}){return this.isInserted?new Promise(((r,n)=>{(0,B.IN)("operateCamera",Object.assign(t,{cameraId:this.id,type:e,fail:n,success:t=>{if(r(t),"listenFrameChange"===e){var n=(0,Zl.t)();if(!n)throw new Error("device not supported");t.data=n.get(t.bufferId),t.data.__proto__=ArrayBuffer.prototype,this._frame=t}}}))})):(this.deferred.push({type:"method",method:e,args:t}),Promise.resolve({}))}toNativeData(){var e=this.layoutBox||{left:this.x,top:this.y,width:this.width,height:this.height},t={cameraId:this.id,position:e,devicePosition:this.devicePosition,flash:this.flash,size:this.size};return this.autoInsert||(t.parentId=this.parentId),t}takePhoto(e="normal"){return this.operate("takePhoto",{quality:e})}startRecord(){return this.operate("startRecord")}stopRecord(e=!1){return this.operate("stopRecord",{compressed:e})}onAuthCancel(e){uf.on("onAuthCancel",e)}onStop(e){uf.on("onStop",e)}onCameraFrame(e){"function"==typeof e&&uf.on("onCameraFrame",(()=>{this._frame&&e({data:this._frame.data,width:this._frame.width,height:this._frame.height})}))}listenFrameChange(e){var t=e?(e=>{if(e._id>=0&&Yp[e._id])return e._id})(e):void 0,r={size:this.size};return void 0!==t&&(0,Ze.J)("listenFrameChangeInWorker")?(r.workerId=t,this.operate("listenFrameChange",r)):this.operate("listenFrameChange",r)}closeFrameChange(){return this._frame=null,this.operate("closeFrameChange")}destroy(){return new Promise(((e,t)=>{delete df[this.id],uf.removeAllListeners("onInit"),uf.removeAllListeners("onAuthCancel"),uf.removeAllListeners("onStop"),uf.removeAllListeners("onCameraFrame"),(0,B.IN)("removeCamera",{cameraId:this.id,success:e,fail:t})}))}}(0,Ke.n)("onCameraInitDone",(()=>uf.emit("onInit"))),(0,Ke.n)("onCameraNeedAuthCancel",(()=>uf.emit("onAuthCancel"))),(0,Ke.n)("onCameraStop",(()=>uf.emit("onStop"))),(0,Ke.n)("onCameraFrame",(()=>uf.emit("onCameraFrame")));var ff,hf,gf,vf,mf=e=>new pf(e),yf=e=>new kp.Gf(e),bf=e=>new kp.gw(e),_f=e=>{R.gm?(0,B.IN)("parseXML",e):(new M.Z.XMLReader).parse(e.xml,(t=>{/ok/.test(t.errMsg)?"function"==typeof e.success&&e.success(t):"function"==typeof e.fail&&e.fail(t),"function"==typeof e.complete&&e.complete(t)}))},wf=d(8225),If=(e=>{var t;return()=>(t||(t=e()),t)})((()=>b.getGameOpenDataContext())),Sf=JSON.stringify,kf=e=>{Pf();try{If().postMessage({data:Sf(e)})}catch(e){throw new be.iZ(e.message)}},Cf=e=>{Pf(),If().onMessage(e)},Tf=!1,Ef=()=>{var e=R.gm?O.Z.appConfig.subContext:O.Z.subContext;return e&&"string"==typeof e},Af=void 0,Pf=()=>{!Tf&&Ef()&&(Af=(0,qu.zL)(),b.createGameOpenDataContext(),Tf=!0)},xf=()=>ff||(Ef()||console.warn("getOpenDataContext:fail no openDataContext target file"),ff={postMessage(e){kf(e)},onMessage(e){Cf(e)},get canvas(){return Pf(),Af}},ff),Mf=e=>{"dark"===e.style||"light"===e.style?(0,B.IN)("setMenuStyle",e):(0,B.YG)("setMenuStyle",e,`invalid style "${e.style}"`)},Rf=(e={})=>{(0,B.YG)("createUserGameData",e,"createUserGameData 接口已废弃")},Df=(e={})=>{(0,B.YG)("updateUserGameData",e,"updateUserGameData 接口已废弃")},Lf=e=>{(0,B.r3)("setStatusBarStyle",e,{style:""})&&("white"===e.style||"black"===e.style?(0,B.IN)("setStatusBarStyle",Object.assign({},e,{color:e.style})):(0,B.YG)("setStatusBarStyle",e,`invalid style "${e.style}"`))};try{R.gm&&(hf=document.createElement.bind(document),gf=document.body.appendChild.bind(document.body),vf=null)}catch(e){}var Nf=({fontStyle:e="normal",fontWeight:t="normal",fontSize:r=16,fontFamily:n,text:a=""}={})=>{if(R.gm)return vf||((vf=hf("div")).style.opacity=0,gf(vf)),vf.style.fontStyle=e,vf.style.fontWeight=t,vf.style.fontSize=r+"px",vf.style.fontFamily=n,vf.innerHTML=a||"ajghl~!",vf.clientHeight;var i=`${e} ${t} ${r}px ${n}`;return M.Z.getTextLineHeight(i,a)},Of=d(7580),Bf=e=>{var t=tr.Z.get(e.shareTicket);t&&t.shareKey?(0,Of.k)(Object.assign({},e,{shareKey:t.shareKey})):(0,B.YG)("getGroupMsgTicket",e,"invalid shareTicket")},jf=(e={})=>{(0,B.IN)("bindGroup",e)},Ff=(e={})=>{R.wZ&&O.Z.clientVersion<654316032||R.cj?(0,B.yD)({apiName:"wxaapi_wxajoinchatroom",reqData:{groupid:e.groupId,nonce_str:e.nonceStr,signature:e.signature},success(e){var t=e.data;(0,B.IN)("private_openUrl",{url:t.join_chatroom_url,isNativeStyle:!0})},fail({errMsg:e}){(0,Pe.showToast)({title:e.replace(/^\w+:fail\s+/,""),icon:"none"})},complete(){(0,B.FE)({name:"joinGroup",args:e})}}):(0,B.IN)("joinGroup",e)},Uf=1;O.Z.onReady((()=>{try{"number"==typeof O.Z.wxAppInfo.maxWorkerConcurrent&&(Uf=O.Z.wxAppInfo.maxWorkerConcurrent)}catch(e){}}));var Wf=function(e,t={}){var{useExperimentalWorker:r}=t,n={workerUrl:e,appid:O.Z.accountInfo.appId,useExperimentalWorker:r&&(0,Ze.J)("WeAppWorker")},a="workers.js",i=Pp,o=(0,Ie.hI)(this);if(o&&(a=(0,be.RP)(o,"workers.js"),i=xp,n.pluginId=o),Rp.getSizeByType(i)>=Uf)throw new Error("createWorker: exceed max concurrent workers limit.");var s=a;(()=>{if(R.DD)return!0;var e=!1,t=!!R.cj&&"clicfg_appbrand_ios_allow_multi_context_worker";return!t||(f.info(`[expt] clicfg_appbrand_ios_allow_multi_context_worker: ${O.Z.expt[t]}`),1===Number(O.Z.expt&&O.Z.expt[t])&&(e=!0),e)})()&&!r&&(a=Zp()&&!R.DD?void 0:a);var{workerId:c,useWKWorker:l}=u.create(a,n);if(setTimeout((()=>{w.reportIDKey({key:l?"createWKWorker":"createNormalWorker"})}),0),c>0)return new lf(c,e,{useWKWorker:l,contextType:i,pluginId:n.pluginId,injectFilePath:s});throw-1===c?new Error(`createWorker: Worker "${e}" does not exists.`):new Error("createWorker: unknown error.")},Gf=null,Vf=null,$f=null,qf=new Promise((e=>{$f=e}));O.Z.onReady((()=>{Vf=O.Z,Gf=(0,Ce.getStableSystemInfo)(),$f()}));var zf,Zf=e=>{Vf?e():qf.then(e)},Hf={enabled:!0,sampleRate:1,batchTime:300,legacyReportEnabled:!0,bufferCapacity:1e3,userUin:0},Kf=!1;function Jf(e,t){if(0===t)return!1;var r=Math.ceil(1/t);return e%r===parseInt(Date.now()/864e5,10)%r}function Yf(){var e=void 0!==De.hr?De.hr.getCurrentPagesByDomain(""):[],t=Gf&&Gf.brand,r=Gf&&Gf.model,n=Gf&&Gf.platform,a=Gf&&Gf.system,i=Vf&&Vf.appLaunchInfo&&Vf.appLaunchInfo.scene,o=Vf&&O.Z.envVersion,s=Gf&&Gf.version,c=Gf&&Gf.SDKVersion,l=e.length>0&&e[e.length-1].__route__||"";return{platform:n,system:a,path:l=function(e){if(!e)return"";var t=e.indexOf("?");return t>-1?e.substring(0,t):e}(l),scene:i,brand:t,model:r,networkType:(0,Je._getCurrentNetworkType)(),envType:o,clientVersion:s,sdkVersion:c}}function Qf(e,t,r=[],n){var a=Object.create(null);a.key=e,a.value=t;var i=Yf(),o="";n?(o=n.pluginId,i.pluginCustomVersion=n.customVersion,i.path=De.P3.convertRouteToComponentAlias(i.path),i.path.indexOf("plugin")<0&&(i.path="")):o=Vf.accountInfo&&Vf.accountInfo.appId,function({appId:e,metrics:t={},dimensions:r=[]}={}){var n="";r.length>0&&(n="_"+r.join("_"));var a=Yf(),i=`${t.key}_${a.networkType}_${a.scene}${n}`;if(Object.keys(Xf).length>Hf.bufferCapacity)return;Xf[i]||(Xf[i]={appId:e,key:t.key,valueSum:0,count:0,baseInfo:a,dimensions:r});var o=Xf[i];o&&(o.valueSum+=t.value,o.count++)}({appId:o,metrics:a,dimensions:r}),zf&&zf.then((()=>{"release"===O.Z.envVersion&&1!==Hf.sampleRate&&Hf.userUin&&!Jf(Hf.userUin,Hf.sampleRate)||Hf.enabled&&Hf.legacyReportEnabled&&ih({appId:o,metrics:a,baseInfo:i,interfaces:"log_20000_userdefine",busid:"b_wxg_wxa_miniprogram_performance"})}))}var Xf={};function eh(){var e=Object.keys(Xf);if(!(e.length<=0)&&Hf.enabled&&("release"!==O.Z.envVersion||1===Hf.sampleRate||!Hf.userUin||Jf(Hf.userUin,Hf.sampleRate))){var t="develop"===O.Z.envVersion||"trial"===O.Z.envVersion;for(var r of e){var n=Xf[r],a={key:n.key,value:n.valueSum/n.count,num:n.count},i=n.baseInfo,o=n.dimensions;t?o.length>0?oh({appId:n.appId,metrics:a,baseInfo:i,interfaces:"log_20004",busid:"b_wxg_wxa_miniprogram_performance",dimensions:o}):oh({appId:n.appId,metrics:a,baseInfo:i,interfaces:"log_20002",busid:"b_wxg_wxa_miniprogram_performance"}):o.length>0?ih({appId:n.appId,metrics:a,baseInfo:i,interfaces:"log_20003",busid:"b_wxg_wxa_miniprogram_performance",dimensions:o}):ih({appId:n.appId,metrics:a,baseInfo:i,interfaces:"log_20001",busid:"b_wxg_wxa_miniprogram_performance"}),delete Xf[r],w.reportKeyValue({key:"PerfReport",value:[n.appId,i.platform,i.scene,i.brand,i.model,i.networkType,i.envType,a.key,a.value,a.num,parseInt(Date.now()/1e3,10)].join(",")})}}}var th=null;function rh(){var e="develop"===O.Z.envVersion||"trial"===O.Z.envVersion?60:Hf.batchTime;th&&clearInterval(th),th=setInterval(eh,1e3*e)}var nh=!1;function ah(){nh=!0,Zf((()=>{setTimeout(eh,3e4),rh(),(0,si.J)((()=>{eh()})),(0,ke.T)((()=>{rh()}))}))}function ih({appId:e,metrics:t={},baseInfo:r={},interfaces:n="",busid:a="",dimensions:i}={}){var o=JSON.stringify({appId:e,base:r,metrics:t,dimensions:i,time:parseInt(Date.now()/1e3,10)}),s=JSON.stringify({interface:n,busid:a,data:o});nt(1002,s,!0)}function oh({appId:e,metrics:t={},baseInfo:r={},interfaces:n="",busid:a="",dimensions:i}={}){if(Hf.enabled){var o=JSON.stringify({appId:e,base:r,metrics:t,dimensions:i,time:parseInt(Date.now()/1e3,10)});(0,B.Qh)({sdkApiName:"UploadByApi",apiName:"UploadByApi",reqData:{interface:n,busid:a,data:o}}).catch((()=>{}))}}var sh=4294967295;function ch(e,t,r,n){Hf.enabled&&(e||"number"==typeof e||console.warn("[reportPerformance] id can not be empty"),t||"number"==typeof t||console.warn("[reportPerformance] value can not be empty"),e=parseFloat(e),t=parseFloat(t),(Number.isNaN(e)||"number"!=typeof e)&&console.warn("[reportPerformance] id should always be type of Number"),e>=0&&e<=sh||console.warn("[reportPerformance] id is out of range, will probably cause report failure"),(Number.isNaN(t)||"number"!=typeof t)&&console.warn("[reportPerformance] id should always be type of Number"),t>=0&&t<=sh?(void 0===r||Array.isArray(r)||(r=[String(r)]),Array.isArray(r)&&(r.length>2&&console.warn("[reportPerformance] expected dimensions length to be less than or equals to 2, but got",r.length),0===(r=r.slice(0,2)).length&&(r[0]="",r[1]=""),1===r.length&&(r[1]=""),r=r.map((e=>e?String(e):"")).map((e=>e.substring(0,256)))),r&&Array.isArray(r)||(r=[]),Kf||(Kf=!0,zf=mu().then((e=>{var t=e.data;if(t){var r=t.PerformaceGlobalConf,n=t.PerformacePersonalConf;r&&(void 0!==r.PerformanceOldReportOff&&(Hf.legacyReportEnabled=!(1===r.PerformanceOldReportOff)),void 0!==r.PerformanceReportMaxNum&&(Hf.bufferCapacity=parseInt(r.PerformanceReportMaxNum,10)),void 0!==r.PerformanceMiniprogramlibGatherTime&&(Hf.batchTime=60*parseInt(r.PerformanceMiniprogramlibGatherTime,10))),n&&(void 0!==n.PerformanceMiniprogramlibOff&&(Hf.enabled=!(1===n.PerformanceMiniprogramlibOff)),void 0!==n.PerformanceMiniprogramlibGatherTime&&(Hf.batchTime=60*parseInt(n.PerformanceMiniprogramlibGatherTime,10)),void 0!==n.PerformanceMiniprogramlibSamplingRatio&&(Hf.sampleRate=parseInt(n.PerformanceMiniprogramlibSamplingRatio,10)/100)),Hf.userUin=t.UserUin,300!==Hf.batchTime&&rh()}})).catch((e=>{}))),nh||ah(),Zf((()=>{"release"===O.Z.envVersion&&1!==Hf.sampleRate&&Hf.userUin&&!Jf(Hf.userUin,Hf.sampleRate)||Qf(e,t,r,n)}))):console.warn("[reportPerformance] value should be in range of",0," to",sh))}function lh(e,t,r){ch(e,t,r)}var uh=(e={})=>{var t=e.type;if(1===t)(0,B.IN)("testApiCallTime",e);else if(2===t)(0,Te.L)("testWebviewApiCallTime",e,void 0,(t=>{(0,B.F0)(t,"testApiCallTime",e,{})}));else{if(3!==t)return{directInvokeJs:O.Z.directInvokeJs};(0,Te.L)("testApiCallTime",e,void 0,(t=>{(0,B.F0)(t,"testApiCallTime",e,{})}))}};function dh(e={}){console.warn("wx.initFaceDetect 即将废弃，请使用 wx.createVKSession"),(0,B.IN)("faceProcessInit",e,{beforeFail:e=>{var t=hh(e.errCode),r=gh(e.errCode);t&&(e.errno=t),r&&(e.errMsg=r)},beforeAll:e=>{e.errMsg=e.errMsg.replace(/^(\w+):(ok|fail)/,"initFaceDetect:$2")}})}function ph(e={}){console.warn("wx.faceDetect 即将废弃，请使用 wx.createVKSession"),(0,B.IN)("faceDetect",e,{beforeFail(e){var t=hh(e.errCode),r=gh(e.errCode);t&&(e.errno=t),r&&(e.errMsg=r)},beforeAll:e=>{e.errMsg=e.errMsg.replace(/^(\w+):(ok|fail)/,"faceDetect:$2")}})}function fh(e={}){console.warn("wx.stopFaceDetect 即将废弃，请使用 wx.createVKSession"),(0,B.IN)("faceProcessStop",e,{beforeFail:e=>{var t=hh(e.errCode),r=gh(e.errCode);t&&(e.errno=t),r&&(e.errMsg=r)},beforeAll:e=>{e.errMsg=e.errMsg.replace(/^(\w+):(ok|fail)/,"stopFaceDetect:$2")}})}function hh(e){switch(e){case 0:return Dn.OK;case 1:case 3:return Dn.Qyn;case 2:return Dn.RGX;case 5:return Dn.mUN;case 6:return Dn.WV4;case 4:case 7:return Dn.I4j}}function gh(e){switch(e){case 1:case 3:return"faceDetect:fail face detection does not initialize";case 2:return"faceDetect:fail face detection has duplicated initialization";case 5:return"faceDetect:fail face not detected or detection failed";case 6:return"faceDetect:fail stop face detection failed";default:return"faceDetect:fail unknown error"}}var vh=d(2400),mh=(...e)=>M.Z.createSignal?M.Z.createSignal(...e):null,yh=null,bh=e=>{yh=e},_h=()=>{yh=null},wh=(0,Re.Fr)(((e={})=>{var t=["release","develop","trial"],r=(0,B.TG)("CreateWxaShortLink","webapi_createwxashortlink",(e=>({wxa_appid:e.appid,wxa_path:e.path,page_title:e.title,version:e.version,version_type:t.indexOf(e.envVersion)})),(e=>{e.shortLink=e.short_link,delete e.short_link}));r(e)})),Ih=(0,Re.Fr)(((e={})=>{((e={})=>{e.keyPath="WxaAppVersionInfo.AppVersion",(0,B.IN)("getAppContact",e,{beforeSuccess(e){e.data=JSON.parse(e.data)}})})({success(t){(0,B.FE)({name:"getAppContact",args:e,res:t})},fail(t){((e={})=>{e.keyPath="WxaAppVersionInfo.VersionState",(0,B.IN)("getAppContact",e,{beforeSuccess(e){e.data=JSON.parse(e.data),1===e.data&&(e.data=0)}})})({success(t){(0,B.FE)({name:"getAppContact",args:e,res:t})},fail(t){(0,B.FE)({name:"getAppContact",args:e,res:t,success:!1})}})}})})),Sh=e=>(0,Pe.showToast)({icon:"none",title:e}),kh=new Map,Ch="请检查网络后重试",Th=0;(0,B.jQ)("onCopyUrl",(e=>{var t=e.shortLinkEnable||!1,r=ye.Z.lastRoute,n=ye.Z.lastOpenType,a=JSON.parse(JSON.stringify(ye.Z.lastRawQuery||{}));if("appLaunch"!==n&&"autoReLaunch"!==n)try{Object.keys(a).forEach((e=>{a[e]=decodeURIComponent(a[e])}))}catch(e){return void Sh(Ch)}var i=(0,R.aI)()?t?"":"index.html":`${r}.html`,o=Object.entries(a).map((e=>e.join("="))).join("&");if(t&&"function"==typeof yh)try{o=(yh()||{}).query||""}catch(e){console.warn("[onCopyUrl] error",e)}var s=o?`${i}?${o}`:i;if(t){kh.has(Th)&&kh.set(Th,!1);var c=++Th,l=!1;kh.set(c,!0);var u=e=>{!!kh.get(c)&&(Sh(e),e===Ch&&(0,B.IN)("returnCopyUrl",{url:"",shortLinkEnable:t}),kh.set(c,!1))};setTimeout((()=>{l=!0,u(Ch)}),1500);var d=O.Z.page[`${r}.html`],p=d&&d.window||{},f=O.Z.global&&O.Z.global.window||{},h=p.navigationBarTitleText||f.navigationBarTitleText||"";Ih().then((e=>{var r=e.data;return wh({appid:O.Z.accountInfo.appId,envVersion:O.Z.envVersion,path:s,title:(0,R.aI)()?"":h,version:r}).then((e=>(console.log("createWxaShortLinkAsync, ",e),!!kh.get(c)&&!l&&((0,B.IN)("returnCopyUrl",{url:e.shortLink,shortLinkEnable:t,success(){Sh("已复制")},fail(){Sh(Ch)}}),kh.set(c,!1)),null))).catch((e=>{u(Ch),console.log("[onCopyUrl]:",e)})),null})).catch((e=>{u(Ch),console.log("[onCopyUrl]: ",e)}))}else(0,B.IN)("returnCopyUrl",{url:s,shortLinkEnable:t,success(){Sh("已复制")},fail(){Sh(Ch)}})}));var Eh={};(0,Ke.n)("onAppEnterForeground",(e=>{Object.assign(Eh,e)})),O.Z.onReady((()=>{Object.assign(Eh,O.Z.appLaunchInfo)}));var Ah=(0,B.TG)("querySettlementMark","jsapi_querysettlementmark",(()=>({isWxHost:!O.Z.host||"WeChat"===O.Z.host.env,sdkAppId:O.Z.host&&O.Z.host.appId,scene:Eh.scene,sceneNote:Eh.scene_note||Eh.sceneNote,sessionId:Eh.sessionId||Eh.sessionid}))),Ph=()=>new Promise((e=>{Ah({complete:({mark:t})=>e(t)})})),xh={offer_id:"offerId",currency_type:"currencyType",session_id:"sessionId",session_type:"sessionType",pf:"platform",login_wx_appid:"loginWXAppId",change_wx_openid:"changeWXOpenId",extend:"extend",product_id:"productId",service_code:"serviceCode",service_name:"serviceName",buy_quantity:"buyQuantity",aid:"aid",provide_uin:"provideUin",zoneid:"zoneId",goodstokenurl:"goodsTokenUrl"},Mh=["offer_id","currency_type","session_id","session_type","pf","login_wx_appid","change_wx_openid","extend"];function Rh(e){var t=[];return"subscribe"===e.mode?t=["product_id","service_code","service_name","buy_quantity","aid","provide_uin"]:"game"===e.mode||"pcGame"===e.mode?t=["buy_quantity","zoneid","provide_uin"]:"goods"===e.mode?t=["buy_quantity","zoneid","goodstokenurl"]:"enterprise"===e.mode&&(t=["zoneid","goodstokenurl"]),[...Mh,...t].reduce(((t,r)=>(t[r]=e[xh[r]],"pf"===r&&"windows"===t.pf&&(t.pf="android",t.pf_header="wxgame_windows-2001"),t)),{})}var Dh=d(1444),Lh=d(4208),Nh=d(9691),Oh=d(9323),Bh=d(868),jh=d(5532),Fh=d(3911),Uh=f.createLogger("common reportUserBehavior"),Wh=(0,Re.Fr)(Pe._showModal),Gh=(0,Re.Fr)(Nr.p),Vh=(0,Re.Fr)(yu.N),$h="wxfile://ad/verifystate.json",qh=Fh.Y,zh=null;function Zh(){return Zh=Q()((function*(e){try{if(zh=e,Uh.log("set verifydata",JSON.stringify(zh)),R.gm)return;R.DD||R.wZ?yield(0,B.bb)("setGlobalStorage",{key:qh,data:JSON.stringify(e)}):R.cj&&(yield Vh({filePath:$h,data:JSON.stringify(e),encoding:"utf8"}))}catch(e){Uh.log("set cache fail",e.message)}})),Zh.apply(this,arguments)}function Hh(){return Kh.apply(this,arguments)}function Kh(){return Kh=Q()((function*(){try{if(R.gm)return;if(R.DD||R.wZ){var{data:e}=yield(0,B.bb)("getGlobalStorage",{key:qh});Uh.log("get verifydata",e),zh=JSON.parse(e)}else if(R.cj){var{data:t}=yield Gh({filePath:$h,encoding:"utf8"});Uh.log("get verifydata",t),zh=JSON.parse(t)}}catch(e){Uh.log("get cache fail",e.message,e)}})),Kh.apply(this,arguments)}var Jh=!1,Yh=0,Qh=null,Xh=0,eg=new je.Q("Verify",!0);function tg(e=!0){var t;null!==(t=zh)&&void 0!==t&&t.isSoftMode||(e&&(zh=null),Qh&&(Qh.des(),Qh=null))}var rg=null;function ng(e){(0,B.FE)({args:rg,name:"getRealNameVerifyMethod",success:e}),rg=null}function ag(e,{ContentType:t,ContentID:r}={}){if(zh){var n=null;"function"==typeof e?n=e:rg=e;var{url:a,weapp:i,inlineCertMode:o}=zh.urlInfo||{},{isSoftMode:s,remainSeconds:c}=zh;if(o)return sg({UIArea:o===ig.INLINE_CERT_MODE_DIALOG?1507:1508,PositionID:0,ActionID:1,Status:s?3:1,ContentType:t}),void Ag({inlineCertMode:o,isSoftMode:s,remainSeconds:c,ContentType:t,ContentID:r});i?(0,Oh.iy)({appId:i.appid,path:i.path,extraData:i.extraData,success:n}):a&&(0,Lh.n)({url:a,isNativeStyle:!0,success:n}),tg()}}var ig={INLINE_CERT_MODE_DIALOG:1,INLINE_CERT_MODE_HALF_SCREEN:2};function og(){return!1}function sg({UIArea:e,PositionID:t,ActionID:r,Status:n,ExpID:a="",ContentType:i=0,ContentID:o=0,ExternInfo:s,SourceID:c=Yh}){w.reportKeyValue({key:"GameAdsSkipCard",value:[(0,Je._getCurrentNetworkType)(),O.Z.appLaunchInfo.scene,0,15,e,t,r,"",0,/landscape/.test(O.Z.deviceOrientation)?2:1,n,c,"",a,0,"",Xh,0,"",i,o,0,s?encodeURIComponent(JSON.stringify(s)):""].join(",")}),2===r&&(Yh=e)}var cg,lg=0,ug="",dg="",pg={},fg=!1,hg=0,gg=null,vg=!1,mg=!1,yg=!1,bg=null,_g=null,wg=0,Ig=3e5,Sg=null,kg={isSupportWebview:!0,isSupportOnLoad:!1,loaded:!1};function Cg(e,t,{coldBoot:r=!1,realnameInfo:n}={},{appType:a,deviceOrientation:i}=O.Z){wg=Date.now();var o={onShow:1,heartbeat:2,onHide:3,retryLogin:4};return Jh?Hh().then(s).then(c).catch((e=>{Uh.error("report fail",e)})):Bg.then(Hh).then(s).then(c).catch((e=>{Uh.error("report fail",e)}));function s(){var i={version:6,callbackData:cg,type:o[e],duration:t/1e3,scene_note:dg,scene:lg,realnameInfo:n,referrerInfo:{appId:ug,extraData:pg},appServiceType:a,isColdStart:r};return(0,R.aI)()||(i.isWxaAdultOnly=vg),(0,B.Qh)({sdkApiName:"reportUserBehavior",apiName:"jsapi_reportuserbehav",reqData:i}).catch((e=>{var t;if((0,R.aI)()&&1!==(null===(t=zh)||void 0===t?void 0:t.action))return{data:{action:3,alertMsg:"网络已断开，请检查网络状态后重试"}};throw e}))}function c(e){var t=e.data;!function(e){Zh.apply(this,arguments)}(t);var{action:r,alertMsg:n,heartbeatInterval:a,jumpRule:o={},realnameResult:s}=t;if(o.gameStartRule&&(Bh.c.setShouldExecuteFirstSkipLimitStrategy(!0),Bh.c.setAttemptSkipMinTime(o.gameStartRule.blockJumpTimeInSeconds),Bh.c.setModalMessage2(o.gameStartRule.jumpInfo.desc),Bh.c.setModalConfirm2(o.gameStartRule.jumpInfo.jumpButtonLabel),Bh.c.setModalSkipLink2(o.gameStartRule.jumpInfo.url),Bh.c.setExpId2(o.gameStartRule.expId),Bh.c.resumeLimitTimer(!0)),o.cancelRule&&(Bh.c.setShouldExecuteSkipMaxLimitStrategy(!0),Bh.c.setAttemptSkipMaxThreshold(o.cancelRule.maxCancelCount),Bh.c.setModalMessage1(o.cancelRule.jumpInfo.desc),Bh.c.setModalConfirm1(o.cancelRule.jumpInfo.jumpButtonLabel),Bh.c.setModalSkipLink1(o.cancelRule.jumpInfo.url),Bh.c.setExpId1(o.cancelRule.expId)),cg=t.callbackData,a!==Ig&&a>=1e4&&(Ig=a,Rg()),s){var{code:l,failReason:u,certRemainTimes:d}=s;if(0===l)bg.showSucc(),tg();else if(0===d)bg.showFail({failReason:u});else{var p;bg.showModal({title:u+d?`（剩余${d}次机会）`:""}),sg({ExpID:null==t||null===(p=t.urlInfo)||void 0===p?void 0:p.expId,UIArea:t.inlineCertMode===ig.INLINE_CERT_MODE_DIALOG?1507:1508,PositionID:4,ActionID:4,Status:t.isSoftMode?3:1,ExternInfo:{number:d}})}}else switch(ng(1===r),kg.isSupportOnLoad=R.wZ&&O.Z.clientVersion>=67109659||R.cj&&sc(Sg.version,"8.0.30")>=0,r){case 1:break;case 2:setTimeout((()=>{sg({UIArea:1518,PositionID:0,ActionID:1}),Wh({title:"提示",content:n,showCancel:!1}).then((()=>{sg({UIArea:1518,PositionID:1,ActionID:2})}))}),/landscape/.test(i)?500:0);break;case 3:var{inlineUrl:f,needAdapterZk:h,expId:g}=t.urlInfo||{};if(f&&(0,R.aI)()&&kg.isSupportWebview&&kg.isSupportOnLoad){Eg({url:f,ExpId:g,DeviceModel:Sg.model,DeviceBrand:Sg.brand,OsName:Sg.platform,needAdapterZk:h}).catch((()=>{c(e)}));break}if(fg)break;fg=!0;var v=setTimeout(du.HK,15e3);sg({UIArea:1517,PositionID:0,ActionID:1}),Wh({title:"提示",content:n,showCancel:!1}).then((()=>{clearTimeout(v),fg=!1,sg({UIArea:1517,PositionID:1,ActionID:2}),(0,du.HK)()}));break;case 4:var{url:m,name:y,inlineCertMode:b,inlineUrl:_,expId:w}=t.urlInfo||{},{remainSeconds:I}=t;if(_&&(0,R.aI)()&&kg.isSupportWebview){Eg({url:_,ExpId:w,DeviceModel:Sg.model,DeviceBrand:Sg.brand,OsName:Sg.platform}).catch((()=>{c(e)}));break}if(b){sg({ExpID:w,UIArea:b===ig.INLINE_CERT_MODE_DIALOG?1507:1508,PositionID:0,ActionID:1,Status:t.isSoftMode?3:1,ContentType:1,ContentID:4}),Ag({alertMsg:n,inlineCertMode:b,isSoftMode:!1,remainSeconds:I,ContentType:1});break}var S=setTimeout(du.HK,15e3);!fg&&n&&m&&y&&(fg=!0,sg({ExpID:w,UIArea:1504,PositionID:0,ActionID:1,Status:1}),(0,Pe._showModal)({title:"提示",content:n,confirmText:y,cancelText:"退出游戏",success(e){clearTimeout(S),e.confirm?(sg({ExpID:w,UIArea:1504,PositionID:1,ActionID:2,Status:1}),ag((()=>{yg=!0}))):e.cancel&&(sg({ExpID:w,UIArea:1504,PositionID:2,ActionID:2,Status:1}),(0,du.HK)()),fg=!1},fail(e){Uh.error("show modal fail=",e),clearTimeout(S),(0,du.HK)(),fg=!1}}));break;case 5:var k,{name:C,inlineCertMode:T}=t.urlInfo||{},{remainSeconds:E}=t;if(T){var A;sg({ExpID:null==t||null===(A=t.urlInfo)||void 0===A?void 0:A.expId,UIArea:T===ig.INLINE_CERT_MODE_DIALOG?1507:1508,PositionID:0,ActionID:1,Status:t.isSoftMode?3:1,ContentType:1,ContentID:4}),Ag({alertMsg:n,inlineCertMode:T,isSoftMode:!0,remainSeconds:E,ContentType:1});break}sg({ExpID:null==t||null===(k=t.urlInfo)||void 0===k?void 0:k.expId,UIArea:1505,PositionID:0,ActionID:0,Status:1}),setTimeout((()=>{fg||(0,Pe._showModal)({title:"提示",content:n,confirmText:C,cancelText:"继续游戏",success({confirm:e}){var r,n;e&&sg({ExpID:null==t||null===(r=t.urlInfo)||void 0===r?void 0:r.expId,UIArea:1505,PositionID:1,ActionID:2,Status:1}),e||sg({ExpID:null==t||null===(n=t.urlInfo)||void 0===n?void 0:n.expId,UIArea:1505,PositionID:2,ActionID:2,Status:1}),e&&ag((()=>{yg=!0}))},complete(){fg=!1}}),fg=!0}),/landscape/.test(i)?1e3:0);break;case 6:var P,x,{inlineCertMode:M}=t.urlInfo||{},{remainSeconds:D,needAlert:L,alertMsg:N,isSoftAlert:B,isSoftMode:j}=t;if(B&&eg.emit("notify",{alertMsg:N,remainSeconds:D,doVerify:()=>ag()}),L){Ag({alertMsg:N,remainSeconds:D,isSoftMode:j,inlineCertMode:M,ContentType:1,ContentID:j?0===D?3:2:1});break}Qh?null===(P=(x=Qh).setData)||void 0===P||P.call(x,t):(Qh=!0,setTimeout((()=>Tg(t,{ContentType:0})),R.cj?2e3:0))}}}function Tg(e,{ContentID:t,ContentType:r}={}){null!==Qh&&!0!==Qh||(0,Nh.eZ)(e,(n=>{var a;Qh=n,sg({ExpID:null==e||null===(a=e.urlInfo)||void 0===a?void 0:a.expId,UIArea:e.isSoftMode?1506:1501,PositionID:0,ActionID:1,Status:e.isSoftMode?3:1,ContentID:t,ContentType:r}),setTimeout((()=>{var n;return Qh&&sg({ExpID:null==e||null===(n=e.urlInfo)||void 0===n?void 0:n.expId,UIArea:1502,PositionID:0,ActionID:1,Status:e.isSoftMode?3:1,ContentID:t,ContentType:r})}),1e4),Qh.addListener("stop",(()=>{var n;(Cg("heartbeat",hg=Date.now()-wg),e.isSoftMode)&&sg({ExpID:null==e||null===(n=e.urlInfo)||void 0===n?void 0:n.expId,UIArea:1506,PositionID:0,ActionID:1,Status:3,ContentID:t,ContentType:r});tg()})),Qh.addListener("click",(()=>{var n,{showSeconds:a,remainSeconds:i}=Qh.data;sg({ExpID:null==e||null===(n=e.urlInfo)||void 0===n?void 0:n.expId,UIArea:a?i?1502:1506:1501,PositionID:1,ActionID:2,Status:e.isSoftMode?3:1,ContentID:t,ContentType:r,Time:i}),ag((()=>{var e,t;yg=!(null===(e=zh)||void 0===e||null===(t=e.urlInfo)||void 0===t||!t.inlineCertMode)}),{ContentID:t,ContentType:r})}))}))}function Eg({url:e,ExpId:t,DeviceModel:r,DeviceBrand:n,OsName:a,needAdapterZk:i}){var o,s;if(null!==_g)return Promise.resolve();e=e.replace("#wechat_redirect","");var c={ExpId:t,DeviceModel:r,DeviceBrand:n,OsName:a,appid:O.Z.accountInfo.appId,AppServiceType:null!==(o=O.Z.appType)&&void 0!==o?o:4,versionType:null!==(s=O.Z.versionType)&&void 0!==s?s:0,SDKVersion:O.Z.SDKVersion,menuButtonBoundingClientRect:(0,uu.z)()};vc();var l,u=R.jP&&"landscape"===O.Z.deviceOrientation&&O.Z.screenHeight>O.Z.screenWidth?{width:O.Z.screenHeight,height:O.Z.screenWidth}:{width:O.Z.screenWidth,height:O.Z.screenHeight},d=i,p=0===e.indexOf("https://jiazhang.qq.com/healthy/");return _g=new jh.k({src:(0,we.cE)(e,c)+"#wechat_redirect",style:{left:0,top:0,width:u.width,height:u.height},zIndex:2000010,__skipDomainCheck__:!0,isGameWebview:d}),kg.isSupportOnLoad&&(_g.onload=()=>{kg.loaded=!0,d&&_g&&(0,B.IN)("updateGameHTMLWebView",{htmlId:_g.id,evaluateJavascript:'function addScript() {\n            var childJs = document.createElement("script")\n            childJs.src = "https://game.weixin.qq.com/cgi-bin/minigame/static/minigame_minority/index.js"\n            document.body.appendChild(childJs);\n          }\n          addScript();'}),p&&sg({UIArea:1522,PositionID:0,ActionID:1})}),_g.onmessage=function(e){Uh.log("webview onMessage",e);var{type:t,appId:r,path:n,style:a}=e;"success"===t?(_g&&_g.destroy(),mc(),(0,Ce.getSystemInfoAsyncNoCache)({success(e){delete e.errMsg,"portrait"===(Sg=e).deviceOrientation&&"landscape"===l&&(0,B.IN)("setDeviceOrientation",{value:"landscape",success(e){(0,Ce.getSystemInfoAsyncNoCache)({success(e){delete e.errMsg,Sg=e}})}})}}),hg=Date.now()-wg,setTimeout((()=>{Cg("retryLogin",hg)}),500),_g=null):"exit"===t?(_g&&(_g.destroy(),_g=null),p?(sg({UIArea:1522,PositionID:1,ActionID:2}),setTimeout((()=>{(0,du.HK)()}),200)):(0,du.HK)()):"showModal"===t?Wh(e):"openWeapp"===t?(0,Oh.iy)({appId:r,path:n}):"updateStyle"===t?_g&&(_g.style=a):"setDeviceOrientation"===t?(0,Ce.getSystemInfoAsyncNoCache)({success(e){delete e.errMsg,"landscape"===(Sg=e).deviceOrientation&&(l=Sg.deviceOrientation,(0,B.IN)("setDeviceOrientation",{value:"portrait",success(e){(0,Ce.getSystemInfoAsyncNoCache)({success(e){delete e.errMsg,Sg=e,_g.style={left:0,top:0,width:Sg.screenWidth,height:Sg.screenHeight}}})}}))}}):"openUrl"===t&&(p&&0===n.indexOf("https://support.qq.com/product/")?(sg({UIArea:1522,PositionID:2,ActionID:2}),setTimeout((()=>{(0,Lh.n)({url:n,isNativeStyle:!0})}),200)):(0,Lh.n)({url:n,isNativeStyle:!0}))},new Promise(((e,t)=>{kg.isSupportOnLoad?setTimeout((()=>{kg.loaded?e():(kg.isSupportWebview=!1,_g&&(_g.destroy(),_g=null),t())}),5e3):e()}))}function Ag({inlineCertMode:e,alertMsg:t,isSoftMode:r=!1,isPay:n=!1,remainSeconds:a=0,ContentType:i,ContentID:o}){var s;null===(s=Qh)||void 0===s||s.des(),Qh=null,null===bg&&setTimeout((()=>(0,Nh.jM)({alertMsg:t,hor:/landscape/.test(O.Z.deviceOrientation),reportkv:t=>{var n,a;return sg(Z()({UIArea:e===ig.INLINE_CERT_MODE_DIALOG?1507:1508,ExpID:null===(n=zh)||void 0===n||null===(a=n.urlInfo)||void 0===a?void 0:a.expId,Status:r?3:1,ContentType:i,ContentID:o},t))},remainSeconds:a,isSoftMode:r,isPay:n,half:e===ig.INLINE_CERT_MODE_HALF_SCREEN,confirm:({name:t,id:n,showModal:a})=>{var s,c;t?n?/(^\d{15}$)|(^\d{17}([0-9]|[xX])$)/.test(n)?(sg({ExpID:null===(s=zh)||void 0===s||null===(c=s.urlInfo)||void 0===c?void 0:c.expId,UIArea:e===ig.INLINE_CERT_MODE_DIALOG?1507:1508,PositionID:2,ActionID:2,Status:r?3:1,ContentType:i,ContentID:o}),Cg("retryLogin",hg=Date.now()-wg,{realnameInfo:{name:t,id:n}})):a({title:"身份证格式错误"}):a({title:"请输入身份证号"}):a({title:"请输入真实姓名"})},des(e){bg=null,("cancel"===e&&zh.isSoftMode||"fail"===e&&zh.isSoftMode)&&setTimeout((()=>Tg(Z()({},zh),{ContentID:o,ContentType:i})),0),ng("succ"===e)}},(e=>{bg=e}))),0)}var Pg=mg,xg=mg,Mg=mg||vg,Rg=()=>{null!==gg&&(clearInterval(gg),Dg())},Dg=()=>{gg=setInterval((()=>{hg=Date.now()-wg,Pg&&Cg("heartbeat",hg)}),Ig)},Lg=(e,{coldBoot:t=!1}={})=>{Bh.c.resumeLimitTimer(),dg=e.scene_note||"",hg=0,lg=e.scene,e.referrerInfo&&(ug=e.referrerInfo.appId,pg=e.referrerInfo.extraData),Dg(),yg?(Cg("retryLogin",hg),yg=!1):Mg&&Cg("onShow",hg,{coldBoot:t})},Ng=()=>{Bh.c.pauseLimitTimer(),hg=Date.now()-wg,clearInterval(gg),gg=null,xg&&Cg("onHide",hg)};O.Z.onReady((()=>{var e=O.Z.appLaunchInfo;Sg=(0,Ce._getSystemInfoSyncFromCache)(!0);try{O.Z.appContactInfo&&O.Z.appContactInfo.operationInfo&&O.Z.appContactInfo.operationInfo.jsonInfo&&O.Z.appContactInfo.operationInfo.jsonInfo.op_info&&(vg=1===Number(O.Z.appContactInfo.operationInfo.jsonInfo.op_info.adult_only),mg=1===Number(O.Z.appContactInfo.operationInfo.jsonInfo.op_info.grow_protect))}catch(e){Uh.error("get op_info fail",e.message)}Pg=(0,R.aI)()||mg,xg=(0,R.aI)()||mg,Mg=(0,R.aI)()||mg||vg,Lg(e,{coldBoot:!0}),(0,Ke.n)("onAppEnterForeground",(t=>{Lg(e=t)})),(0,Ke.n)("onAppEnterBackground",(()=>{Ng()})),(0,Ke.n)("onAppRoute",(t=>{"autoReLaunch"===t.openType&&(fg=!1,Ng(),setTimeout((()=>{Lg(e)}),1e3))}))}));var Og=()=>{},Bg=new Promise((e=>{Og=e})),jg=()=>{Jh=!0,Og()};function Fg(e){eg.on("notify",e)}function Ug(e){eg.off("notify",e)}function Wg({iapBuyType:e,subactionID:t,actionStatus:r,invokeId:n,errCode:a,errMsg:i,argsJSON:o,sceneId:s,midasArgsJSON:c=""}={}){var l=2===e||3===e?183:182;34===s&&(l=321),(0,Je._getCurrentNetworkType)();var u=[0,3301,s,l,t,r,"",0,"",(0,Je._getCurrentNetworkType)(),0,0,a,0,"","",encodeURIComponent(JSON.stringify({invoke_id:n,err_code:a,err_msg:i,args:o,midas_args:c}))].join(",");w.reportKeyValue({key:"MidasFriendPayment",value:u})}function Gg(e){return e&&e.errno?e.errno:void 0!==e.errCode?e.errCode:e.err_code}function Vg(e){return void 0!==e.errMsg?e.errMsg:e.message}var $g=["subscribe","game","pcGame","goods","enterprise"],qg=f.createLogger("requestMidasPayment"),zg=null,Zg=({env:e,offerId:t,batch_id:r,code_id:n,zoneId:a},i)=>{(0,B.Qh)({apiName:"wxaapi_midasusesoupon",sdkApiName:"requestMidasPayment",reqData:{env:e,offerid:t,batch_id:r,code_id:n,zoneid:a}}).catch((o=>{qg.log("[MidasPaymentError] report",o),++i<=3&&Zg({env:e,offerId:t,batch_id:r,code_id:n,zoneId:a},i)}))},Hg=function(){var e=Q()((function*(e,{code_id:t,batch_id:r,env:n,offerId:a,zoneId:i}){var o=yield Ph();if(o){var s=`settlement_mark=${encodeURIComponent(o)}`;e.additional?e.additional.remark=encodeURIComponent(s):e.additional={remark:encodeURIComponent(s)}}qg.log("[Midas] mark",o,e.additional),t&&r&&(e.sp_info=`${t},${r}`,Zg({env:n,offerId:a,batch_id:r,code_id:t,zoneId:i},0))}));return function(t,r){return e.apply(this,arguments)}}(),Kg=(e={})=>{Jg(e)},Jg=(e={},t="requestMidasPayment",r=!1)=>{var n=String(Date.now()),a="",i="";if((0,Dh.y4)(Dh.F0.EVENT_CANVAS_BEFORE_PAY),R.cj)(0,B.YG)(t,e,Dn.PRV);else if(function(){var e,t;if(!zh)return!0;if(zh.isSoftMode)return!0;if(zh.action<=3)return!0;var r,n,{inlineCertMode:a}=null!==(e=null===(t=zh)||void 0===t?void 0:t.urlInfo)&&void 0!==e?e:{};return a?(sg({ExpID:null===(r=zh)||void 0===r||null===(n=r.urlInfo)||void 0===n?void 0:n.expId,UIArea:a===ig.INLINE_CERT_MODE_DIALOG?1507:1508,PositionID:0,ActionID:1,Status:1,ContentType:3}),Ag({inlineCertMode:a,isSoftMode:!0,isPay:!0,ContentType:3}),!1):(sg({UIArea:1503,PositionID:0,ActionID:1,Status:1}),(0,Pe._showModal)({title:"提示",cancelText:"返回",content:"当前账号尚未实名，完成实名认证后才可进行充值",confirmText:zh.urlInfo.name,success({confirm:e}){var t,r,n,a;e&&ag(),e&&sg({ExpID:null===(t=zh)||void 0===t||null===(r=t.urlInfo)||void 0===r?void 0:r.expId,UIArea:1503,PositionID:1,ActionID:2,Status:1}),e||sg({ExpID:null===(n=zh)||void 0===n||null===(a=n.urlInfo)||void 0===a?void 0:a.expId,UIArea:1503,PositionID:2,ActionID:2,Status:1})}}),!1)}())if(-1!==$g.indexOf(e.mode)){e=Object.assign({zoneId:"1"},e);try{a=JSON.stringify(e)}catch(e){}qg.info("requestMidasPayment 开发者入参",a);var o,s,c,l,u,d,{offerId:p,outTradeNo:f,currencyType:h,platform:g,extraData:v}=e,{mode:m,zoneId:y,buyQuantity:b,productId:_,env:w}=e,I=m,S=_?34:33,k={offerid:p,env:w=+w,buy_quantity:b=+b,zoneid:y=""+y,sceneId:S},C=O.Z.accountInfo.appId,T=function(){var i=Q()((function*(i){d=i,qg.log("useCouponModal success",i);var{status:u,batch_id:k,code_id:T}=i;if(c=i.billno_while_using,"success"===u){var E=Rh(e);if(E.openid=o,E.login_wx_appid=C||e.loginWXAppId,1===s)yield Hg(E,{code_id:T,batch_id:k,env:w,offerId:p,zoneId:y});else{var A,P=function(){var e=Q()((function*(e,t){if(3!==s)throw{errMsg:e,errCode:t};s=1,m=I,qg.info("支付回退到旧逻辑重试",e,t),yield Hg(E,{code_id:T,batch_id:k,env:w,offerId:p,zoneId:y})}));return function(t,r){return e.apply(this,arguments)}}();try{if(r){if("goods"===I){if(!_)return void(0,B.YG)(t,e,"createIapBuyGameItemOrder needs productId");A=yield((e,{iapBuyType:t,invokeId:r,argsJSON:n,appId:a})=>{var i=(0,Xu.y)(),o={user_args:e,referrer_info:{appid:a,extra_data:e.extraData},scene_note:i.scene_note||""};return(0,B.Qh)({apiName:"webapi_createiapbuygameitemorder",sdkApiName:"createIapBuyGameItemOrder",reqData:o}).catch((a=>{throw Wg({iapBuyType:t,subactionID:3,actionStatus:0,invokeId:r,errCode:Gg(a),errMsg:Vg(a),argsJSON:n,sceneId:e.sceneId}),a}))})(e,{iapBuyType:s,invokeId:n,argsJSON:a,appId:C}),qg.info("createIapBuyGameItemOrder success",A)}}else A=yield(({outTradeNo:e,env:t,zoneId:r,buyQuantity:n,currencyType:a,platform:i,code_id:o,batch_id:s,appId:c,sceneId:l,extraData:u},{iapBuyType:d,invokeId:p,argsJSON:f})=>{var h={out_trade_no:e,env:t,zoneid:r,buy_quantity:n,currency_type:a,platform:i,code_id:o,batch_id:s,referrer_info:{appid:c,extra_data:u},scene_note:(0,Xu.y)().scene_note||""};return(0,B.Qh)({apiName:"webapi_createiapbuygamecoinorder",sdkApiName:"createIapBuyGameCoinOrder",reqData:h}).catch((e=>{throw Wg({iapBuyType:d,subactionID:3,actionStatus:0,invokeId:p,errCode:Gg(e),errMsg:Vg(e),argsJSON:f,sceneId:l}),e}))})({outTradeNo:f,env:w,zoneId:y,buyQuantity:b,currencyType:h,platform:g,code_id:T,batch_id:k,appId:C,sceneId:S,extraData:v},{iapBuyType:s,invokeId:n,argsJSON:a}),qg.info("createIapBuyGameCoinOrder success",A);var{err_code:x,err_msg:M,order_no:R,url_params:D,iap_access_token:L}=A.data;0===x?(l=R,E.goodstokenurl=D,E.openkey=L,delete E.buy_quantity,Wg({iapBuyType:s,subactionID:3,actionStatus:1,invokeId:n,errCode:x,errMsg:"",argsJSON:a,sceneId:S})):(Wg({iapBuyType:s,subactionID:3,actionStatus:0,invokeId:n,errCode:x,errMsg:M,argsJSON:a,sceneId:S}),yield P(M,x))}catch(e){"goods"===m&&qg.error("createIapBuyGameItemOrder fail",e),"game"===m&&qg.error("createIapBuyGameCoinOrder fail",e),yield P(e.errMsg||e.message,e.errCode||e.err_code)}}return E}if("cancel"===u)throw{errMsg:"用户取消支付",errCode:1};if("fail"===u)throw{errMsg:"支付中",errCode:1}}));return function(e){return i.apply(this,arguments)}}(),E=e=>{2!==s&&3!==s||(e.offer_id=u,e.session_type="wc_actoken",e.session_id="wechatid");var t=O.Z.clientVersion>=671090432?"1.2":"1.1";e.additional?e.additional.wechatapp_p_version=t:e.additional={wechatapp_p_version:t},qg.info("米大师入参",e,m);try{i=JSON.stringify(e)}catch(e){}return MidasSDK.getMidasPayApi()[m].destroy(),function(e,t){return new Promise((r=>{e.launchPay(t,(e=>{r(e)}))}))}(MidasSDK.getMidasPayApi()[m].init({env:w}),e)},A=function(){var r=Q()((function*(r){var{resultCode:o,resultMsg:u,spInfo:d}=r,f="requestVirtualPayment:fail PAY_LIMIT";if(0!==o)if(qg.error("[MidasPaymentError]",o,u,d),u=u.replace("requestVirtualPayment:fail",""),Wg({iapBuyType:s,subactionID:4,actionStatus:0,invokeId:n,errCode:o,errMsg:u,argsJSON:a,sceneId:S,midasArgsJSON:i}),-15009===o||1138===o)(0,Pe._showModal)({title:"提示",content:u,showCancel:!1,success(){(0,B.YG)(t,e,f,o)},fail(){(0,B.YG)(t,e,f,o)}});else if(1===o&&1===s||-2===o&&1!==s){if(1===s){if(null!=d&&d.channel_orderid&&null!=d&&d.out_trade_no){var{channel_orderid:h,out_trade_no:g}=d;yield(0,B.Qh)({apiName:"wxaapi_midascouponsrollback",sdkApiName:"requestMidasPayment",reqData:{billno_while_using:c,offerid:p,env:w,channel_orderid:h,out_trade_no:g}})}}else yield(0,B.Qh)({apiName:"webapi_closeiapbuyorder",sdkApiName:"requestMidasPayment",reqData:{env:w,order_no:l,mode:I}});qg.error("取消支付",t,e,u,o),(0,B.YG)(t,e,u,o)}else qg.error("支付失败",t,e,u,o),3===s?(s=1,m=I,qg.info("拉起收银台失败回退到旧逻辑重试",u,o),x()):(0,B.YG)(t,e,u,o);else!1,qg.info("支付成功",t,e),Wg({iapBuyType:s,subactionID:4,actionStatus:1,invokeId:n,errCode:0,errMsg:"",argsJSON:a,sceneId:S,midasArgsJSON:i}),(0,B.FE)({name:t,args:e})}));return function(e){return r.apply(this,arguments)}}(),P=r=>{qg.error("[MidasPaymentError] catch","object"==typeof r?JSON.stringify(r):r),"object"==typeof r?(0,B.YG)(t,e,(null==r?void 0:r.errMsg)||(null==r?void 0:r.message),null==r?void 0:r.errCode):(0,B.YG)(t,e,r,-1)},x=()=>{T(d).then(E).then(A).catch(P)};((e,{invokeId:t,argsJSON:r})=>{if(zg)return Promise.resolve(zg);var n=e.sceneId;return(0,B.Qh)({apiName:"webapi_getiapbuyinfo",sdkApiName:"getiapbuyinfo",reqData:{buy_quantity:e.buy_quantity,pay_sdk_version:1}}).then((e=>{var a;if(e.data&&0===e.data.err_code)return zg=e.data,zg.is_first_pay,Wg({iapBuyType:null===(a=zg)||void 0===a?void 0:a.iap_buy_type,subactionID:1,actionStatus:1,invokeId:t,errCode:0,errMsg:"",argsJSON:r,sceneId:n}),zg;throw{errMsg:e.data&&e.data.err_msg,errCode:e.data&&e.data.err_code}})).catch((e=>{throw Wg({iapBuyType:0,subactionID:1,actionStatus:0,invokeId:t,errCode:Gg(e),errMsg:Vg(e),argsJSON:r,sceneId:n}),e}))})(k,{invokeId:n,argsJSON:a}).then((e=>(qg.info("getIAPBuyInfo success",e),s=e.iap_buy_type,o=e.open_id,u=e.offer_id,2!==s&&3!==s||(m="goods"),{status:"success"}))).then(T).then(E).then(A).catch(P)}else(0,B.YG)(t,e,"mode错误",1e3);else(0,B.YG)(t,e,Dn.zF7)};var Yg=d(6982),Qg=["game"],Xg="requestMidasFriendPayment",ev=f.createLogger("requestMidasFriendPayment");function tv({actionStatus:e,errType:t=0,orderNo:r="",orderNoForUrl:n=""}={}){var a=[0,3001,30,10,1,e,"",0,n,(0,Je._getCurrentNetworkType)(),0,0,t,0,"",r,""].join(",");ev.log("[MidasFriendPayment reportValue]",a),w.reportKeyValue({key:"MidasFriendPayment",value:a})}function rv(){return(0,Ze.J)("requestMidasFriendPayment")?Promise.resolve():(tv({actionStatus:0,errType:1}),Promise.reject({errCode:-15005,errMsg:"No MidasFriendPayment Permission"}))}function nv(){return(0,Ze.J)("requestVirtualPayment")?Promise.resolve():(tv({actionStatus:0,errType:2}),Promise.reject({errCode:-15005,errMsg:"No VirtualPayment Permission"}))}function av(e={}){(0,B.r3)(Xg,e,{mode:"",offerId:"",currencyType:"",buyQuantity:0,outTradeNo:"",nonceStr:"",timeStamp:0,signature:""})?((0,Pe.showLoading)({title:"加载中"}),function(e={}){return new Promise(((t,r)=>{-1===Qg.indexOf(e.mode)?r({errCode:1e3,errMsg:"mode错误"}):t()}))}(e).then(rv).then(nv).then((()=>function(e={}){return(0,Yg.Z)().then((({openId:t,appId:r})=>new Promise(((n,a)=>{var{mode:i,env:o,offerId:s,currencyType:c,zoneId:l,outTradeNo:u,platform:d,buyQuantity:p,nonceStr:f,timeStamp:h,signature:g}=e;MidasSDK.getMidasPayApi()[i].destroy();var v=MidasSDK.getMidasPayApi()[i].init({env:o,hide_loading:!0}),m=Rh(e);m.openid=t,m.login_wx_appid=r||e.loginWXAppId,m.type="friends_pay_order",m.pf=d||"android",ev.info("[transedArgs]",m),v.launchFeature(m,function(){var t=Q()((function*({resultCode:t,resultMsg:r,extendInfo:d}){if(ev.info("[instance.launchFeature success]",{resultCode:t,resultMsg:r,extendInfo:d}),0===t){var v=d.token,y=d.priceLevel,b={offerId:s,currencyType:c,priceLevel:y,token:v,env:o,zoneId:l,busiOrderNo:u,mode:i,buyQuantity:p,nonceStr:f,timeStamp:h,signature:g,platform:m.pf};["session_id","session_type","login_wx_appid","change_wx_openid","extend","product_id","service_code","service_name","aid","provide_uin","goodstokenurl"].forEach((t=>{void 0!==e[xh[t]]&&(b[xh[t]]=m[t])})),b.settlementMark=yield Ph(),ev.info("reqData",b),(0,B.yD)({apiName:"webapi_addpayfororder",reqData:b,success(e){ev.info("[operateWXData success]",e);var t=e.data;Number.isInteger(t.errCode)&&0!==t.errCode?(ev.error("[operateWXData fail]",t),a({errCode:t.errCode,errMsg:t.errMsg}),tv({actionStatus:0,errType:5})):n(e)},fail(e){ev.error("[operateWXData fail]",e),a(e),tv({actionStatus:0,errType:4})}})}else a({errMsg:r,errCode:t}),w.reportIDKey({key:"midasLaunchFeatureFail"}),tv({actionStatus:0,errType:3})}));return function(e){return t.apply(this,arguments)}}())}))))}(e))).then((e=>((0,Pe.hideLoading)(),function(e={}){var t=e.data;return new Promise((r=>{var n=(0,Re.KU)("h5PayDisableForward");(0,B.IN)("shareAppMessageDirectly",{type:"h5",title:t.title,desc:t.desc,imageUrl:t.imageUrl,useDefaultSnapshot:!1,disableForward:n,link:t.link,success(){r({cloudID:e.cloudID,iv:e.iv,encryptedData:e.encryptedData}),tv({actionStatus:1,orderNo:t.orderNo,orderNoForUrl:t.orderNoForUrl})},fail(){r({cloudID:e.cloudID,iv:e.iv,encryptedData:e.encryptedData}),tv({actionStatus:0,errType:6,orderNo:t.orderNo,orderNoForUrl:t.orderNoForUrl})}})}))}(e)))).then((t=>{(0,B.FE)({name:Xg,args:e,res:t})})).catch((t=>{(0,Pe.hideLoading)(),ev.error("fail:",t),(0,B.YG)(Xg,e,t.errMsg,+(t.errCode||t.err_code))}))):tv({actionStatus:0,errType:7})}var iv=(0,B.TG)("checkIsSupportMidasFriendPayment","webapi_isaddpayfororderblocked",(()=>({})),(e=>(e.blocked=e.is_blocked,delete e.is_blocked,e)));function ov(e={}){Promise.resolve().then(rv).then(nv).then((()=>iv(e))).catch((({errMsg:t,errCode:r,err_code:n})=>{(0,B.YG)("checkIsSupportMidasFriendPayment",e,t,+(r||n))}))}function sv(){(0,Xd.v)("gameLoginReport"),console.warn("wx.gameLoginReport 已经废弃")}function cv(){(0,Xd.v)("gameLogoutReport"),console.warn("wx.gameLogoutReport 已经废弃")}var lv=()=>["nativeFunctionalized"].includes((0,$s._)().apiCategory)?"服务需要重启以使用最新功能":(0,R.tK)()?"功能已更新，需重新加载后使用":"小程序需要重启以使用最新功能",uv=new Rn.Z;(0,B.jQ)("onUpdateStatusChange",(e=>{var t,r=(e.state||"").toLowerCase();e.appContactInfo&&e.appContactInfo.passThroughInfo.forceUpdate||!1?"updateready"===r&&(console.info("[apply update before]"),R.wZ&&O.Z.clientVersion<=654315263?(0,B.IN)("updateApp",t):(0,Pe._showModal)({content:lv(),confirmText:"知道了",showCancel:!1,complete(){(0,B.IN)("updateApp",t)}})):(delete e.state,uv.emit(r,e))}));var dv,pv=[];uv.on("updating",(e=>{dv={hasUpdate:!0,version:e.customVersion},fv()})),uv.on("noupdate",(()=>{dv={hasUpdate:!1},fv()}));var fv=()=>{pv.forEach((e=>{"function"==typeof e&&e(dv)})),pv.length=0},hv=new Rn.Z;(0,B.jQ)("onPluginUpdateStatusChange",((e={})=>{var{pluginAppid:t,state:r,appVersion:n,customVersion:a}=e,i=(r||"").toLowerCase();hv.emit("plugin"+i,{pluginAppid:t,appVersion:n,customVersion:a})}));var gv={},vv={};hv.on("pluginupdateready",(({pluginAppid:e,appVersion:t,customVersion:r})=>{vv[e]={pluginVersion:r},mv(e,t,r)}));var mv=(e,t,r)=>{var n=gv[e];n&&(delete gv[e],n.forEach((e=>{e({pluginVersion:r})})))},yv=[],bv=!1,_v=!1,wv={};uv.on("updateready",(e=>{bv=!0,wv={version:e.customVersion},Sv()}));var Iv,Sv=()=>{yv.forEach((e=>{"function"==typeof e&&e(wv)})),yv.length=0},kv=[];uv.on("updatefailed",(e=>{Iv={version:e.customVersion},Cv()}));var Cv=()=>{kv.forEach((e=>{"function"==typeof e&&e(Iv)})),kv.length=0},Tv={onCheckForUpdate:e=>{e=_.surroundThirdByTryCatch(e,"at onCheckForUpdate callback function"),dv?"function"==typeof e&&e(dv):pv.push(e)},onUpdateReady:e=>{e=_.surroundThirdByTryCatch(e,"at onUpdateReady callback function"),bv?"function"==typeof e&&e(wv):yv.push(e)},onUpdateFailed:e=>{e=_.surroundThirdByTryCatch(e,"at onUpdateFailed callback function"),Iv?"function"==typeof e&&e(Iv):kv.push(e)},applyUpdate:e=>{bv&&_v?(0,B.YG)("applyUpdate",e,"applyUpdate has been called"):bv||Object.keys(vv).length>0?(_v=!0,R.wZ&&O.Z.clientVersion<=654315263?(0,B.IN)("updateApp",e):(0,Pe._showModal)({content:lv(),confirmText:"知道了",showCancel:!1,complete(){(0,B.IN)("updateApp",e)}})):(0,B.YG)("applyUpdate",e,"update is not ready")}},Ev=()=>Tv,Av=Object.assign,Pv=Object.create,xv=(e={})=>{var t=Pv(null);Av(t,e),t.url="https://support.weixin.qq.com/update/",(0,Lh.n)(t)},Mv={USER_DATA_PATH:null,CLIENT_DATA_PATH:null};O.Z.onReady((()=>{"object"==typeof O.Z.env&&Object.assign(Mv,O.Z.env)}));var Rv,Dv=Mv,Lv=()=>{var e=void 0;return function(t){return void 0===e&&(e=(()=>{var e=null;return"function"==typeof WeakRef?e=function(e){return new WeakRef(e)}:"function"==typeof M.Z.GameAccelerator&&(e=function(e){return void 0===Rv&&(Rv=new M.Z.GameAccelerator),Rv.createWeakRef(e)}),e})()),e(t)}},Nv=(Lv(),d(9317)),Ov=d(3223);var Bv=d(7547),jv=d.n(Bv),Fv=d(7371);class Uv extends Fv.wA{constructor({template:e,style:t,event:r}={}){if(super(),e){var n=(0,Fv.Wj)(this),{root:a}=jv()(e);Fv.S1.call(this,a,t),kp.uo.add(n.container),this.initEvent(r)}vc(),(0,B.IN)("showShareMenu"),(0,B.IN)("showShareTimelineMenu")}initEvent(e){if(e){var t=(0,Fv.Wj)(this);this.event=e,Object.keys(e).forEach((r=>{var n=e[r];Object.keys(n).forEach((e=>{var a=n[e];t[r]&&t[r].on(e,a)}))}))}}unbundEvent(){if(this.event){var e=(0,Fv.Wj)(this);Object.keys(this.event).forEach((t=>{var r=this.event[t];Object.keys(r).forEach((n=>{var a=r[n];e[t]&&e[t].off(n,a)}))}))}}destroy(){this.unbundEvent();var e=(0,Fv.Wj)(this);kp.uo.remove(e.container),(0,Fv.bn)(this),nr.showShareAppMessageMenu&&(nr.withShareTicket?(0,B.IN)("showShareMenuWithShareTicket",{withShareTicket:!0}):(0,B.IN)("showShareMenu")),nr.showShareTimelineMenu&&(0,B.IN)("showShareTimelineMenu"),mc()}}class Wv extends Uv{constructor({template:e,style:t}={}){super({template:e,style:t})}}var Gv=!1,Vv=0,$v=0,qv=0;function zv(e,t){var r=Math.max(Vv,$v),n=Math.min(Vv,$v);return t/e-(r-qv-44-8-44-8)/n>.1?(r-2*(qv+44))/r:($v-20)/$v}O.Z.onReady((()=>{Gv="devtools"===O.Z.platform,Vv=O.Z.screenHeight,$v=O.Z.screenWidth,qv=O.Z.statusBarHeight}));class Zv extends Wv{constructor({imageUrl:e}={}){var t=1,r=0,n=0,a=e.match(/size=(\d+)x(\d+)$/);a&&(t=zv(r=+a[1],n=+a[2]));var i=`<view id="container">\n      <view id="imgWrp">\n        ${Gv?`<image id="mainImage" src="${e}" />`:`<image-previewer id="mainImage" scale="${t}"></image-previewer>`}\n      </view>\n    </view>`,o=function(){var e=$v>Vv?"landscape":"portrait";return{container:{backgroundColor:"#191919",flexDirection:"column",width:"portrait"===e?$v:Vv,height:"portrait"===e?Vv:$v},imgWrp:{flexDirection:"row",justifyContent:"center"},mainImage:{left:0,top:Gv?qv+44+8:0,width:"portrait"===e?$v:Vv,height:"portrait"===e?Vv:$v,objectFit:"contain"}}}();super({template:i,style:o}),this.imageUrl=e,this.scale=t,this.width=r,this.height=n,this.sizeMatch=a,this.retried=[];var s=(0,Fv.Wj)(this);Gv||s.mainImage.onImageLoadFail((e=>{this.handleOnImageLoadFail(e)})),this.initImageInfo()}handleOnImageLoadFail(e){var t=this.retried;t.includes(e.url)?(0,Pe._showModal)({content:"图片加载失败",showCancel:!1}):(t.push(e.url),this.initImageInfo()),setTimeout((()=>{(0,Pe.hideLoading)()}),500)}initImageInfo(){setTimeout((()=>{(0,Pe.showLoading)({title:"加载中",maskAll:!0})}),500),this.sizeMatch?this.downloadImage().then((e=>{this.showImage({width:this.width,height:this.height,url:e.tempFilePath,scale:this.scale})})):this.downloadImage().then((e=>{(0,B.IN)("getImageInfo",{src:e.tempFilePath,success:t=>{var{width:r,height:n}=t,a=zv(r,n);this.showImage({width:r,height:n,url:e.tempFilePath,scale:a})},fail:()=>{this.handleOnImageLoadFail({url:e.tempFilePath})}})}))}downloadImage(){return new Promise((e=>{(0,lr.o)({url:this.imageUrl,success:t=>{e(t)},fail:()=>{this.handleOnImageLoadFail({url:this.imageUrl})}})}))}showImage(e){var{width:t,height:r,url:n,scale:a}=e,i=(0,Fv.Wj)(this);"portrait"===(t>r?"landscape":"portrait")?Gv?i.mainImage.style.scale=a:i.mainImage.scale=a:(Gv&&(i.mainImage.style.top=0),Gv?(i.mainImage.style.scale=1,i.mainImage.style.top=0):i.mainImage.scale=1),i.mainImage.urls=[n],i.mainImage.update(),setTimeout((()=>{(0,Pe.hideLoading)()}),500)}}var Hv=0,Kv=0,Jv=0,Yv=0,Qv={};O.Z.onReady((()=>{Kv=O.Z.screenHeight,Jv=O.Z.screenWidth,Yv=O.Z.statusBarHeight,Qv=O.Z.safeArea;var e=Math.max(Kv,Jv),t=e;Qv&&Qv.bottom&&(t=Math.max(Qv.bottom,Qv.right)),Hv=e-t}));class Xv extends Wv{constructor({videoUrl:e,thumbUrl:t}={}){var r=`\n    <view id="container">\n      <view id="imgWrp">\n        <video id="mainVideo" src="${e}" poster="${t}" controls="true" object-fit="contain" autoplay="false" z-index="2" showProgress="false" showProgressInControlMode="true" backgroundColor="transparent"></video>\n      </view>\n    </view>`,n=function(){var e=Jv>Kv?"landscape":"portrait",t=Yv+44+8,r=Hv+44+8;return{container:{backgroundColor:"#191919",flexDirection:"column",width:"portrait"===e?Jv:Kv,height:"portrait"===e?Kv:Jv},imgWrp:{flexDirection:"row",justifyContent:"center"},mainVideo:{position:"absolute",top:t,left:0,width:"portrait"===e?Jv:Kv,height:"portrait"===e?Kv-t-r:Jv-t-r}}}();super({template:r,style:n}),this._handleVideoError(),this._playAtWIFI()}_handleVideoError(){(0,Fv.Wj)(this).mainVideo.onError((()=>{(0,Pe._showModal)({title:"视频加载失败，请稍后再试",confirmText:"确定",showCancel:!1})}))}_playAtWIFI(){if("wifi"===(0,Je._getCurrentNetworkType)()){var e=(0,Fv.Wj)(this);e.mainVideo.showCenterPlayBtn=!1,e.mainVideo.play()}}}var em=new Rn.Z;(0,B.jQ)("onLoadSubPackageTaskStateChange",(e=>{em.emit(e.state,e.taskId,e)}));var tm=new Rn.Z,rm={},nm={},am=e=>{Object.keys(nm).forEach((t=>{nm[t]===e&&delete nm[t]}))},im=(e,t,r,n)=>{void 0===nm[t]?!0!==rm[t]?(rm[t]=!0,(0,B.IN)(e,{moduleName:t,success:e=>{delete rm[t],nm[t]=e.loadTaskId,r(e.loadTaskId),tm.emit(t,e)},fail:e=>{delete rm[t],n(e)}})):tm.on(t,(e=>{r(e.loadTaskId)})):r(nm[t])};function om(e){return"workers.js"===e||"/workers.js"===e}var sm={},cm=[],lm=new WeakMap,um=new WeakMap,dm=new WeakMap,pm=function(e){return sm[e]},fm=function(e){var t=Object.assign({},e);return delete t.taskId,delete t.state,delete t.moduleName,t},hm=function(e,t=!1){var r=e;if(!om(r)){"string"!=typeof r&&console.error("SubContext onSubPackageReady error: moduleName is empty"),r.endsWith(".js")||(r.endsWith("/")||(r=`${r}/`),r=`${r}game.js`);var n=jd.n.get();return(0,Re.N0)()&&(0,R.aI)()&&!t&&!n?"__APP__"===e?b.getGameContext().evaluateScriptFile("game.js"):b.getGameContext().evaluateScriptFile(r):void 0}},gm=(e,t)=>{var r=pm(e);delete sm[e],am(e),Array.isArray(r)&&r.forEach((e=>{var{moduleName:r,isMonkeyTest:n}=t,a=lm.get(e),i=fm(t);cm.push(r);var o=hm(r,n);(0,J.tI)(o)?o.then((()=>{vm(a,i)})):vm(a,i)}))},vm=(e,t)=>{t.errMsg="loadSubpackage:ok","function"==typeof e.success&&e.success(t),"function"==typeof e.complete&&e.complete(t)};em.on("success",((e,t)=>{gm(e,t)})),em.on("fail",((e,t)=>{var r=pm(e);delete sm[e],am(e),Array.isArray(r)&&r.forEach((e=>{var r=lm.get(e),n=fm(t);n.errMsg="loadSubpackage:fail module not found","function"==typeof r.fail&&r.fail(n),"function"==typeof r.complete&&r.complete(n)}))})),em.on("progressUpdate",((e,t)=>{var r=pm(e);Array.isArray(r)&&r.forEach((e=>{var r=um.get(e),n=fm(t);"function"==typeof r&&r(n)}))}));var mm=function(){var e=lm.get(this),{name:t,waiterMode:r}=e;if(cm.indexOf(t)>=0){var n={errMsg:"loadSubpackage:ok",moduleName:t};return"function"==typeof e.success&&e.success(n),void("function"==typeof e.complete&&e.complete(n))}if("__APP__"===t&&R.gm&&(0,Re.N0)()&&(0,R.aI)()){cm.push(t),hm(t);var a={errMsg:"loadSubpackage:ok"};return"function"==typeof e.success&&e.success(a),void("function"==typeof e.complete&&e.complete(a))}im(r?"createLoadSubPackageTaskForWaiter":"createLoadSubPackageTask",t,(e=>{void 0===sm[e]?sm[e]=[this]:sm[e].push(this),dm.set(this,e)}),(t=>{t.errMsg?t.errMsg=t.errMsg.replace("createLoadSubPackageTask","loadSubpackage"):t.errMsg="loadSubpackage:fail module not found",_.surroundThirdByTryCatch(e.fail)(t),_.surroundThirdByTryCatch(e.complete)(t)}))};class ym{constructor(e){lm.set(this,e),["success","fail","complete"].forEach((t=>{"function"==typeof e[t]&&(e[t]=_.surroundThirdByTryCatch(e[t],`at api loadSubpackage ${t} callback function`))})),mm.call(this)}onProgressUpdate(e){um.set(this,(t=>{void 0!==t.totalBytesWriten&&(t.totalBytesWritten=t.totalBytesWriten,delete t.totalBytesWriten),"function"==typeof e&&_.surroundThirdByTryCatch(e,"at LoadTask.onProgressUpdate callback function")(t)}))}await(){var e=lm.get(this),{waiterMode:t,name:r}=e,n={errMsg:"LoadTask.await:fail not support"};if(t){var a=dm.get(this);(0,B.IN)("awaitLoadSubPackageTask",{timeout:1e4,loadTaskId:a,success(e){console.log("awaitLoadSubPackageTask success",e),gm(a,{moduleName:r}),n={errno:0,errMsg:"LoadTask.await:ok"}},fail(e){console.error("awaitLoadSubPackageTask fail",e),n={errMsg:"LoadTask.await:fail"+e.errMsg}}})}else n={errMsg:"LoadTask.await:fail not waiterMode"};return n}}var bm=d(8045),_m=d(3507),wm=(0,j.s)("BaseFrameHide"),Im=wm.internalOnMethod;wm.internalOffMethod;(0,Ke.n)("onAppEnterBackground",((e={})=>{(0,_m.v)(e.mode),(0,Ld.b$)()?wm.emit(e):(qo.Z.once("onhide",!0),wm.emit(e),(0,pr.nm)(e),(0,pr.qC)(e),(0,pr.bI)(e),(0,pr.NB)(e))}));var Sm,km,Cm,Tm="GameReportKV",Em=!1,Am=0,Pm=0,xm=-1,Mm={},Rm=0,Dm=0,Lm={},Nm="",Om="",Bm="",jm=(e={})=>{e=Object.assign({},Mm,Lm,e),Lm=e;var t=e.query||O.Z.appLaunchInfo.query,r=[];t&&"object"==typeof t&&Object.keys(t).forEach((e=>{r.push(`${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`)}));var n=e.eventTime,a=e.clickTimestamp,i=n-(a=a<=9999999999?1e3*a:a),o=e.sessionid||e.sessionId,s=km&&km===o?0:1;km=o,1===e.eventId&&(Rm=Date.now()-a,Dm=e.isLaunch?1:2),e.sceneNote=e.scene_note||e.sceneNote||"",e.sessionId=o||"",e.usedState=e.usedstate||e.usedState,e.costTime=i,e.SDKVersion=He.c,e.presceneNote=e.prescene_note||e.presceneNote||"",e.isEntrance=s,e.queryArray=r,e.startCostTime=Rm,e.startType=Dm,Om=e.pagepath=e.path||O.Z.appLaunchInfo.path;var c=[e.eventId,e.scene,e.sceneNote,e.sessionId,e.usedState,e.pagepath,e.networktype||"",e.costTime,e.stayTime||0,encodeURIComponent(e.referpagepath||""),e.targetAction||0,e.targetPagePath||"",e.clickTimestamp,e.SDKVersion,e.prescene,e.presceneNote,e.isEntrance,e.queryArray.join("&"),w.getAppType(),0,"",0,e.clickTimestamp,"",0,e.startCostTime,e.startType,Date.now(),"number"==typeof e.staytimeFuncpageStart?e.staytimeFuncpageStart:0,O.Z.host?O.Z.host.appId:"",e.shortLink].map(encodeURIComponent).map(((e,t)=>-1!==[2,9,11,17].indexOf(t)?(e||"").substr(0,1024):e)).join(",");w.reportKeyValue({key:"Display",value:c}),w.submit(),((e={})=>{var t="",r=2;if(O.Z){var n=O.Z.accountInfo,a=O.Z.envVersion;n&&(t=n.appId||""),"release"===a?r=1:"trial"===a&&(r=3)}Nm||(Nm=He.c||"");var i={DeviceModel:Cm.model||"",DeviceBrand:Cm.brand||"",OsName:Cm.platform||"",OsVersion:Cm.system||"",LanguageVersion:Cm.language||"",appid:t,appversion:Nm,appstate:r,event_id:e.eventId,scene:e.scene,scene_note:e.sceneNote.substr(0,1024),sessionid:e.sessionId,usedstate:e.usedState,pagepath:(e.pagepath||"").substr(0,1024),networktype:e.networktype||"",costtime:e.costTime,staytime:e.stayTime||0,referpagepath:(e.referpagepath||"").substr(0,1024),targetAction:e.targetAction||0,targetPagePath:(e.targetPagePath||"").substr(0,1024),clickTimestamp:0,publicLibVersion:e.SDKVersion,prescene:e.prescene,prescene_note:e.presceneNote,isentrance:e.isEntrance,query:e.queryArray.join("&").substr(0,1024),apptype:w.getAppType(),pagetype:0,anchorTargetText:"",clickTime:e.clickTimestamp,anchorTargetRelatedText:"",orientationChangeCount:0,startCostTime:e.startCostTime,startType:e.startType,reportTime:Date.now()};try{nt(1e3,JSON.stringify(i),"immediate")}catch(e){}})(e)},Fm=(e={},t={})=>{1===(e=e.isLaunch?Object.assign(t,e,Mm):Object.assign(t,e)).eventId?(e.scene_note=e.scene_note||e.sceneNote||"",e.sessionid=e.sessionid||e.sessionId||"",e.prescene_note=e.prescene_note||e.presceneNote||"",e.targetPagePath=e.targetPagePath||"",e.referpagepath=e.referpagepath||"",e.clickTimestamp=e.clickTimestamp||Date.now(),e.stayTime=e.stayTime||0):2===e.eventId&&(e.targetAction=e.targetAction||0);var r=(0,Je._getCurrentNetworkType)();"none"===r&&(r="offline"),e.networktype=r,jm(e)},Um=e=>{var t=parseInt((e.eventTime||0)/1e3,10);return[e.eventId,e.scene,t,e.stayTime||0,e.sessionId,O.Z.host?O.Z.host.appId:"",Sm,e.instanceId].map(encodeURIComponent).join(",")},Wm=(0,Re.Hw)((e=>{Sm=(0,be.M8)(),xm=e.scene,Am=Date.now(),Bm=e.sessionid||e.sessionId||"";var t=e.scene,r=Um({eventId:1,scene:t,eventTime:Am,sessionId:Sm,instanceId:Bm});w.reportKeyValue({key:Tm,value:r}),Fm(e,{eventId:1,eventTime:Am,staytimeFuncpageStart:0})}),"at private.reportEnterForeground","gameSDKScriptError"),Gm=(0,Re.Hw)((e=>{var t=Date.now(),r=t-Am,n=0;0===Pm?n=0:Pm>0&&(0,Ld.Vc)(Om)?n=t-Pm:Pm>0&&/^index/.test(Om)&&(n=r);var a=xm,i=Um({eventId:2,scene:a,eventTime:t,stayTime:r,sessionId:Sm,instanceId:Bm});w.reportKeyValue({key:Tm,value:i}),Fm(e,{eventId:2,scene:a,eventTime:t,stayTime:r,staytimeFuncpageStart:n})}),"at private.reportEnterBackground","gameSDKScriptError");function Vm(e){Pm="number"==typeof e?e:Date.now()}var $m=0,qm=0,zm=0,Zm={};function Hm(){return b.getPool().length>0}O.Z.onReady((()=>{qm=O.Z.screenHeight,zm=O.Z.screenWidth,Zm=O.Z.safeArea;var e=Math.max(qm,zm),t=e;Zm&&Zm.bottom&&(t=Math.max(Zm.bottom,Zm.right)),$m=e-t}));class Km extends Uv{constructor({slotTemplate:e,slotStyle:t}={}){super({template:`\n    <view id="container">\n      <view id="wrp">\n        ${e}\n      </view>\n      <view id="footer">\n        <text id="playBtn" value="开始游戏" />\n      </view>\n    </view>`,style:Object.assign({container:{backgroundColor:"#000000",flexDirection:"column",width:zm,height:qm,zIndex:1000010},wrp:{flexDirection:"row",justifyContent:"center"},footer:{flexDirection:"row",justifyContent:"center",position:"absolute",paddingBottom:16+$m,paddingTop:12,bottom:0,left:0,width:zm,backgroundColor:"#000000"},playBtn:{height:40,fontSize:17,borderRadius:4,lineHeight:40,textAlign:"center",marginLeft:8,marginRight:8,color:"#ffffff",backgroundColor:"#FA9D3B",width:184}},t),event:{playBtn:{click:()=>{this._handlePlayBtnClick()}}}}),Hm()||setTimeout((()=>{this.preloadPackage()}),0),Vm(0)}preloadPackage(){var e=jd.n.get().params,t="__APP__";if(e.userPath){var r=b.isValidGameIndependentSubpackagePath(e.userPath,O.Z.subPackages);if(r){var n=t=r.root;n.endsWith(".js")||(n.endsWith("/")||(n=`${n}/`),n=`${n}game.js`),b.getGameContext().setEntry([n])}}this.loadTaskPromise=new Promise(((e,r)=>{new ym({name:t,success:e,fail:e=>{f.error("createLoadSubPackageTask fail",e),r(),(0,Pe._showModal)({title:"提示",content:"加载游戏失败，请尝试重新打开游戏",showCancel:!1})}})}))}_handlePlayBtnClick(){this.runGame(1e3)}runGame(e=0){var t=jd.n.get().query,r=(0,Ld.uy)(t,"functionalpage-index.html");0===e&&(this.destroy(),jd.n.clear()),(0,Pe.showLoading)({title:"加载中",maskAll:!0});var n=new Promise((t=>{setTimeout((()=>{t()}),e)})),a=null,i=[n];Hm()||(a=this.loadTaskPromise,i.push(a)),Promise.all(i).then((()=>{(0,B.IN)("functionalPageStartGame",{url:r,fail(e){f.error("functionalPageStartGame fail",e)}}),a&&b.initGameJS(),(0,Pe.hideLoading)(),e>0&&(this.destroy(),jd.n.clear()),(0,bm.Vh)(),Vm(Date.now())}))}}var Jm=0,Ym=0,Qm=0,Xm={};function ey(e,t){var r=1;if("portrait"===(Qm>Ym?"landscape":"portrait")){r=(Ym-2*(Jm+16+40+12-16))/Ym}else r=.95;if("portrait"===(e>t?"landscape":"portrait")){t/e-Ym/Qm>=0||(r=(Qm-20)/Qm)}return r}O.Z.onReady((()=>{Ym=O.Z.screenHeight,Qm=O.Z.screenWidth,Xm=O.Z.safeArea;var e=Math.max(Ym,Qm),t=e;Xm&&Xm.bottom&&(t=Math.max(Xm.bottom,Xm.right)),Jm=e-t}));class ty extends Km{constructor({imageUrl:e}={}){var t=1,r=0,n=0,a=e.match(/size=(\d+)x(\d+)$/);a&&(t=ey(r=+a[1],n=+a[2])),super({slotTemplate:`\n      <image-previewer id="mainImage" scale="${t}"></image-previewer>\n    `,slotStyle:{mainImage:{left:0,top:0,width:Qm,height:"portrait"==(Qm>Ym?"landscape":"portrait")?Ym:Ym-(Jm+16+40+12)}}}),this.imageUrl=e,this.scale=t,this.width=r,this.height=n,this.sizeMatch=a,this.retried=[],(0,Fv.Wj)(this).mainImage.onImageLoadFail((e=>{this.handleOnImageLoadFail(e)})),this.initImageInfo()}handleOnImageLoadFail(e){var t=this.retried;t.includes(e.url)?(0,Pe._showModal)({content:"图片加载失败",showCancel:!1}):(t.push(e.url),this.initImageInfo()),setTimeout((()=>{(0,Pe.hideLoading)()}),500)}initImageInfo(){(0,Pe.showLoading)({title:"加载中",maskAll:!0}),this.sizeMatch?this.downloadImage().then((e=>{this.showImage({width:this.width,height:this.height,url:e.tempFilePath,scale:this.scale})})):this.downloadImage().then((e=>{(0,B.IN)("getImageInfo",{src:e.tempFilePath,success:t=>{var{width:r,height:n}=t,a=ey(r,n);this.showImage({width:r,height:n,url:e.tempFilePath,scale:a})},fail:()=>{this.handleOnImageLoadFail({url:e.tempFilePath})}})}))}downloadImage(){return new Promise((e=>{(0,lr.o)({url:this.imageUrl,success:t=>{e(t)},fail:()=>{this.handleOnImageLoadFail({url:this.imageUrl})}})}))}showImage(e){var{width:t,height:r,url:n,scale:a}=e,i=(0,Fv.Wj)(this);"portrait"===(t>r?"landscape":"portrait")&&(i.mainImage.scale=a),i.mainImage.urls=[n],i.mainImage.update(),setTimeout((()=>{(0,Pe.hideLoading)()}),500)}}var ry=0,ny=0,ay=0,iy=0,oy={};O.Z.onReady((()=>{ny=O.Z.screenHeight,ay=O.Z.screenWidth,iy=O.Z.statusBarHeight,oy=O.Z.safeArea;var e=Math.max(ny,ay),t=e;oy&&oy.bottom&&(t=Math.max(oy.bottom,oy.right)),ry=e-t}));class sy extends Km{constructor({videoUrl:e,thumbUrl:t}={}){var r=`\n      <video id="mainVideo" src="${e}" poster="${t}" controls="true" object-fit="contain" autoplay="false" z-index="1000011" showProgress="false" showProgressInControlMode="true" backgroundColor="transparent"></video>\n    `,n=function(){var e=ay>ny?"landscape":"portrait",t=ry+16+12+40;return{mainVideo:{position:"absolute",top:"portrait"===e?iy+36:20,left:"portrait"===e?0:ry,width:"portrait"===e?ay:ay-2*ry,height:"portrait"===e?ny-(iy+36)-t:ny-20-t}}}();super({slotTemplate:r,slotStyle:n}),this._handleVideoError(),this._playAtWIFI()}_handleVideoError(){(0,Fv.Wj)(this).mainVideo.onError((()=>{(0,Pe._showModal)({title:"视频加载失败，请稍后再试",confirmText:"确定",showCancel:!1})}))}_playAtWIFI(){if("wifi"===(0,Je._getCurrentNetworkType)()){var e=(0,Fv.Wj)(this);e.mainVideo.showCenterPlayBtn=!1,e.mainVideo.play()}}}var cy=(0,j.s)("BottomBannerButtonClicked"),ly=cy.internalOnMethod;cy.internalOffMethod;function uy(){var e=function(){var e=(0,Xu.y)().referrerInfo,t=e&&e.messageExtraData,r={};return"object"==typeof t&&null!==t&&(r=t),r}(),t=(0,Xu.y)(),r=(0,Ld.CV)(t.path),n=jd.n.get();n&&n.page.destroy();var a=function(e){var{path:t,query:r,pageType:n,params:a,paramsString:i,mode:o}=e,s=null;switch(n){case Bd.Gy.PLAY_PAGE_IMAGE:s="singlePage"===o?new Zv({imageUrl:e.params.fileUrl}):new ty({imageUrl:e.params.fileUrl});break;case Bd.Gy.PLAY_PAGE_VIDEO:s="singlePage"===o?new Xv({videoUrl:e.params.fileUrl,thumbUrl:e.params.thumbUrl}):new sy({videoUrl:e.params.fileUrl,thumbUrl:e.params.thumbUrl});break;default:s=new Zv({imageUrl:e.params.fileUrl}),f.error("PAGE_TYPE invalid",e)}return{path:t,query:r,pageType:n,params:a,paramsString:i,page:s}}({path:r.path,query:t.query,pageType:r.functionalPageType,params:e,paramsString:JSON.stringify(e),mode:t.mode});jd.n.set(a)}(0,Ke.n)("onBottomBannerButtonClicked",((e={})=>{cy.emit(e)})),O.Z.onReady((()=>{(0,bm.OQ)(((e={})=>{if(!e.isLaunch)try{var t=(0,Ld.CV)(e.path),r=jd.n.get();if(r){var n=function(){var e=(0,Xu.y)().referrerInfo,t=e&&e.messageExtraData,r="";return"object"==typeof t&&null!==t&&(r=JSON.stringify(t)),r}();t.isFunctionalPage?Bd.W0.includes(e.scene)&&n!==r.paramsString&&(r.page.destroy(),jd.n.clear(),uy()):r.page.runGame(0)}else t.isFunctionalPage&&uy()}catch(e){f.error("_onBaseFrameShow error",e)}})),ly((()=>{var e=jd.n.get().params,t=(0,Ld.uy)(e.userQuery,e.userPath);(0,B.IN)("restart",{url:t,scene:1155,fail(e){f.error("restart fail",e)}})}))}));var dy={parseCompletePath:Ld.CV,initFunctionalPage:uy,VALID_SCENE:Bd.W0};function py(e,t,r,n=0){w.reportKeyValue({key:"Handoff",value:[O.Z.appType+1e3,O.Z.appLaunchInfo.scene,e,t,r,n,(0,Je._getCurrentNetworkType)(),""].join(",")})}var fy=!1;ur.U.on("beforeTouchEnd",(()=>{fy=!0})),ur.U.on("afterTouchEnd",(()=>{fy=!1}));var hy="";function gy(e){return"string"==typeof e&&(hy="?"===e[0]?e:"?"+e,!0)}var vy=null;function my(e){vy=e}function yy(){vy=null}(0,B.jQ)("onStartHandoff",(()=>{var e={};"function"==typeof vy&&("object"!=typeof(e=vy({}))&&(e={}),e.path="string"==typeof e.path?e.path:"","string"==typeof e.query&&(e.path=e.path+"?"+e.query)),(0,B.IN)("startHandoff",Object.assign({},e,{actionId:1}),{beforeSuccess:()=>py(1,1,1),beforeFail:({errCode:e})=>py(1,1,0,e)})}));var by=[],_y=[],wy=d(8940),Iy=d(3950),Sy=d(6509),ky=d(5738),Cy=d(3249),Ty=(0,B.TG)("setUserCloudStorage","webapi_setselfuserstorage",(({KVDataList:e=[]})=>{var t={kv_list:e};return(0,J.jn)(O.Z.disableSetUserStorageFromMiniProgram)&&(t.disable_set_user_storage_from_miniprogram=O.Z.disableSetUserStorageFromMiniProgram),t})),Ey=(e={})=>{Array.isArray(e.KVDataList)?0!==e.KVDataList.length?e.KVDataList.some((e=>{if("object"!=typeof e||"string"!=typeof e.key||"string"!=typeof e.value)return!0}))?(0,B.YG)("setUserCloudStorage",e,"invalid KVData item"):Ty(e):(0,B.YG)("setUserCloudStorage",e,"KVDataList.length must greater than 0"):(0,B.YG)("setUserCloudStorage",e,"KVDataList must be an Array")},Ay=d(6104),Py=d(100),xy=(0,B.TG)("removeUserCloudStorage","webapi_removeselfuserstorage",(({keyList:e})=>({key:e}))),My=e=>{var t=(0,Py.M)(e.keyList);t?(0,B.YG)("removeUserCloudStorage",e,t):xy(e)},Ry=d(5739),Dy=d(557),Ly=d(6616),Ny=102,Oy=103,By=104,jy=105,Fy=106,Uy=108,Wy=111,Gy=112,Vy=1,$y=2,qy=4,zy=5,Zy=6,Hy=7,Ky=8,Jy=9,Yy=10,Qy=11,Xy=12,eb=13,tb=14,rb=15,nb=21,ab=22,ib=23,ob=1001,sb=1004,cb=1005,lb=1006,ub=1007,db=1e5,pb=100001,fb=2018,hb=2019,gb=2020,vb=2021,mb=2023,yb=2024,bb=3001,_b=3002,wb=3003,Ib=3004,Sb=4001;function kb(e){try{var t=JSON.parse(e);return!0===t.is_notify?function(e,t){var r;switch(t){case fb:r="broadcast";break;case hb:r="roomInfoChange";break;case gb:r="syncFrame";break;case mb:r="gameStartEnd";break;case vb:r="receiveMessage";break;case yb:r="beKickedOut";break;case bb:case _b:case wb:r="syncInfo";break;case Ib:r="friendMessage";break;case Sb:r="gameMatched";break;default:r=""}return{type:r,data:e.data}}(t,t.notify_cmd):function(e){var t,{businessid:r,ts:n,data:a,ret:i}=e;switch(r){case Ny:return{type:"active",ts:n,errCode:i};case Oy:return{type:"heartBeat",ts:n,errCode:i};case By:case jy:if(0!==i)return{type:`resp-${n}`,ts:n,errCode:i};var o=JSON.parse(a);return t={type:`resp-${n}`,ts:n,errCode:o.errcode,errMsg:o.errmsg},o.resp_data&&(t.data=JSON.parse(o.resp_data)),t;case Uy:case Wy:case Gy:if(0!==i)return{type:`resp-${n}`,ts:n,errCode:i};var s=JSON.parse(a);return t={type:`resp-${n}`,ts:n,errCode:s.errcode,errMsg:s.errmsg},s.resp_data&&(t.data=JSON.parse(s.resp_data)),t;case Fy:return 0!==i?{type:`resp-${n}`,ts:n,errCode:i}:t={type:`resp-${n}`,ts:n,errCode:0,data:{clientId:a}};default:f.error("Unknown WebSocket Message:",e)}}(t)}catch(e){return{type:"error",data:e.message}}}var Cb,Tb={webSocketState:0,roomAccessInfo:"",gameAccessInfo:"",clientId:0,sessionId:"",socketTask:null,lockStep:null,connectedToRoom:!1,connectedToGame:!1,hasGameStarted:!1,roomInfo:null,hasLoggedIn:!1,loginPromise:null},Eb={getCredentialsFail:217,startLockStepFail:218,getLostFramesFail:219},Ab=e=>{var t=Eb[e];t?w.reportIDKey({key:t}):f.error(`invalid name "${e}"`)},Pb=new Rn.Z;class xb{constructor(e,t={}){return this.options=Object.assign({heartBeat:!0,heartBeatInterval:15e3,heartBeatTimeout:3e4},t),this._emitter=new Rn.Z,this._setSocket(e),this._bindHandlers(),this}_setSocket(e){this._socketTask=e,this._socketTask.onOpen(this._emitter.emit.bind(this._emitter,"ws-open")),this._socketTask.onClose(this._emitter.emit.bind(this._emitter,"ws-close")),this._socketTask.onError(this._emitter.emit.bind(this._emitter,"ws-error")),this._socketTask.onMessage(this._emitter.emit.bind(this._emitter,"ws-message"))}_bindHandlers(){this._emitter.on("ws-open",(()=>{this._emitter.once("recv-active",(e=>{0===e.errCode?this._emitter.emit("open",e):this._emitter.emit("error",e)})),this._sendRawPacket(Ny).catch((e=>{this._emitter.off("recv-active"),this._emitter.emit("error",e)}))})).on("ws-message",(e=>{var t=kb(e.data);"error"===t.type&&f.error("响应数据异常",t.data),this._emitter.emit(`recv-${t.type}`,t),Pb.emit(`recv-${t.type}`,t)})).on("open",(()=>{this._sendHeartBeat()})).on("error",(()=>{this._heartBeatTimer&&clearTimeout(this._heartBeatTimer)})).on("ws-error",(e=>{f.error("socket error:",e),this._heartBeatTimer&&clearTimeout(this._heartBeatTimer)})).on("ws-close",(e=>{this._heartBeatTimer&&clearTimeout(this._heartBeatTimer),Cb=void 0,Tb.hasLoggedIn=!1,Tb.loginPromise=null,this._emitter.emit("logout",e)})).on("heartBeat-error",(e=>{})).on("logout",(e=>{Pb.emit("logout",e)}))}_sendHeartBeat(){this.options.heartBeat&&(this._heartBeatTimer=setTimeout((()=>{this._sendRawPacket(Oy).catch((e=>{this._emitter.emit("heartBeat-error",e)})),this._emitter.once("recv-heartBeat",(e=>{0===e.errCode?(this._emitter.emit("heartBeat-ok",e),this._heartBeatTimeout&&clearTimeout(this._heartBeatTimeout),this._sendHeartBeat()):this._emitter.emit("heartBeat-error",e)})),this._heartBeatTimeout=setTimeout((()=>{this._emitter.emit("logout")}),this.options.heartBeatTimeout)}),this.options.heartBeatInterval))}_sendRawPacket(e,t,r,n){return new Promise((e=>{Cb?e(Cb):(0,B.yD)({apiName:"webapi_getlockstepticket",success:t=>{var r=t.data;Cb=r.socket_key,e(Cb),Tb.sessionId=Cb},fail:e=>{Ab(Eb.getCredentialsFail),f.error("getCredentials",e.errMsg)}})})).then((a=>new Promise(((i,o)=>{var s={session_id:a,fast:1,businessid:e,data:t,access_info:r,ts:(n||Date.now())+""};e===By&&delete s.session_id,this._socketTask.send({data:JSON.stringify(s),success:i,fail:o})}))))}_listenForResponse(e,t,r,n){this._emitter.once(`recv-resp-${e}`,(e=>{delete e.type,delete e.ts,n.beforeAll&&n.beforeAll(e),0===e.errCode?(n.beforeSuccess&&n.beforeSuccess(e),t(e),n.afterSuccess&&n.afterSuccess(e)):(n.beforeFail&&n.beforeFail(e),r(e),n.afterFail&&n.afterFail(e)),n.afterAll&&n.afterAll(e)}))}sendCommand(e,t,r){var n;switch(e){case $y:case zy:case qy:n=By;break;case Yy:n=Fy;break;case ob:case sb:case cb:case lb:case ub:n=Uy;break;case db:case pb:n=Wy;break;default:n=jy}return new Promise(((a,i)=>{var{content:o,accessInfo:s}=t,c=Date.now();this._listenForResponse(c,a,i,r),this._sendRawPacket(n,JSON.stringify({cmd:e,content:JSON.stringify(o)}),s,c).then((()=>{})).catch((e=>{i(e)}))}))}close(e){return this._socketTask.close(e)}onOpen(e){this._emitter.on("open",e)}onClose(e){this._emitter.on("close",e)}onError(e){this._emitter.on("error",e)}onMessage(e){this._emitter.on("recv-message",e)}}function Mb(e={}){return new xb(function(e={}){var t=Object.assign({},e,{url:"wss://long.wxagame.weixin.qq.com"});return(0,Ly.as)().connectSocket(t)}(e),e)}function Rb(e){return"Object"===(0,J.Em)(e)?Object.keys(e).reduce(((t,r)=>{var n,a;return e[r]=Rb(e[r]),t[(n=r,a=n.replace(/_+(\w)/g,(function(){return arguments[2]?arguments[1].toUpperCase():arguments[0]})),a)]=e[r],t}),{}):Array.isArray(e)?e.map(Rb):e}function Db(e){return"Object"===(0,J.Em)(e)?Object.keys(e).reduce(((t,r)=>{var n;return e[r]=Db(e[r]),t[(n=r,n.split(/(?=[A-Z])/).join("_").toLowerCase())]=e[r],t}),{}):Array.isArray(e)?e.map(Db):e}function Lb(){var e={gameTick:33,UDPReliabilityStrategy:3,heartBeatTick:2e3,offlineTimeLength:15e3,dataType:"String"};return(0,J.Kn)(O.Z.lockStepOptions)?(["gameTick","UDPReliabilityStrategy","heartBeatTick","offlineTimeLength"].forEach((t=>{(0,J.hj)(O.Z.lockStepOptions[t])?e[t]=O.Z.lockStepOptions[t]:console.warn(`game.json: lockStepOptions.${t} is not a Number, using default value ${e[t]}`)})),["String","ArrayBuffer"].indexOf(O.Z.lockStepOptions.dataType)&&console.warn('game.json: lockStepOptions.dataType "WXConfig.lockStepOptions.dataType" is invalid, using default value "String"'),e):(console.warn("game.json: lockStepOptions is not an Object, using default options.",e),e)}var Nb=new Rn.Z;var Ob=1,Bb=0,jb=1,Fb=2,Ub=3,Wb=4,Gb=5,Vb=6,$b=6;var qb=class{constructor(){if(M.Z.LockStep){this.emitter=new Rn.y;try{this.nativeInstance=new M.Z.LockStep}catch(e){f.warn(`[LockStep] new 失败 ${e.message}`)}f.warn("[LockStep] new 成功",this.nativeInstance);var{heartBeatTick:e,offlineTimeLength:t,gameTick:r,UDPReliabilityStrategy:n,dataType:a}=Lb(),i={heartBeatTick:e,offlineTimeLength:t,UDPReliabilityStrategy:n,gameTick:r,dataType:a,address:"long.wxagame.weixin.qq.com",port:10010};f.warn(`[LockStep.initialize]gameTick=${i.gameTick}, hearBeatTick=${i.heartBeatTick}, offlineTimeLength=${i.offlineTimeLength}, UDPReliabilityStrategy=${i.UDPReliabilityStrategy}, gameTick=${i.gameTick}, dataType=${a}, address=${i.address}, port=${i.port}`),this.nativeInstance.initialize(i),this.nativeInstance.onStatusChange=e=>{var{status:t}=e,{requestId:r}=e;if(delete e.status,r)this.emitter.emit(`${t}_${r}`,e);else{switch(t){case Bb:this.emitter.emit("onDisconnect");break;case Gb:this.emitter.emit("onError"),Nb.emit("error",e)}this.emitter.emit(t,e)}},this.nativeInstance.onSyncFrame=e=>{this.emitter.emit("onSyncFrame",e)}}else f.error("当前环境不支持 LockStep")}uploadFrame({actionList:e}){return new Promise(((t,r)=>{try{this.nativeInstance.uploadFrame({actionList:e}),t()}catch(e){f.error(`[LockStep.uploadFrame][fail] errMsg=${e.message}`),r({errMsg:e.message})}}))}getLostFrames({beginFrameId:e,endFrameId:t}){var r=Ob++;return new Promise(((n,a)=>{this.nativeInstance.getLostFrames({beginFrameId:e,endFrameId:t,requestId:r}),this.emitter.once(`${Vb}_${r}`,n),this.emitter.once(`${$b}_${r}`,(e=>{Ab(Eb.getLostFramesFail),f.error(`[LockStep.getLostFrames][fail], errMsg=${e.errMsg}, errCode=${e.errCode}`),a(e)}))}))}reconnect({accessInfo:e,clientId:t,sessionId:r}){var n=Ob++;return new Promise(((a,i)=>{this.nativeInstance.reconnect({accessInfo:e,clientId:t,sessionId:r,requestId:n}),this.emitter.once(`${Ub}_${n}`,a),this.emitter.once(`${Wb}_${n}`,i)}))}onSyncFrame(e){this.emitter.on("onSyncFrame",e)}offSyncFrame(e){this.emitter.off("onSyncFrame",e)}startLockStep({accessInfo:e,clientId:t,sessionId:r}){var n=Ob++;return new Promise(((a,i)=>{this.nativeInstance.startLockStep({accessInfo:e,clientId:t,sessionId:r,requestId:n}),this.emitter.once(`${jb}_${n}`,a),this.emitter.once(`${Fb}_${n}`,i)}))}stopLockStep(){var e=Ob++;this.nativeInstance.stopLockStep({requestId:e})}onError(e){this.emitter.on("onError",e)}offError(e){this.emitter.off("onError",e)}onDisconnect(e){this.emitter.on("onDisconnect",e)}offDisconnect(e){this.emitter.off("onDisconnect",e)}},zb=d(3243),Zb=d.n(zb),Hb=["id","event"],Kb=new Rn.y;(0,B.jQ)("onLockStepTaskEvent",(e=>{var{id:t,event:r}=e,n=Zb()(e,Hb);Kb.emit(`${t}_${r}`,n),Nb.emit(r,n)}));var Jb=class{constructor(){this._createLockStep(),this._initialize(),this._registerMethod(),this._registerEvent()}_createLockStep(){var e="createLockStep 没有同步回调";if((0,B.IN)("createLockStep",{success:({id:e})=>{this.id=e},fail(t){f.error(`[createLockStep][fail]errMsg=${t.errMsg}`),e=t.errMsg}}),(0,J.o8)(this.id))throw new Error(e)}_initialize(){var{heartBeatTick:e,offlineTimeLength:t,gameTick:r,UDPReliabilityStrategy:n,dataType:a}=Lb(),i={heartBeatTick:e,offlineTimeLength:t,UDPReliabilityStrategy:n,gameTick:r,dataType:a,address:"long.wxagame.weixin.qq.com",port:10010};f.warn(`[LockStep.initialize]gameTick=${i.gameTick}, hearBeatTick=${i.heartBeatTick}, offlineTimeLength=${i.offlineTimeLength}, UDPReliabilityStrategy=${i.UDPReliabilityStrategy}, gameTick=${i.gameTick}, dataType=${i.dataType}, address=${i.address}, port=${i.port}`),this._invokeLockStepMethod("initialize",i)}_invokeLockStepMethod(e,t){(0,B.IN)("invokeLockStepMethod",Object.assign({},t,{method:e,id:this.id}),{beforeAll(t){t.errMsg=t.errMsg.replace("invokeLockStepMethod",`GameServerManager.${e}`),delete t.id,delete t.cmdId}})}_registerMethod(){["uploadFrame","getLostFrames","reconnect","startLockStep","stopLockStep"].forEach((e=>{this[e]=t=>new Promise(((r,n)=>{this._invokeLockStepMethod(e,Object.assign({},t,{success:r,fail:n}))}))}))}_registerEvent(){["syncFrame","disconnect","error"].forEach((e=>{var t=(0,j.s)(`LockStep_${this.id}_${e}`);this[`on${(0,Re.fm)(e)}`]=t.onMethod,this[`off${(0,Re.fm)(e)}`]=t.offMethod,Kb.on(`${this.id}_${e}`,((e={})=>{t.emit(e)}))}))}};var Yb=class{constructor(){return R.gm?new Jb:new qb}};function Qb(){}var Xb=class{constructor({wsEventName:e,nativeEventName:t,needJSONParse:r=!1,beforeEvent:n=Qb}){if(Object.assign(this,{wsEventName:e,nativeEventName:t,needJSONParse:r,beforeEvent:n}),this.hasListenedNativeEvent=!1,e)this.internalEventManager=(0,j.s)(`GSM-${this.wsEventName}`),this.initWSEvent();else{if(!t)throw new Error(`invalid wsEventName "${e}" and nativeEventName "${t}"`);this.internalEventManager=(0,j.s)(`GSM-${this.nativeEventName}`)}}initWSEvent(){Pb.on(this.wsEventName,(e=>{this.needJSONParse?e=Rb(JSON.parse(e.data)):e.data=Rb(e.data),this.beforeEvent(e),this.internalEventManager.emit(e)})),this.onMethod=this.internalEventManager.onMethod,this.offMethod=this.internalEventManager.offMethod}onMethod(e){this.hasListenedNativeEvent||(this.hasListenedNativeEvent=!0,Tb.lockStep||(Tb.lockStep=new Yb),Tb.lockStep[this.nativeEventName](((e={})=>{this.beforeEvent(e),this.internalEventManager.emit(e)}))),this.internalEventManager.onMethod(e)}offMethod(e){this.internalEventManager.offMethod(e)}},e_=new Xb({nativeEventName:"onDisconnect",beforeEvent(e){e.type="game",Tb.connectedToGame=!1}}),t_=e_.onMethod.bind(e_),r_=e_.offMethod.bind(e_),n_=e_.internalEventManager.emit,a_={errCode:1001,errMsg:"has not logged in to server"};function i_(){}var o_=class{constructor({command:e,nativeMethodName:t,expectedArgs:r={},beforeInvoke:n=i_,beforeSend:a=i_,beforeSuccess:i=i_,autoFillAccessInfo:o=!0,functionType:s=1}){this.command=e,this.nativeMethodName=t,this.expectedArgs=r,this.beforeInvoke=n,this.beforeSend=a,this.beforeSuccess=i,this.autoFillAccessInfo=o,this.functionType=s}checkType(e,t,r){var n=(0,J.Em)(r);if(n!==t)throw new Error(`${e} should be ${t} instead of ${n}`)}assertType(e){if("Object"!==(0,J.Em)(e))throw new Error(`args should be object instead of ${(0,J.Em)(e)}`);for(var t in this.expectedArgs)this.checkType(t.type,e[this.expectedArg.name])}checkIsCallbackStyle(e={}){return"Function"===(0,J.Em)(e.success)||"Function"===(0,J.Em)(e.fail)||"Function"===(0,J.Em)(e.complete)}sendCommand({rawArgs:e}){return Tb.hasLoggedIn?new Promise(((t,r)=>{var n={accessInfo:this.autoFillAccessInfo?Tb.roomAccessInfo:e.accessInfo,content:Db(e)};delete n.content.access_info,this.beforeSend(n,e),Tb.socketTask.sendCommand(this.command,n,{}).then((e=>{e=Rb(e);var n=this.beforeSuccess(e);n instanceof Promise?n.then((()=>{t(e)})).catch((e=>{r(e)})):t(e)})).catch((e=>{r(e)}))})):Promise.reject(a_)}callNative({rawArgs:e}){var t=Object.assign({},e);return delete t.success,delete t.fail,delete t.complete,["login","reconnect"].includes(this.nativeMethodName)&&(t.sessionId=Tb.sessionId,t.clientId=Tb.clientId),Tb.lockStep||(Tb.lockStep=new Yb),Tb.lockStep[this.nativeMethodName](t)}invokeMethod(e={}){this.assertType(e),this.beforeInvoke(e);var t,r=this.checkIsCallbackStyle(e);switch(this.functionType){case 1:t=this.sendCommand({rawArgs:e});break;case 2:t=this.callNative({rawArgs:e});break;default:throw new Error(`invalid function type: ${this.functionType}`)}return r?void t.then((t=>{e.success&&e.success(t),e.complete&&e.complete(t)})).catch((t=>{e.fail&&e.fail(t),e.complete&&e.complete(t)})):t}},s_=new o_({command:Ky,beforeSend(e){var{gameTick:t,UDPReliabilityStrategy:r}=Lb();e.content.udp_reliability_strategy=r,e.content.game_tick=t},beforeSuccess(e){Tb.gameAccessInfo&&Tb.lockStep.stopLockStep();var{accessInfo:t,clientId:r}=e.data;Tb.roomAccessInfo=t,Tb.gameAccessInfo="",Tb.connectedToRoom=!0,Tb.clientId=r}}),c_=s_.invokeMethod.bind(s_),l_=new o_({command:Jy,autoFillAccessInfo:!1,beforeSend(e){this.tempAccessInfo=e.accessInfo},beforeSuccess(e){var{clientId:t}=e.data;Tb.roomAccessInfo=this.tempAccessInfo,Tb.gameAccessInfo="",Tb.connectedToRoom=!0,Tb.clientId=t}}),u_=l_.invokeMethod.bind(l_),d_=new o_({command:Qy}),p_=d_.invokeMethod.bind(d_),f_=new o_({command:Xy}),h_=f_.invokeMethod.bind(f_),g_=new o_({command:rb}),v_=g_.invokeMethod.bind(g_),m_=new o_({command:Zy}),y_=m_.invokeMethod.bind(m_),b_=new o_({command:tb,beforeSend(e){e.content.quit=!0},beforeSuccess(){Tb.gameAccessInfo&&Tb.lockStep.stopLockStep(),Tb.roomAccessInfo="",Tb.gameAccessInfo=""}}),__=b_.invokeMethod.bind(b_),w_=new o_({command:eb,beforeSuccess(){Tb.gameAccessInfo&&Tb.lockStep.stopLockStep(),Tb.roomAccessInfo="",Tb.gameAccessInfo=""}}),I_=w_.invokeMethod.bind(w_),S_=new o_({command:Vy,beforeSend(e){e.content.use_udp_to_lockstep=!0}}),k_=S_.invokeMethod.bind(S_),C_=new o_({command:Hy,beforeInvoke(){if(!Tb.gameAccessInfo)throw new Error("game has not started")},beforeSend(e){e.content.use_udp_to_lockstep=!0}}),T_=C_.invokeMethod.bind(C_),E_=new o_({functionType:2,nativeMethodName:"uploadFrame"}),A_=E_.invokeMethod.bind(E_),P_=new o_({functionType:2,nativeMethodName:"getLostFrames"}),x_=P_.invokeMethod.bind(P_),M_=new Xb({wsEventName:"recv-broadcast",needJSONParse:!0}),R_=M_.onMethod,D_=M_.offMethod,L_=new Xb({wsEventName:"recv-roomInfoChange",needJSONParse:!0,beforeEvent(e){Tb.roomInfo=e}}),N_=L_.onMethod,O_=L_.offMethod;new Xb({wsEventName:"recv-gameStartEnd",needJSONParse:!0}).onMethod((({state:e,accessInfo:t})=>{switch(e){case 2:f.warn(`[onGameStart] accessInfo=${t}`),Tb.gameAccessInfo=t,Tb.lockStep||(Tb.lockStep=new Yb),Tb.lockStep.startLockStep({accessInfo:t,clientId:Tb.clientId,sessionId:Tb.sessionId}).then((()=>{Tb.connectedToGame=!0,Tb.hasGameStarted=!0,B_.emit({}),f.warn("[onGameStart][LockStep.start][success]")})).catch((e=>{Ab(Eb.startLockStepFail),f.error("[onGameStart][LockStep.start][fail]",e)}));break;case 3:f.warn("[onGameEnd]"),Tb.lockStep.stopLockStep(),Tb.hasGameStarted=!0,U_.emit({gameAccessInfo:Tb.gameAccessInfo}),Tb.gameAccessInfo=""}}));var B_=(0,j.s)("LockStepGameStart"),j_=B_.onMethod,F_=B_.offMethod,U_=(0,j.s)("LockStepGameEnd"),W_=U_.onMethod,G_=U_.offMethod,V_=new Xb({nativeEventName:"onSyncFrame",beforeEvent(){Tb.hasGameStarted||(Tb.hasGameStarted=!0,Tb.connectedToGame=!0,B_.emit({}))}}),$_=V_.onMethod.bind(V_),q_=V_.offMethod.bind(V_),z_=(()=>{var e=new o_({command:Yy,autoFillAccessInfo:!1});return e.invokeMethod.bind(e)})(),Z_=(()=>{var e=new o_({functionType:2,nativeMethodName:"reconnect",beforeSuccess(){Tb.connectedToGame=!0}});return e.invokeMethod.bind(e)})();function H_(e){if(Tb.connectedToGame)return Promise.resolve({});switch(e.roomState){case 1:return Promise.resolve({});case 2:case 5:var{gameAccessInfo:t}=e;return Tb.gameAccessInfo=t,Z_({accessInfo:t,clientId:Tb.clientId,sessionId:Tb.sessionId});case 3:return Promise.reject({errMsg:"the room state is ended."});case 4:return Promise.reject({errMsg:"the room state is destroyed"});default:return Promise.reject({errMsg:`invalid room state: ${e.roomState}`})}}var K_=new o_({command:nb}),J_=K_.invokeMethod.bind(K_),Y_=new o_({command:ab}),Q_=Y_.invokeMethod.bind(Y_),X_=new Xb({wsEventName:"recv-beKickedOut",needJSONParse:!1,beforeEvent(e){Tb.gameAccessInfo&&Tb.lockStep.stopLockStep(),Tb.roomAccessInfo="",Tb.gameAccessInfo="",f.warn("[onBeKickedOut]",e)}}),ew=X_.onMethod.bind(X_),tw=X_.offMethod.bind(X_),rw=new o_({command:ib}),nw=rw.invokeMethod.bind(rw),aw=new o_({command:ob}),iw=aw.invokeMethod.bind(aw),ow=new o_({command:cb}),sw=ow.invokeMethod.bind(ow),cw="";var lw=new o_({command:lb}),uw=lw.invokeMethod.bind(lw);var dw=new o_({command:ub}),pw=dw.invokeMethod.bind(dw),fw=new Xb({wsEventName:"recv-syncInfo",needJSONParse:!0}),hw=fw.onMethod,gw=fw.offMethod,vw=new Rn.Z;new Xb({wsEventName:"recv-friendMessage",needJSONParse:!0}).onMethod((e=>{e.msg=JSON.parse(e.msg),vw.emit(e.msg.type,e)}));var mw=new WeakMap;var yw=(0,B.TG)("getFriendsStateData","webapi_opengameinfo_getfriendsuserdata",(()=>{}),(e=>{var{friend_data_list:t}=e;return e.list=t?t.map((({game_info:e,profile:t})=>({userState:e.user_state,sysState:e.sys_state,openId:e.open_id,nickName:t.nick_name,avatarUrl:t.avatar_url,gender:t.gender}))):[],delete e.friend_data_list,e})),bw=new o_({command:db}),_w=bw.invokeMethod.bind(bw),ww=new o_({command:pb}),Iw=ww.invokeMethod.bind(ww),Sw=new Xb({wsEventName:"recv-gameMatched",needJSONParse:!0}),kw=Sw.onMethod,Cw=Sw.offMethod,Tw={login:()=>(Tb.loginPromise||(Tb.loginPromise=new Promise(((e,t)=>{var r=e=>{f.error("connectSocketError",e),t(e.errMsg)};Tb.socketTask=Mb(),Tb.socketTask._emitter.once("recv-active",(()=>{Tb.hasLoggedIn=!0,e(),Tb.socketTask._emitter.off("ws-error",r)})),Tb.socketTask._emitter.once("ws-error",r)}))),Tb.loginPromise),logout:()=>new Promise(((e,t)=>{if(!Tb.socketTask)return e();try{Tb.socketTask.close(),Tb.socketTask._emitter.once("ws-close",e),delete Tb.socketTask}catch(e){f.error("GameServerManager.logout() fail",e.message),t(e.message)}})),onLogout:e=>{Pb.on("logout",(()=>{e(),Tb.roomAccessInfo&&n_({type:"room"})}))},offLogout:e=>{Pb.off("logout",e)},createRoom:c_,joinRoom:u_,updateReadyStatus:p_,changeSeat:h_,getRoomInfo:v_,broadcastInRoom:y_,ownerLeaveRoom:I_,memberLeaveRoom:__,startGame:k_,endGame:T_,uploadFrame:A_,getLostFrames:x_,reconnect:e=>{return f.warn("[reconnect][invoke]",e),(t=e.accessInfo,z_({accessInfo:t}).then((e=>(f.warn(`[roomReconnect][success]accessInfo=${t}, clientId=${e.data.clientId}`),Tb.roomAccessInfo=t,Tb.connectedToRoom=!0,Tb.clientId=Number(e.data.clientId),v_()))).then((e=>(f.warn("[getRoomInfo][success]",e),Tb.roomInfo=e.data.roomInfo,Tb.roomInfo.gameAccessInfo&&(Tb.gameAccessInfo=Tb.roomInfo.gameAccessInfo),Promise.resolve(Tb.roomInfo))))).then(H_);var t},getLastRoomInfo:J_,kickoutMember:Q_,restart:nw,onBroadcast:R_,offBroadcast:D_,onRoomInfoChange:N_,offRoomInfoChange:O_,onSyncFrame:$_,offSyncFrame:q_,onGameStart:j_,offGameStart:F_,onGameEnd:W_,offGameEnd:G_,onDisconnect:t_,offDisconnect:r_,onBeKickedOut:ew,offBeKickedOut:tw,onLockStepError:function(e){"function"==typeof e&&Nb.on("error",e)},offLockStepError:function(e){"function"==typeof e?Nb.off("error",e):Nb.removeAllListeners("error")},startStateService:iw,endStateService:sw,setState:pw,setInviteData:function(e){return"string"==typeof e&&(cw=e,!0)},onInvite:function(e){var t=({srcProfile:t,msg:r})=>{var{data:n}=r,{nickName:a,openId:i}=t,o=i+"_"+Date.now(),s=[i,"",1,o].join(",");w.reportKeyValue({key:"GameServerInvite",value:s}),(0,Pe._showModal)({confirmText:"加入",cancelText:"取消",content:`${a} 邀请你一起玩游戏，是否加入？`,success:t=>{t.confirm&&e({openId:i,data:n});var r=[i,"",t.confirm?2:3,o].join(",");w.reportKeyValue({key:"GameServerInvite",value:r})}})};mw.set(e,t),vw.on("invite",t)},offInvite:function(e){vw.off("invite",mw.get(e)),mw.delete(e)},startMatch:_w,cancelMatch:Iw,onMatch:kw,offMatch:Cw},Ew={inviteFriend:function({openId:e}){uw({target_openid_list:[e],msg:JSON.stringify({type:"invite",data:cw})})},onStateUpdate:hw,offStateUpdate:gw,getFriendsStateData:yw},Aw=()=>Tw,Pw=new WeakMap;class xw extends Number{}Object.freeze(xw),Object.freeze(xw.prototype);var Mw=()=>new xw(9999);class Rw{constructor(){Pw.set(this,new WeakMap)}setTimeout(){var e=Pw.get(this),t=M.Z.setTimeout.apply(void 0,arguments),r=Mw();return e.set(r,t),r}clearTimeout(e){var t=Pw.get(this).get(e);void 0!==t&&M.Z.clearTimeout(t)}setInterval(){var e=Pw.get(this),t=M.Z.setInterval.apply(void 0,arguments),r=Mw();return e.set(r,t),r}clearInterval(e){var t=Pw.get(this).get(e);void 0!==t&&M.Z.clearInterval(t)}requestAnimationFrame(){var e=Pw.get(this),t=M.Z.requestAnimationFrame.apply(void 0,arguments),r=Mw();return e.set(r,t),r}cancelAnimationFrame(e){var t=Pw.get(this).get(e);void 0!==t&&M.Z.cancelAnimationFrame(t)}}var Dw,Lw=()=>{var e=new Rw;return{setTimeout:e.setTimeout.bind(e),clearTimeout:e.clearTimeout.bind(e),setInterval:e.setInterval.bind(e),clearInterval:e.clearInterval.bind(e),requestAnimationFrame:e.requestAnimationFrame.bind(e),cancelAnimationFrame:e.cancelAnimationFrame.bind(e)}},Nw=d(2099),Ow=d(2036),Bw=(0,B.TG)("routeJSServer","routeJsSvr",(({name:e="",arg:t=""})=>({json_args:JSON.stringify({data:JSON.stringify({arg:t,name:e})})})),(e=>{if(!e.rawDataObject)return e.errMsg,e;var{data:t,log:r}=e.rawDataObject;return e.data=JSON.parse(t),e.log=r,e.baseResp=JSON.parse(e.base_resp),e.baseResp.errCode=e.baseResp.errcode,e.baseResp.errMsg=e.baseResp.errmsg,delete e.base_resp,delete e.baseResp.errcode,delete e.baseResp.errmsg,e})),jw=d(4089),Fw=d(7686),Uw=d(9591),Ww={muteMicrophone:!1,muteEarphone:!1};function Gw(e){return(0,J.Kn)(e)?Zs()?{muteMicrophone:!0,muteEarphone:!0}:((0,J.jn)(e.muteMicrophone)&&(Ww.muteMicrophone=e.muteMicrophone),(0,J.jn)(e.muteEarphone)&&(Ww.muteEarphone=e.muteEarphone),Ww):Ww}var Vw=()=>{(0,Pe._showModal)({content:"账号已被禁言，暂时不能发送消息",confirmText:"知道了",showCancel:!1})},$w=e=>{"boolean"==typeof Dw?(Dw&&Vw(),e(Dw)):(0,R.aI)()?(0,B.yD)({apiName:"webapi_getvoiceroompunishstatusforwxag",sdkApiName:"checkMicrophoneBanned",reqData:{},success(t){var{is_punished:r}=t.data;!0===r?(Vw(),e(Dw=!0)):e(!1===r&&(Dw=!1))},fail(){e(!1)}}):e(Dw=!1)},qw=d(284),zw=function(e){if((0,B.r3)("joinVoIPChat",e,{signature:"",nonceStr:"",timeStamp:0,groupId:""})){var t="video"===e.roomType?1:2,r=Object.assign({},e,{muteConfig:Gw(e.muteConfig),handsFree:!(0,J.jn)(e.handsFree)||e.handsFree,roomType:t}),n=()=>{var e=(0,Ie.hI)(this);r.privateData=JSON.stringify({pluginId:e});var t=()=>{(0,B.qu)(e)("joinVoIPChat",r,{beforeSuccess(e){(0,qw.gA)(),(0,B.nY)("joinVoIPChat",{}),e.errCode=0,e.finalMuteConfig=JSON.parse(JSON.stringify(r.muteConfig))},beforeFail(e){void 0===e.errCode&&(e.errCode=(e=>{var t=new RegExp(/^joinVoIPChat:(?:fail )?fail: (-?[0-9]+?), (-?[0-9]+?), .*/).exec(e);if(!t)return-1e3;var r=parseInt(t[1],10),n=parseInt(t[2],10);if(-10086!==r&&-10087!==r)return-1e3;switch(n){case 0:return 0;case-1:return-1;case-7:return-2;default:return-1e3}})(e.errMsg))}})};r.muteConfig.muteMicrophone?t():$w((e=>{e&&(r.muteConfig.muteMicrophone=!0),t()}))};r.forceCellularNetwork?"boolean"!=typeof r.forceCellularNetwork?(console.warn("joinVoIPChat argument forceCellularNetwork must be boolean but accept "+typeof r.forceCellularNetwork),r.forceCellularNetwork=!1,n()):(0,qw.Nv)().then((e=>{e||(r.forceCellularNetwork=!1),n()})):n()}},Zw=function(e){try{var t=(0,Ie.hI)(this);(0,B.qu)(t)("exitVoIPChat",Object.assign({},e,{success(t){var r=t.errMsg||"ok";(0,B.nY)("exitVoIPChat",{}),(0,B.FE)({name:"exitVoIPChat",args:e,errMsg:r,errCode:0,res:t})},fail(t){var r=t.errCode||-1,n=t.errMsg||"unknown error";(0,B.FE)({name:"exitVoIPChat",args:e,success:!1,errMsg:n,errCode:r,res:t})},complete(){}}))}catch(t){"function"==typeof e.fail&&e.fail({errCode:-1,errMsg:`exitVoIPChat:fail ${t.message}`}),"function"==typeof e.complete&&e.complete({errCode:-1,errMsg:`exitVoIPChat:complete ${t.message}`})}},Hw=function(e){if((0,B.r3)("updateVoIPChatMuteConfig",e,{muteConfig:{}})){var t=(0,Ie.hI)(this),r=Object.assign({},e,{muteConfig:Gw(e.muteConfig),handsFree:!(0,J.jn)(e.handsFree)||e.handsFree}),n=()=>{(0,B.qu)(t)("updateVoIPChatMuteConfig",r,{beforeSuccess(e){e.finalMuteConfig=JSON.parse(JSON.stringify(r.muteConfig))}})};r.muteConfig.muteMicrophone?n():$w((e=>{e&&(r.muteConfig.muteMicrophone=!0),n()}))}},Kw=(0,j.s)("voIPChatMembersChanged"),Jw=Kw.onMethod,Yw=Kw.offMethod;(0,B.jQ)("onVoIPChatMembersChanged",(e=>{e.errCode=0,e.errMsg=e.errMsg||"ok",Kw.emit(e)}));var Qw=e=>{try{(0,B.jQ)("onVoIPChatSpeakersChanged",(t=>{t.errCode=0,t.errMsg=t.errMsg||"ok","function"==typeof e&&_.surroundThirdByTryCatch(e,"at onVoIPChatSpeakersChanged callback function")(t)}))}catch(t){t.errCode=t.errCode||-1,t.errMsg=t.errMsg||"unknown error","function"==typeof e&&_.surroundThirdByTryCatch(e,"at onVoIPChatSpeakersChanged callback function")(t)}},Xw=()=>{(0,B.jQ)("onVoIPChatSpeakersChanged",(()=>{}))},eI=(0,j.s)("VoIPChatInterrupted"),tI=e=>{e.errCode||(e.errCode=((e="")=>e.includes("current mini app entered background")?-1:e.includes("in comming call")?-2:-1e3)(e.reason)),eI.emit(e)};(0,B.jQ)("onVoIPChatInterrupted",(e=>{tI(e)})),(0,B.jQ)("onVoIPChatInterruptedJsEvent",(e=>{tI(e)}));var rI=eI.onMethod,nI=eI.offMethod,aI=(0,j.s)("VoIPVideoMembersChanged"),iI=aI.onMethod,oI=aI.offMethod;(0,B.jQ)("onVoIPVideoMembersChanged",((e={})=>{aI.emit(e)}));var sI=(0,j.s)("voIPChatStateChanged"),cI=sI.onMethod,lI=sI.offMethod;(0,B.jQ)("onVoIPChatStateChanged",(e=>{e.errCode=e.errCode||0,e.errMsg=e.errMsg||"ok",sI.emit(e)}));var uI,dI=p.log,pI=({version:e,customVersion:t})=>({customVersion:t,version:e,domains:{},hostSign:{}}),fI=()=>{if(uI)return uI;if(uI={},O.Z.appContactInfo&&O.Z.appContactInfo.call_plugin_info)for(var e=O.Z.appContactInfo.call_plugin_info,t=0;t<e.length;t++){var r=e[t],n=r.plugin_id;uI[n]=pI({version:r.inner_version,customVersion:r.plugin_version||""})}else O.Z.plugins&&Object.keys(O.Z.plugins).forEach((e=>{var t=O.Z.plugins[e],r=t.provider;uI[r]=pI({version:0,customVersion:t.version||""})}));return uI};var hI=()=>{dI("start to invokeGetContact");var e=[],t={};if(Object.keys(uI).forEach((r=>{e.push(r),t[r]=uI[r].customVersion})),0!==e.length)return new Promise((t=>(0,B.IN)("batchGetContact",{appIds:e,success({contactList:e}){dI("batchGetContact result -> ",e),function(e){if(e)for(var t=0;t<e.length;t++){var r=e[t],n=r.appId;if(void 0!==r.appId&&void 0!==r.plugin_list&&r.plugin_list[0]&&uI[n]){var a=r.plugin_list[0].PluginNetWork||{};uI[n].domains={request:a.RequestDomain||[],uploadFile:a.UploadDomain||[],downloadFile:a.DownloadDomain||[],connectSocket:a.WsRequestDomain||[],tcp:a.TCPDomain||[]}}}}(e),t()}})));dI("appids are empty, skip invokeGetContact.")},gI=d(1635),vI={request:G.pR,uploadFile:gI.O,downloadFile:lr.o,connectSocket:(0,Ly.as)().connectSocket},mI=d(304),yI=!1;O.Z.onReady((()=>{if(R.gm)yI=!1===O.Z.urlCheck;else{var e=O.Z.envVersion&&"release"!==O.Z.envVersion,t=!0===O.Z.debug;yI=e&&t}}));var bI=function(e,t,r){return new Promise(((n,a)=>{(0,B.IN)("checkNetworkAPIURL",{api:e,url:t,success(e){var i=((e,t)=>{if(f.info(`[Plugin] checkDomains url: ${e}, domains: ${JSON.stringify(t)}`),void 0===t||void 0===e)return!1;for(var r=(0,mI.Qc)(e||""),n=0;n<t.length;n++){var a=t[n]||"",i=(0,mI.Qc)(a);if(i.protocol===r.protocol&&i.hostname===r.hostname&&i.port===r.port)return!0}return!1})(t,r),o=i||e.isInLAN&&!e.isLocalHost,s="";o||(s=`Url "${t}" not in plugin's domain list.`,yI&&console.warn(s+" This network request will be blocked in release version.")),yI||o?n():a(s)},fail(e){a(e.errMsg||"check url failed.")}})}))},_I=null,wI={};Object.keys(vI).forEach((e=>{wI[e]=function(t={}){var r=(0,Ie.hI)(this),n=Object.assign({},t);return n.customCheck=(t,n)=>{(_I||(fI(),_I=hI()),_I).then((()=>{((t,n)=>{var a=fI()[r];f.info(`[Plugin] pluginInfo ${r}, ${JSON.stringify(a)}`);var i=e,o=a.domains[i];"connectSocket"===e&&(i="websocket"),bI(i,t.url,o).then((()=>{n(null)})).catch((e=>{var t=(0,J.HD)(e)?e:"check url failed.";n(t)}))})(t,n)}))},vI[e].call(this,n)}}));var II=wI;var SI={createWorker:Wf,updateVoIPChatMuteConfig:Hw,onVoIPChatStateChanged:cI,onVoIPChatSpeakersChanged:Qw,onVoIPChatMembersChanged:Jw,onVoIPChatInterrupted:rI,offVoIPChatStateChanged:lI,offVoIPChatSpeakersChanged:Xw,offVoIPChatMembersChanged:Yw,offVoIPChatInterrupted:nI,joinVoIPChat:zw,exitVoIPChat:Zw,onVoIPVideoMembersChanged:iI,offVoIPVideoMembersChanged:oI,request:II.request,uploadFile:II.uploadFile,downloadFile:II.downloadFile,connectSocket:II.connectSocket,getAccountInfoSync:function(){var e=fI(),t=(0,ot.E)(),r=(0,Ie.hI)(this);return t.plugin={appId:r||"",version:(0,Ie.hb)(e[r].customVersion)},t},login:function(e={}){var t="login",r=(0,Ie.hI)(this),n=Object.assign({},e,{miniprogram_appid:O.Z.accountInfo.appId}),{success:a,fail:i,failWithMsg:o}=(0,B.Rn)(e,t);(0,An.uC)(r,"setPluginLoginAuth")?Mn.call(this,{success(){(0,B.yD)({sdkApiName:t,apiName:"webapi_plugin_login",reqData:n,pluginId:r,success:e=>{Object.assign(e,e.data),delete e.data,a(e)},fail:i})},fail(e){o({msg:e.errMsg})}}):o({msg:"no permission"})},getRealtimeLogManager:function(e){var t=(0,Ie.hI)(this),r=fI()[t];return((e,t,r)=>{r=r||{};var n="develop"===O.Z.envVersion||"trial"===O.Z.envVersion;return r.isClientReport=!n,Gu(r,e,t)})(t,null==r?void 0:r.version,e)}},kI=({provider:e})=>{var t={env:{USER_DATA_PATH:(0,jw.EH)(e)},getFileSystemManager:()=>(0,$.M6)(e),onKeyboardConfirm:(0,pp.HX)(e),offKeyboardConfirm:(0,pp.LU)(e),onKeyboardComplete:(0,pp.$b)(e),offKeyboardComplete:(0,pp.WB)(e),onKeyboardHeightChange:(0,pp.O6)(e),offKeyboardHeightChange:(0,pp.L6)(e)};return(0,Uw.oq)(t,{provider:e}),Object.keys(SI).forEach((e=>{t[e]=SI[e].bind(t)})),t},CI={},TI=Symbol("IS_SUB_PACKAGE_INJECT_API"),EI=Symbol("EXIT_EXECUTE_SYMBOL"),AI=["cloud"],PI={},xI=(e,t)=>{var r=t.globalName;if(PI[r])return PI[r];var n=`get${((e,...t)=>e.toUpperCase()+t.join(""))(...e)}GlobalVar`;t.globalGetter&&(globalThis[n]=()=>t.globalGetter());try{var a=Date.now();v.loadMainContextLibFile(t.waLibName,(e=>{delete globalThis[n];var r=Date.now()-a;"success"===e?t.init=!0:"string"==typeof e&&e.includes("not supported")?R.gm?((0,Pe.showModal)({title:"请升级工具版本",content:"很抱歉，当前工具版本不支持该基础库，请前往官网升级至最新稳定版本或nightly版本"}),console.warn("很抱歉，当前工具版本不支持该基础库，请前往官网升级至最新稳定版本或nightly版本。升级地址：https://developers.weixin.qq.com/miniprogram/dev/devtools/stable.html")):console.warn("很抱歉，当前客户端版本不支持该基础库，请升级至最新版本"):console.error(`loadSubPackage: ${t.waLibName}:`,e),O.Z.onReady((()=>{(({packageName:e,cost:t,isAsync:r,isSuccess:n,appType:a,injectContext:i=0,errMsg:o}={})=>{var s=[e,t,r,n,a,i,o].map(encodeURIComponent).join(",");w.reportKeyValue({key:"WeAppSDKSubpackageInject",value:s,force:!0})})({packageName:t.waLibName,cost:r,isAsync:1,isSuccess:"success"===e,appType:O.Z.appType+1e3,errMsg:"success"===e?"":e})}))}))}catch(e){console.error(`loadMainContextLibFile: ${t.waLibName} err:`,e)}if("kanata"===e){var i=globalThis.Kanata;Object.defineProperty(globalThis,"_Kanata",{value:i})}t.loadedSubPackage=globalThis[t.globalName],PI[t.globalName]=t.loadedSubPackage,(0,J.mf)(t.onInjectCallback)&&t.onInjectCallback(t.loadedSubPackage),t.reserveGlobal||delete globalThis[t.globalName]},MI={},RI=(e,t,r)=>{var{apiKey:n,call:a,cache:i}=t;if(i)return i;var o=((e,t)=>MI[e].loadedSubPackage[t])(e,n);if((0,J.mf)(o)){if(a){var s=o.call(r);return(0,J.Kn)(s)&&(t.cache=s),s}return o.bind(r)}return o},DI=(e,t)=>function(){var r=MI[e];return r.init||xI(e,r),RI(e,t,this)},LI=({name:e,waLibName:t,exportApis:r,globalName:n,globalGetter:a,onInjectCallback:i,provideInGlobal:o,reserveGlobal:s,fakeProvider:c}={})=>{MI[e]={waLibName:t,exportApis:r,globalGetter:a,init:!1,onInjectCallback:i,globalName:n,provideInGlobal:o,reserveGlobal:s,fakeProvider:c}},NI=()=>Object.entries(MI).reduce(((e,[t,r])=>(r.provideInGlobal&&(e[t]=Z()({api:()=>xI(t,r),subPackageInfo:r,replaceGlobal:!0},r.fakeProvider?{fakeProvider:r.fakeProvider}:{}),!(0,J.Kn)(r.exportApis))||Object.entries(r.exportApis).forEach((([n,a])=>{var i=Z()({},r);delete i.provideInGlobal,e[n]={api:DI(t,a),apiInfo:a,subPackageInfo:i}})),e)),{}),OI=e=>`_sdk_subPackage_load_${e}`,BI=e=>{globalThis[OI(e)]=!0},jI=e=>{globalThis[OI(e)]=!1},FI=e=>globalThis[OI(e)],UI=(e,t=!1)=>{var r=NI();Object.entries(r).forEach((([r,n])=>{var a=e,{api:i,subPackageInfo:o,replaceGlobal:s,fakeProvider:c}=n;if(o.provideInGlobal){if(s){var l=o.provideInGlobal;return void Object.defineProperty(globalThis,l,{get:()=>c?(o.__fakeProviderCache||(o.__fakeProviderCache=((e,t)=>{var r={},n=function(n){var a=e[n];Object.defineProperty(r,n,{get(){if(a.call)return(...e)=>{var r=t();return null==r?void 0:r[a.key||n].call(r,...e)};var e=t();return null==e?void 0:e[a.key||n]}})};for(var a in e)n(a);return r})(c,(()=>{if(!FI(l))return BI(l),i(),jI(l),o.loadedSubPackage}))),o.__fakeProviderCache):FI(l)?void 0:(BI(l),i(),jI(l),o.loadedSubPackage),configurable:!0})}a=o.provideInGlobal}if(t){var u=a[r];Object.defineProperty(a,r,{get(){if((0,J.Kn)(u)){var t=i.call(e),n=(e=>CI[e])(r);return n&&n(t),t}return(0,J.mf)(u)?(...t)=>{var r=i.call(e),n=[...t,TI,r];return r.call(a,...n)}:u},configurable:!0})}else Object.defineProperty(a,r,{get:()=>i.call(e),configurable:!0})}))},WI=(e={})=>{(0,B.IN)("uploadToCommonCDN",e,{})},GI=d(1755),VI=e=>{try{(0,B.IN)("private_getBackgroundFetchData",{fetchType:e.fetchType,success(t){(0,B.FE)({name:"private_getBackgroundFetchData",args:e,res:t})},fail(t){(0,B.FE)({name:"private_getBackgroundFetchData",args:e,success:!1,errMsg:t.errMsg,res:t})},complete(){}})}catch(t){"function"==typeof e.fail&&e.fail({errMsg:`private_getBackgroundFetchData:fail ${t.message}`}),"function"==typeof e.complete&&e.complete({errMsg:`private_getBackgroundFetchData:fail ${t.message}`})}},$I=e=>{try{(0,B.jQ)("private_onBackgroundFetchData",(t=>{t.errMsg="private_onBackgroundFetchData:ok","function"==typeof e&&_.surroundThirdByTryCatch(e,"at private_onBackgroundFetchData callback function")(t)}))}catch(t){"function"==typeof e&&_.surroundThirdByTryCatch(e,"at private_onBackgroundFetchData callback function")(t)}},qI=(Symbol("Cache"),0),zI=1,ZI=2,HI="weakNetwork",KI="always",JI="none",YI=["ALL","GET","POST","PATCH","PUT","DELETE"],QI=6048e5,XI=2592e6,eS=1157,tS=1158,rS=1133,nS=1,aS=2,iS=4,oS=6,sS=7,cS=8,lS=9,uS=10,dS=11,pS=12,fS=13,hS=20,gS=30,vS=31,mS=d(2308),yS=d.n(mS),bS=Object.prototype.hasOwnProperty;function _S(e,t){Object.keys(e).forEach((r=>{var n=e[r];n instanceof RegExp?t[r]=n.toString():"object"==typeof n&&null!==n?(t[r]={},_S(n,t[r])):t[r]=n}))}function wS(e){var t={};return _S(e,t),yS()(JSON.stringify(t))}function IS({url:e,method:t,data:r=""}){return r&&(r=JSON.stringify(r)),`${t}-${e}-${r}`}function SS(e,t){return yS()(`${e}|${t}`)}function kS(e){if(e){var t=e.split("/"),r=[],n=t.map((e=>":"===e[0]?(r.push(e),"(\\w+)"):e)).join("/");return{params:r,regExp:new RegExp(`^${n}$`,"ig")}}}function CS(e){if(e)return Object.keys(e).map((t=>({key:t,value:e[t]})))}function TS(e,t,r,n){if(void 0!==t){if("function"==typeof t)return t(r);if(t instanceof RegExp)return r=null==r?"":r.toString(),t.test(r);if("object"===e)return PS(t,r,n);if(r!==t)return!1}return!0}function ES(e){var t=typeof e;return"string"===t||"number"===t||"boolean"===t||null===e?e:"object"===t?{}:void 0}function AS({type:e="any",value:t},r,n,a){var i,o=-1!==e.indexOf("[]"),s=Array.isArray(n);if(e=e.replace("[]",""),o&&!s)return!1;if(o&&"any"!==e){i=typeof n[0];for(var c=1,l=n.length;c<l;c++)if(typeof n[c]!==i)return!1}else i=typeof n;var u=o?n[0]:n;if("any"!==e)switch(e){case"string":case"number":case"boolean":if(i!==e)return!1;break;case"null":if(null!==u)return!1;break;case"object":if(i!==e||Array.isArray(u)||null===u)return!1}if(o){a[r]=[];for(var d=0,p=n.length;d<p;d++){var f=ES(n[d]);if(!TS(e,t,n[d],f))return!1;a[r].push(f)}}else{var h=ES(n);if(!TS(e,t,n,h))return!1;a[r]=h}return!0}function PS(e,t,r){if(!Array.isArray(e))return!1;for(var n=0,a=e.length;n<a;n++){var{name:i,schema:o}=e[n];if(i&&o){if(!bS.call(t,i))return!1;var s=t[i];if(Array.isArray(o)){for(var c=!1,l=0,u=o.length;l<u;l++){if(c=AS(o[l],i,s,r))break}if(!c)return!1}else if("object"==typeof o&&!AS(o,i,s,r))return!1}}return!0}var xS=ve.cache,MS=function(){var e=null,t=null,r=r=>{if(e){for(var n=e;n.next&&n.time<r.time;)n=n.next;n.next?n.time>=r.time&&(r.next=n,r.prev=n.prev,n.prev&&(n.prev.next=r),n.prev=r,n===e&&(e=r)):(n.next=r,r.prev=n,r.next=null,t=r)}else e=r,t=r},n=r=>{var n=(t=>{if(e)for(var r=e;r;){if(r.key===t)return r;r=r.next}})(r);if(n){var{prev:a,next:i}=n;return a&&(a.next=i),i&&(i.prev=a),n===e&&(e=i),n===t&&(t=a),n.prev=n.next=null,n}};return{addMap:e=>{for(var t=Object.keys(e),n=0,a=t.length;n<a;n++){var i=t[n];r({key:i,time:e[i][1]})}},add:(r,a)=>{var i=n(r)||{key:r};i.time=a,e?(t.next=i,i.prev=t,t=i):(e=i,t=i)},del:n,each:t=>{if(e)for(var r=e;r;)t(r.key),r=r.next},eliminate:r=>{for(var n=[];e&&r;)n.push(e.key),e=e.next,r--;return e?e.prev=null:t=null,n}}}(),RS={};function DS(e,t,r){MS.add(t,r),RS[t]=[e,r],xS.setStorage({key:"cache|meta",data:RS})}function LS(e,t){var r=SS(e,t);xS.removeStorage({key:r,success(){MS.del(r),delete RS[r],xS.setStorage({key:"cache|meta",data:RS})}})}function NS(e,t){var r=e.length,n=0,a=()=>{++n>=r&&(xS.setStorage({key:"cache|meta",data:RS}),t&&t())};e.forEach((e=>{xS.removeStorage({key:e,success(){MS.del(e),delete RS[e],a()},fail:a})}))}function OS(e){var t=[];MS.each((r=>{RS[r][0]===e&&t.push(r)})),t&&t.length&&NS(t)}function BS(e){xS.getStorageInfo({success(t){var{keys:r,currentSize:n,limitSize:a}=t;if(r.length>100||n>.66*a){var i=MS.eliminate(5);i.length?NS(i,e):e()}else e()}})}function jS(e,t){var r=Date.now(),n=e.rule.id,a=IS(e),i=SS(n,a);BS((()=>function(e,t,r,n){xS.setStorage({key:t,data:r,success:()=>DS(e,t,n)})}(n,i,t,r)))}O.Z.onReady((()=>{xS.getStorage({key:"cache|meta",success:e=>{e&&(RS=e.data,MS.addMap(RS)),xS.getStorageInfo({success(e){e.keys.forEach((e=>{0!==e.indexOf("cache|")&&(RS[e]||xS.removeStorage({key:e}))}))}})}})}));var FS=null;O.Z.onReady((()=>{setTimeout((()=>{!function(e){var t;null===(t=FS)||void 0===t||t(e)}({duration:0,startTime:0})}))}));var US,WS,GS,VS=new Promise((e=>{FS=e}));!function(e){e[e.AS_Config_Ready_Begin=0]="AS_Config_Ready_Begin",e[e.AS_Config_Ready_End=1]="AS_Config_Ready_End",e[e.App_onLaunch=2]="App_onLaunch",e[e.App_onShow=3]="App_onShow",e[e.Evaluate_Script_Begin=4]="Evaluate_Script_Begin",e[e.Evaluate_Script_End=5]="Evaluate_Script_End",e[e.SubPackage_Ready=6]="SubPackage_Ready",e[e.AppRoute_Begin=7]="AppRoute_Begin",e[e.AppRoute_End=8]="AppRoute_End",e[e.AppRoute_Callback_Begin=9]="AppRoute_Callback_Begin",e[e.AppRoute_Callback_End=10]="AppRoute_Callback_End",e[e.AppRoute_AppServiceEngine=11]="AppRoute_AppServiceEngine",e[e.Open_New_Page=12]="Open_New_Page",e[e.Publish_Init_Data=13]="Publish_Init_Data",e[e.Send_Init_Data=14]="Send_Init_Data",e[e.Recv_Init_Ready=15]="Recv_Init_Ready",e[e.AppRoute_Done_Begin=16]="AppRoute_Done_Begin",e[e.AppRoute_Done_End=17]="AppRoute_Done_End",e[e.TriggerAppRoute=18]="TriggerAppRoute",e[e.Evaluate_WAWebview_Begin=19]="Evaluate_WAWebview_Begin",e[e.Evaluate_WAWebview_End=20]="Evaluate_WAWebview_End",e[e.WV_Config_Ready_Begin=21]="WV_Config_Ready_Begin",e[e.WV_Config_Ready_End=22]="WV_Config_Ready_End",e[e.Evaluate_PageFrame_Begin=23]="Evaluate_PageFrame_Begin",e[e.Evaluate_PageFrame_End=24]="Evaluate_PageFrame_End",e[e.Evaluate_Subpackage_PageFrame_Begin=25]="Evaluate_Subpackage_PageFrame_Begin",e[e.Evaluate_Subpackage_PageFrame_End=26]="Evaluate_Subpackage_PageFrame_End",e[e.Set_CSS_Begin=27]="Set_CSS_Begin",e[e.Set_CSS_End=28]="Set_CSS_End",e[e.Generate_Func_Ready=29]="Generate_Func_Ready",e[e.Recv_Init_Data=30]="Recv_Init_Data",e[e.Init_Render_Begin=31]="Init_Render_Begin",e[e.Init_Render_End=32]="Init_Render_End",e[e.VD_Init_Render_Begin=33]="VD_Init_Render_Begin",e[e.VD_Init_Render_End=34]="VD_Init_Render_End",e[e.Send_Init_Ready=35]="Send_Init_Ready",e[e.Init_Ready_Rendering_Cache=36]="Init_Ready_Rendering_Cache",e[e.Init_Ready_Prerender=37]="Init_Ready_Prerender",e[e.Init_Ready_After_Rendering_Cache=38]="Init_Ready_After_Rendering_Cache",e[e.Init_Ready_Client=39]="Init_Ready_Client",e[e.Real_Init_Ready=40]="Real_Init_Ready",e[e.First_User_Interaction=41]="First_User_Interaction",e[e.FP=42]="FP",e[e.FCP=43]="FCP",e[e.LCP=44]="LCP"}(GS||(GS={}));var $S={};null===(US=o)||void 0===US||null===(WS=US.env)||void 0===WS||WS.typeStr;new Set;function qS(e){return $S[e]||0}var zS=!1,ZS=!1,HS=0,KS=!1,JS="",YS=0,QS=0,XS=0,ek=[sS,cS,lS,uS],tk=[nS,aS,iS,sS,cS,uS],rk=!1,nk=0,ak=!1;(0,Ul.HM)(((e={})=>{YS=Date.now(),KS=ZS,ak=rk,JS=e.path||e.rawPath||""})),(0,pr.vv)(((e={})=>{3===e.targetAction&&function(){ZS&&ik(iS,null,{duration:Date.now()-HS});rk&&ik(uS,null,{duration:Date.now()-nk})}(),zS&&(ik(oS,null,{matchCount:QS,matchSuccessCount:XS}),QS=0,XS=0)}));var ik=function(){var e=Q()((function*(e,t,{isSuccess:r=!1,costTime:n=0,duration:a=0,matchCount:i=0,matchSuccessCount:o=0,extra1:s}={}){t=t||(0,Je._getCurrentNetworkType)()||"";var c,l={},u=yield VS;-1!==tk.indexOf(e)&&(c=qS(GS.AppRoute_Begin),l={fr:qS(GS.Real_Init_Ready)-c,fp:qS(GS.FP)-c,fcp:qS(GS.FCP)-c});var d=-1!==ek.indexOf(e),p=d?ak:KS,f=[t,0,(d?rk:ZS)?1:0,e,encodeURIComponent(JS),a,r?1:0,n,p?1:0,l.fr||0,l.fp||0,l.fcp||0,(null==u?void 0:u.duration)||0,i,o,s||""].join(",");w.reportKeyValue({key:"MiniprogramOnWeakNetwork",value:f})}));return function(t,r){return e.apply(this,arguments)}}();function ok(e){ZS&&ik(hS,null,e)}function sk(e){QS++,e&&XS++}function ck(e,t){ik(e,null,{extra1:t})}(0,Je._onNetworkTypeReady)((e=>{"offline"!==e&&"none"!==e||lk(e)}));function lk(e){rk||(nk=Date.now(),rk=!0,!ak&&nk-YS<5e3&&(ak=!0),ik(sS,e))}function uk(e){rk&&(rk=!1,ik(cS,e,{duration:Date.now()-nk}))}(0,Je.onNetworkStatusChange)((e=>{var{networkType:t=""}=e;"offline"===t||"none"===t?lk(t):uk(t)})),(0,Je.onNetworkWeakChange)((e=>{e.weakNet?lk():uk()}));var dk=Object.prototype.hasOwnProperty,pk=new WeakMap;var fk=function(){var e=new Map,t={},r=HI,n=ZI,a="",i=QI,o=t=>{if("string"==typeof t){var r=t.split(/\s+/gi);if(1===r.length)return o({url:r[0]});if(2===r.length)return o({url:r[1],method:r[0]})}else{if(t instanceof RegExp)return o({url:t});if("object"==typeof t){var{id:n,method:s,url:c}=t,l=c instanceof RegExp;if(n="string"==typeof n?n.trim():null,s="string"==typeof s&&s.trim().toUpperCase()||"ALL",c=l?c:"string"==typeof c?c.trim():null,n&&e.has(n))return;if(-1===YI.indexOf(s))return;if(!c)return;var u={};if(l)u={isRegExp:l,regExp:c};else{if(-1===c.indexOf("://")&&("/"!==c[0]&&(c=`/${c}`),c=a+c),-1===c.indexOf("://"))return;var{protocol:d,host:p,path:f,query:h}=(0,we.en)(c);u={isRegExp:l,protocol:d,host:p,path:kS(f),query:CS(h)}}if(u.method=s,u.dataSchema=t.dataSchema,u.maxAge=Math.min(t.maxAge||i,XI),!n&&(n=wS(u),e.has(n)))return;return u.id=n,u}}},s=(t,r,n="GET")=>{var i,o=e.values();n=n.toUpperCase();var{protocol:s,host:c,path:l,query:u}=(0,we.en)(t),d=`${s}://${c}`,p=[],f={};for(var h of o)if("ALL"===h.method||h.method===n){if(h.isRegExp){h.regExp.lastIndex=0;var g=h.regExp.exec(t);if(!g){if(a!==d)continue;if(h.regExp.lastIndex=0,!(g=h.regExp.exec(t.replace(`${s}://${c}`))))continue}}else{if(s!==h.protocol)continue;if(c!==h.host)continue;if(h.path.regExp.lastIndex=0,!h.path.regExp.exec(l))continue;if(h.query){var v=!0;for(var m of(p.length=0,h.query)){var{key:y,value:b}=m;if(!u||!dk.call(u,y)||b&&u[y]!==b){v=!1;break}var _=b||u[y];p.push(`${y}${_?"="+encodeURIComponent(_):""}`)}if(!v)continue}}if(h.dataSchema){if(!r||"object"!=typeof r)continue;if(!PS(h.dataSchema,r,f))continue}i=h;break}if(i)return{rule:i,url:`${d}${l}${p.length?"?"+p.join("&"):""}`,data:f,method:n}},c={start:()=>{n=zI},stop:()=>{n=qI},config:(e={})=>{a=e.origin||"",r=e.mode||HI,i=Math.min(e.maxAge||QI,XI),r===KI&&c.start()},emit:(e,r)=>{var n=t[e],a=[];if(n&&n.length)for(var i=n.length-1;i>=0;i--){var o=n[i];o=_.surroundThirdByTryCatch(o,`at cache's ${e} event callback function`),a.push(o(r))}return a},checkNeedStore:(e,t,r,n)=>{try{n=JSON.stringify(n)}catch(e){}Promise.resolve().then((()=>{var a=s(e,t,r);a&&jS(a,{ts:Date.now(),res:n})}))}},l=t=>{if(Array.isArray(t)){var r=[];return t.forEach((t=>{var n=o(t);if(n){var a=n.id;e.set(a,n),r.push(a)}else r.push(null)})),r}},u=t=>{Array.isArray(t)&&t.forEach((t=>{e.has(t)&&(e.delete(t),OS(t))}))},d=()=>{var t=e.keys();for(var r of t)OS(r)},p={set mode(e){r=e||HI},get mode(){return r},set origin(e){a=e||""},get origin(){return a},set maxAge(e){i=e||QI},get maxAge(){return i},get state(){return n},addRules:l,addRule:e=>l([e])[0],deleteRules:u,deleteRule:e=>{u([e])},clearRules:()=>{d(),e.clear()},on:(e,r)=>{"string"==typeof e&&"function"==typeof r&&(e=e.trim())&&(t[e]=t[e]||[],t[e].push(r))},off:(e,r)=>{if("string"==typeof e&&"function"==typeof r&&(e=e.trim())){var n=t[e];if(n&&n.length){var a=n.indexOf(r);-1!==a&&n.splice(a,1)}}},start:()=>{r===JI&&c.start()},stop:()=>{r===JI&&c.stop()},match:e=>{var{url:t,data:r,method:n}=e,a=s(t,r,n);if(a){var i={};i.ruleId=a.rule.id,i.maxAge=a.rule.maxAge;var o=function(e){var t=e.rule.id,r=IS(e),n=SS(t,r);try{var a=xS.getStorageSync(n);if(a){var i=Date.now(),o=e.rule.maxAge;if(i-a.ts<o)return DS(t,n,i),Z()({cacheId:r},a);xS.removeStorage({key:n,success:()=>LS(t,r)})}else xS.removeStorage({key:n})}catch(e){}return null}(a);if(o){var{cacheId:c,ts:l,res:u}=o;i.cacheId=c,i.createTime=l,i.data=u;try{i.data=JSON.parse(i.data)}catch(e){}"object"==typeof u&&(u.fromCache=!0)}return sk(!!o),i}sk(!1)},deleteCaches:t=>{if(Array.isArray(t)){var r=e.keys(),n=function(e){t.forEach((t=>LS(e,t)))};for(var a of r)n(a)}},deleteCache:t=>{var r=e.keys();for(var n of r)LS(n,t)},clearCaches:d};return pk.set(p,c),p}(),hk=pk.get(fk),gk=(d(6105),"\n\nmessage SKBuiltinString_t {\n  optional string String = 1;\n}\n\nmessage BaseRequest {\n  required bytes SessionKey = 1;\n  required uint32 Uin = 2;\n  required bytes DeviceID = 3;\n  required int32 ClientVersion = 4;\n  required bytes DeviceType = 5;\n  optional uint32 Scene = 6;\n}\n\nmessage BaseResponse {\n  required int32 Ret = 1;\n  required SKBuiltinString_t ErrMsg = 2;\n}\n\nmessage JSAPIBaseResponse {\n\toptional int32 errcode = 1;\n\toptional string errmsg = 2;\n}\n\nmessage ScopeInfo\n{\n\toptional string scope = 1;\n\toptional string desc = 2;\n\toptional uint32 auth_state = 3;\n  optional string ext_desc = 4;\n  optional string auth_desc = 5;\n\toptional string sub_desc = 6;\n\toptional string auth_wording = 7;\n}\n\nmessage WxaExternalInfo\n{\n\toptional string host_appid = 1;\n\toptional uint32 scene = 2;\n\toptional uint32 source_env = 3;\n}\n\nmessage WxaPluginAppInfo\n{\n\toptional string plugin_appid = 1;\n\toptional string custom_version = 2;\n\toptional uint32 inner_version = 3;\n}\n\nmessage JSAuthorizeRequest\n{\n\trequired BaseRequest BaseRequest = 1;\n\toptional string appid = 2;\n\trepeated string scope = 3;\n\toptional uint32 version_type = 4;\n\toptional WxaExternalInfo ext_info = 5;\n\toptional string jsapi_name = 6;\n\toptional WxaPluginAppInfo plugin_info = 7;\n}\n\nmessage JSAuthorizeResponse\n{\n\trequired BaseResponse BaseResponse = 1;\n\toptional JSAPIBaseResponse jsapi_baseresponse = 2;\n\trepeated ScopeInfo scope_list = 3;\n\toptional string appname = 4;\n\toptional string appicon_url = 5;\n\toptional string cancel_wording = 6;\n\toptional string allow_wording = 7;\n\toptional string apply_wording = 8;\n\toptional AlertPrivacyInfo privacy_info = 9;\n\toptional string jsapi_scope = 11;\n\toptional UserPrivacyProtectInfo privacy_protect_info = 12;\n}\n\nmessage ScopeRiskWxaAppInfo\n{\n\toptional string username = 1;\n\toptional string path = 2;\n\toptional uint32 version = 3;\n\toptional uint32 scene = 4;\n\toptional uint32 type = 5;\n}\n\nmessage ScopeRiskPopUpInfo\n{\n\toptional int32 route_type = 1;\n\toptional bytes wording = 2;\n\toptional bytes left_button_wording = 3;\n\toptional bytes right_button_wording = 4;\n\toptional bytes right_button_h5_url = 5;\n\toptional ScopeRiskWxaAppInfo wxa_app_info = 6;\n\toptional int32 native_route_type = 7;\n}\n\nmessage ScopeRiskInfo\n{\n\toptional string scope = 1;\n\toptional ScopeRiskPopUpInfo risk_popup_info = 2;\n}\n\nmessage UserPrivacyProtectInfo\n{\n\toptional bool need_show = 1;\n\toptional string wording = 2;\n}\n\nmessage JSAuthorizeConfirmRequest\n{\n\trequired BaseRequest BaseRequest = 1;\n\toptional string appid = 2;\n\trepeated string scope = 3;\n\toptional uint32 opt = 4;\n\toptional uint32 version_type = 5;\n\toptional WxaExternalInfo ext_info = 6;\n\toptional bool privacy_protect_info_checked = 7;\n}\n\nmessage JSAuthorizeConfirmResponse\n{\n\trequired BaseResponse BaseResponse = 1;\n\toptional JSAPIBaseResponse jsapi_baseresponse = 2;\n\trepeated ScopeRiskInfo risk_info_list = 3;\n}\n\nmessage JSOperateWxDataRequest\n{\n\trequired BaseRequest BaseRequest = 1;\n\toptional string appid = 2;\n\toptional bytes data = 3;\n\toptional string grant_scope = 4;\n\toptional uint32 opt = 5;\n\toptional uint32 version_type = 6;\n\toptional WxaExternalInfo ext_info = 7;\n\toptional uint32 avatar_id = 8;\n\n\toptional string session_id = 9;\n\toptional uint32 avatar_opt = 10;\n\toptional bool privacy_protect_info_checked = 11;\n}\n\nmessage UserAvatarItem\n{\n    optional uint32 id = 1;\n    optional string nickname = 2;\n    optional string avatarurl = 3;\n    optional string desc = 4;\n}\n\nmessage UserAvatarInfo\n{\n\trepeated UserAvatarItem avatar_list = 1;\n\toptional bool is_ban_modify_avatar = 2;\n\toptional uint32 avatar_limit = 3;\n\toptional uint32 default_avatar_id = 4;\n\toptional string default_headimg_url = 5;\n\toptional string default_headimg_fileid = 6;\n\toptional string avatar_wording = 7;\n\toptional string limit_wording = 8;\n}\n\nmessage AlertPrivacyInfo\n{\n\toptional bool need_show_privacy = 1;\n\toptional string privacy_wording = 2;\n}\n\nmessage JSOperateWxDataResponse\n{\n\trequired BaseResponse BaseResponse = 1;\n\toptional JSAPIBaseResponse jsapi_baseresponse = 2;\n\toptional bytes data = 3;\n\toptional ScopeInfo scope = 4;\n\toptional string appname = 5;\n\toptional string appicon_url = 6;\n\n\tmessage DebugInfo\n\t{\n\t\toptional string data = 1;\n\t\toptional string session_key = 2;\n\t}\n\toptional DebugInfo debug_info = 7;\n  optional bool need_hold_longconn = 8;\n\toptional string cancel_wording = 9;\n\toptional string allow_wording = 10;\n\toptional string apply_wording = 11;\n\toptional UserAvatarInfo avatar_info = 12;\n\toptional AlertPrivacyInfo privacy_info = 13;\n\toptional uint32 long_polling_timeout = 14;\n\toptional UserPrivacyProtectInfo privacy_protect_info = 15;\n}\n"),vk={},mk={getLocation:"userLocation",chooseLocation:"userLocation",enableLocationUpdate:"userLocation",startRecord:"record",joinVoIPChat:"record",operateRecorder:"record",insertCamera:"camera",insertXWebCamera:"camera",openBluetoothAdapter:"bluetooth",createBLEPeripheralServer:"bluetooth",saveImageToPhotosAlbum:"writePhotosAlbum",saveVideoToPhotosAlbum:"writePhotosAlbum"},yk={userLocation:"地理位置",record:"麦克风",camera:"摄像头",bluetooth:"蓝牙",writePhotosAlbum:"添加到相册"},bk={userLocation:"获取你的位置信息",record:"使用你的麦克风",camera:"使用你的摄像头",bluetooth:"使用你的蓝牙",writePhotosAlbum:"保存图片或视频到你的相册"},_k={},wk={jsapi_camera:"camera",jsapi_location:"userLocation",jsapi_photos_album:"writePhotosAlbum",jsapi_record:"record",webapi_bluetooth:"bluetooth"},Ik={[eS]:{req:"JSAuthorizeRequest",resp:"JSAuthorizeResponse",process(e){ck(dS);var t=e.jsapi_name,r=mk[t];"authorize"!==t&&t||!e.scope||!e.scope.length||(r=(e.scope[0]||"").replace("scope.",""));var n={errcode:-12e3,errmsg:"need confirm"},a={sub_desc:_k[r]||" "};if(r&&bk[r]){a.scope=`scope.${r}`,a.desc=bk[r];var i=vk[a.scope]||0;1===i?n={errcode:0,errmsg:"has authorized"}:2===i&&(n={errcode:-12006,errmsg:"user deny"}),ck(fS,r);var{nickname:o,icon:s}=O.Z.accountInfo||{};return{BaseResponse:{Ret:0,ErrMsg:{String:""}},jsapi_baseresponse:n,scope_list:[a],appname:o,appicon_url:s,cancel_wording:"拒绝",allow_wording:"允许",apply_wording:"申请",privacy_info:{need_show_privacy:!0,privacy_wording:`你授权后，小程序引用的插件开发者将收集你的${yk[r]}信息，为你提供相关服务。开发者严格按照《${o}小程序隐私保护指引》处理你的个人信息，但由于当前处于弱网环境，无法在线展示该隐私保护指引，你可在正常网络条件下通过点击小程序右上角“…”->点击小程序名称->“更多资料”中进行查询。如你发现开发者不当处理你的个人信息，可在“更多资料”页面进行投诉。`},risk_info:[],jsapi_scope:""}}},content:gk},[tS]:{req:"JSAuthorizeConfirmRequest",resp:"JSAuthorizeConfirmResponse",process(e){var t=e.scope,r=e.opt;return t&&t.length&&t.forEach((e=>vk[e]=r)),{BaseResponse:{Ret:0,ErrMsg:{String:""}},jsapi_baseresponse:{errcode:0,errmsg:""},risk_info_list:[]}},content:gk},[rS]:{req:"JSOperateWxDataRequest",resp:"JSOperateWxDataResponse",process(){ck(pS)},content:gk}};var Sk={};function kk(e){var t,r=(t=e,yS()("string"==typeof t?t:JSON.stringify(t)));return Sk[r]||(Sk[r]=__protobufSDK__.getProtobuf()(e)),Sk[r]}function Ck(){var e,t,r=null===O.Z||void 0===O.Z||null===(e=O.Z.appContactInfo)||void 0===e||null===(t=e.stablePassThroughInfo)||void 0===t?void 0:t.wxa_privacy_list;r&&r.length&&r.forEach((e=>{var t=wk[e.scope];t&&(_k[t]=e.sub_desc||"")})),(0,B.jQ)("onClientRequest",(e=>{var t=function(e){if(Ik[e])return Ik[e].proto||(Ik[e].proto=kk(Ik[e].content)),Ik[e]}(e.api),r=!1,n=!1,a=null;if(t){r=!0;var i=null;try{i=t.proto[t.req].decode(new Uint8Array(e.data)),n=!0}catch(e){return}try{var o=t.process(i);o&&(a=t.proto[t.resp].encode(o))}catch(e){return}}(0,B.IN)("responseClientRequest",{id:e.id,support:r&&n&&!!a,data:a&&a.buffer})}))}var Tk=function(){var e=Q()((function*(e,{costTime1:t=0,costTime2:r=0,total:n=0,match:a=0,extra1:i}={}){var o=["",0,0,e,"",t,0,r,0,0,0,0,0,n,a,i||""].join(",");w.reportKeyValue({key:"MiniprogramOnWeakNetwork",value:o})}));return function(t){return e.apply(this,arguments)}}();function Ek(e,t,r,n){Tk(gS,{costTime1:e,costTime2:t,total:r,match:n})}function Ak(e,t,r,n){Tk(vS,{costTime1:e,costTime2:t,total:r,match:n})}var Pk="predict",xk="access",Mk=864e5,Rk=.2,Dk="",Lk=null;function Nk(e){if(Lk){var t=e.sessionid||e.sessionId;t!==Dk&&(!function(){Fk.apply(this,arguments)}(),Dk=t)}}function Ok(){return new Promise((e=>{(0,cl.b)({experimentId:"clicfg_weapp_weak_net_predict_local",experimentType:"Expt",success:t=>{Lk=!(!t||1!==Number(t.testConfig)),e()},fail:()=>{Lk=!1,e()}})}))}function Bk(e){return new Promise((t=>(0,Te.L)("getPredictFromGlobalStorage",{key:e},void 0,t)))}function jk(e,t){return new Promise((r=>(0,Te.L)("setPredictToGlobalStorage",{key:e,data:t},void 0,r)))}function Fk(){return Fk=Q()((function*(){var e,t=yield Bk(xk);t=t||{};var r=null===(e=O.Z.accountInfo)||void 0===e?void 0:e.appId;if(r){var n=Date.now(),a=t[r]||[];if(a.push(n),a.length)for(var i=a.length-1;i>=0;i--){n-a[i]>=2592e6&&a.splice(i,1)}a.length>100&&(a=a.slice(a.length-100)),a.length?t[r]=a:t[r]&&delete t[r]}var o=Object.keys(t);if(o.length>50){var s="",c=0;o.forEach((e=>{var r=t[e],n=r[r.length-1];(!s||n<c)&&(s=e,c=n)})),s&&delete t[s]}yield jk(xk,t)})),Fk.apply(this,arguments)}function Uk(e,t){return Wk.apply(this,arguments)}function Wk(){return Wk=Q()((function*(e,t){var r={},n=Date.now();t.length&&t.forEach((t=>{var n=e[t];if(!(n.length<10)){for(var a=[],i=0;i<48;i++)a.push([]);n.forEach((e=>{var t=new Date(e),r=t.getHours(),n=t.getMinutes(),i=t.getSeconds();a[2*r+(n>30?1:0)].push(3600*r+60*n+i)}));for(var o=a.map((e=>e.length)),s=0,c=o.length;s<c;s++){var l=o[s];if(null!==l)if(l){if(s>0){for(var u=!1,d=s-1;d>=0;d--){var p=o[d];if(null!==p){if(!(p<l*Rk)){if(l<p*Rk){u=!0;break}break}o[d]=null}}if(u){o[s]=null;continue}}if(s<c-1){for(var f=!1,h=s+1;h<=c-1;h++){var g=o[h];if(null!==g){if(!(g<l*Rk)){if(l<g*Rk){f=!0;break}break}o[h]=null}}if(f){o[s]=null;continue}}}else o[s]=null}var v=[];o.forEach(((e,t)=>{if(e){var r=a[t],n=r.reduce(((e,t)=>e+t),0)/r.length;v.push(n)}})),r[t]=v}}));var a=Date.now()-n;yield jk(Pk,{time:n,cost:a,predict:r})})),Wk.apply(this,arguments)}function Gk(e,t,r){return Vk.apply(this,arguments)}function Vk(){return Vk=Q()((function*(e,t,r){var n=0,a=0,i=0,o=0,s=Date.now();if(r.length){var c=e.predict,l=e.time;r.forEach((e=>{var r=t[e],s=c[e];if(s&&s.length){var u=r.filter((e=>e>l)).map((e=>{var t=new Date(e);return 3600*t.getHours()+60*t.getMinutes()+t.getSeconds()}));if(u.length){var d=[],p=[];s.forEach((e=>{var t=e-900,r=e+900;u.forEach((n=>{var a=n>=t&&n<=r;a&&-1===d.indexOf(n)&&d.push(n),a&&-1===p.indexOf(e)&&p.push(e)}))})),n+=u.length,a+=d.length,o+=p.length,i+=s.length}}}))}var u=Date.now()-s;Ek(e.cost,u,n,a),Ak(e.cost,u,i,o)})),Vk.apply(this,arguments)}function $k(){return $k=Q()((function*(){if("boolean"!=typeof Lk&&(yield Ok()),Lk){var e=Date.now(),t=yield Bk(Pk);if(!(t&&e-t.time<Mk)){var r=yield Bk(xk),n=Object.keys(r);t&&(yield Gk(t,r,n)),yield Uk(r,n)}}})),$k.apply(this,arguments)}(0,gp.dN)((e=>{"develop"===O.Z.envVersion||"trial"===O.Z.envVersion||("boolean"!=typeof Lk?Ok().then((()=>Nk(e))):Nk(e))}));var qk=!1;["login","checkSession","getSetting"].reduce(((e,t)=>(e[t]=!0,e)),{});function zk(){return qk&&(R.cj||R.wZ||R.gm)}function Zk(e,t){var r;e&&!e.reason&&(fk.mode===HI&&(e.switch?hk.start():hk.stop()),e.switch?(!0,hk.emit("enterWeakNetwork"),ZS||(HS=Date.now(),ZS=!0,!KS&&HS-YS<5e3&&(KS=!0),ik(nS,r))):t&&(!1,vk={},hk.emit("exitWeakNetwork"),function(e){ZS&&(ZS=!1,ik(aS,e,{duration:Date.now()-HS}))}()))}(0,B.jQ)("onToggleWxappLibServerMode",(e=>Zk(e,!0))),O.Z.onReady((()=>{Zk(O.Z.serverMode),Ck(),function(){$k.apply(this,arguments)}()}));var Hk=7,Kk=11,Jk=12,Yk=13,Qk=101,Xk={navigateTo:1,redirectTo:2,navigateBack:3,switchTab:4,appLaunch:5,reLaunch:6,autoReLaunch:7,appShow:20,appHide:21,initState:30,showModal:40,closeModal:41,showActionSheet:42,closeActionSheet:43,showToast:44,hideToast:45,onShareAppMessage:46,doShareAppMessage:47,onShareTimeline:48,doShareTimeline:49,keyBoardHeightChange:50,pageStaytime:60,weSession:80};function eC(e){return{type:Hk,data:e,timestamp:Date.now()}}function tC(e,{method:t,headers:r,body:n}){return new Promise(((a,i)=>{(0,Lr.ac)({url:e,method:t,header:r,data:null!=n&&n.buffer?n.buffer:n,success:a,fail:i})}))}function rC(){return"xxxxx-xxxx-xxxx-xxxx-xxxxx".replace(/[xy]/g,(e=>{var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function nC(){var e=JSON.parse(JSON.stringify(O.Z));return delete e.appLaunchInfo.openId,e}var aC="wxfile://__wxprivate__/obs",iC=`${aC}/meta.json`,oC=(0,Re.Fr)(yu.N),sC=(0,Re.Fr)(Nr.p),cC=(0,Re.Fr)(bu.P),lC=(0,Re.Fr)(_u.i);function uC(){return dC.apply(this,arguments)}function dC(){return(dC=Q()((function*(){try{yield cC({path:aC})}catch(e){try{yield lC({dirPath:aC,recursive:!0})}catch(e){}}try{var e,t,r;try{t=(t=yield sC({filePath:iC,encoding:"utf-8"})).data}catch(e){}if(t&&(t=JSON.parse(t)),null!==(e=t)&&void 0!==e&&e.userIdentifier)return null===(r=t)||void 0===r?void 0:r.userIdentifier}catch(e){}var n={userIdentifier:rC()};return oC({filePath:iC,data:JSON.stringify(n)}),n.userIdentifier}))).apply(this,arguments)}function pC(e,t){var r=0,n=e?2:0,a=[];for(var i of t){var o=fC(i[0]);a.push([o,i[1]]),n+=o.length+i[1].length+4+4}var s=new Uint8Array(n),c=new DataView(s.buffer);for(var[l,u]of(e&&(c.setInt16(0,1),r+=2),a))c.setInt32(r,l.length),r+=4,s.set(l,r),r+=l.length,c.setInt32(r,u.length),r+=4,s.set(u,r);return s}function fC(e){for(var t=[],r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?t.push(n):n<2048?t.push(192|n>>6,128|63&n):n<55296||n>=57344?t.push(224|n>>12,128|n>>6&63,128|63&n):(r++,n=65536+((1023&n)<<10|1023&e.charCodeAt(r)),t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|63&n))}return new Uint8Array(t)}var hC=d(41),gC=d.n(hC),vC={};function mC(e){var t=JSON.stringify(e);if(vC[t]){if(vC[t].expireTs>Date.now())return vC[t].authorization;delete vC[t]}var r=Math.round(Date.now()/1e3),n=r+3600,a=`${r};${n}`,i=gC().HmacSHA1(a,e.secretKey).toString(),o=[];for(var s of Object.keys(e.query)){var c=e.query[s]?encodeURIComponent(e.query[s]):"";o.push([encodeURIComponent(s).toLowerCase(),c])}o.sort(((e,t)=>e[0]===t[0]?0:e[0]>t[0]?1:-1));var l=o.map((e=>e[0])).join(";"),u=o.map((e=>`${e[0]}=${e[1]}`)).join("&"),d=[];d.push([encodeURIComponent("host"),encodeURIComponent(e.headers.host)]);var p=d.map((e=>e[0])).join(";"),f=d.map((e=>`${e[0]}=${e[1]}`)).join("&"),h=`${e.method.toLowerCase()}\n${e.pathname}\n${u}\n${f}\n`,g=["sha1",a,gC().SHA1(h).toString(),""].join("\n"),v=gC().HmacSHA1(g,i).toString(),m=["q-sign-algorithm=sha1","q-ak="+e.secretId,"q-sign-time="+a,"q-key-time="+a,"q-header-list="+p,"q-url-param-list="+l,"q-signature="+v].join("&");return vC[t]={authorization:m,expireTs:1e3*n},m}function yC(e){return bC.apply(this,arguments)}function bC(){return bC=Q()((function*(e){try{var t=IT.cosInfo,r=`${t.bucket}.cos.${t.region}.myqcloud.com`,n=mC({secretId:t.secretid,secretKey:t.secretkey,method:"post",pathname:`/${e.key}`,query:{append:"",position:e.position+""},headers:{host:r}}),a=yield tC(`https://${r}/${e.key}?append&position=${e.position}`,{method:"POST",headers:{authorization:n,"x-cos-security-token":t.token},body:e.body});if(a.statusCode<300){var i={};for(var o of Object.keys(a.header))i[o.toLowerCase()]=a.header[o];return{status:a.statusCode,headers:i}}throw new Error(`appendObject status ${a.statusCode}`)}catch(e){throw new Error(`appendObject fetch fail ${e.message}`)}})),bC.apply(this,arguments)}function _C(e){return wC.apply(this,arguments)}function wC(){return wC=Q()((function*(e){try{var t=IT.cosInfo,r=`${t.bucket}.cos.${t.region}.myqcloud.com`,n=mC({secretId:t.secretid,secretKey:t.secretkey,method:"head",pathname:`/${e.key}`,query:{},headers:{host:r}}),a=yield tC(`https://${r}/${e.key}`,{method:"HEAD",headers:{authorization:n,"x-cos-security-token":t.token}});if(404===a.statusCode)return null;if(a.statusCode>=400)throw new Error(`headObject status ${a.statusCode}`);var i={};for(var o of Object.keys(a.header))i[o.toLowerCase()]=a.header[o];return{status:a.statusCode,headers:i}}catch(e){throw new Error(`headObject fetch fail ${e.message}`)}})),wC.apply(this,arguments)}var IC="0",SC="1.0",kC="2.0";function CC(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,i=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(a)throw a.error}}return o}var TC=[];!function(){try{var e=new MessageChannel,t=e.port1,r=e.port2;t.onmessage=function(){if(TC.length>0){var e=TC.shift();e&&e()}},function(e){TC.push(e),r.postMessage(null)}}catch(e){}}();var EC=Uint8Array,AC=Uint16Array,PC=Uint32Array,xC=new EC([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),MC=new EC([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),RC=new EC([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DC=function(e,t){for(var r=new AC(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];var a=new PC(r[30]);for(n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return[r,a]},LC=CC(DC(xC,2),2),NC=LC[0],OC=LC[1];NC[28]=258,OC[258]=28;var BC=CC(DC(MC,0),2);BC[0];for(var jC=BC[1],FC=new AC(32768),UC=0;UC<32768;++UC){var WC=(43690&UC)>>>1|(21845&UC)<<1;WC=(61680&(WC=(52428&WC)>>>2|(13107&WC)<<2))>>>4|(3855&WC)<<4,FC[UC]=((65280&WC)>>>8|(255&WC)<<8)>>>1}var GC=function(e,t,r){for(var n=e.length,a=0,i=new AC(t);a<n;++a)e[a]&&++i[e[a]-1];var o,s=new AC(t);for(a=0;a<t;++a)s[a]=s[a-1]+i[a-1]<<1;if(r){o=new AC(1<<t);var c=15-t;for(a=0;a<n;++a)if(e[a])for(var l=a<<4|e[a],u=t-e[a],d=s[e[a]-1]++<<u,p=d|(1<<u)-1;d<=p;++d)o[FC[d]>>>c]=l}else for(o=new AC(n),a=0;a<n;++a)e[a]&&(o[a]=FC[s[e[a]-1]++]>>>15-e[a]);return o},VC=new EC(288);for(UC=0;UC<144;++UC)VC[UC]=8;for(UC=144;UC<256;++UC)VC[UC]=9;for(UC=256;UC<280;++UC)VC[UC]=7;for(UC=280;UC<288;++UC)VC[UC]=8;var $C=new EC(32);for(UC=0;UC<32;++UC)$C[UC]=5;var qC=GC(VC,9,0);GC(VC,9,1);var zC=GC($C,5,0);GC($C,5,1);var ZC=function(e){return(e+7)/8|0},HC=function(e,t,r){(null==t||t<0)&&(t=0),(null==r||r>e.length)&&(r=e.length);var n=new(2==e.BYTES_PER_ELEMENT?AC:4==e.BYTES_PER_ELEMENT?PC:EC)(r-t);return n.set(e.subarray(t,r)),n},KC=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>>8},JC=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>>8,e[n+2]|=r>>>16},YC=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return[aT,0];if(1==a){var o=new EC(r[0].s+1);return o[r[0].s]=1,[o,1]}r.sort((function(e,t){return e.f-t.f})),r.push({s:-1,f:25001});var s=r[0],c=r[1],l=0,u=1,d=2;for(r[0]={s:-1,f:s.f+c.f,l:s,r:c};u!=a-1;)s=r[r[l].f<r[d].f?l++:d++],c=r[l!=u&&r[l].f<r[d].f?l++:d++],r[u++]={s:-1,f:s.f+c.f,l:s,r:c};var p=i[0].s;for(n=1;n<a;++n)i[n].s>p&&(p=i[n].s);var f=new AC(p+1),h=QC(r[u-1],f,0);if(h>t){n=0;var g=0,v=h-t,m=1<<v;for(i.sort((function(e,t){return f[t.s]-f[e.s]||e.f-t.f}));n<a;++n){var y=i[n].s;if(!(f[y]>t))break;g+=m-(1<<h-f[y]),f[y]=t}for(g>>>=v;g>0;){var b=i[n].s;f[b]<t?g-=1<<t-f[b]++-1:++n}for(;n>=0&&g;--n){var _=i[n].s;f[_]==t&&(--f[_],++g)}h=t}return[new EC(f),h]},QC=function(e,t,r){return-1==e.s?Math.max(QC(e.l,t,r+1),QC(e.r,t,r+1)):t[e.s]=r},XC=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new AC(++t),n=0,a=e[0],i=1,o=function(e){r[n++]=e},s=1;s<=t;++s)if(e[s]==a&&s!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(a),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(a);i=1,a=e[s]}return[r.subarray(0,n),t]},eT=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},tT=function(e,t,r){var n=r.length,a=ZC(t+2);e[a]=255&n,e[a+1]=n>>>8,e[a+2]=255^e[a],e[a+3]=255^e[a+1];for(var i=0;i<n;++i)e[a+i+4]=r[i];return 8*(a+4+n)},rT=function(e,t,r,n,a,i,o,s,c,l,u){KC(t,u++,r),++a[256];for(var d=CC(YC(a,15),2),p=d[0],f=d[1],h=CC(YC(i,15),2),g=h[0],v=h[1],m=CC(XC(p),2),y=m[0],b=m[1],_=CC(XC(g),2),w=_[0],I=_[1],S=new AC(19),k=0;k<y.length;++k)S[31&y[k]]++;for(k=0;k<w.length;++k)S[31&w[k]]++;for(var C=CC(YC(S,7),2),T=C[0],E=C[1],A=19;A>4&&!T[RC[A-1]];--A);var P,x,M,R,D=l+5<<3,L=eT(a,VC)+eT(i,$C)+o,N=eT(a,p)+eT(i,g)+o+14+3*A+eT(S,T)+(2*S[16]+3*S[17]+7*S[18]);if(D<=L&&D<=N)return tT(t,u,e.subarray(c,c+l));if(KC(t,u,1+(N<L)),u+=2,N<L){P=GC(p,f,0),x=p,M=GC(g,v,0),R=g;var O=GC(T,E,0);KC(t,u,b-257),KC(t,u+5,I-1),KC(t,u+10,A-4),u+=14;for(k=0;k<A;++k)KC(t,u+3*k,T[RC[k]]);u+=3*A;for(var B=[y,w],j=0;j<2;++j){var F=B[j];for(k=0;k<F.length;++k){var U=31&F[k];KC(t,u,O[U]),u+=T[U],U>15&&(KC(t,u,F[k]>>>5&127),u+=F[k]>>>12)}}}else P=qC,x=VC,M=zC,R=$C;for(k=0;k<s;++k)if(n[k]>255){U=n[k]>>>18&31;JC(t,u,P[U+257]),u+=x[U+257],U>7&&(KC(t,u,n[k]>>>23&31),u+=xC[U]);var W=31&n[k];JC(t,u,M[W]),u+=R[W],W>3&&(JC(t,u,n[k]>>>5&8191),u+=MC[W])}else JC(t,u,P[n[k]]),u+=x[n[k]];return JC(t,u,P[256]),u+x[256]},nT=new PC([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),aT=new EC(0);!function(){for(var e=new Int32Array(256),t=0;t<256;++t){for(var r=t,n=9;--n;)r=(1&r&&-306674912)^r>>>1;e[t]=r}}();var iT=function(e,t,r,n,a){return function(e,t,r,n,a,i){var o=e.length,s=new EC(n+o+5*(1+Math.ceil(o/7e3))+a),c=s.subarray(n,s.length-a),l=0;if(!t||o<8)for(var u=0;u<=o;u+=65535){var d=u+65535;d>=o&&(c[l>>3]=i),l=tT(c,l+1,e.subarray(u,d))}else{for(var p=nT[t-1],f=p>>>13,h=8191&p,g=(1<<r)-1,v=new AC(32768),m=new AC(g+1),y=Math.ceil(r/3),b=2*y,_=function(t){return(e[t]^e[t+1]<<y^e[t+2]<<b)&g},w=new PC(25e3),I=new AC(288),S=new AC(32),k=0,C=0,T=(u=0,0),E=0,A=0;u<o;++u){var P=_(u),x=32767&u,M=m[P];if(v[x]=M,m[P]=x,E<=u){var R=o-u;if((k>7e3||T>24576)&&R>423){l=rT(e,c,0,w,I,S,C,T,A,u-A,l),T=k=C=0,A=u;for(var D=0;D<286;++D)I[D]=0;for(D=0;D<30;++D)S[D]=0}var L=2,N=0,O=h,B=x-M&32767;if(R>2&&P==_(u-B))for(var j=Math.min(f,R)-1,F=Math.min(32767,u),U=Math.min(258,R);B<=F&&--O&&x!=M;){if(e[u+L]==e[u+L-B]){for(var W=0;W<U&&e[u+W]==e[u+W-B];++W);if(W>L){if(L=W,N=B,W>j)break;var G=Math.min(B,W-2),V=0;for(D=0;D<G;++D){var $=u-B+D+32768&32767,q=$-v[$]+32768&32767;q>V&&(V=q,M=$)}}}B+=(x=M)-(M=v[x])+32768&32767}if(N){w[T++]=268435456|OC[L]<<18|jC[N];var z=31&OC[L],Z=31&jC[N];C+=xC[z]+MC[Z],++I[257+z],++S[Z],E=u+L,++k}else w[T++]=e[u],++I[e[u]]}}l=rT(e,c,i,w,I,S,C,T,A,u-A,l),!i&&7&l&&(l=tT(c,l+1,aT))}return HC(s,0,n+ZC(l)+a)}(e,null==t.level?6:t.level,null==t.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,r,n,!a)};function oT(e,t){t||(t={});var r=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=0|r.length,o=0;o!=i;){for(var s=Math.min(o+2655,i);o<s;++o)a+=n+=r[o];n=(65535&n)+15*(n>>16),a=(65535&a)+15*(a>>16)}e=n,t=a},d:function(){return(255&(e%=65521))<<24|e>>>8<<16|(255&(t%=65521))<<8|t>>>8}}}();r.p(e);var n=iT(e,t,2,4);return function(e,t){var r=t.level,n=0==r?0:r<6?1:9==r?3:2;e[0]=120,e[1]=n<<6|(n?32-2*n:1)}(n,t),function(e,t,r){for(;r;++t)e[t]=r,r>>>=8}(n,n.length-4,r.d()),n}var sT="undefined"!=typeof TextEncoder&&new TextEncoder,cT="undefined"!=typeof TextDecoder&&new TextDecoder;try{cT.decode(aT,{stream:!0}),1}catch(e){}function lT(e,t){if(t){for(var r=new EC(e.length),n=0;n<e.length;++n)r[n]=e.charCodeAt(n);return r}if(sT)return sT.encode(e);var a=e.length,i=new EC(e.length+(e.length>>1)),o=0,s=function(e){i[o++]=e};for(n=0;n<a;++n){if(o+5>i.length){var c=new EC(o+8+(a-n<<1));c.set(i),i=c}var l=e.charCodeAt(n);l<128||t?s(l):l<2048?(s(192|l>>6),s(128|63&l)):l>55295&&l<57344?(s(240|(l=65536+(1047552&l)|1023&e.charCodeAt(++n))>>18),s(128|l>>12&63),s(128|l>>6&63),s(128|63&l)):(s(224|l>>12),s(128|l>>6&63),s(128|63&l))}return HC(i,0,o)}var uT={};function dT(e,t){return pT.apply(this,arguments)}function pT(){return pT=Q()((function*(e,t){var r=null!=t?t:NT(),{recorderParams:n,events:a,pending:i}=e;if(!i&&0!==a.length){var{sdkVersion:o,projectId:s,uuid:c}=n;a.length;var l=[...a];a.splice(0,a.length),e.pending=!0;var u={record:{uuid:c,event:JSON.stringify(l),path:"",projectKey:s,sdkVersion:o,timestamp:Date.now(),weSessionId:r}},d={type:Qk,data:{},timestamp:mT(l)};d.data.eventCounts={ids:[0],counts:[l.length]};var p=JSON.stringify(u);d.data.encodedSize=p.length;var f=!1,h=!1;if(n.compress)try{var g=Date.now();p=oT(lT(p)),d.data.compressCost=Date.now()-g,d.data.compressedSize=p.length,f=!0}catch(e){n.compress=!1}if(f&&n.encrypt)try{var v=Date.now(),m={data:Array.from(p),useBinary:!0,isArrayData:!0,tokenInfo:{encryptKeyBytes:Array.from(lT(n.encrypt.key)),ivBytes:Array.from(lT(n.encrypt.iv))}};p=new Uint8Array(yield(0,X.k)().runTask("aesEncrypt",m)),d.data.encryptCost=Date.now()-v,d.data.encryptedSize=p.length,h=!0}catch(e){}try{var y=Date.now();yield fT(p,e,{encryped:h,compressed:f}),d.data.uploadCost=Date.now()-y;try{yield gT(p,e,{encryped:h,compressed:f})}catch(e){JSON.stringify(e)}}catch(e){d.data.uploadErr=e.message,a.unshift(...l)}finally{yield yT(d,e,c,o,r,s)}e.pending=!1}})),pT.apply(this,arguments)}function fT(e,t,r){return hT.apply(this,arguments)}function hT(){return hT=Q()((function*(e,t,{encryped:r,compressed:n}){var a,{recorderParams:i}=t,{projectId:o,uuid:s}=i,c=`${o}/${s}-appservice`,l=uT[s];if(!l){var u=yield _C({key:c});l=u?Number(u.headers["content-length"]||0):0}var d=r?`encrypt:${i.encrypt.version}`:"raw:1";a=pC(0===l,[[d,e]]),e.length,a.length;try{var p=yield yC({key:c,headers:{"Content-Type":"application/octet-stream"},body:a,position:l}),f=p.headers["x-cos-next-append-position"];f&&(uT[s]=Number(f))}catch(e){}})),hT.apply(this,arguments)}function gT(e,t,r){return vT.apply(this,arguments)}function vT(){return vT=Q()((function*(e,t,{encryped:r,compressed:n}){var{recorderParams:a}=t,{sdkVersion:i}=a;return yield tC(a.url,{method:"POST",headers:{"x-wx-ob-env":"appservice","x-wx-ob-sdkversion":i||"","x-wx-ob-pack-version":r?kC:n?SC:IC,"x-wx-ob-project-key":t.recorderParams.projectId},body:e})})),vT.apply(this,arguments)}function mT(e){var t=0;for(var r of e)r.timestamp&&r.timestamp>t&&(t=r.timestamp);return t||Date.now()}function yT(e,t,r,n,a,i){return bT.apply(this,arguments)}function bT(){return bT=Q()((function*(e,t,r,n,a,i){yield gT(JSON.stringify({record:{uuid:r,event:JSON.stringify([e]),path:"",projectKey:i,sdkVersion:n,timestamp:Date.now(),weSessionId:a}}),t,{encryped:!1,compressed:!1})})),bT.apply(this,arguments)}var _T=!1,wT=null,IT={uuid:null,projectId:null,unloadedWebviewIds:[],compress:!0,isWhitelistMaskMode:!0,autoStart:!0,url:"https://servicewechat.com/ob/wxob",cosInfo:{bucket:null,region:null,secretid:null,secretkey:null,token:null,prefix:null}},ST=e=>{},kT=[],CT=null,TT=e=>{if(!DT()&&"string"==typeof e.projectId&&""!==e.projectId){Object.assign(IT,e),IT.sdkVersion=oc().version||"";CT={recorderParams:IT,events:[],pending:!1},ST=e=>{_T&&CT.events.push(e)},IT.autoStart&&ET(),function(e){RT.apply(this,arguments)}(CT),function(e){var{events:t}=e;(0,Pe._subscribeNativeUi)(function(){var e=Q()((function*(e,r){_T&&Object.keys(Xk).includes(e)&&t.push(eC({type:Xk[e],payload:r}))}));return function(t,r){return e.apply(this,arguments)}}())}(CT),function(e){var{events:t}=e,[r,n]=[0,Date.now()];(0,Ul.HM)((e=>{var r,n=PT();IT.unloadedWebviewIds.length>0&&((0,Te.L)("uploadEventsFromClosedWebview",IT),IT.unloadedWebviewIds=[]),Xk[e.openType]&&t.push(eC({type:Xk[e.openType],path:e.path,webviewId:e.webviewId,query:e.query,pageConfig:null===(r=O.Z.page)||void 0===r?void 0:r[e.path],shouldCapture:n}))})),(0,Ke.n)("onKeyboardHeightChange",((e,r=0)=>{_T&&t.push(eC({type:Xk.keyBoardHeightChange,payload:e}))})),(0,gp.Ke)((e=>{r+=Date.now()-n;var a=Z()(Z()({type:Xk.appShow},e),{},{inactiveTime:r});delete a.shareTicket,setTimeout((()=>{t.push(eC(a))}),0)})),(0,pr.vv)((()=>{n=Date.now(),t.push(eC({type:Xk.appHide})),dT(e)}))}(CT),setInterval(dT.bind(null,CT),(0,R.tK)()?1e3:5e3)}},ET=()=>{if(DT()&&!_T){_T=!0;var e=PT();ST({timestamp:Date.now(),type:Kk,data:{webviews:ye.Z.getWebviewIds(),shouldCapture:e}})}},AT=()=>{null!==IT.uuid&&(ST({timestamp:Date.now(),type:Jk,data:{}}),_T=!1,(0,Te.L)("stopRecordUserBehavior",IT,kT,(()=>p.info("[wxobs appservice] trigger stop all webview recordUserBehavior"))),kT=[])};function PT(){var e=ye.Z.currentWebviewId;return!!(_T&&kT.indexOf(e)<0&&CT.recorderParams.shouldCapturePage(ye.Z.lastRoute,ye.Z.query))&&(kT.push(e),void 0===IT.reporter&&(IT.reporter=e),(0,Te.L)("recordUserBehavior",IT,[e],(()=>p.info("[wxobs appservice] trigger recordUserBehavior"))),!0)}function xT(e){return MT.apply(this,arguments)}function MT(){return MT=Q()((function*(e){_T&&ST({type:Yk,timestamp:Date.now(),data:e})})),MT.apply(this,arguments)}function RT(){return RT=Q()((function*(e){var{events:t}=e;t.push(eC({type:Xk.initState,launchOptions:Se(),config:nC(),identifier:yield uC()})),(0,R.tK)()&&dT(e)})),RT.apply(this,arguments)}var DT=()=>null!==IT.uuid;function LT(e){IT.cosInfo=e,(0,Te.L)("resetCosInfo",e,kT,(()=>{}))}var NT=()=>wT,OT=0,BT=1,jT={minigamelive:OT,ad:OT,cloud:OT,protobuf:OT,ga:OT,kanata:OT,midas:OT,pixi:OT,sclengine:OT},FT=(e,t)=>{jT[e]=t},UT=Z()(Z()({},e),{},{wx:{}});LI({name:"cloud",waLibName:"WACloud.js",exportApis:{serviceMarket:{apiKey:"getServiceMarketAPI",call:!0},cloud:{apiKey:"getCloudAPI",call:!0}},globalName:"__cloudSDK__",globalGetter:()=>({WeixinJSBridge:c,wxConsole:p,Reporter:w,console:console,__appServiceSDK__:UT,__wxConfig:O.Z,Foundation:o}),onInjectCallback:()=>{FT("cloud",BT)},src:"./src/cloud/dist/cloud-sdk-game.js"});P.onAppRoute=Ul.HM;var WT={bridgeOn:P};LI({name:"sclEngine",waLibName:"WASubGameSclEngine.js",fakeProvider:{initScl:{call:!0}},globalName:"__sclEngine__",globalGetter:()=>({forSubLibEnv:WT,WeixinJSBridge:c,wxConsole:p,Reporter:w,__wxConfig:O.Z,WebAssembly:Nv.J}),onInjectCallback:()=>{FT("sclengine",BT)},provideInGlobal:"__sclEngine__",reserveGlobal:!0,src:"./src/scl-engine/dist/game-scl-engine.js"});var GT=d(5273),VT=Z()({},l);LI({name:"pixi",waLibName:"WAPixi.js",globalName:"PIXI",globalGetter:()=>({console:console,wxConsole:p,wxNativeConsole:f,__wxConfig:O.Z,__errorTracer__:_,wxGA:()=>wxGA,Reporter:w,Foundation:o,__appServiceSDK__:VT}),onInjectCallback:()=>{FT("pixi",BT)},provideInGlobal:"PIXI",reserveGlobal:!0,src:"./src/sdk/dist/pixi.js"});var $T=d(1838);LI({name:"minigameLive",waLibName:"WAMinigameLive.js",globalName:"__minigameLiveSDK__",globalGetter:()=>({console:console,wxNativeConsole:f,__wxConfig:O.Z,__errorTracer__:_,wxConsole:p,wxGA:()=>wxGA,Reporter:w,Foundation:o,WeixinJSBridge:c,__appServiceSDK__:$T,__IS_MINIGAME_LIVE_SUB_PACKAGE__:!0,wxRunOnDebug:s}),exportApis:{dumpGameLivePanelUI:{apiKey:"dumpGameLivePanelUI"},updateGameLivePanelMenu:{apiKey:"innerUpdateMorePanel"}},onInjectCallback:()=>{FT("minigamgelive",BT)},reserveGlobal:!0,provideInGlobal:"__minigameLiveSDK__",src:"./src/sdk/dist/minigame-live-sdk.js"}),LI({name:"wxGA",waLibName:"WAWxGa.js",globalName:"wxGA",globalGetter:()=>({wxConsole:p,wxNativeConsole:f}),provideInGlobal:"wxGA",reserveGlobal:!0,onInjectCallback:()=>{FT("wxga",BT)},src:"./src/game-accelerator/ga/dist/WAGA.js"}),LI({name:"kanata",waLibName:"WAKanata.js",globalName:"_Kanata",globalGetter:()=>({wxConsole:p}),provideInGlobal:"_Kanata",reserveGlobal:!0,onInjectCallback:()=>{FT("kanata",BT)},src:"./src/kanata/lib/kanata.js"}),LI({name:"protobuf",waLibName:"WAProtobuf.js",globalGetter:()=>({wxConsole:p,console:console,NativeGlobal:M.Z,__Function__:r,__SDK_SUB_PACKAGE__:!0}),onInjectCallback:()=>{FT("protobuf",BT)},provideInGlobal:"__protobufSDK__",reserveGlobal:!0,globalName:"__protobufSDKGetter__",src:"./src/sdk/src/appservice/protobuf/index.js"});var qT={getNetworkType:Je.getNetworkType,_requestSkipCheckDomain:G.ac,interaction:Pe,systemInfo:Ce,requestVirtualPayment:e=>{(0,B.IN)("requestVirtualPayment",e)},requestPayment:Ft};LI({name:"midasSDK",waLibName:"WAMidasSDK.js",provideInGlobal:"MidasSDK",globalGetter:()=>({__appServiceSDK__:qT,console:console,wxConsole:p,wxNativeConsole:f}),globalName:"__MidasSDK__",onInjectCallback:()=>{FT("midas",BT)},src:"./src/sdk/dist/midas.js"});var zT=d(3435),ZT=!1,HT=null;O.Z.onReady((()=>{(0,R.aI)()&&setTimeout((()=>{(0,B.yD)({apiName:"webapi_getadcardbalance",success({data:e}){ZT=!e.errCode}})}),3e3)}));var KT=e=>({feedId:e.export_id,nonceId:e.nonce_id,description:e.description,playbackState:e.playback_state,status:e.status,headUrl:e.head_url,nickname:e.nickname,replayStatus:e.replay_status}),JT=e=>{if("number"!=typeof e)return 1;var t=Math.floor(e/1e3);return t>0?t:1},YT=(0,B.TG)("getChannelsLiveInfo","webapi_getfinderviewlastlive",(({feedId:e,finderUserName:t,jsapi:r,startTime:n,endTime:a})=>{var i={jsapi:r,export_id:e,finder_username:t};return"number"==typeof n&&"number"==typeof a&&(i.start_time=n,i.end_time=a),i}),(e=>{var t;if(null!==(t=e.live_info)&&void 0!==t&&t.length){var[r,...n]=e.live_info;Object.assign(e,KT(r)),e.otherInfos=n.map(KT)}delete e.live_info})),QT="getChannelsLiveInfo";function XT(e){var t,r,n=Z()(Z()({},e),{},{jsapi:QT});if(("number"==typeof e.startTime||"number"==typeof e.endTime)&&(n.startTime=JT(null!==(t=e.startTime)&&void 0!==t?t:0),n.endTime=JT(null!==(r=e.endTime)&&void 0!==r?r:Date.now()),n.startTime>=n.endTime))return void(0,B.YG)(QT,e,"invalid time range");YT(n)}var eE=d(9600),tE=(e,t)=>t.reduce(((t,r)=>(t[r]=e[r],t)),{});var rE=(e,t)=>({idKey:e,idKeyGroup:t}),nE=924,aE=1288,iE=1390,oE=1764,sE=1963,cE=e=>rE(e,nE),lE={AD_BANNER_LOAD_ERROR:cE(5),AD_VIDEO_LOAD_ERROR:cE(10),REWARDED_VIDEO_PARSE_ERROR:cE(11),REWARDED_VIDEO_RENDER_ERROR:cE(12),REWARDED_VIDEO_LOAD_ERROR:cE(13),REWARDED_VIDEO_FOLLOW_SUCCESS:cE(14),OPEN_URL_ERROR:cE(21),OPEN_WXAPP_ERROR:cE(22),OPEN_CANVAS_ERROR:cE(23),ADD_CONTACT_ERROR:cE(24),LAUNCH_APP_ERROR:cE(25),OPEN_WEBAPPSTORE_ERROR:cE(26),ADD_DOWNLOAD_TASK_ERROR:cE(28),CLICK_REPORT_ERROR:cE(32),EXPOSURE_REPORT_ERROR:cE(33),FOLLOW_REPORT_ERROR:cE(34),REWARDED_VIDEO_ANIMATE_ERROR:cE(35),INTERSTITIALAD_ANIMATE_ERROR:cE(36),AD_FOLLOWED:cE(37),AD_INSTALLED:cE(38),AD_INTERSTITIAL_LOAD_ERROR:cE(39),INTERSTITIAL_AD_RENDER_ERROR:cE(40),INTERSTITIAL_FOLLOW_SUCCESS:cE(41),INTERSTITIAL_SHOW_FAIL1:cE(42),INTERSTITIAL_SHOW_FAIL2:cE(43),INTERSTITIAL_SHOW_FAIL3:cE(44),INTERSTITIAL_SHOW_FAIL5:cE(45),INTERSTITIAL_SHOW_SUCCESS:cE(46),INTERSTITIAL_LIMIT_TIME:cE(49),REWARDED_VIDEO_INSTANCE_BROKEN:cE(50),PRELOAD_MINIENV_SUCCESS:cE(86),PRELOAD_MINIENV_ERROR:cE(87),AD_GRID_LOAD_SUCCESS:cE(88),AD_GRID_LOAD_COUNT_ERROR:cE(89),AD_GRID_LOAD_ERROR:cE(90),PREDOWNLOAD_SUCCESS:cE(96),PREDOWNLOAD_ERROR:cE(97),INTERSTITIAL_VIDEO_LOAD:cE(98),INTERSTITIAL_VIDEO_PLAY:cE(99),INTERSTITIAL_IMAGE_LOAD:cE(100),INTERSTITIAL_VIDEO_LOAD_ERROR:cE(101),INTERSTITIAL_VIDEO_REPORT_ERROR:cE(102),INTERSTITIAL_VIDEO_PLAY_SUCCESS:cE(103),INTERSTITIAL_VIDEO_PLAY_SUCCESS_END:cE(104),INTERSTITIAL_VIDEO_PRELOAD_SUCCESS:cE(106),REWARDED_VIDEO_OTHER_SHOW_ERROR:cE(105),INTERSTITIAL_VIDEO_PRELOAD_ERROR:cE(107),INTERSTITIAL_RENDER_SUCCESS:cE(108),INTERSTITIAL_RENDER_ERROR:cE(109),INTERSTITIAL_RENDER_ERROR_ALTERNATE:cE(110),BATCHLOAD_SUCCESS:cE(112),BATCHLOAD_ERROR:cE(113),REWARDED_VIDEO_BUTTON_WIDTH_ERROR:cE(114),REWARDED_VIDEO_FULLSCREEN_SHOW_ERROR:cE(115),INTERSTITIAL_RELATION_FETCH_ERROR:cE(116),BIND_GUIDE_SUCCESS:cE(119),BIND_GUIDE_ERROR:cE(120),REWARDED_VIDEO_FULLSCREEN_HIDE_ERROR:cE(121),INTERSTITIAL_CROSSPAGE_MATERIAL_CLICK:cE(123),INTERSTITIAL_CROSSPAGE_CANCELBOX_CLICK:cE(124),INTERSTITIAL_NO_CONTAINER:cE(125),INTERSTITIAL_HIDE_ERROR:cE(126),RIGHTBUTTON_HIDE_ERROR:cE(127),REWARDED_VIDEO_RELATION_FETCH_ERROR:cE(128),GET_DEVICEINFO_ERROR:cE(129),THIRD_ERROR:cE(130),GET_DEVICEINFO_SUCCESS:cE(131),GET_WAID_SUCCESS:cE(132),GET_WAID_ERROR:cE(133),READ_ADINFOS_ERROR:cE(134),AD_FETCH_SUCCESS:cE(135),REWARDED_VIDEO_PRELOAD_ERROR:cE(136),REWARDED_VIDEO_PRELOAD_SUCCESS:cE(137),READ_ADINFOS_SUCCESS:cE(138),ANALYSE_DEBUG_REPORT_ERROR:cE(139),PRELOAD_CALL_ERROR:cE(140),PRELOAD_LOAD_ERROR:cE(141),PRELOAD_LOAD_SUCCESS:cE(142),PRELOAD_USE_SUCCESS:cE(143),PRELOAD_USE_ERROR:cE(144),PRELOAD_DOWNLOAD_SUCCESS:cE(145),PRELOAD_DOWNLOAD_ERROR:cE(146),REPORT_VIDEO_FAILED:cE(147),REWARD_GAUSS_EXISTS:cE(148),REWARD_USE_GAUSS:cE(149),REWARD_USE_EXPAND_STYLE:cE(150),REWARD_USE_GAUSS_AND_EXPAND_STYLE:cE(151),REWARDED_VIDEO_KEEP_ALIVE:cE(152),INTERSTITIAL_KEEP_ALIVE:cE(153),REWARDED_VIDEO_END:cE(154),OPEN_CHANNELS_ACTIVITY_SUCCESS:cE(156),OPEN_CHANNELS_ACTIVITY_FAILED:cE(157),OPEN_CHANNELS_LIVE_SUCCESS:cE(158),OPEN_CHANNELS_LIVE_FAILED:cE(159),OPEN_CHANNELS_USER_PROFILE_SUCCESS:cE(160),OPEN_CHANNELS_USER_PROFILE_FAILED:cE(161),REWARD_CHANNELS_CALLBACK_SUCCESS:cE(162),REWARD_CHANNELS_CALLBACK_FAILED:cE(163),H5_PRELOAD_CARD_CLICKED:cE(164),H5_PRELOAD_BUTTON_CLICKED:cE(165),H5_PRELOAD_SUCCESS:cE(166),H5_PRELOAD_FAILED:cE(167),H5_PRELOAD_PLAYABLE_CLICKED:cE(168),GET_CHANNELS_LIVE_STATUS_SUCCESS:cE(169),GET_CHANNELS_LIVE_STATUS_FAILED:cE(170),REWARDED_VIDEO_DURATION_ZERO:cE(171),REWARDED_VIDEO_SNS_SUPPLEMENTARY_DATA_ERROR:cE(173),INTERSTITIAL_TEMPLATE_RENDER_SUCCESS:cE(178),INTERSTITIAL_TEMPLATE_RENDER_FAILED:cE(179),INTERSTITIAL_SNS_SUPPLEMENTARY_DATA_ERROR:cE(180),OPEN_WEBSTORE_ERROR:cE(181),AD_FETCH_ERROR:cE(182),CHECK_FLOW_ERROR:cE(183),CHECK_AD_SKIP_CARD_SUCCESS:cE(188),COPY_GIFT_CODE_SUCCESS:cE(189),COPY_GIFT_CODE_FAIL:cE(190),OPEN_MACHINE_MKT_SUCCESS:cE(191),OPEN_MACHINE_MKT_ERROR:cE(192),OPEN_SHOP_SCHEME_SUCCESS:cE(193),OPEN_SHOP_SCHEME_ERROR:cE(194),UPDATE_ADINFOXML_ERROR:cE(195),IS_SWITCHED_HIDETEMPLATE:cE(196),IS_SWITCHED_CHECKEXPOSURE:cE(197),REWARDEDVIDEO_ANTIFRAUD:cE(198),INTERSTITIAL_NO_VIDEO:cE(199),INTERSTITIAL_JUDGE_SWITCH:cE(202),INTERSTITIAL_JUDGE_SWITCH_CLOSE:cE(203),REWARDEDVIDEO_SHARE_VALUE:cE(204),REWARDEDVIDEO_NO_SHARE_VALUE:cE(205),INTERSTITIAL_SHOW_BUT_NOT_READY:cE(206),INTERSTITIAL_SHOW_BUT_NOT_READY_TEMPLATE:cE(207),REWARDEDVIDEO_POPUP_SHOW_SUCCESS:cE(208),REWARDEDVIDEO_POPUP_SHOW_FAIL:cE(209),REWARDEDVIDEO_POPUP_CLICK_CONFIRM:cE(210),REWARDEDVIDEO_POPUP_CLICK_CANCEL:cE(211),REWARDED_ADDITION_FETCH_SUCCESS:cE(212),REWARDED_ADDITION_FETCH_FAILED:cE(213),REWARDED_ADDITION_FETCH_ALL_SUCCESS:cE(214),REWARDED_ADDITION_FETCH_ALL_FAILED:cE(215),REWARDED_VIDEO_ADDITION_PRELOAD_ERROR:cE(216),REWARDED_VIDEO_FEED_SLIDE_TIPS_SHOW:cE(217),REWARDED_VIDEO_FEED_SLIDE:cE(218),REWARDED_VIDEO_FEED_EXPOSURE:cE(219),REWARDED_VIDEO_FEED_CLICK:cE(220),REWARDED_VIDEO_FEED_CLOSE:cE(221),INTERSTITIAL_ONEKEY_FOLLOW:cE(223),REPORT_SHARE_BEHAVIOR_SUCCESS:cE(224),REPORT_SHARE_BEHAVIOR_FAILED:cE(225),REPORT_CAROUSEL_INDEX_ERROR:cE(226),REWARDED_VIDEO_ENDED_ERROR:cE(227),INTERSTITIAL_SHOWTEMPLATE_NO_VIDEO:cE(228),INTERSTITIAL_HIDETEMPLATE_NO_VIDEO:cE(229),REWARDED_VIDEO_FEED_REPLAY:cE(230),REWARDED_VIDEO_PLAYABLE_FETCHED:cE(234),REWARDED_VIDEO_PLAYABLE_SHOWED:cE(235),REWARDED_VIDEO_PLAYABLE_DURATION:cE(236),REWARDED_VIDEO_PLAYABLE_PREDOWNLOAD_SUCCESS:cE(237),REWARDED_VIDEO_PLAYABLE_PREDOWNLOAD_FAILED:cE(238),REWARDED_VIDEO_PLAYABLE_INSERT_SUCCESS:cE(239),REWARDED_VIDEO_PLAYABLE_INSERT_FAILED:cE(240),REWARDED_VIDEO_PLAYABLE_REMOVE_FAILED:cE(241),REWARDED_VIDEO_PLAYABLE_STATUS_CHANGE:cE(242),OPEN_ENDED_CHANNELS_LIVE:cE(243),REWARDED_VIDEO_VALIDATE_INDENTIFY_FAILED:cE(244),REWARDED_VIDEO_LAND_CLICK:cE(246),REWRADED_VIDEO_FEED_INTERVAL_ERROR:cE(247),GETPAYAD_ERROR:cE(250),PRELOADPAYAD_SUCC:cE(251),PRELOADPAYAD_ERROR:cE(252),REWARDED_VIDEO_NO_VIEWABLE_EXPOSURE:cE(253)},uE=e=>rE(e,aE),dE=(uE(0),uE(1),uE(2),uE(3),uE(4),uE(5),uE(6),uE(7),uE(8),uE(9),uE(10),uE(11),uE(12),uE(13),uE(14),uE(15),uE(16),uE(17),uE(18),uE(19),uE(20),uE(21),uE(22),uE(23),uE(24),uE(25),uE(26),uE(27),uE(28),uE(29),uE(30),uE(31),uE(32),uE(33),uE(34),uE(35),uE(36),uE(37),uE(38),uE(39),uE(40),uE(41),uE(52),uE(53),uE(54),uE(55),uE(56),uE(57),uE(58),e=>rE(e,iE)),pE=(dE(1),dE(2),dE(3),dE(4),dE(5),dE(6),dE(7),dE(8),dE(9),dE(10),dE(11),dE(12),dE(13),dE(14),dE(15),dE(16),dE(17),dE(18),dE(19),dE(20),dE(21),dE(22),dE(23),e=>rE(e,oE)),fE=(pE(1),pE(2),pE(3),pE(4),pE(5),pE(6),pE(7),pE(8),pE(9),pE(10),e=>rE(e,sE)),hE=(fE(0),fE(1),fE(2),fE(3),fE(4),fE(5),""),gE="",vE="{}",mE="",yE="",bE="{}";var _E=()=>{var e=(0,Ce.getInitScreenSize)();return e.screenWidth&&e.screenHeight?e.screenWidth>e.screenHeight?"landscape":"portrait":O.Z.deviceOrientation&&/^landscape/.test(O.Z.deviceOrientation)?"landscape":O.Z.deviceOrientation||"portrait"},wE={20299:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint32",key:"is_reward",value:"0"},{type:"uint32",key:"is_cancel",value:"0"},{type:"uint32",key:"ad_platform",value:"0"}],18988:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint32",key:"button_type",value:"0"}],16743:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint32",key:"close_type",value:"0"},{type:"uint64",key:"exposure_duration",value:"0"},{type:"uint64",key:"start_time",value:"0"},{type:"uint64",key:"close_time",value:"0"},{type:"string",key:"orig_weapp_id",value:""}],16139:[{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"appid",value:"0"},{type:"string",key:"weapppath",value:"0"},{type:"string",key:"adunit_id",value:"0"},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"string",key:"traceid",value:"0"},{type:"uint64",key:"TimeMs",value:"0"},{type:"string",key:"useragent",value:"0"},{type:"uint32",key:"type",value:"0"},{type:"uint32",key:"diaphaneity",value:"0"},{type:"uint32",key:"PageX",value:"0"},{type:"uint32",key:"PageY",value:"0"},{type:"uint32",key:"ScreenHeight",value:"0"},{type:"uint32",key:"ScreenWidth",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"orig_weapp_id",value:""}],17045:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"appid",value:""},{type:"string",key:"weapp_path",value:""},{type:"string",key:"ad_unit_id",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"device_type",value:""},{type:"uint32",key:"ad_height",value:"0"},{type:"uint32",key:"ad_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"ad_pos_x",value:"0"},{type:"uint32",key:"ad_pos_y",value:"0"},{type:"uint32",key:"exp_time",value:"0"},{type:"uint32",key:"clk_complaint_button",value:"0"},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"service_type",value:"0"},{type:"uint32",key:"first_grade_id",value:"0"},{type:"string",key:"first_grade_desc",value:""},{type:"uint64",key:"first_grade_time",value:"0"},{type:"uint32",key:"second_grade_id",value:"0"},{type:"string",key:"second_grade_desc",value:""},{type:"uint64",key:"second_grade_time",value:"0"},{type:"uint32",key:"is_finish_complaint",value:"0"},{type:"uint32",key:"is_click_ad",value:"0"},{type:"uint64",key:"click_ad_time",value:"0"},{type:"uint64",key:"click_ad_time_ms",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"uint32",key:"feedback_reason",value:"0"}],16487:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint64",key:"click_time",value:"0"},{type:"uint32",key:"click_cnt",value:"0"},{type:"uint32",key:"start_pos_x",value:"0"},{type:"uint32",key:"start_pos_y",value:"0"},{type:"uint32",key:"end_pos_x",value:"0"},{type:"uint32",key:"end_pos_y",value:"0"},{type:"uint32",key:"ad_width",value:"0"},{type:"uint32",key:"ad_height",value:"0"},{type:"uint32",key:"press_interval",value:"0"},{type:"uint32",key:"block_click",value:"0"},{type:"uint64",key:"start_posx",value:"0"},{type:"uint64",key:"start_posy",value:"0"},{type:"uint64",key:"end_posx",value:"0"},{type:"uint64",key:"end_posy",value:"0"},{type:"string",key:"orig_weapp_id",value:""}],16e3:[{type:"uint32",key:"click_button",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"uint64",key:"play_duration",value:"0"},{type:"uint64",key:"click_close_ts",value:"0"},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"preload_video",value:"0"},{type:"uint32",key:"preload_video_success",value:"0"},{type:"uint64",key:"video_first_play_ts",value:"0"},{type:"uint64",key:"card_first_show_ts",value:"0"},{type:"uint64",key:"click_card_ts",value:"0"},{type:"uint32",key:"press_interval",value:"0"},{type:"string",key:"current_play_url",value:""},{type:"string",key:"last_fetch_url",value:""},{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"string",key:"orig_weapp_id",value:""},{type:"uint64",key:"video_duration",value:"0"},{type:"uint32",key:"is_ended",value:"0"}],15730:[{type:"uint64",key:"load_begin_time",value:"0"},{type:"uint64",key:"load_end_time",value:"0"},{type:"uint64",key:"load_cost_time",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"uint32",key:"report_type",value:"0"},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"load_departure_time",value:"0"},{type:"uint32",key:"preload_video",value:"0"},{type:"uint32",key:"preload_video_success",value:"0"},{type:"string",key:"orig_weapp_id",value:""}],15979:[{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"clkcnt",value:"0"},{type:"uint64",key:"currenttime",value:"0"},{type:"uint64",key:"lastclkperiod",value:"0"},{type:"uint32",key:"retcode",value:"0"},{type:"uint32",key:"costtime",value:"0"},{type:"uint32",key:"pagestaytime",value:"0"},{type:"string",key:"jsapiname",value:""},{type:"string",key:"orig_weapp_id",value:""}],15980:[{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint64",key:"currenttime",value:"0"},{type:"uint64",key:"opentime",value:"0"},{type:"uint64",key:"closetime",value:"0"},{type:"uint64",key:"staytime",value:"0"},{type:"string",key:"jsapiname",value:""},{type:"uint32",key:"clkcnt",value:"0"},{type:"uint32",key:"retcode",value:"0"},{type:"uint32",key:"costtime",value:"0"},{type:"string",key:"act_type",value:""},{type:"string",key:"act_type_str",value:""},{type:"uint32",key:"act_type_int",value:"0"},{type:"string",key:"orig_weapp_id",value:""}],16295:[{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"id_key",value:""},{type:"uint64",key:"report_time",value:"0"},{type:"uint32",key:"ad_pos_type",value:"0"},{type:"uint32",key:"ad_platform",value:"0"},{type:"string",key:"source_url",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"expand_feild",value:""},{type:"string",key:"expand_feild2",value:""},{type:"string",key:"orig_weapp_id",value:""},{type:"uint32",key:"id_key_group",value:"924"},{type:"string",key:"ad_unit_id",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"uint32",key:"scene",value:"0"},{type:"string",key:"machine_brand",value:""},{type:"string",key:"machine_type",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"string",key:"crt_size",value:""},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"string",key:"welfare_id",value:""},{type:"string",key:"welfare_trace",value:""},{type:"uint32",key:"welfare_taked_cnt",value:"0"},{type:"uint32",key:"crt_exp_tid",value:"0"},{type:"uint32",key:"template_id",value:"0"}],17035:[{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"click_button",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"touch_start_x",value:"0"},{type:"uint32",key:"touch_start_y",value:"0"},{type:"uint32",key:"touch_end_x",value:"0"},{type:"uint32",key:"touch_end_y",value:"0"},{type:"uint64",key:"touch_duration",value:"0"},{type:"uint32",key:"screenheight",value:"0"},{type:"uint32",key:"screenwidth",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"uint64",key:"clk_timems",value:"0"},{type:"uint64",key:"play_timems",value:"0"},{type:"uint32",key:"is_shield",value:"0"}],18072:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"screenheight",value:"0"},{type:"uint32",key:"screenwidth",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"string",key:"last_clicks",value:""},{type:"uint32",key:"banner_x",value:"0"},{type:"uint32",key:"banner_y",value:"0"},{type:"uint32",key:"banner_width",value:"0"},{type:"uint32",key:"banner_height",value:"0"},{type:"uint32",key:"exp_ms",value:"0"},{type:"uint32",key:"clk_ms",value:"0"},{type:"uint32",key:"banner_clk_screen_x",value:"0"},{type:"uint32",key:"banner_clk_screen_y",value:"0"},{type:"string",key:"machine_type",value:""},{type:"uint32",key:"last_show_time",value:"0"},{type:"uint64",key:"slotid",value:"0"}],18517:[{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"action",value:"0"},{type:"string",key:"traceid",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"publisher_appid",value:""},{type:"uint32",key:"row_number",value:"0"},{type:"uint32",key:"column_number",value:"0"},{type:"uint32",key:"box_index",value:"0"},{type:"uint64",key:"action_timems",value:"0"},{type:"uint32",key:"clk_x",value:"0"},{type:"uint32",key:"clk_y",value:"0"},{type:"uint32",key:"press_interval",value:"0"},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"screenheight",value:"0"},{type:"uint32",key:"screenwidth",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"string",key:"machine_type",value:""}],19429:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint64",key:"start_time",value:"0"},{type:"uint64",key:"show_time",value:"0"},{type:"uint64",key:"end_time",value:"0"},{type:"uint64",key:"show_delay_duration",value:"0"},{type:"uint64",key:"fetch_duration",value:"0"}],19213:[{type:"string",key:"DeviceModel",value:""},{type:"string",key:"DeviceBrand",value:""},{type:"string",key:"OsName",value:""},{type:"string",key:"OsVersion",value:""},{type:"string",key:"LanguageVersion",value:""},{type:"uint32",key:"StartTime",value:"0"},{type:"uint32",key:"EndTime",value:"0"},{type:"uint32",key:"Count",value:"0"},{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"eventTimeStamp",value:"0"},{type:"uint32",key:"scene",value:"0"},{type:"string",key:"uxinfo",value:""},{type:"string",key:"appid",value:""},{type:"string",key:"mid",value:""},{type:"string",key:"idx",value:""},{type:"string",key:"url",value:""}],19214:[{type:"string",key:"DeviceModel",value:""},{type:"string",key:"DeviceBrand",value:""},{type:"string",key:"OsName",value:""},{type:"string",key:"OsVersion",value:""},{type:"string",key:"LanguageVersion",value:""},{type:"uint32",key:"StartTime",value:"0"},{type:"uint32",key:"EndTime",value:"0"},{type:"uint32",key:"Count",value:"0"},{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"eventTimeStamp",value:"0"},{type:"uint32",key:"shareType",value:"0"},{type:"uint32",key:"tousername",value:"0"},{type:"string",key:"uxinfo",value:""},{type:"string",key:"appid",value:""},{type:"string",key:"mid",value:""},{type:"string",key:"idx",value:""},{type:"string",key:"url",value:""}],19837:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"slotid",value:""},{type:"uint32",key:"costtype",value:"0"},{type:"string",key:"ext_info",value:""},{type:"uint64",key:"p1",value:"0"},{type:"uint64",key:"p2",value:"0"},{type:"uint64",key:"p3",value:"0"},{type:"uint64",key:"p4",value:"0"},{type:"uint64",key:"p5",value:"0"},{type:"uint64",key:"p6",value:"0"},{type:"uint64",key:"p7",value:"0"},{type:"uint64",key:"p8",value:"0"},{type:"uint64",key:"p9",value:"0"},{type:"uint64",key:"p10",value:"0"},{type:"uint64",key:"p11",value:"0"},{type:"uint64",key:"p12",value:"0"},{type:"uint64",key:"p13",value:"0"},{type:"uint64",key:"p14",value:"0"},{type:"uint64",key:"p15",value:"0"},{type:"uint64",key:"p16",value:"0"},{type:"string",key:"instance_id",value:""},{type:"uint32",key:"scene",value:"0"},{type:"uint32",key:"error_code",value:"0"},{type:"uint64",key:"p17",value:"0"},{type:"uint64",key:"p18",value:"0"},{type:"uint64",key:"p19",value:"0"},{type:"string",key:"crt_size",value:""},{type:"uint64",key:"p20",value:"0"},{type:"uint64",key:"p21",value:"0"},{type:"uint64",key:"p22",value:"0"},{type:"uint64",key:"p23",value:"0"},{type:"string",key:"machine_brand",value:""},{type:"string",key:"machine_type",value:""},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"uint32",key:"crt_exp_tid",value:"0"},{type:"uint32",key:"template_id",value:"0"},{type:"uint64",key:"p24",value:"0"},{type:"uint64",key:"p25",value:"0"},{type:"uint64",key:"p26",value:"0"},{type:"uint64",key:"p27",value:"0"},{type:"uint64",key:"p28",value:"0"},{type:"uint64",key:"p29",value:"0"},{type:"uint64",key:"p30",value:"0"},{type:"uint64",key:"p31",value:"0"},{type:"uint64",key:"p32",value:"0"},{type:"uint64",key:"p33",value:"0"},{type:"uint64",key:"p34",value:"0"},{type:"uint64",key:"p35",value:"0"}],20480:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint64",key:"currenttime",value:"0"},{type:"string",key:"click_pos",value:""}],20317:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"branch_id",value:""},{type:"string",key:"branch_dim",value:""}],21644:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"report_time",value:"0"},{type:"uint32",key:"ad_pos_type",value:"0"},{type:"uint32",key:"ad_platform",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"uint32",key:"crt_size",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"string",key:"ad_unit_id",value:""},{type:"uint32",key:"use_gauss_video",value:"0"},{type:"string",key:"video_url",value:""},{type:"string",key:"gauss_video_url",value:""},{type:"uint32",key:"use_expand_style",value:"0"},{type:"uint32",key:"exp_use_gauss_video",value:"0"},{type:"uint32",key:"exp_use_expand_style",value:"0"}],23415:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"string",key:"adunitid",value:""},{type:"uint32",key:"button_type",value:"0"},{type:"uint64",key:"button_time",value:"0"},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"uint64",key:"ad_clk_time",value:"0"},{type:"uint64",key:"ad_exp_time",value:"0"},{type:"uint32",key:"ad_clk_x",value:"0"},{type:"uint32",key:"ad_clk_y",value:"0"},{type:"uint32",key:"ad_width",value:"0"},{type:"uint32",key:"ad_height",value:"0"}],25534:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"string",key:"adunitid",value:""},{type:"uint32",key:"weapp_path",value:""},{type:"uint64",key:"type",value:"0"},{type:"uint32",key:"time_ms",value:"0"},{type:"uint32",key:"pagex",value:"0"},{type:"uint64",key:"pagey",value:"0"},{type:"uint64",key:"screenx",value:"0"},{type:"uint32",key:"screeny",value:"0"},{type:"uint32",key:"adwidth",value:"0"},{type:"uint32",key:"adheight",value:"0"},{type:"uint32",key:"screenwidth",value:"0"},{type:"uint32",key:"screenheight",value:"0"}],26227:[{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"ad_unit_id",value:""},{type:"uint32",key:"operation",value:"0"},{type:"uint32",key:"cur_show",value:"0"},{type:"string",key:"invite_user_openid",value:""},{type:"string",key:"invite_user_adunit",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"strategy",value:"0"},{type:"string",key:"expand_field",value:""}],26640:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"string",key:"adunitid",value:"0"},{type:"string",key:"weapppath",value:"0"},{type:"string",key:"crt_size",value:""},{type:"uint64",key:"video_duration",value:"0"},{type:"uint64",key:"destroy_timems",value:"0"},{type:"uint64",key:"play_start_timems",value:"0"},{type:"uint64",key:"play_duration_ms",value:"0"},{type:"uint32",key:"is_ended",value:"0"},{type:"uint32",key:"is_ad_clk",value:"0"},{type:"uint64",key:"ad_clk_timems",value:"0"},{type:"uint32",key:"is_ad_landpage",value:"0"},{type:"uint64",key:"ad_landpage_timems",value:"0"},{type:"uint32",key:"is_show_status",value:"0"},{type:"uint32",key:"is_visible",value:"0"},{type:"uint32",key:"is_on_landpage",value:"0"}]},IE="",SE=R.iw,kE="",CE="",TE="",EE="",AE="",PE="",xE=!0,ME="";O.Z.onReady((()=>{IE=_E()||"";var e=(0,Ce.getStableSystemInfo)();kE=e.system,CE=e.version,TE=e.SDKVersion,AE=e.model,PE=e.brand,xE=(0,R.aI)();try{ME=O.Z.accountInfo.appId,EE=t.updateTime}catch(e){}}));var RE=(e,t)=>{var r=(e=>{var t=wE[e.toString()];return t?t.concat([]):[]})(e);if(r&&0!==r.length)return t=Object.assign({publisher_appid:ME,appid:ME,orig_weapp_id:"",network_type:"",wechat_version:CE,platform:SE,system_version:kE,device_orientation:IE,wxapp_lib_version:TE,wxapp_lib_time:EE,machine_type:AE,ad_platform:xE?1:0},t),t=Object.assign({DeviceModel:AE,DeviceBrand:PE,OsName:SE,OsVersion:kE},t),r=r.map((e=>({type:e.type,value:(t[e.key]||e.value).toString()}))),(0,B.Qh)({sdkApiName:"advert_report",apiName:"advert_report",reqData:{report_action:"comm_mmdata_report",report_data_json:JSON.stringify({logid:e,items:r})}}).catch((e=>{}))},DE=(e,t,r)=>{(({key:e,id:t})=>{"object"==typeof e&&(!t&&(t=e.idKeyGroup),e=e.idKey),0===e&&(e="0"),w.reportIDKeyDirectly({id:t||924,key:e,force:!0})})({key:e}),(({key:e,id:t,extInfo:r,reportData:n})=>{if("object"==typeof e&&(!t&&(t=e.idKeyGroup),e=e.idKey),0===e&&(e="0"),n=n||{},r&&"string"!=typeof r)try{r=JSON.stringify(r)}catch(e){r=r.toString()}RE(16295,{id_key:e,id_key_group:t||924,report_time:+new Date,ad_pos_type:n.ad_pos_type||0,source_url:n.source_url||"",expand_feild:n.reportAdData||"",expand_feild2:r,aid:n.aid||0,traceid:n.traceid||"",ad_unit_id:n.ad_unit_id})})({key:e,extInfo:t,reportData:r})},LE={startTime:new Date,gameAppId:"",deviceOrientation:"",screenWidth:0,screenHeight:0,systemVersion:"",wechatVersion:"",SDKVersion:"",SDKVersionTime:"",envVersion:"",brand:"",model:"",platform:R.iw,isWaGame:!0,isApp:!1,isIOS:R.cj,isAndroid:R.wZ,isWindows:R.qB,isMac:R.Mq,isPC:R.DD,isIPad:null,oaid:"",imei:"",idfa:"",common_device_id:"{}",adNetworkType:"",safeArea:{}},NE={enterForegroundTime:new Date,gameDuration:0,currentScene:1011,weappPath:"index.html",lastWebviewId:0,currentWebviewId:0,currentOpenType:""};o.onLoad((()=>{LE.startTime=new Date,NE.enterForegroundTime=new Date}));var OE,BE,jE,FE,UE,WE,GE,VE=()=>tE(LE,["oaid","imei","idfa","common_device_id"]),$E=()=>{var e=(0,Ce.getSystemInfoSync)();return LE.screenWidth=e.screenWidth,LE.screenHeight=e.screenHeight,LE.deviceOrientation=LE.screenWidth>LE.screenHeight?"landscape":"portrait",LE.deviceOrientation},qE=()=>{},zE=()=>qE(),ZE=()=>new Promise((e=>{qE=e})),HE=()=>new Promise((e=>{var t;t=t=>{LE.oaid=t,e()},hE?t&&t(hE):R.wZ&&O.Z.clientVersion<654315827?(0,B.IN)("getOAID",{success(e){/:ok/.test(e.errMsg)?(hE=e.result||"",t&&t(hE)):t&&t("")},fail(){t&&t("")}}):t&&t("")})),KE=()=>new Promise((e=>{(function(e=""){return new Promise(((t,r)=>{R.wZ&&O.Z.clientVersion>=654315827||R.cj&&O.Z.clientVersion>=385879808?(0,B.IN)("getDeviceInfo",{waidPkg:e,success(e){hE=e.oaid||"",gE=e.imei||"",yE=e.waid||"",mE=e.ua||"",bE=e.devIdInfo||"{}";try{vE=JSON.stringify(Z()(Z()({},JSON.parse(bE)),mE?{ua:mE}:{}))}catch(e){r(e)}t({oaid:hE,imei:gE,commonid:vE,waid:yE})},fail(e){r(e)}}):t({oaid:hE,imei:gE,commonid:vE,waid:yE})}))})().then((({imei:t,oaid:r,commonid:n})=>{R.cj?LE.idfa=t:R.wZ&&(LE.oaid=r,LE.imei=t),LE.common_device_id=n||"{}",e(),ZE().then((()=>{DE(lE.GET_DEVICEINFO_SUCCESS)}))})).catch((t=>{e(),ZE().then((()=>{DE(lE.GET_DEVICEINFO_ERROR,t)}))}))})),JE=new Promise((e=>{O.Z.onReady((()=>{var r;LE.safeArea=O.Z.safeArea||{},LE.startTime=new Date,LE.deviceOrientation=_E()||"",LE.envVersion=O.Z.envVersion;var n=(0,Ce.getStableSystemInfo)(),a=(0,Ce.getInitScreenSize)();LE.screenWidth=a.screenWidth||0,LE.screenHeight=a.screenHeight||0,LE.systemVersion=n.system,LE.wechatVersion=n.version,LE.SDKVersion=n.SDKVersion,LE.brand=n.brand,LE.model=n.model,LE.isIPad=null===(r=n.model)||void 0===r?void 0:r.includes("iPad"),LE.isWaGame=(0,R.aI)(),LE.isApp=(0,R.RF)();try{LE.gameAppId=O.Z.accountInfo.appId,LE.SDKVersionTime=t.updateTime}catch(e){}Promise.all([HE(),KE()]).then((()=>e(LE)))}))})),YE=e=>{var t=Object.keys(e);for(var r of t)LE[r]=e[r]};try{(0,Ul.HM)((({webviewId:e,openType:t,path:r})=>{LE.isWaGame||(NE.lastWebviewId=NE.currentWebviewId,NE.currentWebviewId=e||0,NE.currentOpenType=t,NE.weappPath=r)}))}catch(e){}var QE=()=>({gameTouchStartPosX:OE,gameTouchStartPosY:BE,gameTouchEndPosX:jE,gameTouchEndPosY:FE,gameTouchInterval:UE,gameTouchStartTime:WE,gameTouchEndTime:GE}),XE=e=>{null!=e&&e.changedTouches&&e.changedTouches.length>0&&(OE=Math.round(e.changedTouches[0].clientX),BE=Math.round(e.changedTouches[0].clientY),jE=0,FE=0,UE=0,WE=+new Date)},eA=e=>{null!=e&&e.changedTouches&&e.changedTouches.length>0&&(jE=Math.round(e.changedTouches[0].clientX),FE=Math.round(e.changedTouches[0].clientY),UE=+new Date-WE,GE=+new Date)},tA=()=>{_d.offTouchStart(XE),_d.offTouchEnd(eA)};O.Z.onReady((()=>{_d.onTouchStart(XE),_d.onTouchEnd(eA)})),(0,gp.dN)((({scene:e})=>{NE.enterForegroundTime=new Date,NE.currentScene=e})),(0,pr.vv)((()=>{NE.gameDuration+=Date.now()-NE.enterForegroundTime.getTime()}));var rA=d(5753),nA=d(8423),aA=d(5653),iA=d(4733),oA=d(2531),sA={ACTION_TYPE_CLICK_GAME:1,ACTION_TYPE_CLICK_CLOSE_BTN:2,ACTION_TYPE_CLICK_HIDE:3,ACTION_TYPE_COMPLAINT:4,ACTION_TYPE_NOT_INTERESTED:5,ACTION_TYPE_INFLUEENCE_OPERATION:6},cA={AD_TYPE_BANNER:1,AD_TYPE_PORTAL:2,AD_TYPE_ICON:3},lA={reportId:1101,idkey:{BANNER_LOAD_ERROR:1,BANNER_RENDER_ERROR:2,PORTAL_LOAD_ERROR:3,PORTAL_RENDER_ERROR:14,LAUNCH_APP_ERROR:5,REPORT_ERROR:6,BANNER_TIMEOUT:7,BANNER_WXDATA_TIMEOUT:8,BANNER_TIMEOUT_RETRY_SUCCESS:9,BANNER_TIMEOUT_RETRY_FAIL:10,PORTAL_TIMEOUT:11,PORTAL_WXDATA_TIMEOUT:12,PORTAL_TIMEOUT_RETRY_SUCCESS:13,PORTAL_TIMEOUT_RETRY_FAIL:4,BANNER_DATA_INVALID:15,PORTAL_DATA_INVALID:16,BANNER_DATA_INVALID_RETRY_SUCCESS:17,BANNER_DATA_INVALID_RETRY_FAIL:18,PORTAL_DATA_INVALID_RETRY_SUCCESS:19,PORTAL_DATA_INVALID_RETRY_FAIL:20,ICON_LOAD_ERROR:21,ICON_TIMEOUT:22,ICON_WXDATA_TIMEOUT:23,ICON_TIMEOUT_RETRY_SUCCESS:24,ICON_TIMEOUT_RETRY_FAIL:25,ICON_DATA_INVALID:26,ICON_DATA_INVALID_RETRY_SUCCESS:27,ICON_DATA_INVALID_RETRY_FAIL:28,BANNER_PRELOAD_SUCCESS:29,BANNER_PRELOAD_FAIL:30,PORTAL_PRELOAD_SUCCESS:31,PORTAL_PRELOAD_FAIL:32,ICON_PRELOAD_SUCCESS:33,ICON_PRELOAD_FAIL:34},designWidth:375,TIMEOUT:15e3,ERRMSG:{NODATA:"no data available, please invoke load()",DUPLICATEWARN:"同一时刻只能展示一个同一类型的组件",NO_ADUNITID_WARN:"please pass in the adUnitId"},adType:cA,adTypeName:{[cA.AD_TYPE_BANNER]:"BANNER",[cA.AD_TYPE_PORTAL]:"PORTAL",[cA.AD_TYPE_ICON]:"ICON"},actionType:sA,feedbackList:[{name:"不感兴趣",actionType:sA.ACTION_TYPE_NOT_INTERESTED},{name:"影响操作",actionType:sA.ACTION_TYPE_INFLUEENCE_OPERATION}],presetChars:{0:5.5615234375,1:5.5615234375,2:5.5615234375,3:5.5615234375,4:5.5615234375,5:5.5615234375,6:5.5615234375,7:5.5615234375,8:5.5615234375,9:5.5615234375,"%":8.8916015625,"(":3.330078125,")":3.330078125,"-":3.330078125,".":2.7783203125,"/":2.7783203125,A:6.669921875,B:6.669921875,C:7.2216796875,D:7.2216796875,E:6.669921875,F:6.1083984375,G:7.7783203125,H:7.2216796875,I:2.7783203125,J:5,K:6.669921875,L:5.5615234375,M:8.330078125,N:7.2216796875,O:7.7783203125,P:6.669921875,Q:7.7783203125,R:7.2216796875,S:6.669921875,T:6.1083984375,U:7.2216796875,V:6.669921875,W:9.4384765625,X:6.669921875,Y:6.669921875,Z:6.1083984375,a:5.5615234375,b:5.5615234375,c:5,d:5.5615234375,e:5.5615234375,f:2.7783203125,g:5.5615234375,h:5.5615234375,i:2.2216796875,j:2.2216796875,k:5,l:2.2216796875,m:8.330078125,n:5.5615234375,o:5.5615234375,p:5.5615234375,q:5.5615234375,r:3.330078125,s:5,t:2.7783203125,u:5.5615234375,v:5,w:7.2216796875,x:5,y:5,z:5,"|":2.59765625}},uA=null,dA=!1;function pA(e,t){var r,n={};return(0,B.IN)("measureText",{text:e,fontSize:null!==(r=null==t?void 0:t.fontSize)&&void 0!==r?r:10,fontFamily:(null==t?void 0:t.fontFamily)||"sans-serif",fontWeight:"normal",fontStyle:"normal",complete(e){n={width:e.width||0}}}),n}function fA(e,t){var r={};if(dA)r=pA(e,t);else if(uA||(uA=function(){var e=new M.Z.Canvas;return e.width=1,e.height=1,e.getContext("2d")}()),uA){var n=t?`${t.fontSize||10}px ${t.fontFamily||"sans-serif"}`:null;n&&(uA.font=n),r=uA.measureText(e)}else dA=!0,r=pA(e,t);return r.width||0}var hA=lA.presetChars;var gA=new class{constructor(){}getCharWidth(e,t){return(hA[e]?hA[e]:10)*t/10}limitString(e,t){return e&&e.length>t?e.substring(0,t)+"...":e}getTextWidth(e,t){return R.wZ?this.getTextWidthInAndroid(e,t):Math.ceil(fA(e,t?{fontSize:t,fontFamily:"PingFangSC-Regular, SF Pro Display, SF Pro Text"}:void 0)||0)+1}getTextWidthInAndroid(e,t){e=(e=String(e)).split("");var r=0;return e.forEach((e=>{var n=this.getCharWidth(e,t);r+=n})),r}getMaxWordLength(e,t,r,n=!0){e=(e=String(e)).split("");var a=0,i=0;n&&(r-=this.getTextWidth("...",t));for(var o=0;o<e.length;o++){var s=e[o],c=this.getCharWidth(s,t);if(a+c>r)break;i++,a+=c}return i}textMetrics(e,t){for(var{fontSize:r,maxWidth:n,maxLines:a=1}=t,i=[],o=0,s=e.substring(0,e.length);o<a;){var c=this.getMaxWordLength(s,r,n,!(o!==a-1)),l=o===a-1?this.limitString(s,c):s.substring(0,c);l&&i.push({text:l,width:this.getTextWidth(l,r)}),o++,s=s.substring(c,s.length)}return i}},vA=d(2603),mA=d(7744),yA=d(4686),bA=d(2040),_A=d(1097),wA=new je.Q("playableads",!1);function IA(e){wA.on("playableStatusChange",e)}function SA(e){wA.off("playableStatusChange",e)}(0,B.jQ)("onPlayableStatusChange",(e=>{wA.emit("playableStatusChange",e)}));var kA=(0,_A.v)("ad"),CA=Z()(Z()({GameGlobal:zT.Z,_onShow:gp.dN,_onHide:pr.vv,_offShow:gp.Tb,_offHide:pr.b$,onBeforeHide:pr.VT,onAfterHide:pr.rc,offBeforeHide:pr.yN,offAfterHide:pr.UR,_downloadFileSkipCheckDomain:lr.o,touch:_d,reportCanvasData:Dh.y4,ReportCanvasDataEventType:Dh.F0,checkAndUseAdSkipCard:function(){return new Promise(((e,t)=>{ZT||t(),ZT&&(HT=setTimeout(t,3e3)),ZT&&(0,B.yD)({apiName:"webapi_getadcardbalance",success({data:r}){var{errCode:n,balance:a}=r;!n&&a?(HT&&clearTimeout(HT),(0,Pe._showModal)({title:"是否使用广告跳过卡",content:`当前还有${a}张`,confirmText:"使用",cancelText:"继续看",success({confirm:r}){r?(0,B.yD)({apiName:"webapi_payadcardskiprewardedad",reqData:{outTradeNo:`${Date.now()+Math.random()}`},success({data:r}){var{errCode:n}=r;n?((0,Pe.showToast)({title:"使用广告卡失败",icon:"error"}),t()):((0,Pe.showToast)({title:"消耗一张广告卡"}),e({isUseAdSkipCard:!0}))},fail:t}):t()},fail:t})):t()},fail:t})}))},_requestSkipCheckDomain:Lr.ac,onAppRoute:Ul.HM,showToast:Pe.showToast,_getNetworkType:Je.getNetworkType,getChannelsLiveInfo:XT,_showModal:Pe._showModal,getInitScreenSize:Ce.getInitScreenSize,getSystemInfoSync:Ce.getSystemInfoSync,onAppRouteDone:Fl,onWindowResize:eE.KN,beginAudioInterruption:vc,endAudioInterruption:mc,__wxConfig:O.Z,onNativeEvent:Ke.n,offNativeEvent:Ke.ri,onNetworkWeakChange:Je.onNetworkWeakChange,getExptInfoSync:gt,addInnerShareCallbacks:mA.w,onBeforeUnloadPage:yA.dq,_onUserCaptureScreen:Wa,getAdUxInfo:xe.I,getStableSystemInfo:jo.Oo,vibrateShort:Ha,vibrateLong:Ka},g),{},{webviewLayout:rA.u,nativeviewLayout:rA._,View:nA.G,Text:aA.x,Image:iA.E,Video:oA.n,Component:Fv.wA,initComponent:Fv.S1,createComponent:Fv.Ue,getPrivateThis:Fv.Wj,removePrivateThis:Fv.bn,invoke:bA.d,invokeMethod:B.IN,beforeInvoke:B.r3,onMethod:B.jQ,publish:B.nY,subscribe:B.Ld,invokeOperateWXDataPromise:B.Qh,_invokeMethod:B.be,gametext:gA,packageChannel:kA,getGameTouchStatus:QE,onPlayableStatusChange:IA,offPlayableStatusChange:SA,_getABTestConfig:cl.b,readdir:vA.e,stat:Jc.lz,unlink:Gd.q,writeFile:yu.N,readFileSync:Nr.N,readFile:Nr.p,access:bu.P,accessSync:bu.c,wxNativeConsole:f,wxConsole:p,console:console,_createInnerAudioContext:dl,onPaymentCompletedPagePreload:e=>{kt=e},invokeOperateWXData:B.yD}),TA=CA;LI({name:"ad",waLibName:"WAAd.js",globalName:"AD",globalGetter:()=>({console:console,wxConsole:p,wxNativeConsole:f,__wxConfig:O.Z,__errorTracer__:_,Reporter:w,Foundation:o,WeixinJSBridge:c,IS_APP:!1,IS_APPSERVICE_SDK:!0,IS_WAGAME:!0,IS_WORKER:!1,wxRunOnDebug:s,__appServiceSDKAD__:TA}),exportApis:{createRewardedVideoAd:{apiKey:"createRewardedVideoAd"},createIncentiveVideoAd:{apiKey:"createRewardedVideoAd"},createBannerAd:{apiKey:"createBannerAd"},createInterstitialAd:{apiKey:"createInterstitialAd"},createCustomAd:{apiKey:"createCustomAd"},createGridAd:{apiKey:"createGridAd"},createCpsAd:{apiKey:"createCpsAd"}},provideInGlobal:"ADSDK",src:"./src/sdk/dist/ad.js",onInjectCallback:()=>{FT("ad",BT),tA()}});var EA=d(9253),AA=(0,j.s)("subpackage:beforeSubPackageReady"),PA=(0,j.s)("subpackage:onSubPackageReady"),xA=(AA.internalOnMethod,PA.internalOnMethod);(0,EA.j)("onSubPackageReady",(e=>{f.info("[onSubPackageReady]",e),AA.emit(e),PA.emit(e)}));var MA=[],RA=()=>MA,DA=Object.assign,LA=null,NA=null,OA=Lw(),BA={console:N(),Reporter:w,setTimeout:OA.setTimeout,clearTimeout:OA.clearTimeout,setInterval:OA.setInterval,clearInterval:OA.clearInterval,requestAnimationFrame:OA.requestAnimationFrame,cancelAnimationFrame:OA.cancelAnimationFrame,wxNativeConsole:f,FunctionalPage:dy,requirePlugin:Ow.I,get WXWebAssembly(){return(0,Nv.o)()},getWxSourceMap(){if("undefined"!=typeof __wxSourceMap)return __wxSourceMap},_getCurrentNetworkType:Je._getCurrentNetworkType,WXWeakRef:Lv()},jA=Lw(),FA={WXConfig:O.Z,get log(){return M.Z.log},setTimeout:jA.setTimeout,clearTimeout:jA.clearTimeout,setInterval:jA.setInterval,clearInterval:jA.clearInterval,requestAnimationFrame:jA.requestAnimationFrame,cancelAnimationFrame:jA.cancelAnimationFrame,Canvas:qu.UK,Image:zu.D,Touch:yd,Audio:pl,APIs:{getGroupUserGameData:({shareTicket:e,success:t,fail:r,complete:n}={})=>{setTimeout((()=>{var a=e||tr.Z.lastShareTicket;if(a&&tr.Z.get(a)){var i=tr.Z.get(a),{shareKey:o,shareName:s}=i;(0,B.yD)({sdkApiName:"getGroupUserGameData",apiName:"webapi_getgroupsnsdata",reqData:{share_key:o,share_name:s},success:e=>{var r=e.data,n=r.member_list||r.memberList||[];by=n,"function"==typeof t&&t({errMsg:e.errMsg,data:n})},fail:r,complete:n})}else{var c={errMsg:"getGroupUserGameData:fail 当前小程序不是从群分享卡片打开"};"function"==typeof r&&r(c),"function"==typeof n&&n(c)}}),0)},getFriendUserGameData:({success:e,fail:t,complete:r}={})=>{setTimeout((()=>{(0,B.yD)({sdkApiName:"getFriendUserGameData",apiName:"webapi_getfriendsnsdata",reqData:{},success:t=>{var r=t.data.friendList||[];_y=r,"function"==typeof e&&e({errMsg:t.errMsg,data:r})},fail:t,complete:r})}),0)},getUserInfo:wy.b,getFriendCloudStorage:Iy.l,getGroupInfo:Sy.y,getGroupCloudStorage:ky.q,getUserCloudStorage:Cy.u,setUserCloudStorage:Ey,getUserCloudStorageKeys:Ay.r,removeUserCloudStorage:My,getGroupDataCache:()=>by,getFriendDataCache:()=>_y,getSystemInfo:Ce.getSystemInfo,getSystemInfoSync:Ce.getSystemInfoSync,showModal:Pe.showModal,modifyFriendInteractiveStorage:Nw.Fc,shareMessageToFriend:Ry.N,getPotentialFriendList:Dy.e,getGameServerManager:()=>Ew,routeJSServer:Bw,getCloudFileInfo:dr.K,checkHandoffEnabled:function(e={}){(0,B.IN)("checkHandoffEnabled",Object.assign({},e,{showToast:!1}),{beforeSuccess:({isEnabled:e,errCode:t})=>py(2,3,e?1:0,t)})},startHandoff:function(e={}){(0,Ze.J)("handoff")?fy?(0,B.IN)("checkHandoffEnabled",{showToast:!0,success({isEnabled:t,errCode:r}){t?function(e={}){py(2,2,2),(0,Nh.lX)({apply:"在电脑端微信打开小游戏",success(){py(2,2,1),(0,B.IN)("startHandoff",Object.assign({},e,{actionId:2}),{beforeSuccess:()=>py(2,1,1),beforeFail:({errCode:e})=>py(2,1,0,e)})},fail(){py(2,2,0),(0,B.YG)("startHandoff",e,"cancel")}})}(Object.assign({},e,{path:hy})):(py(2,1,0,r),(0,B.YG)("startHandoff",e,"low pc version or not login"))},fail({errMsg:t}){(0,B.YG)("startHandoff",e,t)}}):(0,B.YG)("startHandoff",e,"not in touchEnd"):(0,B.YG)("startHandoff",e,"no permission")}},checkPermissionSync:Ze.J,apiReport:Fw.XG,Reporter:DA({},w,{thirdErrorReport:e=>{w.thirdErrorReport(DA({},e,{isOpenDataContextError:!0}))}}),wxNativeConsole:f,requirePlugin:Ow.V,getWxSourceMap(){if("undefined"!=typeof __wxSourceMap)return __wxSourceMap},get URL(){return M.Z.URL||d.g.URL||d.g.webkitURL},get location(){return M.Z.location}};R.gm&&(FA.console=console),R.jP&&(FA.WXConfig.__wkrenderer_h5=!0);var UA=function(){if(LA)return LA;var{wx:e}=E3;if(BA._createSharedCanvas=qu.zL,FA._createSharedCanvas=qu.zL,FA.originalProto=(0,Ov.w)(),FA.WXConfig=O.Z,BA.wx=e,BA.skipCondom=RA(),O.Z.openDataContextExtension){var t=Object.assign({},e,{getFileSystemManager:$.Y5},ve.opendata);t.env={USER_DATA_PATH:(0,jw.WZ)()},FA.downloadFile=G.ot,FA.wx=t,FA.NativeGlobal=M.Z}return LA={game:BA,gameOpenData:FA}},WA=function(){if(NA)return NA;var{wx:e}=E3;return NA={game:{wx:e},gameSkipCondom:RA()}},GA=()=>{(e=>{for(var t in e)if(AI.includes(t)){var r=e[t];xI(t,r)}})(MI)},VA=e=>{var{provider:t}=e;return{console:N(),Reporter:w,setTimeout:M.Z.setTimeout,clearTimeout:M.Z.clearTimeout,setInterval:M.Z.setInterval,clearInterval:M.Z.clearInterval,requestAnimationFrame:M.Z.requestAnimationFrame,cancelAnimationFrame:M.Z.cancelAnimationFrame,WXWebAssembly:(0,Nv.o)({provider:t}),wx:kI({provider:t})}},$A=function(e,t,r){for(var n in t){if("exportToAppServiceSDK"===n)return;e[n]=t[n]}["onPageReload"].forEach((n=>{t[n]&&(e[n]=e=>{t[n].call(r,e)})}))},qA=d(3366),zA=d(4402),ZA=new WeakMap;class HA{constructor({buttonName:e="button",type:t="text",style:r={},text:n="",image:a="",onTapCallback:i=(()=>Promise.resolve()),reportGameButtonkv:o=(()=>Promise.resolve())}){var s={},c={};if(ZA.set(this,c),c.emitter=new qA.Z,c.onTapCallback=i,r=Object.assign((0,zA.ph)(),r,{position:"absolute"}),this.style={},"gameClubButton"===e){var l;if(c.button=new kp.G7({style:r,clickState:!0}),"image"===t){var u,d,p=new iA.E({style:{width:null!==(u=r.width)&&void 0!==u?u:0,height:null!==(d=r.height)&&void 0!==d?d:0,top:0,left:0},src:a,bubbleEvent:!0});c.buttonImage=p,c.button.add(p)}(0,B.yD)({sdkApiName:"getgameclubbuttoninfo",apiName:"webapi_game_transfer",reqData:{req_path:"mmgamewxagapi.getgameclubbuttoninfo",appid:null===O.Z||void 0===O.Z||null===(l=O.Z.accountInfo)||void 0===l?void 0:l.appId},success:e=>{if(e.data.red_dot&&"{}"!==JSON.stringify(e.data.red_dot)){var t,n=e.data.red_dot.reddot_num;t=n>0?.4*(r.width<r.height?r.width:r.height):.3*(r.width<r.height?r.width:r.height);var a=new iA.E({style:{position:"absolute",top:0,left:r.width-t,width:t,height:t,borderRadius:t/2,backgroundColor:"#FA5151"},bubbleEvent:!0}),i=new iA.E({style:{width:t,height:t,borderRadius:t/2,borderWidth:1,borderColor:"#FFFFFF"},bubbleEvent:!0});if(a.add(i),n>0){var l=new aA.x({style:{position:"absolute",top:0,left:0,width:t,height:t,lineHeight:t,textAlign:"center",fontSize:.5*t,color:"#ffffff"},value:n.toString(),bubbleEvent:!0});a.add(l)}c.button.add(a);var u=e.data.red_dot.reddot_id;o({reddot:1,reddotid:u}),s.redInfo={reddot:1,reddotid:u},s.url=e.data.red_dot.reddot_h5_jump_url,s.callback=()=>{(0,B.yD)({sdkApiName:"reportgameclubbuttoninfo",apiName:"webapi_game_transfer",reqData:{req_path:"mmgamewxagapi.reportgameclubbuttoninfo",reddot_id:u},success:e=>{c.button.remove(a),s.url=null},fail:e=>{c.button.remove(a),s.url=null}})}}else o({reddot:0}),s.redInfo={reddot:0}},fail:e=>{}})}else c.button="image"===t?new iA.E({style:r,src:a,eventType:"click"}):new aA.x({style:r,value:n,eventType:"click"});Object.defineProperty(this,"text",{configurable:!0,enumerable:!0,get:()=>n,set:e=>{n=e,c.button.value=e}}),Object.defineProperty(this,"image",{configurable:!0,enumerable:!0,get:()=>a,set:t=>{a=t,"gameClubButton"===e?c.buttonImage.src=t:c.button.src=t}}),Object.keys(r).forEach((e=>{"position"!==e&&Object.defineProperty(this.style,e,{configurable:!0,enumerable:!0,get:()=>r[e],set:t=>{r[e]=t,c.button.style[e]=t}})})),c.button.on("click",(()=>{c.onTapCallback(s).then((e=>c.emitter.emit("tap",e))).catch((e=>c.emitter.emit("tap",e)))})),rA.u.add(c.button)}onTap(e){ZA.get(this).emitter.on("tap",e)}offTap(e){ZA.get(this).emitter.off("tap",e)}show(){ZA.get(this).button.style.hidden=!1}hide(){ZA.get(this).button.style.hidden=!0}destroy(){var e=ZA.get(this);rA.u.remove(e.button)}}var KA=d(3671),JA=(0,KA.Fr)((({withCredentials:e=!0,lang:t="en",success:r,fail:n}={})=>{var a=O.Z.SDKVersion;(0,B.yD)({apiName:"webapi_getuserinfo",sdkApiName:"getUserInfo",fromComponent:!0,withCredentials:e,reqData:{lang:t,version:a},complete(){(0,pa.eu)({user_action:[pa.Vw.USER_ACTION_APPLY_HEADIMG_NICKNAME]}).then((({need_pop_up_grant_window:e,interface_config:t,user_grant_info_list:r})=>{e&&(0,pa.rL)(t,r,!0)})).catch((e=>f.error(e)))},success:e=>{e.userInfo=e.data,e.rawData=JSON.stringify(e.data),delete e.data,r(e)},fail:n})}));class YA extends HA{constructor({type:e="text",style:t,image:r,text:n="获取用户信息",withCredentials:a,lang:i}={}){super({type:e,style:t,image:r,text:n,onTapCallback:()=>JA({withCredentials:a,lang:i})})}}var QA={green:"http://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNTTiaKet81gQJF4M4rgy8wMHroMcjTH0DGy1sGwV95nfxnBialPaFEXZG5B1iarolFC6Uic4BRlTlsR0Q/0?wx_fmt=png",white:"http://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNTTiaKet81gQJF4M4rgy8wMH8hmRP9YkP3WHQ9gKcXR4oKD0rwZxFojibQDMfjgwa3foAtjZH7Ce9Xg/0?wx_fmt=png",light:"http://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNTTiaKet81gQJF4M4rgy8wMHlGKmb23Js82NJ4dH3b3BoUNe74Tvk2Q4ZVfzD8ibwJicgs1czbYd6Qtw/0?wx_fmt=png",dark:"http://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNTTiaKet81gQJF4M4rgy8wMH6RhR996JZgib3RG3AtyO1OgnR6FibX7DPsBKQAJd5miaYcwyslLR7F6KQ/0?wx_fmt=png"},XA={appid:"",ssid:1037},eP={appid:"",ssid:30,wechat_pkgid:"circlecenter_mixed_circle",s_prot:20267,s_uia:1001,s_pid:1};O.Z.onReady((()=>{XA.appid=O.Z.accountInfo.appId,eP.appid=O.Z.accountInfo.appId,eP.s_cid=O.Z.accountInfo.appId}));function tP({UIArea:e=0,SCeneID:t,PositionID:r=0,ActionID:n,Object:a=0,Status:i,ExpID:o="",ErrType:s="",ContentType:c=0,ContentID:l=0,ExternInfo:u,reportTime:d=0,SourceID:p=0}){w.reportKeyValue({key:"GameAdsSkipCard",value:[(0,Je._getCurrentNetworkType)(),O.Z.appLaunchInfo.scene,0,t,e,r,n,"",0,a,i,p,"",o,0,s,d,0,"",c,l,0,u?encodeURIComponent(JSON.stringify(u)):""].join(",")})}var rP=(0,KA.Fr)((({success:e,fail:t,extra:r,buttonInfo:n})=>{if((0,Dh.y4)(Dh.F0.EVENT_CANVAS_BEFORE_GAME_ClUB),(0,Ze.J)("openH5GameClub")){var a;n.url?(a=n.url,n.callback()):(s=Object.assign({},r,eP),a=`https://game.weixin.qq.com/cgi-bin/h5/static/circlecenter/mixed_circle.html?${Object.keys(s).map((e=>{try{return`${encodeURIComponent(e)}=${encodeURIComponent(s[e])}`}catch(e){return""}})).join("&")}`);var i=!1;"ios"===O.Z.platform&&setTimeout((()=>{i||(i=!0,e())}),2e3),(0,B.IN)("private_openUrl",{useGameWePkgIfExist:!0,url:a,isNativeStyle:!0,success:t=>{tP({SCeneID:59,UIArea:5901,PositionID:1,ActionID:2,ErrType:"0",ExternInfo:Object.assign({jump:"h5"},n.redInfo)}),i||(i=!0,e(t))},fail:e=>{tP({SCeneID:59,UIArea:5901,PositionID:1,ActionID:2,ErrType:"1"}),t(e)}})}else{var o=function(e,t){return`${e}?${Object.keys(t).map((e=>{try{return`${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`}catch(e){return""}})).join("&")}`}("pages/club_index/club_index.html",Object.assign({},r,XA));tP({SCeneID:59,UIArea:5901,PositionID:1,ActionID:2}),(0,B.IN)("navigateToMiniProgram",{appId:"wxff3bb5c177303374",path:o,scene:37,sourcetype:3,success:t=>{tP({SCeneID:59,UIArea:5901,PositionID:1,ActionID:2,ErrType:"0",ExternInfo:{jump:"progm"}}),e(t)},fail:e=>{tP({SCeneID:59,UIArea:5901,PositionID:1,ActionID:2,ErrType:"1"}),t(e)}})}var s}));class nP extends HA{constructor({style:e,icon:t="green",type:r="image",image:n,text:a="打开游戏圈",extra:i}={}){"bindGroup"===r?(r="text",a="关联群聊",i=Object.assign({},i,{action:"bindGroup"})):"joinGroup"===r&&(r="text",a="进入群聊",i=Object.assign({},i,{action:"joinGroup"})),super({buttonName:"gameClubButton",type:r,style:e,image:n||QA[t],text:a,onTapCallback:e=>rP({extra:i,buttonInfo:e}),reportGameButtonkv:e=>tP({SCeneID:59,UIArea:5901,PositionID:1,ActionID:1,ExternInfo:e})}),"image"===r&&Object.defineProperty(this,"icon",{configurable:!0,enumerable:!0,get:()=>t,set:e=>{t=e,_private.button.src=QA[t]}})}}var aP=d(7789),iP=(0,KA.Fr)(Jn.s);class oP extends HA{constructor({type:e="text",style:t,image:r,text:n="打开设置"}){super({type:e,style:t,image:r,text:n,onTapCallback:()=>iP().then((()=>{(0,aP.Y)({name:"openSetting",scene:1})}))})}}var sP="";try{O.Z.onReady((()=>{sP=O.Z.accountInfo.appId}))}catch(e){}var cP=(0,KA.Fr)((({success:e,fail:t})=>{(0,B.IN)("private_openUrl",{url:`https://mp.weixin.qq.com/mp/wapreportwxadevlog?action=get_page&appid=${sP}#wechat_redirect`,isNativeStyle:!0,success:e,fail:t})}));class lP extends HA{constructor({type:e="text",style:t,image:r,text:n="打开意见反馈页面"}){super({type:e,style:t,image:r,text:n,onTapCallback:()=>cP()})}}var uP=(e={})=>new YA(e),dP=(e={})=>new nP(e),pP=(e={})=>new oP(e),fP=(e={})=>new lP(e);function hP(e,t){if(function(e,t){var{toString:r}=Object.prototype;return"Null"===t&&null===e||"Undefined"===t&&void 0===e||r.call(e).slice(8,-1)===t}(t,"String")){var r=t.split(".");return r.reduce(((e,t,n)=>n===r.length-1?e[t]:e[t]||{}),e)}}function gP(){var e=(0,Fv.Wj)(this),t=new Date;return(0,B.Qh)({sdkApiName:"compload",apiName:"webapi_compload",reqData:{act_id:e.act_id,comp_id:e.comp_id}}).catch((r=>{throw e.reporter.reportKeyValue({action:SP.actionMap.getJSON,execTime:new Date-t,externInfo:JSON.stringify(r),isSuccess:0}),e.config={flows:[]},e.emitter.emit("error",r),new Error(bP(r))})).then((r=>{e.reporter.reportKeyValue({action:SP.actionMap.getJSON,execTime:new Date-t,isSuccess:1}),r||(r={});var n=r.data||{},{sign:a,config:i}=n;e.sign=a,e.config=i,e.config}))}function vP(){var e=(0,Fv.Wj)(this);this.isDestroyed=!0,this.ready=!1,e.emitter.off("_error"),e.emitter.off("load"),e.pages.forEach((e=>{kp.uo.remove(e)}))}function mP(){var e=(0,Fv.Wj)(this);return e.destroyPromise||(e.destroyPromise=new Promise((t=>{e.fetchPromise?e.fetchPromise.then((()=>{vP.call(this),t()})).catch((()=>{vP.call(this),t()})):(vP.call(this),t())}))),e.destroyPromise}function yP(){var e=(0,Fv.Wj)(this);return e.fetchPromise=gP.call(this).then((()=>{if(this.isDestroyed)throw new Error("组件已经被销毁");return e.uiEngine.init()})),e.fetchPromise}function bP(e){var t;try{t=JSON.stringify(e)}catch(e){t="{}"}return t}function _P(e){return JSON.parse(JSON.stringify(e))}function wP(e,t){var r;e=e||"{}";try{r=JSON.parse(e)}catch(e){r=t||{}}return r}var IP={appid:"",scene:0};O.Z.onReady((()=>{var e=O.Z.appLaunchInfo||{},t=O.Z.accountInfo||{};IP.scene=e.scene||0,IP.appid=t.appId||"",IP.SDKVersion=O.Z.SDKVersion}));class SP{constructor(e){this._private=e}reportKeyValue({action:e,execTime:t=0,externInfo:r="",isSuccess:n=1,flowid:a=""}){var i=[IP.scene,this._private.act_id,this._private.comp_id,IP.SDKVersion,(0,Je._getCurrentNetworkType)(),e,n,t,r,a].map(encodeURIComponent).join(",");w.reportKeyValue({key:"GameComponent",value:i,force:!0,immediately:!0})}}SP.actionMap={getJSON:1,execFlow:2,execModelAction:3,shareAppMessage:4,launchGameWithShare:5,broadcastEvent:6,closeComponent:7,exposure:8,createRewardedVideoAd:9,createAndShowRewardedVideoAdSuccess:10,createAndShowRewardedVideoAdFail:11,confirmRewardVideo:12,cancelRewardVideo:13,destroyRewardedVideoAd:14,videoOnError:15,showModal:16,confirmModal:17};var kP=/\$(.+)\$/,CP={},TP={},EP={launchInfo:{query:TP.query||{}}};Object.defineProperty(EP,"network_type",{configurable:!0,enumerable:!0,get:()=>(0,Je._getCurrentNetworkType)()}),O.Z.onReady((()=>{TP=O.Z.appLaunchInfo,Object.assign(EP.launchInfo.query,TP.query||{}),k.onShow((e=>{Object.assign(EP.launchInfo.query,e.query||{})}))}));var AP={String:"",Unit32:"0",Boolean:"true"},PP={String:String,Uint32:String,Boolean:Boolean};var xP=/\$\((.+)\)/;function MP(e,t,r,n){return"Variable"===t?hP(EP,r):"datasetValue"===t?function(e,t,r){var n=t.split("."),a=n[0];if(xP.test(a)){var i=xP.exec(a)[1],o="this"===i?r:e.uiEngine.getElementById(i);return o&&hP(o.dataset,n.slice(1).join("."))}}(e,r,n):r}function RP(e,t,r=null){return Object.keys(t&&t.inputs||{}).reduce(((n,a)=>{var i,o,s=t.inputs[a];return n[a]=(i={value:MP(e,s.parse,s.value,r),format:s.format},void 0===(o=_P(i)).value&&(o.value=AP[o.format]),"Boolean"!==o.format?o.value=PP[o.format]&&PP[o.format](o.value)||o.value:o.value="true"===o.value,o),n}),{})}var DP=new class{getCgi(e,t={},r){var{channel:n,id:a}=t,i={act_id:e.act_id,flow_id:a,sign:e.sign,inputs:RP(e,n,r)};return function(e,{act_id:t,flow_id:r,inputs:n,sign:a}){var i=new Date;return(0,B.Qh)({sdkApiName:"compflowinvoke",apiName:"webapi_compflowinvoke",reqData:{act_id:t,flow_id:r,inputs:n,sign:a}}).catch((t=>{throw e.reporter.reportKeyValue({action:SP.actionMap.execFlow,execTime:new Date-i,externInfo:bP(t),isSuccess:0,flowid:r}),new Error(t.errMsg||"")})).then((t=>(e.reporter.reportKeyValue({action:SP.actionMap.execFlow,execTime:new Date-i,isSuccess:1,flowid:r}),t)))}(e,i).then((t=>{t||(t={});var{data:r}=t;r.models;var{models:n=[]}=r,a="minigame_component_post";e.uiEngine.modelsHandler(r.models.filter((e=>e.id!==a)));var i=n.find((e=>e.id===a));if(i&&i.extra&&i.extra.action)return wP(i.extra.action)}))}closeComponent(e){var t=e.pages.map((e=>(e.style.hidden=!0,e.nextLayout())));return e.reporter.reportKeyValue({action:SP.actionMap.closeComponent,isSuccess:1}),Promise.all(t).then((()=>{e.emitter.emit("close")}))}shareAppMessage(e,t,r){var n=r&&r.dataset||{},a=n.share_params||{},i="";Object.keys(a).forEach(((e,t)=>{i+=`${e}=${a[e]}`,t<Object.keys(a).length-1&&(i+="&")})),e.reporter.reportKeyValue({action:SP.actionMap.shareAppMessage,isSuccess:1,externInfo:bP({title:n.title||"",query:i,imageUrl:n.image_url||""})}),(0,Ju.$F)({title:n.title||"",query:i,imageUrl:n.image_url||""})}broadcastEvent(e,t){var{channel:r}=t,n=RP(e,r);n.eventName&&n.eventName.value&&(e.emitter.emit(n.eventName.value,{errcode:Number(n.errcode&&n.errcode.value||0),errMsg:n.errMsg&&n.errMsg.value||""}),e.reporter.reportKeyValue({action:SP.actionMap.broadcastEvent,isSuccess:1,externInfo:bP(n)}))}showModal(e,t){var{channel:r}=t,n=RP(e,r),a=n.title&&n.title.value||"提示",i=n.content&&n.content.value||"温馨提示",o=n.cancelText&&n.cancelText.value||"取消",s=n.cancelColor&&n.cancelColor.value||"#000000",c=n.confirmText&&n.confirmText.value||"确定",l=n.confirmColor&&n.confirmColor.value||"#576B95",u=n.showCancel&&n.showCancel.value;return u=void 0===u||u,e.reporter.reportKeyValue({action:SP.actionMap.showModal,isSuccess:1,externInfo:bP(n)}),new Promise((t=>{(0,Pe.showModal)({title:a,content:i,showCancel:u,cancelText:o,cancelColor:s,confirmText:c,confirmColor:l,success(r){r.confirm?(e.reporter.reportKeyValue({action:SP.actionMap.confirmModal,isSuccess:1,externInfo:bP(n)}),t()):r.cancel}})}))}showLoading(e,t){var{channel:r}=t,n=RP(e,r),a=n.title&&n.title.value||"加载中...",i=n.mask&&n.mask.value||!1;return new Promise((e=>{(0,Pe.showLoading)({title:a,mask:i,complete:e})}))}showToast(e,t){var{channel:r}=t,n=RP(e,r),a=n.duration&&n.duration.value||2e3;return new Promise((e=>{(0,Pe.showToast)({title:n.title&&n.title.value||"",icon:n.type&&n.type.value||"none",duration:a,complete:e})}))}actionFlow(e,t,r){t.id;var{channel:n={},conditions:a={}}=t,i=RP(e,n,r),{models:o=[]}=n;return new Promise((t=>{var n=i.cond_key&&void 0!==i.cond_key.value?i.cond_key.value:void 0;if(void 0!==n&&Object.keys(a).find((e=>e===`${n}`))){var s=a[n],{channel:c={}}=s,{models:l=[]}=c;e.uiEngine.modelsHandler(l)}var u=o.map((e=>{var t=_P(e);t.attributes||(t.attributes={});var{attributes:n={}}=t,a=wP(n.dataset);for(var i in a){var o=kP.test(a[i]),s=kP.exec(a[i]);if(o){var c=s[1],l=hP(r,c);a[i]=a[i].replace(kP,l)}}return t.attributes.dataset=bP(a),t}));u.length&&e.uiEngine.modelsHandler(u),t()}))}createRewardedVideoAd(e,t,r){var{dataset:n}=r,{adUnitId:a}=n;return e.reporter.reportKeyValue({action:SP.actionMap.createRewardedVideoAd,externInfo:a}),new Promise(((t,r)=>{if(a||((0,Pe.hideLoading)(),r(new Error("广告id参数必填"))),CP[a])t(CP[a]);else{var n=ADSDK.createRewardedVideoAd({adUnitId:a,multiton:!0});CP[a]=n,n.onError((t=>{t.adUnitId=a,e.reporter.reportKeyValue({action:SP.actionMap.videoOnError,externInfo:bP(t),isSuccess:0})})),t(n)}}))}createAndShowRewardedVideoAd(e,t,r){return(0,Pe.showLoading)({title:"加载视频中..."}),new Promise(((n,a)=>{this.createRewardedVideoAd(e,t,r).then((t=>(t.load().then((r=>{t.show().then((()=>{e.reporter.reportKeyValue({action:SP.actionMap.createAndShowRewardedVideoAdSuccess,externInfo:t.adUnitId}),(0,Pe.hideLoading)()}))})).catch((r=>{(0,Pe.hideLoading)(),(0,Pe.showToast)({title:"无可观看视频",icon:"none"}),e.reporter.reportKeyValue({action:SP.actionMap.createAndShowRewardedVideoAdFail,externInfo:t.adUnitId}),a(r)})),t.closeCbk&&t.offClose(t.closeCbk),t.closeCbk=r=>{r&&r.isEnded||void 0===r?(e.reporter.reportKeyValue({action:SP.actionMap.confirmRewardVideo,externInfo:t.adUnitId}),n()):(e.reporter.reportKeyValue({action:SP.actionMap.cancelRewardVideo,externInfo:t.adUnitId}),(0,Pe.showToast)({title:"领取失败",icon:"none"}))},t.onClose(t.closeCbk),t.load())))}))}destroyRewardedVideoAd(e,t){var{channel:r}=t,n=RP(e,r),a=n.id&&n.id.value,i=CP.get(a);return new Promise(((t,r)=>{a&&i?(e.reporter.reportKeyValue({action:SP.actionMap.destroyRewardedVideoAd,externInfo:a,isSuccess:1}),i.destroy(),CP.delete(a),t()):(e.reporter.reportKeyValue({action:SP.actionMap.destroyRewardedVideoAd,externInfo:a,isSuccess:0}),r(new Error("组件不存在")))}))}flowParser(e,t={},r){var n,a=t.type||t.flow_type;return n=this[a]?this[a](e,t,r):Promise.reject(),t.next?n.then((()=>this.flowParser(e,t.next,r))):n}};function LP(e={},t){var r;return e.id===t&&(r=e),(e.items||[]).forEach((e=>{r=LP(e,t)||r})),r}function NP(e={},t,r){return r||(r=[]),(function(e){var{attributes:t={}}=e,{dataset:r="{}"}=t;return wP(r)}(e).className||"").split(/\s+/).find((e=>e===t))&&r.push(e),(e.items||[]).forEach((e=>NP(e,t,r))),r}function OP(e,t){if(e.value&&(t.value=e.value),e.attributes){if(t.attributes||(t.attributes={}),e.attributes.dataset){var r=Object.assign(wP(t.attributes.dataset||""),wP(e.attributes.dataset));t.attributes.dataset=bP(r)}if(e.attributes.style){var n=Object.assign(wP(t.attributes.style||""),wP(e.attributes.style));t.attributes.style=bP(n)}}}function BP(e={}){var{flows:t=[]}=e,r=t.find((e=>"init"===e.id));if(r){var{channel:n={}}=r,{models:a=[]}=n,{model:i={}}=e;a.forEach((e=>{var{extra:t={}}=e;if(t.action){var r=wP(t.action);if("execModelAction"===r.actionType){var n=r.model_actions||[];if("string"==typeof n)try{n=JSON.parse(n)}catch(e){n=[]}n.forEach((e=>{if(e.id){var t=LP(i,e.id);t&&OP(e,t)}else if(e.class){NP(i,e.class).forEach((t=>{OP(e,t)}))}}))}}}))}}var jP,FP=/(.+)\((.+)\)/,UP=/\$(.+)\$/,WP=/\$\((.+)\)/,GP={view:kp.G7,text:kp.xv,image:kp.Ee};function VP(e,t){Object.keys(t.query||{}).find((e=>e.indexOf("minigame_component")>-1))&&(t.query,e.reporter.reportKeyValue({action:SP.actionMap.launchGameWithShare,isSuccess:1,externInfo:bP(t.query)}))}function $P(e,t){for(var r in e.style.scale=t,e.children)$P(e.children[r],t)}class qP{constructor(e,t){this._private=e,this.componentInstance=t,this.id=1}oneFlowExec(e,t){var{_private:r}=this,n=r.config&&r.config.flows.find((t=>t.id===e));return n&&DP.flowParser(r,n,t)}oneModelActionExec(e,t,r){var{_private:n}=this,a=n.config.model_actions.find((t=>t.name===e));if("$this"===t)this.updateOneElement(a,r);else{var i=t.split(":");if("$class"===i[0])this.getElementsByClassName(i[1]).forEach((e=>{this.updateOneElement(a,e)}));else if("$id"===i[0]){var o=this.getElementById(i[1]);o&&this.updateOneElement(a,o)}}}eventReigster(e,t){var{dataset:r}=t.attributes;r.click&&e.on("click",(t=>{(e.id,!e.disabled&&function(e){var t=e.absoluteX,r=e.absoluteY,n=e.absoluteEndX,a=e.absoluteEndY,i=e.pressInterval,o=!1;return Math.abs(a-r)<30&&Math.abs(n-t)<30&&i<300&&(o=!0),o}(t))&&r.click.split(";").forEach((t=>{if("execFlow"===t&&r.flowid)r.flowid.split(";").forEach((t=>{this.oneFlowExec(t,e)}));else if("execModelAction"===t&&r.action){r.action.split(";").filter((e=>e&&e.match(FP))).forEach((t=>{var r=FP.exec(t),n=r[1],a=r[2];this.oneModelActionExec(n,a,e)}))}}))}))}create(e,t){var{_private:r}=this,{attributes:n,component:a,value:i}=e;n.style=wP(n.style);var o=wP(n.dataset);n.dataset=o,n.value=i,n.src=i,n.bubbleEvent=!0;var s=new(0,GP[a])(n);if("list"===o.type&&o.listlength&&e.items.length){var c=e.items[0];e.items=[];for(var l=0;l<o.listlength;l++){var u=_P(c);o.defaultvalue&&(u.value=o.defaultvalue,u.src=o.defaultvalue);var d=wP(u.attributes.dataset);d.idprefix&&(d.idName=d.idprefix+l,u.attributes.dataset=bP(d)),e.items.push(u)}}s.dataset=o,o.if&&(s.style.hidden=!0,setTimeout((()=>{if(o.if&&WP.test(o.if)){var e=o.if.split("."),t=WP.exec(o.if)[1],r=this.getElementById(t),n=e.slice(1).join("."),a=`${n}__bridge`;r.dataset[a]=r.dataset[n],void 0!==r.dataset[n]&&(s.style.hidden=!r.dataset[n]),Object.defineProperty(r.dataset,n,{configurable:!0,enumerable:!0,get:()=>r.dataset[a],set:e=>{void 0!==e&&(s.style.hidden=!e),r.dataset[a]=e}})}}),0)),e.items.forEach((e=>{var r=this.create(e,t);s.add(r)})),this.eventReigster.call(this,s,e);var p=o.idName||this.id++;return r[`${t}Container`][p]=s,s}init(){var{_private:e}=this;BP(e.config);var t=(0,Ce.getSystemInfoSync)();e.pages=[],e.pageContainers={},e.root=new kp.G7({}),e.root.dataset={};var r=e.config.model;r.items.forEach((n=>{var{id:a}=n,i=`${a}Container`;e[i]={},e.pageContainers[i]=e[i];var{attributes:o={}}=n,s=wP(o.style);s.hidden=!0,"singlePage"!==r.label&&(s.width=t.windowWidth,s.height=t.windowHeight),o.style=bP(s),this.create(n,a);var c=e[i][a];if(e[a]=c,e[a].isPage=!0,e.pages.push(c),kp.uo.add(c),"singlePage"===r.label){var{style:l}=c;this.componentInstance.style={width:l.width||0,height:l.height||0,left:0,top:0};["width","height","left","top"].forEach((e=>{Object.defineProperty(this.componentInstance.style,e,{configurable:!0,enumerable:!0,get:()=>c.computedStyle[e],set:t=>{if("width"===e||"height"===e)throw new Error("can not set width and height");t!==l[e]&&(l[e]=t)}})})),Object.keys(e.style).forEach((t=>{"left"!==t&&"top"!==t||(this.componentInstance.style[t]=e.style[t])}))}})),this.componentInstance.ready=!0,e.emitter.emit("load"),VP(e,(0,Qu.x9)()),(0,gp.dN)((t=>{VP(e,t)}))}updateListTreeChild(e,t){var{dataset:r}=e;if(r.origin&&UP.test(r.origin)){var n=hP({item:t},UP.exec(r.origin)[1]);r.origin_source=n}if(r.render&&UP.test(r.render)){var a=hP({item:t},UP.exec(r.render)[1]);a&&(e.value=a,e.src=a)}if(r.if&&UP.test(r.if)){var i=hP({item:t},UP.exec(r.if)[1]);void 0!==i&&(e.style.hidden=!i)}for(var o in e.children)this.updateListTreeChild(e.children[o],t)}updateListTree(e,t){var r=wP(t.value,[]),n=Object.keys(e.children).map((t=>e.children[t]));r.forEach(((e,t)=>{this.updateListTreeChild(n[t],e)}))}updateList(e,t){var{dataset:r}=e,n=wP(t.value);if(e&&"list"===e.dataset.type&&t.value_filter_name){var a=Object.keys(e.children).map((t=>e.children[t])),i=t.value_filter_name.split(".");if(i[0].indexOf("[]")>-1){var o=n[i[0].replace("[]","")];if(o){var s=i[1];a.forEach(((e,t)=>{if(o[t]&&o[t][s]){var n=o[t][s];"avatar_url"===s&&(n+="/0"),e.src=n,e.value=n}else r.defaultvalue&&(e.src=r.defaultvalue,e.value=r.defaultvalue)}))}}}}getElementsByClassName(e){var{_private:t}=this,r=[];return Object.keys(t.pageContainers).forEach((n=>{var a=t.pageContainers[n],i=Object.keys(a);r=r.concat(i.map((t=>!!(a[t].dataset.className||"").split(/\s+/).find((t=>t===e))&&a[t])).filter((e=>e)))})),r}getElementById(e){var t,{_private:r}=this;return"root"===e?r.root:(Object.keys(r.pageContainers).forEach((n=>{var a=r.pageContainers[n],i=Object.keys(a).find((t=>a[t].dataset.idName===e));i&&a[i]&&(t=a[i])})),t)}updateOneElement(e,t){var{_private:r}=this,n=t||this.getElementById(e.id),{attributes:a={},value:i}=e;if(n){if(void 0!==a.hide&&(n.style.hidden=a.hide,!1===n.style.hidden&&n.isPage&&r.reporter.reportKeyValue({action:SP.actionMap.exposure,isSuccess:1,externInfo:bP(n.dataset)})),i&&n.value&&(n.value=i),i&&n.src&&(n.src=i),a.dataset&&(n.dataset=Object.assign(n.dataset,wP(a.dataset))),a.style)try{var o=wP(a.style);Object.assign(n.style,o),void 0!==o.scale&&$P(n,o.scale)}catch(e){}void 0!==a.disabled&&(n.disabled=a.disabled),this.updateList(n,e),"list"!==n.dataset.type||e.value_filter_name||this.updateListTree(n,e)}e.items&&e.items.length&&e.items.forEach((e=>{this.updateOneElement(e)}))}modelsHandler(e){e.forEach((e=>{this.updateOneElement(e)})),e.filter((e=>"root"===e.id)).forEach(this.rootHandler.bind(this))}rootHandler(e){var{_private:t}=this,{extra:r={}}=e,n=wP(r.action);if("execFlow"===n.actionType)DP.flowParser(t,n);else if("execConfigFlow"===n.actionType){var{type:a,channel:i}=n,o=t.config.flows.find((e=>e.id===a));if(o){var s=_P(o);s.channel=i||s.channel,DP.actionFlow(t,s)}}else if("execModelAction"===n.actionType){var c=n.model_actions||[];"string"==typeof c&&(c=wP(c,[])),c.forEach((e=>{if(!e.name&&e.id)this.updateOneElement(e);else if(!e.name&&e.class)this.getElementsByClassName(e.class).forEach((t=>{this.updateOneElement(e,t)}));else{var r=_P(t.config.model_actions.find((t=>t.name===e.name)));r.id=e.id,this.updateOneElement(r)}}))}}}O.Z.onReady((()=>{var e=t=>{jT["minigamelive"]!==BT?(jP||(jP=new __minigameLiveSDK__),(0,_A.h)("minigamelive","transferGameLiveStateChange",t)):(0,op.KR)(e)};(0,op.DT)(e)}));var zP=d(9468),ZP=d(7486),HP=0,KP=new zP.n({pluginAppId:"wxapplib_launchScreen",pluginVersion:"1.0.0"}),JP="LaunchScreen";var YP=new(d(4730).v);function QP(e){e.ExternInfo&&"string"!=typeof e.ExternInfo&&(e.ExternInfo=encodeURIComponent(JSON.stringify(e.ExternInfo))),YP.send(e)}YP.setBase({SceneID:63,UIArea:6301});var XP=d(1404),ex=d(3365);var tx,rx,nx="_private_@@launch_screen@@";!function(e){e[e.Image=0]="Image",e[e.Video=1]="Video",e[e.Live=2]="Live"}(tx||(tx={})),function(e){e[e.REPORT_TYPE_EXPOSURE=1]="REPORT_TYPE_EXPOSURE"}(rx||(rx={}));var ax,ix=d(373),{setStorageSync:ox,getStorageSync:sx}=ve.game;class cx{constructor(){this.layerDatas=[],this.canRenderNext=!0,this.onShowListener=void 0,KP.report({Type:ZP.jJ.Info,Target:`${JP}Init`}),this.loadData()}loadData(){HP=Date.now(),KP.report({Type:ZP.jJ.Info,Target:`${JP}LoadData`}),new Promise(((e,t)=>{(0,ex.i)({reqData:{req_path:"data.getapppopupad",json_data:{appid:O.Z.accountInfo.appId}},timeout:3e4,success(t){var{data:r}=t;e(r)},fail(e){t(e)}})})).then((e=>{var t;KP.report({Type:ZP.jJ.Info,CostTime:Date.now()-HP,Target:`${JP}LoadSuccess`}),this.layerDatas=this.parseData((null===(t=e.pop_ad)||void 0===t?void 0:t.layer_list)||[]),this.onShowListener=()=>{this.canRenderNext||(this.canRenderNext=!0,this.renderNext())},(0,gp.dN)(this.onShowListener),this.renderNext()})).catch((e=>{var t;t=(0,ix.bV)(e),KP.report({Type:ZP.jJ.Error,CostTime:Date.now()-HP,Target:`${JP}LoadError`,Result:t}),this.destroy()}))}parseData(e){var t=[];return null==e||e.forEach((e=>{var r=e.slot_meta,n=e.slot_info_list;if(r&&n&&"number"==typeof r.slot_width&&r.slot_width>0&&"number"==typeof r.slot_heigth&&r.slot_heigth>0){var a=e.layer_uuid||"",i={id:a,type:r.data_type,width:r.slot_width,height:r.slot_heigth,banners:[],videos:[]};r.data_type===tx.Image&&(n.forEach((e=>{var t=e.img_data;t&&t.img_url&&t.jump_url&&i.banners.push({imageUrl:t.img_url,jumpUrl:t.jump_url})})),i.banners.length>0&&this.checkCacheTime(a)&&t.push(i))}})),t}renderNext(){var e=this.layerDatas.shift();e?this.render(e):this.destroy()}render(e){var t=this;return Q()((function*(){var r=yield new Promise((e=>__sclEngine__.initScl((t=>e(t.mainRoot))))),n=r.append("launch-screen",Z()({},e));n.addListener("ready",(()=>{KP.report({Type:ZP.jJ.Info,CostTime:Date.now()-HP,Target:`${JP}CreateSuccess`}),QP({PositionID:1,ActionID:1}),function(e,t){new Promise(((r,n)=>{(0,ex.i)({reqData:{req_path:"data.reportapppopupad",json_data:{appid:O.Z.accountInfo.appId,report_type:t,layer_uuid:e}},timeout:3e4,success(e){var{data:t}=e;r(t)},fail(e){n(e)}})}))}(e.id,rx.REPORT_TYPE_EXPOSURE)})),n.addListener("close",(r=>{var n,a;n=r.detail.isCacheToday,a=r.detail.isButton,QP({PositionID:1,ActionID:3,ExternInfo:{popup:n?1:0,off_position:a?1:2}}),!0===r.detail.isCacheToday&&t.cacheToday(e.id)})),n.addListener("destroy",(()=>{n=null,t.canRenderNext&&t.renderNext()})),n.addListener("openUrl",(r=>{QP({PositionID:1,ActionID:2,ExternInfo:{popup:r.detail.isCacheToday?1:0}}),!0===r.detail.isCacheToday&&t.cacheToday(e.id),(0,XP.n8)({url:r.detail.url}),t.canRenderNext=!1}))}))()}checkCacheTime(e){var t=sx(nx+e);try{t&&(t=JSON.parse(t))}catch(e){}return!(t&&t.time&&t.time>new Date((new Date).setHours(0,0,0,0)))||(this.cacheToday(e),!1)}cacheToday(e){ox(nx+e,JSON.stringify({time:Date.now()}))}destroy(){(0,gp.Tb)(this.onShowListener),KP.report({Type:ZP.jJ.Info,CostTime:Date.now()-HP,Target:`${JP}Destroy`})}}var lx=function(){return ax||(ax=new cx)};O.Z.onReady((()=>{(0,Ze.J)("gameLaunchPopupView")&&lx()}));class ux extends Fv.wA{constructor({id:e,name:t,style:r={}}={}){super();var n=(0,Fv.Wj)(this);n.style=r,n.uiEngine=new qP(n,this),n.act_id=e,n.comp_id=t,n.emitter=new qA.Z,n.destroyPromise=null,n.reporter=new SP(n),this.isDestroyed=!1,this.ready=!1,this.id=e,this.name=t,yP.call(this).catch((()=>{}))}offClose(e){this.isDestroyed||(0,Fv.Wj)(this).emitter.off("close",e)}onClose(e){this.isDestroyed||(0,Fv.Wj)(this).emitter.on("close",e)}destroy(){return mP.call(this)}onLoad(e){this.isDestroyed||(0,Fv.Wj)(this).emitter.on("load",e)}onError(e){this.isDestroyed||(0,Fv.Wj)(this).emitter.on("error",e)}offLoad(e){this.isDestroyed||(0,Fv.Wj)(this).emitter.off("load",e)}onMessage(e,t){(0,Fv.Wj)(this).emitter.on(e,t)}offMessage(e,t){(0,Fv.Wj)(this).emitter.off(e,t)}invoke(e={}){if(this.isDestroyed)return Promise.reject(new Error("组件已经被销毁"));var t=(0,Fv.Wj)(this),{action:r}=e;return t.config&&t.config.flows&&t.config.flows.find((e=>e.id===r))?r&&t.uiEngine.oneFlowExec(r):Promise.reject(new Error(`action ${r} is not exist`))}}var dx=e=>new ux(e);(0,M.a)((e=>{globalThis.setTimeout=e.setTimeout,globalThis.clearTimeout=e.clearTimeout,globalThis.setInterval=e.setInterval,globalThis.clearInterval=e.clearInterval,globalThis.requestAnimationFrame=e.requestAnimationFrame,globalThis.cancelAnimationFrame=e.cancelAnimationFrame})),globalThis.GameGlobal=globalThis,GameGlobal.__isAdapterInjected=!1;var px=!1;ur.U.once("beforeTouchStart",(()=>{px=!0}));var fx=(e={})=>{var t;px?((0,Dh.y4)(Dh.F0.EVENT_CANVAS_BEFORE_JUMP_TO_CUSTOMER_SERVICE),(0,Pe._showModal)({content:`即将进入“${null===(t=O.Z.accountInfo)||void 0===t?void 0:t.nickname}”客服会话`,confirmText:"确认",cancelText:"取消",success(t){t.confirm?(0,B.IN)("enterContact",e,{}):(0,B.YG)("openCustomerServiceConversation",e,"cancel")},fail(){(0,B.YG)("openCustomerServiceConversation",e,"showModal fail")}})):(0,B.YG)("openCustomerServiceConversation",e,"require user interaction")},hx=d(2105),gx=(e,t)=>{var r=void 0!==De.hr&&void 0!==De.hr.getCurrentPagesByDomain&&De.hr.getCurrentPagesByDomain(""),n=r&&r.pop&&r.pop(),a={business:"mmbizwxaanalytics",eventID:e,data:t||{},page:n&&n.__route__,uid:Date.now().toString(16)+Math.random().toString(16).substr(2),type:1,version:(null===O.Z||void 0===O.Z?void 0:O.Z.SDKVersion)||0};R.gm||(console.info("[自定义分析] 上报成功"),console.info(a)),(0,B.IN)("reportRealtimeAction",{actionData:JSON.stringify(a)})},vx=(e,t)=>{if(e)if(void 0===t&&(t=1),"number"==typeof t){var r=JSON.stringify({business:"mmbizwxamonitor",name:e,value:t,timeStamp:Date.now()});(0,B.IN)("reportRealtimeAction",{actionData:r})}else console.error("wx.reportMonitor: 'value' argument must be a Number.");else console.error("wx.reportMonitor: require 'name' argument.")},mx=(e={})=>{var t=Object.assign({},e),{name:r,packageType:n}=t;if("workers"===n)t.name="/workers.js";else{if(!(0,B.r3)("loadSubPackage",t,{name:""}))return;if(om(r))return void(0,B.YG)("loadSubpackage",t,'argument "name" cannot be "workers.js"');var a=O.Z.subPackages||O.Z.subpackages;if(!a)return void(0,B.YG)("loadSubpackage",t,"Your subpackages configuration is invalid.");t.name=((e,t)=>{t.forEach((t=>{e!==t.alias&&e!==t.name||(e=t.root)}));var r="__APP__"===e||"__GAME__"===e;return r||e.startsWith("/")||(e=`/${e}`),r||e.endsWith(".js")||e.endsWith("/")||(e=`${e}/`),"__GAME__"===e&&(e="__APP__"),e})(r,a)}try{return new ym(t)}catch(e){return void(0,B.YG)("loadSubpackage",t,e.message)}},yx={};function bx(e={}){if(!Array.isArray(e.packages))return Promise.reject(new Error("packages must be an array."));"all"!==e.network&&(e.network="wifi"),console.info("preloadSubpackages: "+e.packages.join(", "));var t=e.packages.filter((e=>!(e in yx)));return("all"!==e.network?new Promise(((e,t)=>{var r=(0,Je._getCurrentNetworkType)();r?e(r):(0,Je.getNetworkType)({success(r){r.networkType?e(r.networkType):t(new Error("get network type failed."))},fail:t})})).then((e=>{if("wifi"!==e.toLowerCase())return Promise.reject(new Error(`network type does not match, '${e}' !== 'wifi'`))}),(()=>Promise.reject(new Error("get network type failed.")))):Promise.resolve()).then((()=>Promise.all(t.map((e=>new Promise((r=>{mx({name:e,success(){yx[e]=!0,r(t)},fail(t){var n=new Error(t.errMsg.replace("loadSubpackage:fail",""));n.packageName=e,r(n)}})}))))).then((e=>{if((e=e.filter((e=>e instanceof Error))).length>0){var t=new Error("preload subpackages failed.");return t._detail=e,Promise.reject(t)}}))))}O.Z.onReady((()=>{Fl((({path:e})=>{if(O.Z.preloadRule&&O.Z.preloadRule[e])return bx(O.Z.preloadRule[e]).then((()=>{console.info("preloadSubpackages: success")}),(e=>{e._detail?(console.group(`preloadSubpackages fail: ${e.message}`),e._detail.forEach((e=>{console.warn(`${e.packageName}: ${e.message}`)})),console.groupEnd()):console.warn(`preloadSubpackages fail: ${e.message}`)}))}))}));var _x={},wx=[],Ix=new WeakMap,Sx=new WeakMap,kx=function(e){return _x[e]},Cx=function(e){var t=Object.assign({},e);return delete t.taskId,delete t.state,delete t.moduleName,t};em.on("success",((e,t)=>{var r=kx(e);delete _x[e],am(e),Array.isArray(r)&&r.forEach(function(){var e=Q()((function*(e){var r=t.moduleName,n=Ix.get(e),a=Cx(t);wx.push(r),a.errMsg="preDownloadSubpackage:ok","function"==typeof n.success&&n.success(a),"function"==typeof n.complete&&n.complete(a)}));return function(t){return e.apply(this,arguments)}}())})),em.on("fail",((e,t)=>{var r=kx(e);delete _x[e],am(e),Array.isArray(r)&&r.forEach((e=>{var r=Ix.get(e),n=Cx(t);n.errMsg="preDownloadSubpackage:fail module not found","function"==typeof r.fail&&r.fail(n),"function"==typeof r.complete&&r.complete(n)}))})),em.on("progressUpdate",((e,t)=>{var r=kx(e);Array.isArray(r)&&r.forEach((e=>{var r=Sx.get(e),n=Cx(t);"function"==typeof r&&r(n)}))}));var Tx=function(){var e=Ix.get(this),{name:t}=e;if(wx.indexOf(t)>=0){var r={errMsg:"preDownloadSubpackage:ok",moduleName:t};return"function"==typeof e.success&&e.success(r),void("function"==typeof e.complete&&e.complete(r))}if("__APP__"===t&&R.gm&&(0,Re.N0)()&&(0,R.aI)()){wx.push(t);var n={errMsg:"preDownloadSubpackage:ok"};return"function"==typeof e.success&&e.success(n),void("function"==typeof e.complete&&e.complete(n))}im("createLoadSubPackageTask",t,(e=>{void 0===_x[e]?_x[e]=[this]:_x[e].push(this)}),(t=>{t.errMsg?t.errMsg=t.errMsg.replace("createLoadSubPackageTask","preDownloadSubpackage"):t.errMsg="preDownloadSubpackage:fail module not found",_.surroundThirdByTryCatch(e.fail)(t),_.surroundThirdByTryCatch(e.complete)(t)}))};class Ex{constructor(e){Ix.set(this,e),["success","fail","complete"].forEach((t=>{"function"==typeof e[t]&&(e[t]=_.surroundThirdByTryCatch(e[t],`at api preDownloadSubpackage ${t} callback function`))})),Tx.call(this)}onProgressUpdate(e){Sx.set(this,(t=>{void 0!==t.totalBytesWriten&&(t.totalBytesWritten=t.totalBytesWriten,delete t.totalBytesWriten),"function"==typeof e&&_.surroundThirdByTryCatch(e,"at PreDownloadSubpackageTask.onProgressUpdate callback function")(t)}))}}var Ax=(e={})=>{var t=Object.assign({},e),{packageType:r}=t;if("workers"===r){t.name="/workers.js";try{return new Ex(t)}catch(e){return void(0,B.YG)("preDownloadSubpackage",t,e.message)}}else(0,B.YG)("preDownloadSubpackage",t,"invalid packageType")},Px=(0,Re.Fr)(Pe._showModal),xx=d(1625),Mx="RefreshRuntimeSession",Rx=e=>{var t=0,r=0,n=()=>{++t>=e&&(0,B.Qh)({apiName:Mx,sdkApiName:Mx,reqData:{}}).then((e=>{var{errMsg:t,respData:r}=e;if(0!==r.err_no)throw t;(0,xx._w)(n)})).catch((e=>{++r>=2&&(0,xx._w)(n)}))};(0,xx.bm)(n)},Dx=e=>new Promise((t=>setTimeout(t,e)));class Lx{constructor(e,t=!1){var r=286;this.orientation=e,this.animating=!1;var{screenWidth:n}=(0,Ce.getSystemInfoSync)(),a=parseInt(32767*Math.random(),10)+32767;this.isFullScreen=t;var i=new kp.G7({id:a,style:{position:"absolute",left:(n-r)/2,top:this.getTop(),width:r,height:38,backgroundColor:"#000000",opacity:0,zIndex:1000001,borderRadius:5,fixed:!(0,R.aI)()}}),o=new kp.xv({id:a+1,style:{left:0,top:0,width:r,height:38,textAlign:"center",lineHeight:38,fontSize:15,color:"#ffffff"},value:`该${(0,R.aI)()?"小游戏":"小程序"}业务及数据已由新开发者承接`});i.add(o),kp.uo.add(i),this.banner=i,this.bannerWidth=r}show(){this.banner.ready().then((()=>(this.animating=!0,this.banner.animate({top:this.getTop(),opacity:.7,duration:300})))).then((()=>(this.animating=!1,Dx(5e3)))).then((()=>(this.animating=!0,this.banner.animate({top:this.getTop()-14,opacity:0,duration:300})))).then((()=>Dx(3e3))).then((()=>kp.uo.remove(this.banner))).catch((()=>{}))}getTop(){var{screenHeight:e}=(0,Ce.getSystemInfoSync)();return this.isFullScreen?"portrait"===this.orientation?e/8:e/6:16}setOrientation(e){if(!this.animating){this.orientation=e;var{screenWidth:t}=(0,Ce.getSystemInfoSync)();this.banner.style.left=(t-this.bannerWidth)/2,this.banner.style.top=this.getTop()}}}var Nx=!1;O.Z.onReady((()=>{try{Nx=O.Z.appContactInfo.operationInfo.jsonInfo.misc_ban_info.minigame_freeze_status}catch(e){}Nx?(0,B.Qh)({sdkApiName:"informFreezed",apiName:"webapi_wxacloseinfo",reqData:{}}).then((e=>{var t=e.data;if(t.need_show&&t.svr_stoptimestamp){t.svr_stoptimestamp;var r=t.svr_stoptimestamp,n=new Date(1e3*r),a=n.getFullYear(),i=n.getMonth()+1,o=n.getDate();return Px({title:"提示",content:`本小游戏计划于 ${a}-${i}-${o} 下架，请及时处理充值所得道具，注意保护自身合法权益`,showCancel:!1})}})).catch((e=>{e.errMsg})).then((()=>jg())):jg(),setTimeout((()=>{var e,t;e=O.Z.deviceOrientation,t=!0,(0,B.Qh)({sdkApiName:"getSubjectalterInfo",apiName:"getSubjectalterInfo",reqData:{}}).then((r=>{var n=JSON.parse(r.rawData),{need_show:a,runtime_refresh_clicks:i}=n;if(i&&(0,R.er)()&&Rx(i),a){var o=new Lx(e,t);return o.show(),o}})).catch((()=>{}))}),2e3)}));var Ox=!1,Bx=0;ur.U.on("setLastTapTime",(e=>{Bx=e})),ur.U.on("beforeTouchStart",(()=>{Ox=!0,Bh.c.startLimitCount||Bh.c.allowStartLimitCount(),Bx=Date.now()})),(0,pr.vv)((()=>{Ox=!1,Bx=0}));var jx=!0,Fx=e=>{if(jx){Bh.g.navigateCount++;var t=Bh.c.allowSkip;if((0,aP.Y)({name:"navigateToMiniProgram",scene:0,strategy:0,timeDiffToLastTap:0===Bx?-2:Date.now()-Bx}),3===t)Ox?((0,Dh.y4)(Dh.F0.EVENT_CANVAS_BEFORE_JUMP_TO_APP),(0,Oh.ow)(e)):(0,B.YG)("navigateToMiniProgram",e,"require user interaction");else{jx=!1,Bh.g.bannedCount++;var{modalMessage:r,modalConfirm:n,constant:{modalCancel:a}}=Bh.c;(0,Pe._showModal)({__sdk_inner_allowShowMoreLength__:!0,content:r,confirmText:n,cancelText:a,success(t){jx=!0,t.confirm?(Bh.c.reportModalConfirm(),(0,Lh.n)({url:Bh.c.modalSkipLink}),(0,B.YG)("navigateToMiniProgram",e,"navigate ability banned!")):(Bh.c.reportModalCancel(),(0,B.YG)("navigateToMiniProgram",e,"navigate ability banned!"))},fail(e){jx=!0,e.errMsg}})}}},Ux=e=>{(0,B.IN)("hideSplashScreen",e)},Wx=1;O.Z.onReady((()=>{["close","error","listening","message"].forEach((e=>{(0,B.jQ)(`onUDPSocket${(0,Re.fm)(e)}`,(t=>{var{socketId:r}=t;delete t.socketId,(0,Re.fm)(e),(0,j.s)(`jsapi-udp-${r}-${e}`).emit(t)}))}))}));class Gx{constructor(e){var t;if(this._id=Wx++,(0,B.IN)("createUDPSocket",{socketId:this._id,type:"udp6"===e?"IPv6":"IPv4",fail(e){e.errMsg,t=e.errMsg}}),t)throw new Error(t);["close","error","listening","message"].forEach((e=>{var t=(0,j.s)(`jsapi-udp-${this._id}-${e}`);this[`on${(0,Re.fm)(e)}`]=t.onMethod,this[`off${(0,Re.fm)(e)}`]=t.offMethod}))}bind(e){var t,r;if((0,B.IN)("bindUDPSocket",{port:e,socketId:this._id,success(e){t=e.port},fail(e){r=e.errMsg}}),r)throw new Error(r);return t}setTTL(e){var t;if((0,B.IN)("setUDPSocketTTL",{ttl:e,socketId:this._id,fail(e){t=e.errMsg}}),t)throw new Error(t)}send(e={}){var t;t=ArrayBuffer.isView(e.message)?e.message.buffer:e.message,(0,B.IN)("sendUDPSocketMessage",Object.assign({},e,{socketId:this._id,message:t,success(e){},fail:({errMsg:e})=>{(0,j.s)(`jsapi-udp-${this._id}-error`).emit({errMsg:`send: fail ${e}`})}}))}connect(){}write(e){this.send(e)}close(){var e;if((0,B.IN)("closeUDPSocket",{socketId:this._id,fail(t){e=t.errMsg}}),e)throw new Error(e)}}var Vx=d(2679),$x=d(6564),qx=new WeakMap,zx=new WeakMap,Zx=new WeakMap,Hx=1;class Kx{constructor(e){var t=M.Z.UDP;if(!t)return null;var r=new t;if(null===r)return null;var n=Hx++;["close","error","listening","message"].forEach((e=>{var t=(0,j.s)(`jsbinding-udp-${n}-${e}`);r[`on${e}`]=function(...r){"message"===e&&r[0].remoteInfo&&(r[0].localInfo={address:r[0].remoteInfo.localaddress,family:r[0].remoteInfo.localfamily,port:r[0].remoteInfo.localport},delete r[0].remoteInfo.localaddress,delete r[0].remoteInfo.localfamily,delete r[0].remoteInfo.localport),t.emit(...r),"error"===e?((0,$x.m)("createUDPSocket.onError.callback",(0,Dr.M8)(),void 0,!1,Date.now(),0,r[0],0,!0,0),w.reportIDKey({key:"UDPError"})):"message"===e&&w.reportIDKey({key:"receiveUDPMessage"})},this[`on${(0,Re.fm)(e)}`]=t.onMethod,this[`off${(0,Re.fm)(e)}`]=t.offMethod})),qx.set(this,r),zx.set(this,n),Zx.set(this,"udp6"===e?"IPv6":"IPv4")}bind(e){return(0,Vx.P)("bindUDP","",1,0,"","",!1,0),w.reportIDKey({key:"bindUDP"}),qx.get(this).bind({port:e,type:Zx.get(this)})}setTTL(e){if(Number.isNaN(Number(e))){(0,j.s)(`jsbinding-udp-${zx.get(this)}-error`).emit({errMsg:"set ttl fail: ttl must be a number.",errCode:-4})}else{var t=qx.get(this);"IPv6"===Zx.get(this)?(t.setopt({level:t.getMacro("IPPROTO_IPV6"),option:t.getMacro("IPV6_UNICAST_HOPS"),optionval:Number(e)}),t.setopt({level:t.getMacro("IPPROTO_IPV6"),option:t.getMacro("IPV6_RECVHOPLIMIT"),optionval:Number(e)}),t.setopt({level:t.getMacro("IPPROTO_IPV6"),option:t.getMacro("IPV6_RECVPKTINFO"),optionval:1})):(t.setopt({level:t.getMacro("IPPROTO_IP"),option:t.getMacro("IP_TTL"),optionval:Number(e)}),t.setopt({level:t.getMacro("IPPROTO_IP"),option:t.getMacro("IP_PKTINFO"),optionval:1}),t.setopt({level:t.getMacro("IPPROTO_IP"),option:t.getMacro("IP_RECVTTL"),optionval:Number(e)}))}}send(e={}){if((0,Ze.J)("UDP")){var t,r=`udp://${e.address}`;t=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;var n=qx.get(this);if(e.setBroadcast){var a=n.getMacro("SOL_SOCKET"),i=n.getMacro("SO_BROADCAST");a>=0&&i>=0&&n.setopt({level:a,option:i,optionval:1})}if(n.send(Object.assign({},e,{message:t})),Math.random()>.99){var o={setBroadcast:e.setBroadcast?1:0};(0,Vx.P)("sendUDP",r,1,0,"","",!1,(0,Re.Y6)(e.message),0,{},0,o)}w.reportIDKey({key:"sendUDPMessage"})}else{(0,j.s)(`jsbinding-udp-${zx.get(this)}-error`).emit({errMsg:"send socket fail: no permission",errCode:-3})}}connect(e={}){var t=qx.get(this);"function"==typeof t.connect&&t.connect(e)}write(e={}){if((0,Ze.J)("UDP")){var t;t=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;var r=qx.get(this);"function"==typeof r.write?r.write(Object.assign({},e,{message:t})):this.send(e)}else{(0,j.s)(`jsbinding-udp-${zx.get(this)}-error`).emit({errMsg:"write socket fail: no permission",errCode:-3})}}onConnect(e){qx.get(this).onconnect=e}close(){return qx.get(this).close()}}var Jx=(e="udp4")=>M.Z.UDP?new Kx(e):new Gx(e),Yx=!1,Qx=null,Xx=null;(0,Ul.HM)((()=>{Yx=!0})),Fl((()=>{Yx=!1,Qx&&(eM(Qx),Qx=null),Xx&&(tM(Xx),Xx=null)}));var eM=e=>{(0,B.r3)("addCard",e,{cardList:[]})&&(Yx?Qx=e:(0,B.IN)("addCard",e))},tM=e=>{(0,B.r3)("openCard",e,{cardList:[]})&&(Yx?Xx=e:(0,B.IN)("openCard",e))},rM=(e={})=>{(0,B.IN)("markScene",e)},nM=!1;(0,Ul.HM)((()=>{nM=!1})),(0,si.J)((()=>{nM=!1}));var aM=e=>{w.reportIDKey({key:"requestSubscribeMessageWithNative",force:!0});var t=Object.assign({},e);t.tmplIds=Array.from(new Set(e.tmplIds)),(0,B.IN)("requestSubscribeMessage",t,{beforeAll(){nM=!1},beforeSuccess(){w.reportIDKey({key:"requestSubscribeMessageWithNativeSuccess",force:!0}),nM=!1},beforeFail(){w.reportIDKey({key:"requestSubscribeMessageWithNativeFail",force:!0})}})},iM=e=>{var t,r,n=e.tmplIds||[];if(0===n.length?(t="TmplIds can't be empty",r=10001):n.length>=4?(t="Templates count out of max bounds",r=20003):""===n[0]?(t="No template data return, verify the template id exist",r=20001):"string"!=typeof n[0]&&(t="Invalid template id",r=10004),t)return nM=!1,void(0,B.YG)("requestSubscribeMessage",e,t,r);var a=n.map((e=>({TemplateId:e})));(0,B.yD)({sdkApiName:"requestSubscribeMessage",apiName:"webapi_subscribe_msg",reqData:{AppId:O.Z.accountInfo.appId,ActionType:1,ItemList:a},success(t){var r=(t.data.InfoList||[])[0]||{};if(r.TemplateId!==n[0])return nM=!1,void(0,B.FE)({name:"requestSubscribeMessage",args:e,res:{[n[0]]:"ban"}});var a="订阅一次以下消息通知";3===r.TemplateType&&(a="长期订阅以下消息通知"),(0,Pe.showModal)({title:a,content:r.Title||"",confirmText:"允许",cancelText:"取消",success(t){nM=!1,oM(e,t)},fail(t){nM=!1,(0,B.YG)("requestSubscribeMessage",e,t.errMsg)}})},fail(t){var r=t.errMsg.replace("requestSubscribeMessage:fail","").trim();(0,B.YG)("requestSubscribeMessage",e,r,+t.err_code),nM=!1}})},oM=(e,t)=>{var r=e.tmplIds[0];(0,B.yD)({sdkApiName:"requestSubscribeMessage",apiName:"webapi_subscribe_msg",reqData:{AppId:O.Z.accountInfo.appId,ActionType:2,UIData:{OpType:t.confirm?1:2,UIItem:[{TemplateId:r,ChooseStatus:1}]}},success(){var n={};n[`${r}`]=""+(t.confirm?"accept":"reject"),(0,B.FE)({name:"requestSubscribeMessage",args:e,res:n}),_r({name:"requestSubscribeMessage",data:{templateCount:1,templateType:0,operationType:t.confirm?1:2}})},fail(t){var r=t.errMsg.replace("requestSubscribeMessage:fail","").trim();(0,B.YG)("requestSubscribeMessage",e,r,+t.err_code)}})},sM=(0,KA.P2)((e=>{if(nM)(0,B.YG)("requestSubscribeMessage",e,"last call has not ended");else{if(!(0,B.r3)("requestSubscribeMessage",e,{tmplIds:[]}))return;nM=!0,R.cj&&O.Z.clientVersion<385877504||R.wZ&&O.Z.clientVersion<654313216||R.gm?iM(e):aM(e)}}),1e3),cM=e=>{(0,ep.Vt)()?sM(e):(0,B.YG)("requestSubscribeMessage",e,"require user interaction (only in touchend event)")},lM=d(9636),uM=d(2598),dM="getWhatsNewSubscriptionsSetting",pM=(e={})=>{var{success:t,fail:r,failWithMsg:n}=(0,B.Rn)(e,dM);(0,Ze.J)("requestSubscribeWhatsNew")?(0,B.yD)({sdkApiName:dM,apiName:"webapi_game_query_subscribe_whats_new",reqData:{msg_type:e.msgType||1},success(e){t({status:e.data.status})},fail:r}):n({code:4,msg:""})},fM=({action:e})=>{var t=(0,Xu.y)(),r=[t.scene||"",t.scene_note||"",t.sessionid||t.sessionId||"",e].join(",");w.reportKeyValue({key:"GameWhatsNew",value:r})},hM="requestSubscribeWhatsNew",gM=!1;function vM(){return new Promise((e=>{fM({action:2});var t=(0,uM.U)({title:"接收游戏更新提醒",content:`${O.Z.accountInfo.nickname}更新时，你将收到微信小游戏的提醒`,confirmText:"接收",cancelText:"取消",confirm(){t.destroy(),e({confirm:!0}),fM({action:4})},cancel(){t.destroy(),e({confirm:!1}),fM({action:3})},style:{title:{fontSize:17,color:"#1b1b1b"},content:{fontSize:14,color:"#d4d4d4",lineHeight:19.6,marginTop:16,marginBottom:0},confirm:{backgroundColor:"#FA9D3B"},cancel:{color:"#FA9D3B"}}})}))}function mM(e={}){gM?(0,B.YG)(hM,e,"please invoke after last subscription ended"):(gM=!0,(0,ep.UP)().then((()=>function(e={}){return new Promise(((t,r)=>{fM({action:1}),(0,Ze.J)("requestSubscribeWhatsNew")?pM({msgType:e.msgType,success(e){1===e.status?t():r({errCode:e.status})},fail(e){r(e)}}):r({errCode:4})}))}(e))).then(vM).then((t=>t.confirm?function(e={}){return new Promise(((t,r)=>{(0,B.yD)({apiName:"webapi_game_subscribe_whats_new",reqData:{msg_type:e.msgType||1},success(e){var n=e.data,{errcode:a}=n;0===a?t({confirm:!0}):r({errCode:a})},fail(e){r({errCode:e.errcode||e.errCode,errMsg:e.errMsg})}})}))}(e):t)).then((t=>{(0,B.FE)({name:hM,args:e,res:t}),gM=!1})).catch((t=>{(0,B.YG)(hM,e,t.errMsg||t.message,+(t.errCode||t.err_code)),gM=!1})))}var yM,bM={File_NotExist:16013,GameRecorder_AbortWhileNotStartRecording:22403,GameRecorder_BGMNotFound:22613,GameRecorder_EditDurationOutOfLimit:22633,GameRecorder_InternalFailed:22012,GameRecorder_NoVideo:22603,GameRecorder_NotSupported:22022,GameRecorder_PauseWhileAlreadyPaused:22213,GameRecorder_PauseWhileNotStartRecording:22203,GameRecorder_ResumeWhileNotStartRecording:22303,GameRecorder_ResumeWhileRecording:22313,GameRecorder_StartBitRateInvalid:22113,GameRecorder_StartDurationInvalid:22103,GameRecorder_StartFPSInvalid:22123,GameRecorder_StartGOPInvalid:22133,GameRecorder_StartWhileAlreadyStartRecording:22143,GameRecorder_StartWhilePaused:22153,GameRecorder_StopWhileNotStartRecording:22503,GameRecorder_TimeRangeInvalid:22623,GameRecorder_TimeRangeTooShort:22643,GameRecorder_UnknownError:22002,Global_APINoAuthorization:10022,Global_APINoPermission:10012,Global_FileStorageNotEnough:10031,MediaRecorder_AbortWhileNotStartRecording:23403,MediaRecorder_BGMNotFound:23613,MediaRecorder_EditDurationOutOfLimit:23633,MediaRecorder_InternalFailed:23012,MediaRecorder_NoVideo:23603,MediaRecorder_NotSupported:23022,MediaRecorder_PauseWhileAlreadyPaused:23213,MediaRecorder_PauseWhileNotStartRecording:23203,MediaRecorder_ResumeWhileNotStartRecording:23303,MediaRecorder_ResumeWhileRecording:23313,MediaRecorder_StartBitRateInvalid:23113,MediaRecorder_StartDurationInvalid:23103,MediaRecorder_StartFPSInvalid:23123,MediaRecorder_StartGOPInvalid:23133,MediaRecorder_StartWhileAlreadyStartRecording:23143,MediaRecorder_StartWhilePaused:23153,MediaRecorder_StopWhileNotStartRecording:23503,MediaRecorder_TimeRangeInvalid:23623,MediaRecorder_TimeRangeTooShort:23643,MediaRecorder_UnknownError:23002,Network_RequestTimeout:14012,OK:0,Render_CanvasIllegalInvocation:13013,Render_FontFileInvalid:13023,Render_ImageLoadFailed:13033,Storage_NotFound:15013},_M=e=>e.toString().endsWith(1),wM=e=>e.toString().endsWith(2),IM=e=>e.toString().endsWith(3),SM=(e,t)=>{var r={};return e&&(0,J.HD)(e.template)&&(0,J.s$)(e.data)&&(r.desc_template_data={name:e.template,data_list:Object.keys(e.data).map((t=>({key:t,value:e.data[t]})))}),t&&(0,J.HD)(t.template)&&(r.launch_desc_template=t.template),(0,B.Qh)({sdkApiName:"getplaybackinfo",apiName:"webapi_getplaybackinfo",reqData:r}).then((e=>({shareTitle:(e=e.data).title,shareDesc:e.desc,buttonText:e.launch_desc,videoDesc:e.playback_desc})))},kM=null,CM=(e,{shareTitle:t="",sharePath:r="",useBgm:n=!1,useTimeRange:a=!1,useAtempo:i=!1,atempo:o=1,hookBgm:s=!0}={})=>(kM||(kM=(0,B.Qh)({sdkApiName:"getplaybackconfig",apiName:"webapi_getplaybackconfig"}).then((e=>(e=e.data).enable_share_to_haowan)).catch((()=>!1)))).then((c=>{var l=c?2:1,u=(0,Xu.y)(),d=[u.scene||"",u.scene_note||"",u.sessionid||u.sessionId||"",e,l,t,r,O.Z.appType+1e3,n,a,i,o,s].join(",");w.reportKeyValue({key:"GameRecorder",value:d})})),TM=["start","stop","pause","resume","abort","timeUpdate","error"].reduce(((e,t)=>(e[t]={internal:(0,j.s)(`GameRecorder-internal-${t}`),external:(0,j.s)(`GameRecorder-external-${t}`)},e)),{}),EM=!1,AM=!1,PM=!1,xM=!1,MM=()=>{if(!yM){var{version:e,system:t}=(0,Ce.getStableSystemInfo)(),r=t.split(" ")[1],n=R.wZ&&-1===(0,Re.M7)(r,"5.0"),a=R.cj&&-1===(0,Re.M7)(e,"7.0.8");"7.0.5"===e||n||a||(0,B.IN)("isGameRecorderSupported",{success(e){EM=e.isFrameSupported,AM=e.isSoundSupported,PM=e.isVolumeSupported,xM=e.isAtempoSupported}}),yM=!0}},RM=e=>{var t={101:{code:bM.GameRecorder_StartDurationInvalid,message:"GameRecorder.start:fail duration invalid"},103:{code:bM.GameRecorder_StartWhileAlreadyStartRecording,message:"GameRecorder.start:fail start while already start recording"},104:{code:bM.GameRecorder_StartWhilePaused,message:"GameRecorder.start:fail start while paused"},106:{code:bM.GameRecorder_StartBitRateInvalid,message:"GameRecorder.start:fail bitrate invalid"},107:{code:bM.GameRecorder_StartFPSInvalid,message:"GameRecorder.start:fail fps invalid"},108:{code:bM.GameRecorder_StartGOPInvalid,message:"GameRecorder.start:fail gop invalid"},112:{code:bM.GameRecorder_UnknownError,message:"GameRecorder.start:fail 小游戏直播中，暂不支持录制"},201:{code:bM.GameRecorder_PauseWhileNotStartRecording,message:"GameRecorder.pause:fail pause while not start recording"},202:{code:bM.GameRecorder_PauseWhileAlreadyPaused,message:"GameRecorder.pause:fail pause while already paused"},301:{code:bM.GameRecorder_ResumeWhileNotStartRecording,message:"GameRecorder.resume:fail resume while not start recording"},302:{code:bM.GameRecorder_ResumeWhileRecording,message:"GameRecorder.resume:fail resume while recording"},401:{code:bM.GameRecorder_AbortWhileNotStartRecording,message:"GameRecorder.abort:fail abort while not start recording"},501:{code:bM.GameRecorder_StopWhileNotStartRecording,message:"GameRecorder.stop:fail stop while not start recording"},503:{code:bM.Global_FileStorageNotEnough,message:"GameRecorder.stop:fail file storage not enough"}};return t[e]?t[e]:[102,110,111,502,710,810].includes(e)?{code:bM.GameRecorder_InternalFailed,message:"GameRecorder:fail internal failed"}:{code:bM.GameRecorder_UnknownError,message:"GameRecorder:fail unknown error"}};O.Z.onReady((()=>{(0,B.jQ)("onGameRecorderStateChange",(e=>{var t=e.state;if(delete e.state,"stop"===t)TM[t].internal.emit(e),TM[t].external.emit({duration:Math.floor(e.duration/1e3)});else if("timeUpdate"===t)TM[t].internal.emit(e),TM[t].external.emit({currentTime:e.currentTime});else if("error"===t){var r=RM(e.errCode);TM[t].external.emit({error:r})}else TM[t].external.emit()}))}));var DM=null;class LM{constructor(){TM.stop.internal.onMethod((e=>{DM=e.tempFilePath})),this._operatePromise=Promise.resolve()}isFrameSupported(){return MM(),EM}isSoundSupported(){return MM(),AM}isVolumeSupported(){return MM(),PM}isAtempoSupported(){return MM(),xM}_operate(e,t){return this._operatePromise=this._operatePromise.then((()=>this.__operate(e,t))).catch((()=>this.__operate(e,t))),this._operatePromise}__operate(e="start",t={}){if(!this.isFrameSupported()){var r=`GameRecorder.${e}:fail frame not supported`;return Promise.reject({errMsg:r,error:{message:r,code:bM.GameRecorder_NotSupported}})}var n=!0;return new Promise(((r,a)=>{(0,B.IN)("operateGameRecorder",Object.assign({operationType:e,success:()=>{"start"===e?CM(1,{hookBgm:t.hookBgm}):"stop"===e&&CM(2),r({errMsg:`GameRecorder.${e}:ok`,error:{code:bM.OK,message:`GameRecorder.${e}:ok`}}),n=!1},fail:e=>{var t=RM(e.errCode);a({errMsg:t.message,error:t}),n=!1},complete:t=>{if(n)if(0!==t.errCode){var i=RM(t.errCode);i?a({errMsg:i.message,error:i}):(a({errMsg:`GameRecorder: ${e} unknow error`}),console.error(t))}else r()}},t))}))}start({fps:e=24,bitrate:t=1e3,gop:r=12,duration:n=7200,hookBgm:a=!0}={}){return n="number"==typeof n?Math.min(7200,Math.max(5,n)):7200,t="number"==typeof t?Math.min(3e3,Math.max(600,t)):1e3,"boolean"!=typeof a&&(a=!0),this._operate("start",{fps:e,bitrate:t,gop:r,duration:n,hookBgm:a,audioBitrate:128,width:O.Z.screenWidth+4-O.Z.screenWidth%4,height:O.Z.screenHeight+4-O.Z.screenHeight%4,cumulativeStamp:!0,notifyVideoKeyFrame:!0,timeUpdateInterval:30})}stop(){return this._operate("stop")}pause(){return this._operate("pause")}resume(){return this._operate("resume")}abort(){return this._operate("abort")}on(e,t){TM[e].external.onMethod(t)}off(e,t){TM[e].external.offMethod(t)}}var NM=null,OM=()=>NM||(NM=new LM),BM=()=>DM,jM=null;var FM=2e3,UM=null,WM=null;(0,bm.OQ)((()=>{WM&&WM()}));var GM=(e,t,r)=>{var n,a=6e4*t,i=0;return Array.isArray(e)||(n=[[0,a]],r&&(r.isEdit=0),console.warn(`GameRecorder:time range invalid ${JSON.stringify(e)}.It has been corrected to [[0, ${a}]] under x${t} atempo`)),n=e.reduce(((e,t,r)=>{if(Array.isArray(t)&&2===t.length){var[n,o]=t,s=(0,J.U)(n)&&(0,J.U)(o),c=n<o&&(!e[r-1]||n>=e[r-1][1]);s&&c&&i+o-n<=a&&(e.push([n,o]),i+=o-n)}return e}),[]),0===n.length&&(n=[[0,a]],r&&(r.isEdit=0),console.warn(`GameRecorder:time range invalid ${JSON.stringify(e)}.It has been corrected to [[0, ${a}]] under x${t} atempo`)),n},VM=e=>"number"==typeof e&&e>=0&&e<=1?Number(e.toFixed(2)):(console.warn(`GameRecorder:volume invalid ${JSON.stringify(e)}.It has been corrected to 1`),1),$M=e=>"number"==typeof e&&[.3,.5,1,1.5,2,2.5,3].includes(e)?e:(console.warn(`GameRecorder:atempo invalid ${JSON.stringify(e)}.It has been corrected to 1`),1),qM=function({query:e="",path:t="",title:r,button:n,bgm:a="",timeRange:i=[],volume:o=1,atempo:s=1,audioMix:c=!1}={}){var l=BM();if(!l){var u="GamaRecorder.share:fail no recorded video";return Promise.reject({errMsg:u,error:{code:bM.GameRecorder_NoVideo,message:u}})}var d=VM(o),p=$M(s),h=GM(i,p);if(h.reduce(((e,t)=>e+t[1]-t[0]),0)<FM*p){var g=`GamaRecorder.share:fail time range too short.It should be longer than ${FM*p}ms under x${p} atempo.`;return Promise.reject({errMsg:g,error:{code:bM.GameRecorder_TimeRangeTooShort,message:g}})}return Promise.all([SM(r,n),jM||(jM=(0,B.Qh)({sdkApiName:"getplaybackconfig",apiName:"webapi_getplaybackconfig",reqData:{appServiceType:O.Z.appType}}).then((e=>e.data)))]).then((([t,r])=>{var n={videoSrc:l,timeRange:h,bgmSrc:a,volume:d,atempo:p,shareOptions:[{id:1,name:"发送给好友",needExtUrl:!1}],audioMix:!!c};return r.enable_share_to_haowan,r.enable_share_to_timeline&&n.shareOptions.push({id:3,name:"分享到朋友圈"}),new Promise(((r,o)=>{UM=new Promise((e=>{WM=e})),(0,B.IN)("editGameRecorderVideo",Object.assign(n,{success:n=>{CM(5,{shareTitle:t.shareTitle,sharePath:`?${e}`,useBgm:!!a,useTimeRange:Array.isArray(i)&&i.length>0,useAtempo:[.3,.5,1.5,2,2.5,3].includes(s),atempo:s,audioMix:!!c}),r(Object.assign(n,t))},fail:e=>{if(804===e.errCode||803===e.errCode)return r();var t={0:{code:bM.OK,message:"GamaRecorder.share:ok"},801:{code:bM.GameRecorder_InternalFailed,message:"GamaRecorder.share:fail internal failed"},802:{code:bM.GameRecorder_InternalFailed,message:"GamaRecorder.share:fail internal failed"}};o({errMsg:e.errMsg.replace("editGameRecorderVideo","shareGameVideo"),error:t[e.errCode]||{code:bM.GameRecorder_UnknownError,message:`GamaRecorder.share:fail unknow error code ${e.errCode}`}})}}))}))})).then((e=>UM.then((()=>e)))).then((r=>{UM=null,WM=null;var n=t;if(void 0!==r){if(2===r.chosenId&&"string"==typeof r.extUrl)CM(7),(0,B.IN)("private_openUrl",{url:r.extUrl});else if(1===r.chosenId||0===r.chosenId){var a=(0,Ld.xF)({pageType:Bd.Gy.PLAY_PAGE_VIDEO,query:e});CM(6,{shareTitle:r.shareTitle,sharePath:a}),(0,Ju.dg)({filePath:r.videoPath,thumbFilePath:r.thumbPath,title:r.shareTitle,query:e,path:a,userPath:n}).then((()=>{CM(8,{shareTitle:r.shareTitle,sharePath:r.path})}))}else if(3===r.chosenId){var i=(0,Ld.xF)({pageType:Bd.Gy.PLAY_PAGE_VIDEO,query:e});CM(9,{shareTitle:r.shareTitle,sharePath:i}),(o={filePath:r.videoPath,thumbFilePath:r.thumbPath,title:r.shareTitle,query:e,userPath:n},(0,Pe.showLoading)({title:"请稍等"}),(0,Ud.c)({filePath:o.filePath,thumbFilePath:o.thumbFilePath,fileType:20302,appType:213}).then((e=>((0,Pe.hideLoading)(),e))).then((e=>{var t=(0,Ld.xF)({pageType:Bd.Gy.PLAY_PAGE_VIDEO,query:o.query});return zd(e,{title:o.title,path:t,imageUrl:e.thumbUrl},Bd.Gy.PLAY_PAGE_VIDEO,o)})).catch((e=>{(0,Pe.hideLoading)(),$d.error("fail",e)}))).then((()=>{CM(10,{shareTitle:r.shareTitle,sharePath:i})}))}var o;return{errMsg:"GamaRecorder.share:ok",error:{code:bM.OK,message:"GamaRecorder.share:ok"}}}})).catch((e=>{f.error(e)}))},zM=["left","top","height","paddingLeft","paddingRight","backgroundColor","borderColor","borderWidth","borderRadius"],ZM=["fontSize","color"],HM=new WeakMap,KM=null,JM=(e,t)=>{var r=(()=>{if(KM)return KM;var e=new M.Z.Canvas;return e.width=1,e.height=1,KM=e.getContext("2d")})();return t&&(r.font=`${t}px sans-serif`),r.measureText(e).width};class YM{constructor({style:e={},image:t="",icon:r="http://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNSByZLicUmsht7bQQ8PW9rXljICmxVsZbEwrJgsCiaWWGm6YibFoxibLwX5UvINt8owvFnBibrv2uDgqvw/0?wx_fmt=png",text:n="分享游戏时刻",share:a={}}){var i={};HM.set(this,i),i.emitter=new qA.Z,e=Object.assign((0,zA.ph)(),e);var o=Object.keys(e).filter((e=>zM.includes(e))).reduce(((t,r)=>(t[r]=e[r],t)),{});o.paddingLeft=o.paddingLeft||16,o.paddingLeft=Math.max(o.paddingLeft,16),o.paddingRight=o.paddingRight||16,o.paddingRight=Math.max(o.paddingRight,16),o.position="absolute",o.flexDirection="row",o.justifyContent="center",o.alignItems="center",o.backgroundColor=o.backgroundColor||"#09bb07",o.borderRadius=o.borderRadius||3;var s=Object.keys(e).filter((e=>ZM.includes(e))).reduce(((t,r)=>(t[r]=e[r],t)),{});s.color=s.color||"#ffffff",s.fontSize=s.fontSize||17,s.lineHeight=24*s.fontSize/17,s.width=JM(n,s.fontSize),s.height=s.lineHeight,i.button=new kp.Ee({style:o,src:t,clickState:!0}),i.icon=new kp.Ee({style:{width:24,height:16,marginRight:e.iconMarginRight||8},src:r}),i.text=new kp.xv({style:s,value:n,bubbleEvent:!0}),i.button.add(i.icon),i.button.add(i.text),kp.uo.add(i.button),Object.defineProperty(this,"text",{configurable:!0,enumerable:!0,get:()=>n,set:e=>{n=e,i.text.value=e,i.text.style.width=JM(n,i.text.style.fontSize)}}),Object.defineProperty(this,"image",{configurable:!0,enumerable:!0,get:()=>t,set:e=>{t=e,i.button.src=e}}),this.style={};var c={};zM.forEach((e=>{Object.defineProperty(this.style,e,{configurable:!0,enumerable:!0,get:()=>c[e],set:t=>{"height"===e?t=Math.max(t,40):"paddingLeft"!==e&&"paddingRight"!==e||(t=Math.max(t,16)),c[e]=t,i.button.style[e]=t}})})),ZM.forEach((e=>{Object.defineProperty(this.style,e,{configurable:!0,enumerable:!0,get:()=>c[e],set:t=>{"fontSize"===e&&(t=Math.min(Math.max(t,17),22),i.text.style.width=JM(n,t),i.text.style.height=24*t/17,i.text.style.lineHeight=24*t/17),c[e]=t,i.text.style[e]=t}})})),Object.defineProperty(this.style,"iconMarginRight",{configurable:!0,enumerable:!0,get:()=>c.iconMarginRight,set:e=>{c.iconMarginRight=e,i.icon.style.marginRight=e}}),this.share=a,i.button.on("click",(()=>{CM(3),qM(this.share).catch((e=>{i.emitter.emit("tap",e),TM.error.external.emit(e)}))})),CM(4)}onTap(e){HM.get(this).emitter.on("tap",e)}offTap(e){HM.get(this).emitter.off("tap",e)}show(){var e=HM.get(this);e.button.style.hidden&&(e.button.style.hidden=!1,CM(4))}hide(){HM.get(this).button.style.hidden=!0}}var QM=null,XM=(e={})=>QM||(QM=new YM(e)),eR=(e={})=>{if((0,ep.Vt)()){var t={};try{"string"==typeof e.configJson&&(t=JSON.parse(e.configJson))}catch(e){console.error(e)}(function({title:e="",desc:t="",bgm:r="",timeRange:n=[],volume:a=1,atempo:i=1,audioMix:o=!1,configJson:s=""}={}){var c=BM();if(!c){var l="GamaRecorder.share:fail no recorded video";return Promise.reject({errMsg:l,error:{code:bM.GameRecorder_NoVideo,message:l}})}var u=VM(a),d=$M(i),p={isEdit:1},h=GM(n,d,p);if(h.reduce(((e,t)=>e+t[1]-t[0]),0)<FM*d){var g=`GamaRecorder.share:fail time range too short.It should be longer than ${FM*d}ms under x${d} atempo.`;return Promise.reject({errMsg:g,error:{code:bM.GameRecorder_TimeRangeTooShort,message:g}})}return Promise.all([SM()]).then((([n])=>{e||(e=n.shareTitle),t||(t=n.videoDesc);var a={title:e,desc:t,videoSrc:c,timeRange:h,bgmSrc:r,volume:u,atempo:d,shareOptions:[0,1,2,3],audioMix:!!o,configJson:s,isDevRequestEdit:p.isEdit},i="shareGameRecorderVideo";return new Promise(((e,t)=>{(0,B.IN)(i,Object.assign(a,{success:t=>{e(t)},fail:e=>{var r={0:{code:bM.OK,message:"GamaRecorder.share:ok"},801:{code:bM.GameRecorder_InternalFailed,message:"GamaRecorder.share:fail internal failed"},802:{code:bM.GameRecorder_InternalFailed,message:"GamaRecorder.share:fail internal failed"}};t({errMsg:e.errMsg.replace(i,"operateGameRecorderVideo"),error:r[e.errCode]||{code:bM.GameRecorder_UnknownError,message:`GamaRecorder.share:fail unknow error code ${e.errCode}`}})}}))}))})).catch((e=>{throw f.error(e),e}))})({title:e.title,desc:e.desc,bgm:e.bgm,timeRange:e.timeRange,volume:e.volume,atempo:e.atempo,audioMix:e.audioMix,configJson:JSON.stringify(Object.assign({},t,{path:e.path,query:e.query})),version:1}).then((t=>{var r,n={};null==t||null===(r=t.shareResult)||void 0===r||r.forEach((e=>{switch(e.optionKey){case 0:n.shareGameCenter={errCode:e.errCode,errMsg:e.errMsg};break;case 1:(0,Ze.J)("gameRecorderShareAppMessageCallback")&&(n.shareAppMessage={errCode:e.errCode,errMsg:e.errMsg});break;case 2:(0,Ze.J)("gameRecorderShareTimelineCallback")&&(n.shareTimeline={errCode:e.errCode,errMsg:e.errMsg});break;case 3:n.shareStash={errCode:e.errCode,errMsg:e.errMsg}}})),(0,B.FE)({res:n,args:e,name:"operateGameRecorderVideo"})})).catch((t=>{(0,B.YG)("operateGameRecorderVideo",e,t.errMsg)}))}else{(0,B.YG)("operateGameRecorderVideo",e,"require user interaction (only in touchend event)")}},tR=d(3185),rR=(0,KA.Fr)(Je.getNetworkType),nR=1,aR=2,iR=3,oR=1,sR=2,cR=3,lR=1,uR=2,dR=3,pR=null;function fR(e){return(pR?Promise.resolve(pR):IR().then((e=>{var t=e.info;return pR={session_id:e.sessionid||"",device_brand:t.brand||"",device_model:t.model||"",version:t.version||"",sdk_version:t.SDKVersion||"",system:t.system||"",screen_width:t.screenHeight||0,screen_height:t.screenWidth||0,appid:e.appid}}))).then((()=>rR())).then((({networkType:t})=>{var r=(Array.isArray(e)?e:[e]).map((e=>{var{type:r,params:n}=e;return n.network_type=t,{[r]:n}}));return(0,B.Qh)({sdkApiName:"webapi_game_ad_report",apiName:"webapi_game_ad_report",reqData:{base_info:pR,data_list:r}}).catch((e=>Promise.reject(e)))}))}function hR(e,t){return e[t]?e[t]*(e.scale||1):0}function gR(e){var t=(0,Fv.Wj)(this),{load_type:r,open_time:n,cost_time:a,result:i,layout:o}=e,s={load_type:r,ad_type:t.adType,open_time:n,cost_time:a,result:i,trace_id:t.trace_id};r===iR&&(s.serving_list=[],t.data.game_ad_list.forEach(((e,t)=>{s.serving_list.push({ad_pos_id:t+1,serving_id:e.serving_id||""})})));var c=function(e){var t={};if(e&&e.layoutBox){var r=e.layoutBox||{},n=e.style||{};return t.ad_x=Math.round(r.left||hR(n,"left")||0),t.ad_y=Math.round(r.top||hR(n,"top")||0),t.ad_w=Math.round(r.width||hR(n,"width")||0),t.ad_h=Math.round(r.height||hR(n,"height")||0),t}}(o);return c&&Object.assign(s,c),s}function vR(e){var t=(0,Fv.Wj)(this),r=[],n={type:"component_load",params:gR.call(this,{load_type:iR,open_time:t.exposure_time.s,cost_time:0,layout:e,result:0})};r.push(n),t.data.game_ad_list.forEach(((e,n)=>{r.push({type:"game_exposure",params:{ad_type:t.adType,ad_pos_id:n+1,trace_id:t.trace_id||"",serving_id:e.serving_id||"",exposure_time:t.exposure_time.s}})})),fR(r)}function mR(e){var{event:t={},ad_pos_id:r,action_type:n,layout:a,serving_id:i}=e,o=(0,Fv.Wj)(this),s=a.layoutBox||{},c={action_type:n,ad_x:s.left||0,ad_y:s.top||0,ad_w:s.width||0,ad_h:s.height||0,ad_type:o.adType,exposure_time:o.exposure_time.s||CR().s,stay_time:CR().ms-o.exposure_time.ms};return o.trace_id&&(c.trace_id=o.trace_id),i&&(c.serving_id=i),t&&(c.click_x=t.absoluteX||0,c.click_y=t.absoluteY||0),r&&(c.ad_pos_id=r),c}function yR(e){var{key:t}=e;return function(e){w.reportIDKeyDirectly({id:lA.reportId,key:e})}(t),function({key:e=1,error_detail:t="",adUnitId:r="",adType:n=1}={}){var a={};if(SR(t,"Object"))try{t=JSON.stringify(t)}catch(e){t=""}return IR().then((e=>(a=e,bR()))).then((({networkType:i})=>({type:"error",params:{key:e,error_detail:t,appid:a.appid,ad_type:n,ad_unit_id:r,session_id:a.sessionid,network_type:i}})))}(e).then((e=>fR(e)))}var bR=(0,KA.Fr)(Je.getNetworkType),_R=lA.adTypeName,wR={screenWidth:0,screenHeight:0,platform:"",isIOS:!1,isAndroid:!1,sessionid:"",deviceOrientation:"",info:{},appid:"",sessionStartTime:CR(),sessionStayTime:0,maxGameCount:3,enterScene:0};function IR(){return new Promise((e=>{wR.screenWidth?(wR.sessionStayTime=CR().ms-wR.sessionStartTime.ms,e(wR)):O.Z.onReady((()=>{var t=(0,tR.m)();wR.info=t||{},wR.screenWidth=t.screenWidth,wR.screenHeight=t.screenHeight,wR.platform=t.platform,wR.isIOS="ios"===wR.platform,wR.isAndroid="android"===wR.platform;var r=O.Z.deviceOrientation||"";wR.deviceOrientation=r||(t.deviceOrientation||""),e(wR)}))}))}function SR(e,t){var r=Object.prototype.toString;return"Null"===t&&null===e||"Undefined"===t&&undefined===e||r.call(e).slice(8,-1)===t}function kR({appid:e,adType:t,serving_id:r}){var n=(0,Fv.Wj)(this);IR().then((a=>{var i=`${a.appid}:${a.sessionid}:${r}:${t}`;(0,B.IN)("navigateToMiniProgram",{appId:e,path:"",scene:1139,sourcetype:1,sceneNote:i,success:()=>{},fail:e=>{yR.call(this,{key:lA.idkey.LAUNCH_APP_ERROR,adType:n.adType,adUnitId:n.adUnitId,error_detail:e})}})}))}function CR(){var e=new Date;return{s:parseInt(e.getTime()/1e3),ms:e.getTime()}}function TR(e,t,r,n){return"left"===t&&r<0?0:"left"===t&&r+n.width>e.screenWidth?e.screenWidth-n.width:"top"===t&&r<0?0:"top"===t&&r+n.height>e.screenHeight?e.screenHeight-n.height:r}function ER(e){var t=e.absoluteX,r=e.absoluteY,n=e.absoluteEndX,a=e.absoluteEndY,i=e.pressInterval,o=!1;return Math.abs(a-r)<30&&Math.abs(n-t)<30&&i<300&&(o=!0),o}function AR(e=0){return new Promise((t=>{setTimeout((()=>{t({message:"timeout trigger success"})}),e)}))}function PR(e){var t={};return e.errMsg&&(t.errMsg=e.errMsg),e.errCode&&(t.errCode=e.errCode),t}function xR(e,t,r){return e<t?t:e>r?r:e}O.Z.onReady((()=>{wR.sessionStartTime=CR(),wR.enterScene=O.Z.appLaunchInfo&&O.Z.appLaunchInfo.scene||0,wR.appid=O.Z.accountInfo&&O.Z.accountInfo.appId||"",wR.sessionid=O.Z.appLaunchInfo.sessionid||O.Z.appLaunchInfo.sessionId||""})),(0,gp.dN)((e=>{wR.sessionid=e.sessionid||e.sessionId||""}));var MR={appType:1004,path:""};function RR(e=[]){var t=(0,Fv.Wj)(this),r=e.map((e=>{var t=e.pre_load_param||{},r=JSON.parse(JSON.stringify(MR));return r.appId=e.appid,r.openRate=t.score||0,r})).filter((e=>0!==e.openRate));r.length&&IR().then((e=>{(0,B.IN)("batchPreloadMiniProgram",{openParams:{visitScene:e.enterScene,businessScene:2,innerScene:1139},preloadList:r,success:e=>{yR.call(this,{key:lA.idkey[`${_R[t.adType]}_SUCCESS_FAIL`],adType:t.adType,adUnitId:t.adUnitId,error_detail:e})},fail:e=>{yR.call(this,{key:lA.idkey[`${_R[t.adType]}_PRELOAD_FAIL`],adType:t.adType,adUnitId:t.adUnitId,error_detail:e})}})}))}var DR=new class{constructor(){this.map=Object.keys(lA.adType).reduce(((e,t)=>{var r=lA.adType[t];return e[r]={total_open:0,total_click:0,ad_type:r},e}),{})}openAdd(e){this.map[e].total_open+=1}clickAdd(e){this.map[e].total_click+=1}},LR=lA.adTypeName;var NR,OR=class{constructor({adUnitId:e,adType:t,maxGameCount:r}){this.adUnitId=e,this.adType=t,this.maxGameCount=r,this.fetchPromise=null}getFetchParams(){return IR().then((e=>({place_id:this.adUnitId,context:{total_stay:e.sessionStayTime,enter_scene:e.enterScene,ad_type_stat_list:Object.keys(DR.map).map((e=>DR.map[e]))},limit:this.maxGameCount||e.maxGameCount,ad_type:this.adType})))}fetch(){if(this.fetchPromise)return this.fetchPromise;var e=new Date;return this.fetchPromise=this.getFetchParams().then((t=>(0,B.Qh)({sdkApiName:"webapi_game_ad_load",apiName:"webapi_game_ad_load",reqData:t}).catch((r=>{var n=new Date-e;if(n>lA.TIMEOUT){SR(r,"Object")&&(r.time=n,r.step=1),yR.call(this,{key:lA.idkey[`${LR[this.adType]}_TIMEOUT`],adType:this.adType,adUnitId:this.adUnitId,error_detail:r});var a=new Date;return(0,B.Qh)({sdkApiName:"webapi_game_ad_load",apiName:"webapi_game_ad_load",reqData:t}).catch((e=>{var t=new Date-a;return SR(e,"Object")&&(e.firstTime=n,e.retryTime=t,e.step=2),yR.call(this,{key:lA.idkey[`${LR[this.adType]}_TIMEOUT_RETRY_FAIL`],adType:this.adType,adUnitId:this.adUnitId,error_detail:e}),Promise.reject(e)})).then((e=>(yR.call(this,{key:lA.idkey[`${LR[this.adType]}_TIMEOUT_RETRY_SUCCESS`],adType:this.adType,adUnitId:this.adUnitId,error_detail:{firstTime:n,retryTime:new Date-a,step:3}}),e)))}return SR(r,"Object")&&(r.time=n,r.step=4),yR.call(this,{key:lA.idkey[`${LR[this.adType]}_LOAD_ERROR`],adType:this.adType,adUnitId:this.adUnitId,error_detail:r}),Promise.reject(r)})).then((t=>{this.fetchPromise=null;var r=t.data,n=new Date-e;return n>lA.TIMEOUT&&(SR(t,"Object")&&(t.time=n,t.step=4),yR.call(this,{key:lA.idkey[`${LR[this.adType]}_WXDATA_TIMEOUT`],adType:this.adType,adUnitId:this.adUnitId,error_detail:t})),0===r.errcode&&r.game_ad_list&&!r.game_ad_list.length?Promise.reject({errCode:r.errcode||1004}):0!==r.errcode?Promise.reject({errCode:r.errcode}):t})))),this.fetchPromise}},BR={name:"doT",version:"1.1.1",templateSettings:{evaluate:/\{\{([\s\S]+?(\}?)+)\}\}/g,interpolate:/\{\{=([\s\S]+?)\}\}/g,encode:/\{\{!([\s\S]+?)\}\}/g,use:/\{\{#([\s\S]+?)\}\}/g,useParams:/(^|[^\w$])def(?:\.|\[[\'\"])([\w$\.]+)(?:[\'\"]\])?\s*\:\s*([\w$\.]+|\"[^\"]+\"|\'[^\']+\'|\{[^\}]+\})/g,define:/\{\{##\s*([\w\.$]+)\s*(\:|=)([\s\S]+?)#\}\}/g,defineParams:/^\s*([\w$]+):([\s\S]+)/,conditional:/\{\{\?(\?)?\s*([\s\S]*?)\s*\}\}/g,iterate:/\{\{~\s*(?:\}\}|([\s\S]+?)\s*\:\s*([\w$]+)\s*(?:\:\s*([\w$]+))?\s*\}\})/g,varname:"it",strip:!0,append:!0,selfcontained:!1,doNotSkipEncoded:!1},template:void 0,compile:void 0,log:!0};BR.encodeHTMLSource=function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},r=e?/[&<>"'\/]/g:/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return e?e.toString().replace(r,(function(e){return t[e]||e})):""}},NR=globalThis;var jR={append:{start:"'+(",end:")+'",startencode:"'+encodeHTML("},split:{start:"';out+=(",end:");out+='",startencode:"';out+=encodeHTML("}},FR=/$^/;function UR(e,t,r){return("string"==typeof t?t:t.toString()).replace(e.define||FR,(function(t,a,i,o){return 0===a.indexOf("def.")&&(a=a.substring(4)),a in r||(":"===i?(e.defineParams&&o.replace(e.defineParams,(function(e,t,n){r[a]={arg:t,text:n}})),a in r||(r[a]=o)):new n("def","def['"+a+"']="+o)(r)),""})).replace(e.use||FR,(function(t,a){e.useParams&&(a=a.replace(e.useParams,(function(e,t,n,a){if(r[n]&&r[n].arg&&a){var i=(n+":"+a).replace(/'|\\/g,"_");return r.__exp=r.__exp||{},r.__exp[i]=r[n].text.replace(new RegExp("(^|[^\\w$])"+r[n].arg+"([^\\w$])","g"),"$1"+a+"$2"),t+"def.__exp['"+i+"']"}})));var i=new n("def","return "+a)(r);return i?UR(e,i,r):i}))}function WR(e){return e.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g," ")}BR.template=function(e,t,r){var a,i,o=(t=t||BR.templateSettings).append?jR.append:jR.split,s=0,c=t.use||t.define?UR(t,e,r||{}):e;c=("var out='"+(t.strip?c.replace(/(^|\r|\n)\t* +| +\t*(\r|\n|$)/g," ").replace(/\r|\n|\t|\/\*[\s\S]*?\*\//g,""):c).replace(/'|\\/g,"\\$&").replace(t.interpolate||FR,(function(e,t){return o.start+WR(t)+o.end})).replace(t.encode||FR,(function(e,t){return a=!0,o.startencode+WR(t)+o.end})).replace(t.conditional||FR,(function(e,t,r){return t?r?"';}else if("+WR(r)+"){out+='":"';}else{out+='":r?"';if("+WR(r)+"){out+='":"';}out+='"})).replace(t.iterate||FR,(function(e,t,r,n){return t?(s+=1,i=n||"i"+s,t=WR(t),"';var arr"+s+"="+t+";if(arr"+s+"){var "+r+","+i+"=-1,l"+s+"=arr"+s+".length-1;while("+i+"<l"+s+"){"+r+"=arr"+s+"["+i+"+=1];out+='"):"';} } out+='"})).replace(t.evaluate||FR,(function(e,t){return"';"+WR(t)+"out+='"}))+"';return out;").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/(\s|;|\}|^|\{)out\+='';/g,"$1").replace(/\+''/g,""),a&&(t.selfcontained||!NR||NR._encodeHTML||(NR._encodeHTML=BR.encodeHTMLSource(t.doNotSkipEncoded)),c="var encodeHTML = typeof _encodeHTML !== 'undefined' ? _encodeHTML : ("+BR.encodeHTMLSource.toString()+"("+(t.doNotSkipEncoded||"")+"));"+c);try{return new n(t.varname,c)}catch(e){throw"undefined"!=typeof console&&console.log("Could not create a template function: "+c),e}},BR.compile=function(e,t){return BR.template(e,null,t)};var GR=BR;var VR=function(){return{bottomIcon:{position:"absolute",right:0,bottom:0,width:72,height:16},btnGreenBg:{width:67,height:32,lineHeight:32,borderRadius:3,textAlign:"center",justifyContent:"center",alignItems:"center",color:"#ffffff",fontSize:16,backgroundColor:"#07C160",fontWeight:500},btnGrayBg:{width:67,height:32,lineHeight:32,borderRadius:3,textAlign:"center",justifyContent:"center",alignItems:"center",color:"#07C160",fontSize:16,backgroundColor:"rgba(0,0,0,0.05)",fontWeight:500},gameinfoIcon:{width:48,height:48,borderRadius:24,borderColor:"rgba(0, 0, 0, 0.1)",borderWidth:.5},gameNameTagWithoutBorder:{width:25,height:13,color:"#ffffff",backgroundColor:"#F97402",fontSize:10,lineHeight:13,textAlign:"center",borderRadius:2,marginLeft:4,marginTop:3},gameNameTagWithBorder:{width:25,height:13,color:"#ffffff",backgroundColor:"#F97402",fontSize:10,lineHeight:13,textAlign:"center",borderRadius:1,position:"absolute",right:0,bottom:0,borderWidth:1,borderColor:"#ffffff"},feedback:{position:"absolute",left:6,top:6,width:46,height:16,backgroundColor:"rgba(0, 0, 0, 0.2)",borderRadius:2},feedbackTitle:{width:22,fontSize:10,height:16,lineHeight:16,color:"#ffffff",marginLeft:8},feedbackImg:{top:7,left:32,width:6,height:3,position:"absolute"},feedbackList:{hidden:!0,height:36,borderRadius:4,backgroundColor:"#4C4C4C",position:"absolute",left:6,top:28,flexDirection:"row",zIndex:2,alignItems:"center"},feedbackItem:{width:78,height:36,lineHeight:36,color:"#ffffff",fontSize:14,textAlign:"center"},feedbackItemSplit:{width:.5,height:24,backgroundColor:"rgba(0, 0, 0, 0.2)"}}};var $R,qR=function(){return Object.assign(VR(),{container:{width:350,height:300,position:"absoulte",top:0,left:0,overflow:"hidden",hidden:!0,zIndex:2},wrapper:{alignItems:"center",justifyContent:"center",landscape:{flexDirection:"row"}},mask:{backgroundColor:"#000000",opacity:.7,position:"absoulte",top:0,left:0},gameboxwrap:{flexDirection:"row"},gamebox:{width:327,overflow:"hidden",backgroundColor:"#ffffff",borderRadius:10,paddingLeft:16,paddingTop:22,paddingRight:16},title:{height:22,fontSize:17,lineHeight:22,fontWeight:"bold",marginBottom:8,color:"#000000",opacity:.9},closeIconBox:{width:36,height:36,alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0,0,0,0.30)",borderColor:"rgba(255,255,255,0.30)",borderWidth:1,borderRadius:18},closeIconBoxVer:{alignSelf:"flex-end",marginBottom:8},closeIconBoxHor:{alignSelf:"flex-start",marginLeft:8},closeIcon:{width:12,height:12},gameinfo:{marginTop:16,flexDirection:"row"},gameinfoBox:{paddingLeft:8,width:263,landscape:{width:401}},gameinfoTitle:{flexDirection:"row"},gameName:{height:22,width:68,fontSize:17,color:"#000000",opacity:.9},gameDesc:{width:174,height:16,fontSize:14,marginTop:4,color:"#000000",opacity:.5},gameTagList:{marginTop:8,flexDirection:"row"},gameTagItem:{marginRight:8,width:36,height:20,backgroundColor:"#C8C8C8",lineHeight:20,textAlign:"center",borderRadius:3,fontSize:12,color:"#000000",opacity:.5,ios:{height:21}},gameFriendValue:{fontSize:14,color:"#000000",opacity:.3,width:180,height:20,lineHeight:20,textAlign:"right",position:"absolute",bottom:16,right:17},gameinfoBorder:{width:255,height:1,backgroundColor:"#000000",marginTop:16,opacity:.1,landscape:{width:393}},gameinfoBorderLast:{width:255,height:1,backgroundColor:"#000000",marginTop:16,opacity:0},close:{width:48,height:48,marginTop:32,borderRadius:24},gamepic:{width:292,height:114,marginTop:16,borderRadius:3,marginBottom:18,landscape:{width:433,height:167}},gameBtnText:{marginTop:16,marginBottom:32,width:184,height:40,lineHeight:40,borderRadius:3,backgroundColor:"#07C160",textAlign:"center",justifyContent:"center",alignItems:"center",marginLeft:0,marginRight:0,color:"#ffffff",fontSize:17,alignSelf:"center",fontWeight:500},emptyBlock:{width:433,height:16},portalBtn:{position:"absolute",right:16,top:8}})},zR='\n    {{? it.showFeedback !== false && it.feedbackList }}\n        <view id="feedback">\n            <text value="广告" id="feedbackTitle" bubbleEvent="true"></text>\n            <image src="https://res.wx.qq.com/wechatgame/product/webpack/userupload/20190720/closearrow.png" id="feedbackImg" bubbleEvent="true"></image>\n        </view>\n\n        <view id="feedbackList">\n            {{~it.feedbackList:feedbackItem:index}}\n                <text id="feedbackItem__{{=index}}" class="feedbackItem" value="{{=feedbackItem.name}}"></text>\n\n                {{? index < it.feedbackList.length - 1 }}\n                    <view id="feedbackItemSplit"></view>\n                {{?}}\n            {{~}}\n        </view>\n    {{?}}\n';function ZR(){var e=(0,Fv.Wj)(this),t=e.feedbackList;t&&(e.feedback.on("click",(r=>{ER(r)&&(t.style.hidden=!t.style.hidden,e.feedbackImg.src=t.style.hidden?"https://res.wx.qq.com/wechatgame/product/webpack/userupload/20190720/closearrow.png":"https://res.wx.qq.com/wechatgame/product/webpack/userupload/20190720/closearrowup.png")})),e.data.feedbackList.forEach(((t,r)=>{e["feedbackItem__"+r].on("click",(r=>{if(ER(r)){var n=e.adType===lA.adType.AD_TYPE_BANNER?e.container:e.gameboxwrap;fR({type:"game_click",params:mR.call(this,{event:r,action_type:t.actionType,layout:n})}),e.container.style.hidden=!0,e.feedbackList.style.hidden=!0,e.emitter.emit("close"),e.adType===lA.adType.AD_TYPE_PORTAL&&rA.u.remove(e.container)}}))})))}function HR(){return $R||($R=GR.template(`\n    <view id="container">\n      <view id="mask"></view>\n      <view id="wrapper">\n          {{? it.deviceOrientation === 'portrait'}}\n              <view id="closeIconBox" class="closeIconBoxVer">\n                  <image id="closeIcon" src="https://res.wx.qq.com/wechatgame/product/webpack/userupload/20190713/close.png" bubbleEvent="true"></image>\n              </view>\n          {{?}}\n          <view id="gameboxwrap">\n              <view id="gamebox">\n                  <view id="gameAdList">\n                      {{~it.game_ad_list :game:index}}\n                          <view class="gameinfo" id="gameinfo__{{=index}}" bubble-event="true">\n                              <image id="gameinfoIcon" src="{{=game.icon_url}}" bubble-event="true"></image>\n  \n                              <view id="gameinfoBox" bubble-event="true">\n                                  <view id="gameinfoTitle" bubble-event="true">\n                                      <text id="gameName__{{=index}}" class="gameName {{=game.className}}" value="{{=game.appname}}" bubble-event="true"></text>\n                                      {{? game.is_original_game }}\n                                          <text id="gameNameTagWithoutBorder" value="创意" bubble-event="true"></text>\n                                      {{?}}\n                                  </view>\n  \n                                  {{? game.brief_intro}}\n                                      {{~game.brief_intro_lines :line:lineIndex}}\n                                          <text id="gameDesc" value="{{=line.text}}" class="{{=line.className}}" bubble-event="true"></text>\n                                      {{~}}\n                                  {{?}}\n  \n                                  \x3c!-- 竖屏 - 2个 or 3个游戏，展示2行描述，不展示标签 --\x3e\n                                  {{? it.deviceOrientation !== 'portrait' || (it.deviceOrientation === 'portrait' && it.game_ad_list.length === 1)}}\n                                      <view id="gameTagList" bubble-event="true">\n                                          {{~game.tag_list :tag:tagIndex}}\n                                              <text id="gameTagItem" class="{{=game.tag_classlist[tagIndex]}}" value="{{=tag}}" bubble-event="true"></text>\n                                          {{~}}\n                                      </view>\n                                  {{?}}\n  \n                                  \x3c!-- 竖屏多游戏或者横屏模式下才出现 --\x3e\n                                  {{? it.game_ad_list.length > 1 || it.deviceOrientation !== 'portrait' }}\n                                      <text id="btnGrayBg" class="portalBtn {{=game.btnClassName || '' }}" value="立即玩"  bubble-event="true"></text>\n                                  {{?}}\n  \n                                  {{? index < it.game_ad_list.length - 1}}\n                                      <view class="gameinfoBorder" id="gameinfoBorder__{{=index}}"></view>\n                                  {{?}}\n  \n                                  {{? index === it.game_ad_list.length - 1 && it.game_ad_list.length > 1}}\n                                      <view id="gameinfoBorderLast"></view>\n                                  {{?}}\n                              </view>\n                          </view>\n                      {{~}}\n  \n                      {{? it.game_ad_list.length === 1 && it.game_ad_list[0].banner_url }}\n                          <image id="gamepic" src="{{=it.game_ad_list[0].banner_url}}" bubble-event="true"></image>\n                      {{?}}\n  \n                      {{? it.game_ad_list.length === 1 && !it.game_ad_list[0].banner_url && it.deviceOrientation !== 'portrait'  }}\n                          <view id="emptyBlock"></view>\n                      {{?}}\n  \n                      {{? it.game_ad_list.length === 1 && it.deviceOrientation === 'portrait' }}\n                          <text id="gameBtnText" value="立即玩" bubble-event="true"></text>\n                      {{?}}\n                  </view>\n  \n                  <image id="bottomIcon" src="https://res.wx.qq.com/wechatgame/product/webpack/userupload/20190705/bottomicon.png"></image>\n                  ${zR}\n              </view>\n  \n              {{? it.deviceOrientation !== 'portrait'}}\n                  <view id="closeIconBox" class="closeIconBoxHor">\n                      <image id="closeIcon" src="https://res.wx.qq.com/wechatgame/product/webpack/userupload/20190713/close.png" bubbleEvent="true"></image>\n                  </view>\n              {{?}}\n          </view>\n      </view>\n    </view>\n  `)),$R}function KR(e,t){var r=(0,Fv.Wj)(this);if(ER(e)){DR.clickAdd(r.adType);var n=fR({type:"game_click",params:mR.call(this,{event:e,ad_pos_id:1,action_type:lR,layout:r.gameboxwrap,serving_id:t.serving_id||""})});Promise.race([n,AR(500)]).then((()=>{kR.call(this,{appid:t.appid,adType:r.adType,serving_id:t.serving_id||""})})).catch((()=>{kR.call(this,{appid:t.appid,adType:r.adType,serving_id:t.serving_id||""})}))}}function JR(){var e=(0,Fv.Wj)(this);if(ZR.call(this),e.closeIconBox.on("click",(t=>{ER(t)&&(fR({type:"game_click",params:mR.call(this,{event:t,action_type:uR,layout:e.gameboxwrap})}),e.container.style.hidden=!0,rA.u.remove(e.container),e.emitter.emit("close"))})),1===e.data.game_ad_list.length){var t=e.data.game_ad_list[0];e.gameAdList.on("click",(e=>{KR.call(this,e,t)}))}else e.data.game_ad_list.forEach(((t,r)=>{e["gameinfo__"+r].on("click",(e=>{KR.call(this,e,t)}))}))}function YR(e){var t=(0,Fv.Wj)(this);return t.data=e,t.data.dataBackTime=new Date,e.feedbackList=lA.feedbackList,IR().then((r=>{t.data.deviceOrientation=r.deviceOrientation,function(e,t,r){"landscape"===t.deviceOrientation&&(e.gamebox.width=465,e.gameDesc.width=308),e.container.width=t.screenWidth,e.container.height=t.screenHeight,e.mask.width=t.screenWidth,e.mask.height=t.screenHeight,e.wrapper.width=t.screenWidth,e.wrapper.height=t.screenHeight,e.closeIconBoxVer.marginRight=(t.screenWidth-e.gamebox.width)/2,r.deviceOrientation=t.deviceOrientation;var n=function(e,t){return"portrait"===e.deviceOrientation&&t.game_ad_list.length>1?{appname:144,desc:172}:"portrait"===e.deviceOrientation&&1===t.game_ad_list.length?{appname:214,desc:239}:"portrait"!==e.deviceOrientation?{appname:280,desc:308}:void 0}(t,r),a=n.appname,i=n.desc,o=r.game_ad_list.length;r.game_ad_list.forEach((r=>{if("portrait"!==t.deviceOrientation&&1===o&&(r.btnClassName="btnGreenBg"),r.appname){var n=gA.textMetrics(r.appname,{maxWidth:a-5,maxLines:1,fontSize:e.gameName.fontSize})[0];r.appname=n.text,r.className=`width_${n.width}`,e[r.className]={width:n.width}}var s="portrait"===t.deviceOrientation&&o>1?2:1;if(r.brief_intro){var c=gA.textMetrics(r.brief_intro,{maxWidth:i-5,maxLines:s,fontSize:e.gameDesc.fontSize});c.forEach((t=>{t.className=`width_${i}`,e[t.className]={width:i}})),r.brief_intro_lines=c}r.tag_classlist=[],r.tag_list&&r.tag_list.length&&r.tag_list.forEach(((t,n)=>{var a=gA.getTextWidth(t,e.gameTagItem.fontSize)+12;r.tag_classlist[n]=`width_${a}`,e[r.tag_classlist[n]]={width:a}}))}));var s=1;("portrait"===t.deviceOrientation&&t.screenWidth<lA.designWidth||"portrait"!==t.deviceOrientation&&t.screenHeight<lA.designWidth)&&(s="portrait"===t.deviceOrientation?t.screenWidth/lA.designWidth:t.screenHeight/lA.designWidth),"portrait"!==t.deviceOrientation&&t.screenWidth-230<(e.gamebox.width+44)*s&&(s*=(t.screenWidth-230)/((e.gamebox.width+44)*s)),1!==s&&Object.keys(e).forEach((t=>{"container"!==t&&"mask"!==t&&"wrapper"!==t&&(e[t].scale=s)}))}(qR(),r,e);var{root:n}=jv()(HR()(e));return Fv.S1.call(this,n,style),rA.u.add(t.container),t.container||yR.call(this,{key:lA.idkey.PORTAL_RENDER_ERROR,adType:t.adType,adUnitId:t.adUnitId,error_detail:{msg:"Layout.add error"}}),JR.call(this),t.container.ready()}))}var QR,XR,eD,tD,rD=new class{constructor(){for(var e in this.map={},lA.adType)this.map[lA.adType[e]]={current:null}}show(e,t){this.map[e].current=t}hide(e,t){this.map[e].current===t&&(this.map[e].current=null)}};function nD(e,t){fR({type:"component_load",params:gR.call(this,{load_type:nR,open_time:e.s,cost_time:CR().ms-e.ms,result:t})})}function aD(){var e=(0,Fv.Wj)(this);function t(t){var r=(t=t||{}).data;e.trace_id=r.trace_id,nD.call(this,e.open_time,parseInt(r.errcode));var n=CR();return YR.call(this,r).then((()=>{e.hasData=!0,e.emitter.emit("load"),fR({type:"component_load",params:gR.call(this,{load_type:aR,open_time:n.s,layout:e.gameboxwrap,cost_time:CR().ms-n.ms,result:0})}),e.emitter.emit("ready")}))}return e.open_time=CR(),e.fetchPromise=e.proxy.fetch().then((e=>t.call(this,e))).catch((t=>(e.fetchPromise=null,nD.call(this,e.open_time,parseInt(t.errCode||t.err_code||-1)),Promise.reject(t)))),e.fetchPromise}function iD(){var e=(0,Fv.Wj)(this);e.isShowed=!1,e.hasData=!1,e.exposure_time=CR(),e.open_time=CR(),e.trace_id="",e.fetchPromise=null,e.showPromise=null,rD.hide(e.adType,e)}function oD(){var e=(0,Fv.Wj)(this);this.isDestroyed=!0,e.emitter.off("_error"),e.emitter.off("load"),rD.hide(e.adType,e),e.container&&rA.u.remove(e.container)}function sD(){var e=(0,Fv.Wj)(this);return e.destroyPromise||(e.destroyPromise=new Promise((t=>{e.fetchPromise?e.fetchPromise.then((()=>{oD.call(this),t()})).catch((()=>{oD.call(this),t()})):(oD.call(this),t())}))),e.destroyPromise}class cD extends Fv.wA{constructor(e={}){super();var{adUnitId:t}=e;if(!t)throw new be.iZ("[GamePortal]:"+lA.ERRMSG.NO_ADUNITID_WARN);this.isDestroyed=!1;var r=(0,Fv.Wj)(this);r.adUnitId=t||"",r.adType=sR,r.emitter=new qA.Z,r.proxy=new OR({adUnitId:t,adType:r.adType}),r.destroyPromise=null,r.isReady=!1,iD.call(this),r.emitter.on("ready",(()=>r.isReady=!0)),r.emitter.on("close",(()=>{iD.call(this),this.load()})),this.load()}load(){var e=(0,Fv.Wj)(this);return e.fetchPromise,this.isDestroyed?Promise.reject({errMsg:"组件已经被销毁"}):e.isShowed?Promise.reject({errMsg:"can't invoke load() while GamePortal is showed"}):e.data&&(new Date).toDateString()!==e.data.dataBackTime.toDateString()?(e.container&&rA.u.remove(e.container),yR.call(this,{key:lA.idkey.PORTAL_DATA_INVALID,adType:e.adType,adUnitId:e.adUnitId,error_detail:{dataBackTime:e.data.dataBackTime.getTime()}}),aD.call(this).catch((t=>(yR.call(this,{key:lA.idkey.PORTAL_DATA_INVALID_RETRY_FAIL,adType:e.adType,adUnitId:e.adUnitId,error_detail:{type:"load"}}),e.emitter.emit("_error",PR(t)),Promise.reject(t)))).then((t=>(yR.call(this,{key:lA.idkey.PORTAL_DATA_INVALID_RETRY_SUCCESS,adType:e.adType,adUnitId:e.adUnitId,error_detail:{type:"load"}}),t)))):e.fetchPromise?e.fetchPromise:aD.call(this).catch((t=>(e.emitter.emit("_error",PR(t)),Promise.reject(t))))}offClose(e){this.isDestroyed||(0,Fv.Wj)(this).emitter.off("close",e)}offError(e){this.isDestroyed||(0,Fv.Wj)(this).emitter.off("_error",e)}offLoad(e){this.isDestroyed||(0,Fv.Wj)(this).emitter.off("load",e)}onClose(e){this.isDestroyed||(0,Fv.Wj)(this).emitter.on("close",e)}onError(e){this.isDestroyed||(0,Fv.Wj)(this).emitter.on("_error",e)}onLoad(e){this.isDestroyed||(0,Fv.Wj)(this).emitter.on("load",e)}show(){if(this.isDestroyed)return Promise.reject({errMsg:"组件已经被销毁"});var e=(0,Fv.Wj)(this),t=rD.map[e.adType].current;return t&&t!==e?Promise.reject({errMsg:lA.ERRMSG.DUPLICATEWARN}):(rD.show(e.adType,e),e.showPromise?e.showPromise:e.hasData?e.data&&(new Date).toDateString()!==e.data.dataBackTime.toDateString()?(e.container&&rA.u.remove(e.container),yR.call(this,{key:lA.idkey.PORTAL_DATA_INVALID,adType:e.adType,adUnitId:e.adUnitId,error_detail:{dataBackTime:e.data.dataBackTime.getTime()}}),aD.call(this).catch((t=>(e.emitter.emit("_error",PR(t)),rD.hide(e.adType,e),yR.call(this,{key:lA.idkey.PORTAL_DATA_INVALID_RETRY_FAIL,adType:e.adType,adUnitId:e.adUnitId,error_detail:{type:"show"}}),Promise.reject(t)))).then((()=>(yR.call(this,{key:lA.idkey.PORTAL_DATA_INVALID_RETRY_SUCCESS,adType:e.adType,adUnitId:e.adUnitId,error_detail:{type:"show"}}),e.container.style.hidden=!1,e.showPromise=e.container.nextLayout().then((()=>{e.isShowed=!0,e.exposure_time=CR(),vR.call(this,e.gameboxwrap),DR.openAdd(e.adType),RR.call(this,e.data.game_ad_list)})),e.showPromise)))):(e.container.style.hidden=!1,e.showPromise=e.container.nextLayout().then((()=>{e.isShowed=!0,e.exposure_time=CR(),vR.call(this,e.gameboxwrap),DR.openAdd(e.adType),RR.call(this,e.data.game_ad_list)})),e.showPromise):(rD.hide(e.adType,e),Promise.reject({errMsg:lA.ERRMSG.NODATA})))}destroy(){return sD.call(this)}}function lD(){return`\n        <view id="container">\n            <image id="gameinfoIcon" src="{{=it.game.icon_url}}" bubble-event="true"></image>\n\n            <view id="gameinfoBox" bubble-event="true">\n                <view id="gameinfoTitle" bubble-event="true">\n                    <text id="gameName" class="{{=it.game.className}}" value="{{=it.game.appname}}" bubble-event="true"></text>\n                    {{? it.game.is_original_game }}\n                        <text id="gameNameTagWithoutBorder" value="创意" bubble-event="true"></text>\n                    {{?}}\n                </view>\n                \x3c!-- 换行 --\x3e\n                {{? it.game.brief_intro}}\n                    {{~it.game.brief_intro_lines :line:lineIndex}}\n                        <text id="gameDesc" value="{{=line.text}}" class="{{=line.className}}" bubble-event="true"></text>\n                    {{~}}\n                {{?}}\n            </view>\n            <text id="btnGreenBg" value="立即玩"  bubble-event="true"></text>\n            <image id="bottomIcon" src="https://res.wx.qq.com/wechatgame/product/webpack/userupload/20190705/bottomicon.png"></image>\n            ${zR}\n        </view>\n    `}function uD(e,t,r){r.game=r.game_ad_list[0],r.game_ad_list.forEach((t=>{if(t.appname){var r=gA.textMetrics(t.appname,{maxWidth:145,maxLines:1,fontSize:e.gameName.fontSize})[0];t.appname=r.text,t.className=`width_${r.width}`,e[t.className]={width:r.width}}if(t.brief_intro){var n=gA.textMetrics(t.brief_intro,{maxWidth:e.gameDesc.width-10,maxLines:2,fontSize:e.gameDesc.fontSize});n.forEach((t=>{t.className=`width_${e.gameDesc.width}`,e[t.className]={width:e.gameDesc.width}})),t.brief_intro_lines=n,2===n.length&&(e.container.height=120)}}))}function dD(){return`\n    <view id="container">\n        {{~it.game_ad_list :game:index}}\n            <view class="gameItem" id="gameinfo__{{=index}}">\n                <view id="gameIconBox" bubble-event="true">\n                    <image id="gameinfoIcon" src="{{=game.icon_url}}" bubble-event="true"></image>\n                    {{? game.is_original_game }}\n                        <text id="gameNameTagWithBorder" value="创意" bubble-event="true"></text>\n                    {{?}}\n                </view>\n\n                <text id="gameName" class="{{=game.className}}" value="{{=game.appname}}" bubble-event="true"></text>\n\n                {{? game.brief_intro }}\n                    <text class="gameFriendValue" value="{{=game.brief_intro}}" id="gameFriendValue__{{=index}}" bubble-event="true"></text>\n                {{?}}\n            </view>\n        {{~}}\n        <image id="bottomIcon" src="https://res.wx.qq.com/wechatgame/product/webpack/userupload/20190705/bottomicon.png"></image>\n        ${zR}\n    </view>\n`}function pD(e,t,r){e.container.height=r.game_ad_list.find((e=>e.brief_intro))?120:102,2===r.game_ad_list.length&&(e.gameFriendValue.width=130,e.gameName.width=130),r.game_ad_list.forEach((t=>{if(t.appname){var r=gA.textMetrics(t.appname,{maxWidth:e.gameName.width-5,maxLines:1,fontSize:e.gameName.fontSize})[0];t.appname=r.text}if(t.brief_intro=t.tag_list.slice(0,2).join("丨"),t.brief_intro){var n=gA.textMetrics(t.brief_intro,{maxWidth:e.gameFriendValue.width-5,maxLines:1,fontSize:e.gameFriendValue.fontSize})[0];t.brief_intro=n.text}}))}function fD(){return`\n    <view id="container">\n        {{~it.game_ad_list :game:index}}\n            <view class="gameItem" id="gameinfo__{{=index}}">\n                <view id="gameIconBox" bubble-event="true">\n                    <image id="gameinfoIcon" src="{{=game.icon_url}}" bubble-event="true"></image>\n                    {{? game.is_original_game }}\n                        <text id="gameNameTagWithBorder" value="创意" bubble-event="true"></text>\n                    {{?}}\n                </view>\n                <view id="gameinfoBox" bubble-event="true">\n                    <text id="gameName" value="{{=game.appname}}" bubble-event="true"></text>\n\n                    {{? game.brief_intro }}\n                        <text id="gameFriendValue" value="{{=game.brief_intro}}" bubble-event="true"></text>\n                    {{?}}\n                </view>\n                {{? index < it.game_ad_list.length - 1}}\n                    <view id="gameItemRightBorder"></view>\n                {{?}}\n            </view>\n        {{~}}\n        <image id="bottomIcon" src="https://res.wx.qq.com/wechatgame/product/webpack/userupload/20190705/bottomicon.png"></image>\n        ${zR}\n    </view>\n`}function hD(e,t,r){e.container.width=167*r.game_ad_list.length,r.game_ad_list.forEach((t=>{if(t.appname){var r=gA.textMetrics(t.appname,{maxWidth:e.gameName.width-5,maxLines:1,fontSize:e.gameName.fontSize})[0];t.appname=r.text}if(t.brief_intro=t.tag_list.slice(0,1).join("丨"),t.brief_intro){var n=gA.textMetrics(t.brief_intro,{maxWidth:e.gameFriendValue.width-5,maxLines:1,fontSize:e.gameFriendValue.fontSize})[0];t.brief_intro=n.text}}))}function gD(e,t,r){r.game=r.game_ad_list[0],r.game_ad_list.forEach((t=>{if(t.appname){var r=gA.textMetrics(t.appname,{maxWidth:e.gameName.width-5,maxLines:1,fontSize:e.gameName.fontSize})[0];t.appname=r.text}if(t.brief_intro=t.tag_list.slice(0,3).join("丨"),t.brief_intro){var n=gA.textMetrics(t.brief_intro,{maxWidth:e.gameDesc.width-5,maxLines:1,fontSize:e.gameDesc.fontSize})[0];t.brief_intro=n.text}}))}var vD=d(7547);function mD(e,t){var r=(0,Fv.Wj)(this);if(ER(e)){var n=fR({type:"game_click",params:mR.call(this,{event:e,ad_pos_id:1,action_type:lR,layout:r.container,serving_id:t.serving_id||""})});DR.clickAdd(r.adType),f.info(`clickReportBeforeNavigateToMiniProgram_${t.appid}_${t.serving_id}`),Promise.race([n,AR(500)]).then((()=>{kR.call(this,{appid:t.appid,adType:r.adType,serving_id:t.serving_id||""})})).catch((()=>{kR.call(this,{appid:t.appid,adType:r.adType,serving_id:t.serving_id||""})}))}}function yD(){var e=(0,Fv.Wj)(this),t=e.data.game;ZR.call(this),1===e.data.game_ad_list.length?e.container.on("click",(e=>{mD.call(this,e,t)})):e.data.game_ad_list.forEach(((t,r)=>{e["gameinfo__"+r].on("click",(e=>{mD.call(this,e,t)}))}))}function bD(e,t){var r=(0,Fv.Wj)(this);r.globalScale=1;var n=1;e.screenWidth<lA.designWidth&&(n=e.screenWidth/lA.designWidth,r.globalScale=n,Object.keys(t).forEach((e=>{t[e].scale=n})));var a={width:t.container.width*n,height:t.container.height*n},i=(e.screenHeight-a.height-31)/n,o=(e.screenWidth-a.width)/2/n,s=r.devStyle;s.left&&(o=TR(e,"left",s.left,a)/n),s.top&&(i=TR(e,"top",s.top,a)/n),t.container.top=i,t.container.left=o}function _D(e,t){var r=t.game_ad_list||[];return"portrait"===e.deviceOrientation?1===r.length?{template:lD(),style:Object.assign(VR(),{container:{width:343,height:108,position:"absoulte",bottom:31,overflow:"hidden",hidden:!0,backgroundColor:"#ffffff",borderRadius:4,zIndex:1,flexDirection:"row",alignItems:"center",paddingLeft:16,paddingRight:16},gamebox:{},gameinfoBox:{paddingLeft:8},gameinfoTitle:{flexDirection:"row"},gameName:{height:22,overflow:"visible",width:68,fontSize:17,color:"#000000",opacity:.9},gameDesc:{width:190,height:17,fontSize:14,marginTop:3,color:"#000000",opacity:.5,overflow:"hidden"},gameFriendValue:{fontSize:12,color:"#000000",opacity:.3,width:177,marginTop:5,height:14}}),tplFn:(QR||(QR=GR.template(lD())),QR),styleFilter:uD}:{template:dD(),style:Object.assign(VR(),{container:{width:343,position:"absoulte",overflow:"hidden",hidden:!0,backgroundColor:"#ffffff",borderRadius:4,paddingLeft:18,paddingRight:18,paddingTop:12,paddingBottom:20,flexDirection:"row",justifyContent:"center",zIndex:1},gameItem:{width:167,alignItems:"center",flex:1},gameIconBox:{width:53,heigth:48,overflow:"visible"},gameName:{height:20,width:105,fontSize:14,marginTop:6,textAlign:"center"},gameFriendValue:{fontSize:12,color:"#000000",opacity:.5,width:105,height:15,textAlign:"center"}}),tplFn:(XR||(XR=GR.template(dD())),XR),styleFilter:pD}:1===r.length?{template:`\n    <view id="container">\n        <view id="gameIconBox" bubble-event="true">\n            <image id="gameinfoIcon" src="{{=it.game.icon_url}}" bubble-event="true"></image>\n            {{? it.game.is_original_game }}\n                <text id="gameNameTagWithBorder" value="创意" bubble-event="true"></text>\n            {{?}}\n        </view>\n        <view id="gameinfoBox" bubble-event="true">\n            <view id="gameinfoTitle" bubble-event="true">\n                <text id="gameName" class="{{=it.game.className }}" value="{{=it.game.appname}}" bubble-event="true"></text>\n            </view>\n            {{? it.game.brief_intro}}\n                <text id="gameDesc" value="{{=it.game.brief_intro}}" bubble-event="true"></text>\n            {{?}}\n        </view>\n        <text id="gameBtnText" value="立即玩" bubble-event="true"></text>\n        <image id="bottomIcon" src="https://res.wx.qq.com/wechatgame/product/webpack/userupload/20190705/bottomicon.png"></image>\n        ${zR}\n    </view>\n`,style:Object.assign(VR(),{container:{width:334,height:70,position:"absoulte",bottom:31,overflow:"hidden",hidden:!0,backgroundColor:"#ffffff",borderRadius:4,paddingLeft:16,paddingRight:16,flexDirection:"row",alignItems:"center",zIndex:1},gameIconBox:{width:53,heigth:48},gameinfoBox:{paddingLeft:4},gameinfoTitle:{flexDirection:"row",height:17},gameName:{height:17,width:170,fontSize:14},gameDesc:{width:180,height:14,fontSize:12,marginTop:4,color:"#000000",opacity:.5,overflow:"hidden"},gameBtnText:{width:67,height:28,lineHeight:28,borderRadius:3,textAlign:"center",justifyContent:"center",alignItems:"center",color:"#06AE56",fontSize:17,backgroundColor:"#f2f2f2"}}),tplFn:(tD||(tD=GR.template(template)),tD),styleFilter:gD}:{template:fD(),style:Object.assign(VR(),{container:{width:334,height:70,position:"absoulte",bottom:31,overflow:"hidden",hidden:!0,backgroundColor:"#ffffff",borderRadius:4,flexDirection:"row",alignItems:"center",zIndex:1},gameItem:{width:167,flex:1,flexDirection:"row",alignItems:"center"},gameItemRightBorder:{width:1,backgroundColor:"#e5e5e5",height:70},gameIconBox:{width:53,heigth:48,marginLeft:16},gameinfoBox:{paddingLeft:4,width:95},gameName:{height:20,width:88,fontSize:14},gameFriendValue:{fontSize:12,color:"#000000",opacity:.5,width:88,marginTop:0,height:15,textAlign:"left"}}),tplFn:(eD||(eD=GR.template(fD())),eD),styleFilter:hD}}function wD(e){var t=(0,Fv.Wj)(this);return t.data=e,t.data.dataBackTime=new Date,e.feedbackList=lA.feedbackList,IR().then((r=>{var{template:n,style:a,tplFn:i,styleFilter:o}=_D(r,e);o.call(this,a,r,e),bD.call(this,r,a),n=i(t.data);var{root:s}=vD(n);return Fv.S1.call(this,s,a),rA.u.add(t.container),t.container||yR.call(this,{key:lA.idkey.BANNER_RENDER_ERROR,adType:t.adType,adUnitId:t.adUnitId,error_detail:{msg:"Layout.add error"}}),yD.call(this),t.container.nextLayout()}))}function ID(e,t){fR({type:"component_load",params:gR.call(this,{load_type:nR,open_time:e.s,cost_time:CR().ms-e.ms,result:t})})}function SD(){var e=(0,Fv.Wj)(this),t=e.container.style,r=e.globalScale||1;e.devStyle.left=t.left,e.devStyle.top=t.top,this.style.width=Math.round(t.width*r),this.style.height=Math.round(t.height*r),e.emitter.emit("resize",{width:Math.round(t.width*r),height:Math.round(t.height*r),left:Math.round(t.left*r),top:Math.round(t.top*r)})}function kD(e){var t=(0,Fv.Wj)(this);return wD.call(this,e).then((()=>{SD.call(this),setTimeout((()=>{t.emitter.emit("ready")}),0)}))}var CD,TD=function(){var e=(0,Fv.Wj)(this);return new Promise((t=>{e.isReady?t():e.emitter.on("ready",t)}))};function ED(){var e=(0,Fv.Wj)(this);this.isDestroyed=!0,e.emitter.off("_error"),e.emitter.off("load"),rD.hide(e.adType,e),e.container&&rA.u.remove(e.container)}function AD(){var e=(0,Fv.Wj)(this);return e.destroyPromise||(e.destroyPromise=new Promise((t=>{e.fetchPromise?e.fetchPromise.then((()=>{ED.call(this),t()})).catch((()=>{ED.call(this),t()})):(ED.call(this),t())}))),e.destroyPromise}function PD(){var e=(0,Fv.Wj)(this);function t(t){e.emitter.emit("load");var r=(t=t||{}).data;e.trace_id=r.trace_id,ID.call(this,e.open_time,parseInt(r.err_code||r.errcode||r.errCode||0));var n=CR();return kD.call(this,r).then((()=>{e.hasData=!0,fR({type:"component_load",params:gR.call(this,{load_type:aR,open_time:n.s,layout:e.container,cost_time:CR().ms-n.ms,result:0})})}))}return e.open_time=CR(),e.fetchPromise=e.proxy.fetch().then((e=>{if(!this.isDestroyed)return t.call(this,e)})).catch((t=>(ID.call(this,e.open_time,parseInt(t.errCode||t.err_code||-1)),Promise.reject(t)))),e.fetchPromise}function xD(e,t){return IR().then((r=>{var n=(0,Fv.Wj)(this),a={width:n.container.style.width*n.globalScale||1,height:n.container.style.height*n.globalScale||1};return TR(r,e,t,a)/(n.globalScale||1)}))}class MD extends Fv.wA{constructor(e={}){super();var{adUnitId:t,style:r={left:0,top:0}}=e;if(!t)throw new be.iZ("[GameBanner]:"+lA.ERRMSG.NO_ADUNITID_WARN);r.left||(r.left=0),r.top||(r.top=0),this.isDestroyed=!1,this.style={width:0,height:0};var n=(0,Fv.Wj)(this);n.emitter=new qA.Z,n.adType=oR,n.proxy=new OR({adUnitId:t,adType:n.adType}),n.destroyPromise=null,n.isShowed=!1,n.hasData=!1,n.trace_id="",n.globalScale=1,n.devStyle=r,Object.keys(r).forEach((e=>{Object.defineProperty(this.style,e,{configurable:!0,enumerable:!0,get:()=>Math.round(n.devStyle[e]*n.globalScale),set:t=>{this.isDestroyed||t!==n.devStyle[e]&&TD.call(this).then((()=>{xD.call(this,e,t).then((t=>{t!==n.devStyle[e]&&(n.devStyle[e]=t,Object.assign(n.container.style,{left:n.devStyle.left,top:n.devStyle.top}),SD.call(this))}))}))}})})),n.isReady=!1,n.emitter.on("ready",(()=>n.isReady=!0)),n.emitter.on("close",(()=>{n.isShowed=!1,rD.hide(n.adType,n)})),PD.call(this).catch((e=>{n.emitter.emit("_error",PR(e))}))}offClose(e){this.isDestroyed||(0,Fv.Wj)(this).emitter.off("close",e)}offError(e){this.isDestroyed||(0,Fv.Wj)(this).emitter.off("_error",e)}offLoad(e){this.isDestroyed||(0,Fv.Wj)(this).emitter.off("load",e)}onError(e){this.isDestroyed||(0,Fv.Wj)(this).emitter.on("_error",e)}onLoad(e){this.isDestroyed||(0,Fv.Wj)(this).emitter.on("load",e)}show(){if(this.isDestroyed)return Promise.reject({errMsg:"组件已经被销毁"});var e=(0,Fv.Wj)(this),t=rD.map[e.adType].current;return t&&t!==e?Promise.reject({errMsg:"同一时刻只能展示一个同一类型的组件"}):(rD.show(e.adType,e),e.isShowed?Promise.resolve():(e.isShowed=!0,e.data&&(new Date).toDateString()!==e.data.dataBackTime.toDateString()&&(e.container&&rA.u.remove(e.container),yR.call(this,{key:lA.idkey.BANNER_DATA_INVALID,adType:e.adType,adUnitId:e.adUnitId,error_detail:{dataBackTime:e.data.dataBackTime.getTime()}}),PD.call(this).catch((t=>{rD.hide(e.adType,e),e.emitter.emit("_error",PR(t))}))),e.fetchPromise.then((()=>(e.container.style.hidden=!1,e.exposure_time=CR(),vR.call(this,e.container),DR.openAdd(e.adType),RR.call(this,e.data.game_ad_list),e.container.nextLayout()))).catch((t=>(rD.hide(e.adType,e),Promise.reject(t))))))}destroy(){return AD.call(this)}hide(){if(this.isDestroyed)return Promise.reject({errMsg:"组件已经被销毁"});var e=(0,Fv.Wj)(this);return e.isShowed?(e.isShowed=!1,TD.call(this).then((()=>(e.container.style.hidden=!0,e.container.nextLayout().then((()=>{rD.hide(e.adType,e),fR({type:"game_click",params:mR.call(this,{action_type:dR,layout:e.container})})})))))):Promise.resolve()}onResize(e){this.isDestroyed||(0,Fv.Wj)(this).emitter.on("resize",e)}offResize(e){this.isDestroyed||(0,Fv.Wj)(this).emitter.off("resize",e)}}function RD(e,t,r){var n=(0,Fv.Wj)(this);if(ER(e)){var a=fR({type:"game_click",params:mR.call(this,{event:e,ad_pos_id:r+1,action_type:lR,layout:n.gameIconBox0,serving_id:t.serving_id||""})});DR.clickAdd(n.adType),Promise.race([a,AR(500)]).then((()=>{kR.call(this,{appid:t.appid,adType:n.adType,serving_id:t.serving_id||""})})).catch((()=>{kR.call(this,{appid:t.appid,adType:n.adType,serving_id:t.serving_id||""})}))}}function DD(){var e=(0,Fv.Wj)(this);e.data.game_ad_list.forEach(((t,r)=>{e["gameIconBox"+r].on("click",(e=>{RD.call(this,e,t,r)}))}))}function LD(e,t){var r=(0,Fv.Wj)(this);return r.data=e,r.data.dataBackTime=new Date,IR().then((n=>{var a={iconcontainer:{width:700,height:1e3},gameIconBoxContainer:{width:72,height:90,alignItems:"center",position:"absolute",hidden:!0},gameIcon:{marginTop:8},gameName:{fontSize:12,height:20,width:72,textAlign:"center",marginTop:4}};r.data.deviceOrientation=n.deviceOrientation,function(e,t,r,n){var a=r.game_ad_list||[];n.forEach(((t,r)=>{var n={};e["gameIconBox"+r]=n,n.left=t.left,n.top=t.top;var i={};e["gameIcon"+r]=i;var o=xR(t.size,32,64),s=xR(t.borderWidth,0,10);i.width=o,i.height=o,i.borderColor=t.borderColor,i.borderWidth=s,i.borderRadius=i.width/2;var c={};if(e["gameName"+r]=c,c.color=t.color,c.hidden=t.appNameHidden,n.height=t.appNameHidden?64:90,a[r]&&a[r].appname){var l=gA.textMetrics(a[r].appname,{maxWidth:e.gameName.width,maxLines:1,fontSize:e.gameName.fontSize})[0];a[r].appname=l.text}}))}(a,0,e,t);for(var{root:i}=jv()((CD||(CD=GR.template('\n        <view>\n            {{~it.game_ad_list :game:index}}\n                <view id="gameIconBox{{= index}}" class="gameIconBoxContainer" bubble-event="true">\n                    <image id="gameIcon{{= index}}" class="gameIcon" src="{{= game.icon_url}}" bubble-event="true"></image>\n                    <text id="gameName{{= index}}" class="gameName" value="{{= game.appname}}" bubble-event="true"></text>\n                </view>\n            {{~}}\n        </view>\n    ')),CD)(e)),o=0;o<this.icons.length;o++)r["gameIconBox"+o]&&rA.u.remove(r["gameIconBox"+o]);for(var s=0;s<i.children.length;s++)Fv.S1.call(this,i.children[s],a),rA.u.add(r["gameIconBox"+s]);DD.call(this);var c=[...Array(e.game_ad_list.length)].map(((e,t)=>r["gameIconBox"+t].ready()));return Promise.all(c)}))}function ND(e,t){fR({type:"component_load",params:gR.call(this,{load_type:nR,open_time:e.s,cost_time:CR().ms-e.ms,result:t})})}function OD(){(0,Fv.Wj)(this).emitter.emit("resize",this.icons.slice(0,this.iconCount))}function BD(){var e=(0,Fv.Wj)(this);function t(t){e.emitter.emit("load");var r=(t=t||{}).data;this.iconCount=r.game_ad_list.length,e.trace_id=r.trace_id,ND.call(this,e.open_time,parseInt(r.err_code||r.errcode||r.errCode||0));var n=CR();return LD.call(this,r,e.icons).then((()=>{OD.call(this),setTimeout((()=>{e.emitter.emit("ready")}),0),fR({type:"component_load",params:gR.call(this,{load_type:aR,open_time:n.s,layout:e.gameIconBox0,cost_time:CR().ms-n.ms,result:0})})}))}return e.open_time=CR(),e.fetchPromise=e.proxy.fetch().then((e=>{if(!this.isDestroyed)return t.call(this,e)})).catch((t=>(e.fetchPromise=null,ND.call(this,e.open_time,parseInt(t.errCode||t.err_code||-1)),Promise.reject(t)))),e.fetchPromise}var jD=function(){var e=(0,Fv.Wj)(this);return new Promise((t=>{e.isReady?t():e.emitter.on("ready",t)}))};function FD(){var e=(0,Fv.Wj)(this);this.isDestroyed=!0,e.emitter.off("_error"),e.emitter.off("load"),rD.hide(e.adType,e),UD.call(this).forEach((e=>e&&rA.u.remove(e)))}function UD(){for(var e=(0,Fv.Wj)(this),t=[],r=0;r<this.iconCount;r++)t.push(e["gameIconBox"+r]);return t}function WD(){var e=(0,Fv.Wj)(this);return e.destroyPromise||(e.destroyPromise=new Promise((t=>{e.fetchPromise?e.fetchPromise.then((()=>{FD.call(this),t()})).catch((()=>{FD.call(this),t()})):(FD.call(this),t())}))),e.destroyPromise}function GD(){for(var e=this,t=(0,Fv.Wj)(this),r=function(r){e.icons[r]={},Object.keys(t.icons[r]).forEach((n=>{Object.defineProperty(e.icons[r],n,{configurable:!0,enumerable:!0,get:()=>"width"!==n&&"height"!==n||!t["gameIconBox"+r]?t.icons[r][n]:t["gameIconBox"+r].style[n],set:a=>{if(!e.isDestroyed){if("width"===n||"height"===n)return console.error("组件的宽高不可设置");if(a!==t.icons[r][n]){var i=t["gameIconBox"+r],o=t["gameIcon"+r],s=t["gameName"+r];if(i){var c=a;jD.call(e).then((()=>{"left"===n||"top"===n?i.style[n]=c:"size"===n?(c=xR(c,32,64),o.style.width=o.style.height=c):"borderColor"===n?o.style[n]=c:"borderWidth"===n?(c=xR(c,0,10),o.style[n]=c):"color"===n?s.style.color=c:"appNameHidden"===n&&(s.style.hidden=c,i.style.height=c?64:84),t.icons[r][n]=c,OD.call(e)}))}}}}})}))},n=0;n<t.count;n++)r(n)}class VD extends Fv.wA{constructor(e={}){super();var{adUnitId:t,count:r,style:n}=e;if(!t)throw new be.iZ("[GameIcon]:"+lA.ERRMSG.NO_ADUNITID_WARN);if(!SR(r,"Number")||r<1||r>9)throw new be.iZ("[GameIcon]: count字段必须是1-9的数字");if(n&&(!SR(n,"Array")||n.find((e=>!SR(e,"Object")))))throw new be.iZ("[GameIcon]: style必须是由对象组成的数组");n||(n=[]);var a=(0,Fv.Wj)(this);this.isDestroyed=!1,this.iconCount=0,this.icons=[],a.count=r,a.icons=[];for(var i=10,o=0,s=0;s<r;s++)s>0&&s%3==0&&(i=10,o+=84),a.icons[s]=Object.assign({left:i,top:o,appNameHidden:!1,color:"#000000",size:48,borderWidth:0,borderColor:"#FFF8D5",width:64,height:84},n[s]||{}),i+=82;a.emitter=new qA.Z,a.adType=cR,a.proxy=new OR({adUnitId:t,adType:a.adType,maxGameCount:r}),a.destroyPromise=null,a.isShowed=!1,a.trace_id="",a.isReady=!1,a.emitter.on("ready",(()=>a.isReady=!0)),GD.call(this),BD.call(this).catch((e=>{a.emitter.emit("_error",PR(e))}))}load(){var e=(0,Fv.Wj)(this);return e.fetchPromise,this.isDestroyed?Promise.reject({errMsg:"组件已经被销毁"}):e.data&&(new Date).toDateString()!==e.data.dataBackTime.toDateString()?(e.container&&rA.u.remove(e.container),yR.call(this,{key:lA.idkey.ICON_DATA_INVALID,adType:e.adType,adUnitId:e.adUnitId,error_detail:{dataBackTime:e.data.dataBackTime.getTime()}}),BD.call(this).catch((t=>(yR.call(this,{key:lA.idkey.ICON_DATA_INVALID_RETRY_FAIL,adType:e.adType,adUnitId:e.adUnitId,error_detail:{type:"load"}}),e.emitter.emit("_error",PR(t)),Promise.reject(t)))).then((t=>(yR.call(this,{key:lA.idkey.ICON_DATA_INVALID_RETRY_SUCCESS,adType:e.adType,adUnitId:e.adUnitId,error_detail:{type:"load"}}),t)))):e.fetchPromise?e.fetchPromise:(e.isReady=!1,BD.call(this).catch((t=>(e.emitter.emit("_error",PR(t)),Promise.reject(t)))).then((t=>e.isShowed?(e.isShowed=!1,rD.hide(e.adType,e),this.show()):Promise.resolve(t))))}onLoad(e){this.isDestroyed||(0,Fv.Wj)(this).emitter.on("load",e)}offLoad(e){this.isDestroyed||(0,Fv.Wj)(this).emitter.off("load",e)}offError(e){this.isDestroyed||(0,Fv.Wj)(this).emitter.off("_error",e)}onError(e){this.isDestroyed||(0,Fv.Wj)(this).emitter.on("_error",e)}show(){if(this.isDestroyed)return Promise.reject({errMsg:"组件已经被销毁"});var e=(0,Fv.Wj)(this),t=rD.map[e.adType].current;if(t&&t!==e)return Promise.reject({errMsg:"同一时刻只能展示一个同一类型的组件"});if(rD.show(e.adType,e),e.isShowed)return Promise.resolve();if(e.isShowed=!0,e.data&&(new Date).toDateString()!==e.data.dataBackTime.toDateString()&&(UD.call(this).forEach((e=>e&&rA.u.remove(e))),yR.call(this,{key:lA.idkey.ICON_DATA_INVALID,adType:e.adType,adUnitId:e.adUnitId,error_detail:{dataBackTime:e.data.dataBackTime.getTime()}}),BD.call(this).catch((t=>{rD.hide(e.adType,e),e.emitter.emit("_error",PR(t))}))),!e.fetchPromise){e.exposure_time=CR(),vR.call(this,e.gameIconBox0),DR.openAdd(e.adType);for(var r=[],n=0;n<this.iconCount;n++){var a=e["gameIconBox"+n];a.style.hidden=!1,r.push(a.nextLayout())}return Promise.all(r)}return e.fetchPromise.then((()=>{e.fetchPromise=null,e.exposure_time=CR(),vR.call(this,e.gameIconBox0),DR.openAdd(e.adType);for(var t=[],r=0;r<this.iconCount;r++){var n=e["gameIconBox"+r];n.style.hidden=!1,t.push(n.nextLayout())}return RR.call(this,e.data.game_ad_list),Promise.all(t)})).catch((t=>(rD.hide(e.adType,e),Promise.reject(t))))}destroy(){return WD.call(this)}hide(){if(this.isDestroyed)return Promise.reject({errMsg:"组件已经被销毁"});var e=(0,Fv.Wj)(this);return e.isShowed?(e.isShowed=!1,jD.call(this).then((()=>{var t=[];return UD.call(this).forEach((e=>{e.style.hidden=!0,t.push(e.nextLayout())})),Promise.all(t).then((()=>{rD.hide(e.adType,e),fR({type:"game_click",params:mR.call(this,{action_type:dR,layout:e.gameIconBox0})})}))}))):Promise.resolve()}onResize(e){this.isDestroyed||(0,Fv.Wj)(this).emitter.on("resize",e)}offResize(e){this.isDestroyed||(0,Fv.Wj)(this).emitter.off("resize",e)}}var $D=e=>new cD(e),qD=e=>new MD(e),zD=e=>new VD(e),ZD=(0,B.TG)("getUserInteractiveStorage","webapi_getuserinteractivedata",(({keyList:e=[]})=>({key:e}))),HD=e=>{var t=(0,Py.M)(e.keyList);t?(0,B.YG)("getUserInteractiveStorage",e,t):(w.reportIDKey({key:"getUserInteractiveStorage"}),ZD(e))},KD=(e={})=>{(0,B.r3)("scanCode",e,{})&&(0,B.IN)("scanCode",e,{beforeSuccess(e){"string"==typeof e.path&&(e.path=e.path.replace(/\.html$/,""),e.path=e.path.replace(/\.html\?/,"?"))}})},JD=((0,B.TG)("scanItem","ProductLogic",(e=>({method:"AIIdentifyProductInfo",data:JSON.stringify({req_key:e.reqKey})})),(e=>{delete e.errcode,e.products=(e.products||[]).map((e=>({info:{title:e.info.title,category:e.info.category.map((e=>({name:e.name})))}})))})),(0,B.TG)("scanItem","ProductLogic",(e=>({method:"AIIdentifyProductInfo",data:JSON.stringify({req_key:e.reqKey})})),(e=>{delete e.errcode,e.products=e.products||[]})),()=>{if(!O.Z.ext)return{};try{return JSON.parse(JSON.stringify(O.Z.ext))}catch(e){return{}}}),YD=(e={})=>{setTimeout((()=>{var t={errMsg:"getExtConfig: ok",extConfig:JD()};"function"==typeof e.success&&e.success(t),"function"==typeof e.complete&&e.complete(t)}),0)},QD=d(2488),XD={};function eL(e,t=!0){w.reportKeyValue({key:"MidasFriendPayment",value:[XD.scene,1,31,t?1:2,0,"1","",0,"",(0,Je._getCurrentNetworkType)(),0,0,0,0,0,XD.scene_note,encodeURIComponent(JSON.stringify({label:e.mark_type,report_info:e.report_info,sessionId:XD.sessionid||XD.sessionId}))].join(",")})}O.Z.onReady((()=>{var e;XD=O.Z.appLaunchInfo||{},e=(XD.referrerInfo||{}).messageExtraData||{},(0,B.yD)({apiName:"webapi_game_getsharemarkingame",reqData:{lib_version:He.c,scene:XD.scene,launch_with_share_mark:!!e.shareCardMarker},success:({data:e})=>{e&&(e.mark_list||[]).forEach(((e,t)=>setTimeout((()=>{eL(e),function({label:e,icon:t,tag:r,data:n,more:a=!1}){(0,QD._)({label:e,icon:t,tag:r,more:a,background:"transparent",base64:R.wZ}).then((t=>{var r=new kp.Ee({src:t,autoInsert:!0,style:{left:0,width:210,height:40,opacity:0,top:/landscape/.test(O.Z.deviceOrientation)?48:104}}),i=!1;a&&r.on("click",(()=>{i=!0,(0,B.yD)({apiName:"webapi_game_getfriendsscore",success:({data:t})=>{var r=t.friend_score_list||[];(0,Nh.q7)({title:e,list:r})}}),eL(n,!1),r.destroy()})),(0,B.IN)("animateCoverView",{viewId:r.id,finalStyle:{opacity:1},duration:250,easing:"ease-out"}),setTimeout((()=>{setTimeout((()=>i||r.destroy()),300),i||(0,B.IN)("animateCoverView",{viewId:r.id,finalStyle:{opacity:0},duration:200,easing:"ease-in"})}),5250)}))}({data:e,label:e.wording,icon:e.head_img_url,tag:e.mark_word,more:6===e.mark_type})}),2e3+4500*t)))}})}));var tL=null,rL=!1,nL=()=>!0===rL||("function"!=typeof getProfiler?(void 0!==M.Z.Profiler&&(tL=M.Z.Profiler,rL=!0),!0):((tL=getProfiler())&&(rL=!0),!0)),aL=!1,iL=()=>(nL(),tL?(aL||(aL=!0,tL.startCpuProfiling()),!0):null),oL=()=>{if(nL(),!tL)return null;if(aL){aL=!1;var e=tL.stopCpuProfiling();return e}return null};function sL(e){for(var t="",r=0;r<e.length;){var n=e[r],a=0;n>>>7==0?(t+=String.fromCharCode(e[r]),r+=1):252==(252&n)?(a=(3&e[r])<<30,a|=(63&e[r+1])<<24,a|=(63&e[r+2])<<18,a|=(63&e[r+3])<<12,a|=(63&e[r+4])<<6,a|=63&e[r+5],t+=String.fromCharCode(a),r+=6):248==(248&n)?(a=(7&e[r])<<24,a|=(63&e[r+1])<<18,a|=(63&e[r+2])<<12,a|=(63&e[r+3])<<6,a|=63&e[r+4],t+=String.fromCharCode(a),r+=5):240==(240&n)?(a=(15&e[r])<<18,a|=(63&e[r+1])<<12,a|=(63&e[r+2])<<6,a|=63&e[r+3],t+=String.fromCharCode(a),r+=4):224==(224&n)?(a=(31&e[r])<<12,a|=(63&e[r+1])<<6,a|=63&e[r+2],t+=String.fromCharCode(a),r+=3):192==(192&n)?(a=(63&e[r])<<6,a|=63&e[r+1],t+=String.fromCharCode(a),r+=2):(t+=String.fromCharCode(e[r]),r+=1)}return t}var cL="STOP_CPU_PROFILE",lL="TAKE_HEAP_SNAPSHOT",uL="PERFDOG_METHOD",dL="PERFDOG_METHOD_CALLBACK",pL="LAN_DEBUG_GET_DEVICE_INFO",fL="LAN_DEBUG_PLUGIN_GET_DEVICE_INFO",hL="OPEN",gL="CLOSED",vL="ERROR",mL="CONNECTING",yL="LAN_DEBUG_STATUS_CHANGE",bL=!1;function _L(e,t){var{model:r,version:n,system:a,SDKVersion:i}=(0,Ce.getStableSystemInfo)(),{accountInfo:o,isDevEdition:s}=O.Z,{appId:c,nickname:l}=o,u={model:r,wechatVersion:n,system:a,SDKVersion:i,appId:c,nickname:l,isDevEdition:!!s};t(e,JSON.stringify(u))}function wL(e,t,r){bL||(bL=!0,function(e){var t=d.g.LanDebug;t&&(R.aI||delete d.g.LanDebug,t.registerCallback?t.registerCallback(uL,((t,r)=>{e(dL,r)})):t.registerCallback)}(t),e(pL,(()=>{_L(pL,t)})),e(fL,(()=>{_L(fL,t)})),e(uL,(e=>{var r="undefined"!=typeof getPerfDog?getPerfDog():void 0,n="PerfDog not found";r&&r.handle&&(n=r.handle(uL,e)),t(dL,n)})),e("START_CPU_PROFILE",(()=>{iL()})),e(cL,(()=>{var e=oL();R.wZ&&e&&(e.constructor.toString().includes("ArrayBuffer")?e=sL(new Uint8Array(e)):"object"==typeof e&&(e=JSON.stringify(e))),t(cL,e||"")})),e(lL,(()=>{setTimeout((()=>{var e=(nL(),tL?tL.takeHeapSnapshot():null);if(t(`${lL}:PROGRESS`,JSON.stringify({data:"start"})),!e)return t(lL,""),t(`${lL}:PROGRESS`,JSON.stringify({data:"error"})),!1;if(e.on){var n=r(lL),a=!1;e.on("data",(e=>{a||(t(`${lL}:PROGRESS`,JSON.stringify({data:"data"})),a=!0),n.send(e.slice())})),e.on("end",(()=>{t(`${lL}:PROGRESS`,JSON.stringify({data:"end"})),n.end(new ArrayBuffer(0))})),e.on("error",(e=>{t(`${lL}:PROGRESS`,JSON.stringify({data:"error"})),n.end(new ArrayBuffer(0))})),e.flush()}return!0}),100)})))}var IL,SL=0,kL=(0,Ly.as)(),CL=null,TL=()=>CL||(CL=__protobufSDK__.getProtobuf()("\n  message LanDebugHeader {\n    required int32 version = 0;         // 版本，用于升级时兼容用\n    required string method = 1;         // 命令字，代表该包行为\n    required int32 id = 2;              // 命令序号，client端每次给server发命令可以弄一个自增序号，这样方便server处理isEnd。\n    required bool isString = 3;         // 若开发者传输的原始数据是string，需要标识，用于服务端处理\n    required string clientId = 4;       // 客户端会唯一生成一个ID\n    optional bool notEnd = 5;           // 若isEnd为true，代表这次命令已经发送完毕\n    optional string options = 6;        // 预留字段，后续可能会有一些用\n  }\n")),EL=()=>{IL||(IL=((e=6)=>{(e>=13||e<0)&&(e=13);for(var t=`${Date.now()}`.slice(-e).split(""),r=0;r<Math.floor(e/2);r++){var n=Math.floor(10*Math.random());t[r]="abcdefghij"[n]}return t.join("")})())},AL=new Rn.Z,PL=null,xL=gL,ML="",RL=-1,DL=!1,LL=null,NL=null,OL=[],BL=[],jL=[];function FL(e){var t;try{if("object"!=typeof e)return Promise.resolve(!1);if("string"!=typeof e.ip||"string"!=typeof e.token)return Promise.resolve(!1);t=e}catch(e){return Promise.resolve(!1)}if(xL===hL&&NL)return Promise.resolve(NL);if(xL===mL)return PL;var{ip:r,port:n,token:a,useStaticServer:i=!1,mode:o}=t;DL=i,ML=r,RL=n,xL=mL;var s="mpHelper"===o?"MPHELPER":"LANDEBUG",c=(0,Ce.getStableSystemInfo)();return wL($L,GL,VL),PL=new Promise((e=>{EL(),(NL=kL.connectSocket({url:`ws://${r}:${n}`,protocols:[`${encodeURI(`${s}#${c.system}_v${c.version}_${IL}`)}||${a}`]})).onOpen((()=>{NL.send({data:"ping",success(){OL.forEach((e=>{qL(e)}))},fail(e){}}),xL=hL,AL.emit(yL,xL),e(NL)})),NL.onMessage((e=>{if(!(e.data&&"pong"===e.data||e.data.length<4||"string"==typeof e.data)){var t,r=new Uint8Array(e.data),n=r.slice(0,4),a=new Uint32Array(n)[0],i=r.slice(4,4+a);try{t=TL().LanDebugHeader.decode(i)}catch(e){return e.message,void e.stack}var o,{isString:s,method:c}=t;if(s)o=sL(r.slice(4+a));else o=r.slice(4+a).buffer;AL.emit(c,o)}})),NL.onClose((()=>{UL(gL),jL.forEach((e=>{ZL(e)}))})),NL.onError((e=>{UL(vL),LL=e,BL.forEach((e=>{zL(e)}))}))})),PL}function UL(e){xL=e,AL.emit(yL,xL),ML="",RL=-1,DL=!1,NL=null}function WL(e,t,r="",n){if(void 0===r||"string"!=typeof r&&!r.constructor.toString().includes("ArrayBuffer"))return!1;var a=!1;return PL?("string"==typeof r&&(a=!0,r=function(e){for(var t,r=[],n=e.length,a=0;a<n;a++)(t=e.charCodeAt(a))>=65536&&t<=1114111?(r.push(t>>18&7|240),r.push(t>>12&63|128),r.push(t>>6&63|128),r.push(63&t|128)):t>=2048&&t<=65535?(r.push(t>>12&15|224),r.push(t>>6&63|128),r.push(63&t|128)):t>=128&&t<=2047?(r.push(t>>6&31|192),r.push(63&t|128)):r.push(255&t);for(var i=new Int8Array(r.length),o=0;o<r.length;o++)i[o]=r[o];return i.buffer}(r)),PL.then((i=>new Promise((o=>{if(!i)return o({errMsg:"sendSocketMessage:fail no client"});EL();var s=TL().LanDebugHeader.encode(Object.assign({version:2,method:t,id:e,isString:a,clientId:IL,options:JSON.stringify({isDevEdition:O.Z.isDevEdition})},n?{notEnd:!0}:{})),c=new Uint32Array([s.length]);i.send({data:new Uint8Array([...new Uint8Array(c.buffer),...new Uint8Array(s.buffer),...new Uint8Array(r)]).buffer,success(e){o(e)},fail(e){o(e)}})}))))):Promise.resolve({errMsg:"sendSocketMessage:failed"})}var GL=function(e,t){return WL(SL++,e,t)},VL=function(e){var t=SL++;return{send:r=>WL(t,e,r,!0),end:(r=new ArrayBuffer(0))=>WL(t,e,r)}},$L=function(e,t){AL.on(e,t)},qL=function(e){try{e()}catch(e){e.message,e.stack}},zL=function(e){try{e(LL)}catch(e){e.message,e.stack}},ZL=function(e){try{e(LL)}catch(e){e.message,e.stack}},HL={sendPackage:GL,sendStream:VL,onMessage:$L,offMessage:function(e,t){AL.off(e,t)},onReady:function(e){"function"==typeof e&&(xL===hL?qL(e):OL.push(e))},onError:function(e){"function"==typeof e&&(xL===vL?zL(e):BL.push(e))},onClose:function(e){"function"==typeof e&&(xL===vL?ZL(e):jL.push(e))},get status(){return xL},get ip(){return ML},get port(){return RL},get useStaticServer(){return DL}};Object.defineProperty(HL,"_start",{get:()=>(...e)=>FL(...e)});(0,gp.dN)((()=>{(e=>{setTimeout((()=>{var{ip:t,port:r,token:n,useStaticServer:a,useLanDebug:i}=(e.debugLaunchInfo||{}).lanDebugInfo||{};if((e.isDevEdition||i)&&(e.debugLaunchInfo,e.isDevEdition,t&&r&&n))return FL({ip:t,port:r,token:n,useStaticServer:a})}),500)})(O.Z)}));var KL=(0,B.TG)("getChannelsLiveState","webapi_getfinderviewlivestate",(({feedId:e,finderUserName:t,finderNickName:r})=>({finder_username:t,finder_nickname:r,export_id:e})),(e=>{e.liveInfoList=(e.live_info_list||[]).map((e=>({feedId:e.export_id,coverUrl:e.cover_url,thumbUrl:e.thumb_url,description:e.description,nickname:e.nickname,headUrl:e.head_url,status:e.status,nonceId:e.nonce_id}))),delete e.live_info_list})),JL=(0,B.TG)("getChannelsLiveReservation","webapi_getfinderviewlivereservation",(({noticeId:e})=>({notice_id:e}))),YL=(0,B.TG)("getChannelsLiveNoticeInfo","webapi_getfinerviewnoticeinfo",(({noticeId:e,finderUserName:t})=>({finder_username:t,notice_id:e})),(e=>{var[t,...r]=e.record_list||[];t&&(e.noticeId=t.notice_id,e.status=t.status,e.startTime=t.start_time,e.headUrl=t.head_url,e.nickname=t.nickname,e.reservable=t.can_reserve),e.otherInfos=r.map((e=>({noticeId:e.notice_id,status:e.status,startTime:e.start_time,headUrl:e.head_url,nickname:e.nickname,reservable:e.can_reserve}))),delete e.record_list}));function QL(){if(void 0===De.hr)return"";var e=De.hr.getCurrentPagesByDomain("");return e&&e.length?e[e.length-1].route:""}function XL(e,t,r,n="",a=0,i="",o="",s=0){var c=[e||"",QL(),t,r,n,a,O.Z.appType+1e3,i,o,s].map(encodeURIComponent).join(",");w.reportKeyValue({key:"WeAppToChannels",value:c})}(0,Ke.n)("onNavigateBackFromChannelsActivity",(e=>{(0,B.nY)("onNavigateBackFromChannelsActivity",e)}));var eN=!1;ur.U.on("beforeTouchEnd",(()=>{eN=!0})),ur.U.on("afterTouchEnd",(()=>{eN=!1})),(0,pr.vv)((()=>{eN=!1}));var tN=(e,t)=>r=>{eN?t(r):(0,B.YG)(e,r,"require user interaction (only in touchend event)")},rN=tN("openChannelsLive",(function(e={}){(0,R.tK)()?function(e={}){(0,B.IN)("openChannelsLive",e)}(e):YT(Object.assign({},e,{jsapi:"openChannelsLive",success({nickname:t,feedId:r,nonceId:n}){var a=t?`“${t}”`:"";(0,Pe._showModal)({title:`即将打开${a}视频号直播`,confirmText:"允许",cancelText:"取消",success({confirm:t}){if(t){var a=2;"release"===O.Z.envVersion&&(a=1),"trial"===O.Z.envVersion&&(a=3),(0,B.IN)("openChannelsLive",Object.assign({},e,{feedId:r,nonceId:n,sceneNote:{scene:7,appid:O.Z.accountInfo.appId,version_type:a}}),{beforeAll({errMsg:t}){XL(e.finderUserName,1,/^\w+:ok/.test(t)?1:0,t,4,e.feedId)}})}else XL(e.finderUserName,1,0,"cancel",5,e.feedId),(0,B.YG)("openChannelsLive",e,"cancel")}})},fail({errMsg:t,errCode:r}){XL(e.finderUserName,1,0,t,4,e.feedId),(0,B.YG)("openChannelsLive",e,t,r)},complete:null}))})),nN=tN("openChannelsActivity",(function(e={}){(0,R.tK)()?function(e={}){(0,B.IN)("openChannelsActivity",e)}(e):YT(Object.assign({},e,{jsapi:"openChannelsActivity",success({nickname:t,nonceId:r}){var n=t?`“${t}”`:"";(0,Pe._showModal)({title:`即将打开${n}视频号视频`,confirmText:"允许",cancelText:"取消",success({confirm:t}){t?(0,B.IN)("openChannelsActivity",Object.assign({},e,{nonceId:r}),{beforeAll({errMsg:t}){XL(e.finderUserName,3,/^\w+:ok/.test(t)?1:0,t,4,e.feedId)}}):(XL(e.finderUserName,3,0,"cancel"),(0,B.YG)("openChannelsActivity",e,"cancel",5,e.feedId))}})},fail({errMsg:t,errCode:r}){XL(e.finderUserName,3,0,t,4,e.feedId),(0,B.YG)("openChannelsActivity",e,t,r)},complete:null}))})),aN=tN("openChannelsUserProfile",(function(e={}){(0,R.tK)()?function(e={}){(0,B.IN)("openChannelsUserProfile",e)}(e):(0,B.Qh)({sdkApiName:"getChannelsInfo",apiName:"webapi_getfinderinfo",reqData:{finder_username:e.finderUserName}}).then((({data:t})=>{var r=null!=t&&t.nickname?`“${t.nickname}”`:"";(0,Pe._showModal)({title:`即将打开${r}视频号`,confirmText:"允许",cancelText:"取消",success({confirm:r}){r?(0,B.IN)("openChannelsUserProfile",Object.assign({},e,{finderUserName:null==t?void 0:t.encrpyt_finder_username}),{beforeAll({errMsg:t}){XL(e.finderUserName,2,/^\w+:ok/.test(t)?1:0,t,4)}}):(XL(e.finderUserName,2,0,"cancel",5),(0,B.YG)("openChannelsUserProfile",e,"cancel"))}})})).catch((({errMsg:t,errno:r})=>{XL(e.finderUserName,2,0,r||t,4),(0,B.YG)("openChannelsUserProfile",e,r||t)}))})),iN=tN("openChannelsLiveCollection",(function(e={}){var t={appId:O.Z.accountInfo.appId,openIds:e.openIds},r=encodeURIComponent(JSON.stringify(t));(0,B.IN)("navigateToMiniProgram",{success:e.success,fail:e.fail,complete:e.complete,appId:"wx4bfd324d7e80de2e",path:"/pages/livecollection/index.html?bypass="+r+"&game_type=1&ssid=201",extraData:{entryScene:15,requestScene:(0,R.aI)()?5:4,pageTitle:(0,R.aI)()?"小游戏直播":void 0},privateExtraData:{sourceApi:"openChannelsLiveCollection"}},{beforeAll(e){e.errMsg=e.errMsg.replace(/^\w+/,"openChannelsLiveCollection"),XL("",5,/^\w+:ok/.test(e.errMsg)?1:0,e.errMsg,4)}})})),oN=tN("openChannelsEvent",(function(e={}){Promise.all([(0,B.Qh)({sdkApiName:"getChannelsInfo",apiName:"webapi_getfinderinfo",reqData:{finder_username:e.finderUserName}}),(0,B.Qh)({sdkApiName:"checkChannelsEvent",apiName:"webapi_checkfinderevent",reqData:{finder_username:e.finderUserName,event_id:e.eventId}})]).then((([{data:t}])=>{var r=null!=t&&t.nickname?`“${t.nickname}”`:"";(0,Pe._showModal)({title:`即将打开${r}视频号活动`,confirmText:"允许",cancelText:"取消",success({confirm:t}){t?(0,B.IN)("openChannelsTopic",Object.assign({},e,{topicType:7,eventEncryptedTopicId:e.eventId}),{beforeAll(t){t.errMsg=t.errMsg.replace("openChannelsTopic","openChannelsEvent"),XL(e.finderUserName,6,/^\w+:ok/.test(t.errMsg)?1:0,t.errMsg,4)}}):(0,B.YG)("openChannelsEvent",e,"cancel")}})})).catch((({errMsg:t,errno:r})=>{(0,B.YG)("openChannelsEvent",e,r||t),XL(e.finderUserName,6,0,r||t,4)}))})),sN=tN("reserveChannelsLive",(function(e={}){(0,B.IN)("reserveChannelsLive",Object.assign({},e,{wxData:{appid:O.Z.accountInfo.appId,apptype:O.Z.appType,notice_id:e.noticeId}}),{beforeAll({state:t,errMsg:r}){XL("",4,/^\w+:ok/.test(r)?1:0,r,2,"",e.noticeId,t)}})})),cN="navigateToUserCenter",lN=(0,Re.Fr)(Lh.n),uN=null,dN=!1,pN=()=>(uN?Promise.resolve(uN):new Promise(((e,t)=>{(0,B.yD)({sdkApiName:cN,apiName:"webapi_getadcardrechargeinfo",reqData:{},success(r){var n=r.data;n.rechargeUrl?e(uN=n):t(n)},fail:t})}))).then((e=>{var t=e.rechargeUrl;return lN({url:t,isNativeStyle:!0})})),fN=(e={})=>{dN?(0,B.YG)(cN,e,"please invoke after last navigate ended"):(dN=!0,(0,ep.UP)().then((()=>((e={})=>{var{type:t}=e;return"adsSkipCard"===t?pN():Promise.reject(new Error("invalid type"))})(e))).then((()=>((0,B.FE)({name:cN,args:e,res:{}}),dN=!1,null))).catch((t=>{(0,B.YG)(cN,e,t.errMsg||t.message,t.errCode||t.err_code),dN=!1})))},hN="requestConsumeAdsSkipCard",gN=(0,Re.Fr)(Pe._showModal),vN=!1;function mN({amount:e,subactionID:t}){w.reportKeyValue({key:"MidasFriendPayment",value:["",1,10,18,t,"","","","",(0,Je._getCurrentNetworkType)(),"","","","","","",encodeURIComponent(JSON.stringify({num:e}))].join(",")})}function yN(e){var{amount:t}=e;return mN({subactionID:1}),gN({content:`使用 ${t} 张广告跳过卡`,confirmText:"确认",cancelText:"取消"}).then((r=>{if(r.confirm)return e;throw mN({amount:t,subactionID:7}),{errMsg:"cancel"}}))}function bN({token:e,amount:t}){return(0,B.Qh)({sdkApiName:"consume",apiName:"webapi_payadcardcostorder",reqData:{token:e}}).then((e=>{var r=e.data,{errMsg:n,errCode:a}=r;if(0===a)return mN({amount:t,subactionID:3}),(0,Pe.showToast)({icon:"none",title:`已消耗${t}张广告跳过卡`,duration:1e3}),r;throw mN({amount:t,subactionID:4}),(0,Pe.showToast)({icon:"none",title:"广告跳过卡使用失败，请重试",duration:2500}),{errMsg:n,errCode:a}})).catch((e=>{throw mN({amount:t,subactionID:4}),e}))}function _N(e={}){vN?(0,B.YG)(hN,e,"please invoke after last request ended"):(0,B.r3)(hN,e,{orderNo:""})&&(vN=!0,function(e={}){return(0,B.Qh)({sdkApiName:"check",apiName:"webapi_getadcardcostorderpaypackage",reqData:{orderNo:e.orderNo}}).then((e=>{var{token:t,errCode:r,errMsg:n,amount:a}=e.data;if(t)return{token:t,amount:a};throw{errCode:r,errMsg:n}}))}(e).then(yN).then(bN).then((()=>{vN=!1,(0,B.FE)({name:hN,args:e,res:{}})})).catch((t=>{vN=!1,void 0!==t.errCode||void 0!==t.err_code?(0,B.YG)(hN,e,t.errMsg||t.message,+(t.errCode||t.err_code||0)):(0,B.YG)(hN,e,t.errMsg||t.message)})))}var wN=(0,B.TG)("getAdsSkipCardSharePresentQuota","webapi_getadcardsharepresentquota",(()=>({})),(e=>{delete e.clientInfo})),IN=(e={})=>{var{success:t,failWithMsg:r,fail:n}=(0,B.Rn)(e,"getAdsSkipCardQuestInfo");(0,B.yD)({reqData:{},apiName:"webapi_getadcardquestinfo",sdkApiName:"getAdsSkipCardQuestInfo",success(e){var{data:n}=e,{errCode:a,errMsg:i,balance:o,questInfoList:s}=n;0===a?t({balance:o,questInfoList:s}):r({msg:i,code:a})},fail:n})},SN="getLatestUserKey",kN={},CN=null;var TN={getLatestUserKey:function(e){(kN.expireTime&&kN.expireTime>Date.now()?Promise.resolve(kN):CN||(CN=(0,B.Qh)({apiName:"webapi_getuserencryptkey",reqData:{}}).then((e=>{var{encrypt_key:t,version:r,expire_in:n,iv:a}=e.data;return kN={encryptKey:t,version:r,expireTime:Date.now()+1e3*n,iv:a},CN=null,kN})).catch((e=>{throw CN=null,e})))).then((t=>((0,B.FE)({name:SN,args:e,res:t}),null))).catch((t=>{(0,B.YG)(SN,e,t.message||t.errMsg)}))},getRandomValues:(e={})=>{(0,B.r3)("getRandomValues",e,{length:0})&&((!Number.isInteger(e.length)||e.length<=0||e.length>1048576)&&(0,B.YG)("getRandomValues",e,"invalid length"),(0,B.IN)("getRandomValues",e))}},EN=()=>TN,AN=()=>d.g.__debuggerMessager__?d.g.__debuggerMessager__:{};function PN(e={}){(0,B.IN)("getGameLivePermission",Object.assign({},e),{beforeSuccess(e){e.isEnabled=1!==e.errCode,delete e.status,delete e.errCode},beforeAll(e){e.errMsg=e.errMsg.replace("getGameLivePermission","checkGameLiveEnabled")}})}var xN=!1;(0,op.DT)((e=>{var{event:t}=e;1===t?xN=!0:0===t&&(xN=!1)}));var MN=()=>({isLive:xN}),RN="getUserRecentGameLiveInfo",DN=(e={})=>{var{success:t,fail:r,failWithMsg:n}=(0,B.Rn)(e,RN);(0,Ze.J)(RN)?(0,B.yD)({sdkApiName:RN,apiName:"webapi_getuserrecentgameliveinfolist",reqData:{},success(e){var{feedIdList:r,errCode:a,errMsg:i}=e.data;Number.isInteger(a)&&0!==a?n({msg:i,code:a}):t({feedIdList:r||[]})},fail:r}):n({msg:"no permission"})},LN="getUserCurrentGameliveInfo",NN=(e={})=>{var{success:t,fail:r,failWithMsg:n}=(0,B.Rn)(e,LN);MN().isLive?(0,Ze.J)("getUserRecentGameLiveInfo")?(0,B.yD)({sdkApiName:LN,apiName:"webapi_getusercurrentgameliveinfo",reqData:{},success(e){var{errCode:r,errMsg:a,feedId:i}=e.data;Number.isInteger(r)&&0!==r?n({msg:a,code:r}):t({feedId:i})},fail:r}):n({msg:"no permission"}):n({msg:"no live"})},ON="getUserGameLiveDetails",BN=(e={})=>{var{success:t,fail:r,failWithMsg:n}=(0,B.Rn)(e,ON);(0,Ze.J)("getUserRecentGameLiveInfo")?(0,B.yD)({sdkApiName:ON,apiName:"webapi_getusergamelivedetailinfo",reqData:{feedIdList:Array.isArray(e.feedIdList)?e.feedIdList:[]},success(e){var{data:r,iv:a,encryptedData:i,cloudID:o}=e,{errCode:s,errMsg:c}=r;Number.isInteger(s)&&0!==s?n({msg:c,code:s}):t({iv:a,encryptedData:i,cloudID:o})},fail:r}):n({msg:"no permission"})},jN=d(7766),FN=d(1328),UN=["success","fail","complete"],WN=!1,GN=1,VN=2,$N=0,qN=1,zN=2,ZN=3,HN=4,KN=5,JN=6,YN="reportScene",QN="dimension",XN="metric",eO=[],tO=new jN.Z({reportFunc:w.reportKeyValue,logid:"WXGameSceneLaunchReport",protocolParams:["InstanceId","AppType","Scene","Path","IsDownloadCode","IsPatch","IsPreload","InitProcess","RunningState","BenchmarkLevel","NetworkType","SDKVersion","RuntimeType","SceneId","CostTime","RunTime","CustomInfo","CustomData"],schemas:{InstanceId:FN.QD.STRING,AppType:FN.QD.UINT,Scene:FN.QD.UINT,Path:FN.QD.STRING,IsDownloadCode:FN.QD.UINT,IsPatch:FN.QD.UINT,IsPreload:FN.QD.UINT,InitProcess:FN.QD.UINT,RunningState:FN.QD.UINT,BenchmarkLevel:FN.QD.INT,NetworkType:FN.QD.STRING,SDKVersion:FN.QD.STRING,RuntimeType:FN.QD.UINT,SceneId:FN.QD.UINT,CostTime:FN.QD.UINT,RunTime:FN.QD.UINT,CustomInfo:FN.QD.STRING,CustomData:FN.QD.STRING},debug:!0}),rO=()=>{WN=!0,(()=>{try{var e=(0,Ce._getSystemInfoSyncFromCache)(),t={InstanceId:O.Z.instanceId||"",AppType:O.Z.appType+1e3,Scene:O.Z.appLaunchInfo.scene,Path:O.Z.appLaunchInfo.path||"",IsDownloadCode:O.Z.appLaunchInfo.downloadCode||0,IsPatch:O.Z.appLaunchInfo.isPkgPatch||0,IsPreload:O.Z.preloadType||O.Z.appLaunchInfo.preloadType,InitProcess:O.Z.appLaunchInfo.initProcess||0,RunningState:GN,BenchmarkLevel:e.benchmarkLevel||-1,NetworkType:O.Z.networkType||"unknown",SDKVersion:O.Z.SDKVersion,RuntimeType:R.wZ?qN:R.cj?R.jP?ZN:zN:R.qB?HN:R.Mq?KN:R.gm?JN:$N};tO.setBase(t)}catch(e){console.error("[minigamefe reportScene]: ",e)}})(),(0,gp.dN)((()=>{tO.setBase({RunningState:GN})})),(0,pr.vv)((()=>{tO.setBase({RunningState:VN})})),Je.onNetworkStatusChange((e=>{tO.setBase({NetworkType:e.networkType})}))},nO=(e,t)=>{var r="";if(Object.keys(e).forEach((n=>{var a=e[n];(0,J.HD)(a)&&""!==a?t===XN&&(r+=(0,J.i2)(Number(a))?`parameter.${t}.${n} needs to be a numeric value of type string;`:""):r+=`parameter.${t}.${n} needs to be a string type and a non-empty string;`})),""===r){var n=(0,J.e6)(e);""===n?r+=`failed to serialize parameter.${t} by JSON.stringify;`:n.length>1024&&(r+=`parameter.${t} cannot exceed 1024 characters;`)}return r},aO=e=>{var t="",{sceneId:r,costTime:n=0,dimension:a={},metric:i={}}=e,o={sceneId:r,costTime:n,dimension:a,metric:i};return""===(t+=(0,J.x7)(o,{sceneId:0,costTime:0,dimension:{},metric:{}}))&&(t+=(e=>{for(var t=Object.keys(e),r="",n=0;n<t.length;n++){var a=t[n],i=e[a];(0,J.i2)(i)?r+=`parameter.${a} shoule not be NaN;`:i<0&&(r+=`parameter.${a} shoule greater than or equal to zero;`)}return r})({sceneId:r,costTime:n})),""!==t||(0,J.Qr)(a)||(t+=nO(a,QN)),""!==t||(0,J.Qr)(i)||(t+=nO(i,XN)),t},iO=e=>{var{success:t,fail:r,complete:n}=e;return Zb()(e,UN)},oO=(e,t="")=>{(0,B.FE)({name:YN,args:e,res:{data:iO(e)},errMsg:t,success:!t})};function sO(e){WN||rO();var t=aO(e);if(t)oO(e,t);else{var{sceneId:r,costTime:n=0,dimension:a,metric:i}=e;if(eO.includes(r))oO(e,`report sceneId:${r} repeatedly;`);else{eO.push(r);var o=O.Z.coldLaunchTime||0,s={SceneId:r,CostTime:n,RunTime:o?Number(Date.now()-o):0,CustomInfo:a?(0,J.e6)(a):"",CustomData:i?(0,J.e6)(i):""};tO.send(s,(()=>{oO(e)}))}}}var cO=d(485),lO=d(5629);var uO=(e,...t)=>{(0,J.mf)(e)&&e(...t)},dO=234234669135,pO=234231453256,fO=234532352353;var hO=e=>"[object Function]"===Object.prototype.toString.call(e)&&"function"==typeof e,gO="break_callback_execute",vO=Symbol("defineGeneralSymbol"),mO=Object.assign,yO=new WeakSet,bO=(e,t,r={})=>{var n=[];return Object.keys(e).forEach((a=>{var i=e[a],o=i[t];if(hO(o)){mO(i,{metadatas:e},r);var s=o.bind(i);"paramHandler"===t&&i.modifyArgs&&(s.sendRawArgs=!0),n.push(s)}})),n};function _O(e,t){return function(r,n,a){var i=a.value,o=Z()({},t);if("noCondom"===e&&(e=>{MA.push(e)})(n),a.initializer){var s=a.initializer();if(a.value){var c=a.value.extraInfos[e];c?Object.assign(c,o):a.value.extraInfos[e]=o}else{if("noHook"===e)return void(a.initializer=()=>s);if("noExpose"===e)return void(a.initializer=()=>{});a.value={extraInfos:{generalMetadata:{},[e]:o}},a.initializer=()=>{var e,t=null===(e=a.value)||void 0===e?void 0:e.extraInfos;return t?(t.api=n,t.prefix="",{extraInfos:t,value:()=>IO(t,s,this)}):s}}}else{var l;if(null!==(l=a.value)&&void 0!==l&&l.extraInfos){var u=a.value.extraInfos[e];u?Object.assign(u,o):a.value.extraInfos[e]=o}else a.value={extraInfos:{generalMetadata:{},[e]:o},value:i}}return a}}function wO(e,t){return _O("generalMetadata",{[e]:t})}function IO(e,t,r,n=1){var a,i;if(!(0,J.Kn)(e))return t;var{api:o,prefix:s=""}=e;if((null!==(a=e.generalMetadata)&&void 0!==a&&a.handleObject||null!==(i=e.generalMetadata)&&void 0!==i&&i.handleSdkSubPackageObject||e.lazy)&&(0,J.Kn)(t)){var c,l=t=>{Object.keys(t).forEach((r=>{var a=Z()(Z()({},e),{},{api:r,prefix:s||o+"."});a.generalMetadata.handleObject=!1;var i,{get:c,configurable:l}=Object.getOwnPropertyDescriptor(t,r);c||(c=null===(i=e.lazy)||void 0===i?void 0:i.getter);if(c)l&&Object.defineProperty(t,r,{get(){var e=c();return IO(a,e,t,n)},configurable:!0});else{if("CDN"===r&&"serviceMarket"===o)return;t[r]=IO(a,t[r],t,n)}}))};return null!==(c=e.generalMetadata)&&void 0!==c&&c.handleObject?l(t):((e,t)=>{CI[e]=t})(o,l),t}if(!hO(t))return t;var u=function(...r){r[r.length-2]===TI&&(t=r[r.length-1],r=r.slice(0,-2));var a,i,c,l,u,d=Object.keys(e).reduce(((t,r)=>((0,J.Kn)(e[r])?t[r]=Z()({},e[r]):t[r]=e[r],t)),{}),p=!1,f=r[0],h=f,g=s+o;(0,J.Kn)(f)&&(h=Z()({},h),r[0]=h,p=!0);try{var v,m=!1;if(bO(d,"beforeExecute",{api:o,prefix:s,originArgs:f}).forEach((e=>{var t=e();Array.isArray(t)&&t[0]===EI&&(m=t)})),!1!==m){if(h[0]&&"object"==typeof h[0])return(0,B.YG)(g,h[0],m);if(hO(m[2]))return m[2]()}bO(d,"paramHandler",{api:o,prefix:s}).forEach((e=>{e.sendRawArgs?e(r):e(...r)})),(!(null===(v=d.promised)||void 0===v||!v.promise)||!(0,Fw.iq)(g,r[0]))&&(p||(h=Z()({},h),d.timeout&&(d.timeout.afterCopyArgs=h)),["complete","success","fail"].forEach((e=>{var t=bO(d,e,{api:o,prefix:s}),r=h[e];h[`__origin_${e}__`]=r,t.length&&(h[e]=function(n){"fail"===e&&(a=n),"success"===e&&(l=n);try{t.forEach((e=>e(n)))}catch(e){if(e===gO)return}hO(r)&&r.call(f,n);var i="after"+e[0].toUpperCase()+e.slice(1);bO(d,i).forEach((e=>e(n)))})})),p||(r[0]=h,p=!0)),bO(d,"hookArgs",{api:o,prefix:s}).forEach((e=>e(h)));for(var y=!1,b=bO(d,"breakDirectly",{api:o,prefix:s}),_=0;_<b.length;_++){var w=b[_](...r);if(w!==pO){y=!0,c=w;break}}if(!y)try{c=t.call(this,...r)}catch(e){var I=!1;bO(d,"errorHandler").forEach((t=>{t(e)===fO&&(I=!0)})),I||(i=e)}var S={};if(Object.keys(d).forEach((e=>{var t=d[e];if(t.deep&&(!0===t.deep||n<t.deep)&&(0,J.Kn)(c)){var l=Object.getPrototypeOf(c);for(var u of Object.getOwnPropertyNames(c).concat(Object.getOwnPropertyNames(l))){var p=u in l?l:c,f=(s||"")+o,h=(0,Fw.SO)(p,u);if(h&&(!h.get&&h.writable&&hO(p[u]))){var g={prefix:f+".",api:u};S[u]||(S[u]=g),S[u][e]=Z()({},t)}}}var v=t.resultHandler;if(v){var m=v.call(t,c,r,{syncError:i,callbackError:a});m!==dO&&(c=m)}})),!yO.has(c)&&(0,J.Kn)(c)){for(var k of Object.getOwnPropertyNames(S))c[k]=IO(S[k],c[k],c,n+1);yO.add(c)}}catch(e){u=e,bO(d,"uncaughtErrorHandler").forEach((t=>{t(e)===fO&&(u=null)}))}var C=!0;if(bO(d,"afterCallback",{api:o,prefix:s}).forEach((e=>{e(r,l||c,{syncError:i,callbackError:a})===fO&&(C=!1)})),u)throw u;if(!i)return c;if(C)throw i};return n>1?u.bind(r):u}function SO(e,t){return function(r){r.prototype[vO]?r.prototype[vO][e]=t:r.prototype[vO]={[e]:t}}}var kO=function(e,t,r,n){var a,i=this.prefix+this.api,o=this.uuid,s=this.params,[c,...l]=s,u=this.invokeTime,d=this.subContext;(0,J.Kn)(c)?(a=Z()({},c),["complete","success","fail"].forEach((e=>{var t;null===(t=a)||void 0===t||delete t[`__origin_${e}__`]}))):a=c,(0,$x.m)(i,o,l.length?[a,...l]:a,t?1:0,u,n?0:1,e,d,r,this.reportAsync())};function CO(e,t=!1,r=0){return _O("report",{paramHandler(...e){this.params=e},success(e){var r=this.prefix+this.api;(0,lO.d)(r,{res:e}).then((r=>{var n=r||this.hasCheckReq||this.report;t=t||r||this.hasCheckReq,n&&(!t||!w.isLimitReport(21688))&&kO.call(this,e,!0,t)})).catch((e=>{f.warn("checkPointFullReportRule err:",e)}))},fail(e){var r=this.prefix+this.api;(0,lO.d)(r,{res:e}).then((r=>{var n=r||this.hasCheckReq||this.report;t=t||r||this.hasCheckReq,n&&(!t||!w.isLimitReport(21688))&&kO.call(this,e,!1,t)})).catch((e=>{f.warn("checkPointFullReportRule err:",e)})),e.errno&&w.reportKeyValue({key:"WeAppRequestErrnoInfo",value:[this.prefix+this.api,e.errno].join(",")})},afterCallback(e,r,n){var a=this.prefix+this.api,{callbackError:i,syncError:o}=n;(0,lO.d)(a,{req:null==e?void 0:e[0],res:r}).then((e=>{this.hasCheckReq=e;var n=e||this.hasCheckReq||this.report;t=t||e||this.hasCheckReq,n&&(!t||!w.isLimitReport(21688))&&kO.call(this,r,!(o||i),t,!0)})).catch((e=>{f.warn("checkPointFullReportRule err:",e)}))},beforeExecute(){var r,n=this.prefix+this.api,a=(0,cO._K)(n),i=null!==(r=null==a?void 0:a.ratio)&&void 0!==r?r:e;t=1===(null==a?void 0:a.ratio)||t,this.report=Math.random()<i,this.invokeTime=Date.now(),this.uuid=(0,Dr.M8)(),this.shouldBelieveAsync=!0,Promise.resolve().then((()=>{this.shouldBelieveAsync=!1}))},reportAsync(){return!this.shouldBelieveAsync},subContext:r,deep:2})}function TO(e=0){return CO(1,!0,e)}function EO(){return _O("apiCache",{breakDirectly(){return this.cacheInfo.cache?this.cacheInfo.ret:pO},afterCallback(e,t,r){var{syncError:n,callbackError:a}=r,i=e[0];n||a||(this.cacheInfo.cache?uO(null==i?void 0:i.__origin_success__,this.cacheInfo.rawResult||t):(this.cacheInfo.cache=!0,this.cacheInfo.ret=t,setTimeout((()=>{this.cacheInfo.cache=!1,this.cacheInfo.ret=null,this.cacheInfo.rawResult=null}))))},cacheInfo:{cache:null,ret:null,rawResult:null}})}function AO(){return _O("apiCache",{breakDirectly(...e){var t,r,n,a,i=e[0];return this.cacheInfo.isReleaseQueue?this.cacheInfo.doubleCacheList?void this.cacheInfo.doubleCacheList.push([(null===(t=this.metadatas.promised)||void 0===t?void 0:t.resolve)||(null==i?void 0:i.__origin_success__),(null===(r=this.metadatas.promised)||void 0===r?void 0:r.reject)||(null==i?void 0:i.__origin_fail__),null==i?void 0:i.__origin_complete__]):(this.cacheInfo.doubleCacheList=[],pO):this.cacheInfo.cacheList?void this.cacheInfo.cacheList.push([(null===(n=this.metadatas.promised)||void 0===n?void 0:n.resolve)||(null==i?void 0:i.__origin_success__),(null===(a=this.metadatas.promised)||void 0===a?void 0:a.reject)||(null==i?void 0:i.__origin_fail__),null==i?void 0:i.__origin_complete__]):(this.cacheInfo.cacheList=[],pO)},success(e){this.cacheInfo.isReleaseQueue=!0,this.cacheInfo.cacheList&&this.cacheInfo.cacheList.forEach((t=>{uO(t[0],e)}))},fail(e){this.cacheInfo.isReleaseQueue=!0,this.cacheInfo.cacheList&&this.cacheInfo.cacheList.forEach((t=>{uO(t[1],e)}))},complete(){this.cacheInfo.cacheList&&(this.cacheInfo.cacheList.forEach((e=>{uO(e[2])})),this.cacheInfo.cacheList=null),this.cacheInfo.isReleaseQueue=!1,this.cacheInfo.cacheList=this.cacheInfo.doubleCacheList,this.cacheInfo.doubleCacheList=null},cacheInfo:{isReleaseQueue:null,cacheList:null,doubleCacheList:null}})}function PO(){return _O("promised",{paramHandler(...e){var t=e[0]||{},{success:r,fail:n,complete:a}=t;r||n||a||(this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t})),this.promiseMetadata.promise=this.promise)},resultHandler(e){var t,r;if(null!==(t=this.metadatas.checkTapPermission)&&void 0!==t&&t.refuseExec)return dO;if(null!==(r=this.metadatas.apiCache)&&void 0!==r&&r.cacheInfo.cache){if(this.promise)return(0,J.tI)(this.metadatas.apiCache.cacheInfo.ret)?this.metadatas.apiCache.cacheInfo.ret:(this.resolve(this.metadatas.apiCache.cacheInfo.ret),this.promise)}else if(this.promise){var n;return null!==(n=this.metadatas)&&void 0!==n&&n.apiCache&&(this.metadatas.apiCache.cacheInfo.rawResult=e),this.promise}return dO},success(e){var t,r,n=null===(t=this.metadatas)||void 0===t||null===(r=t.apiCache)||void 0===r?void 0:r.cacheInfo.ret;this.resolve&&this.resolve(n||e)},fail(e){this.reject&&this.reject(e)},promiseMetadata:{promise:null}})}var xO={invokeWebviewMethod:null,drawCanvas:null,createContext:null,createCanvasContext:null,canvasToTempFilePath:null,canvasGetImageData:null,canvasPutImageData:null,getShareInfo:null,pageScrollTo:null,chooseInvoiceTitle:null,ShareInfoStorage:null,arrayBufferToBase64:null,base64ToArrayBuffer:null,openSetting:null,getExtConfig:null,chooseMedia:null,chooseWeChatContact:null,uploadEncryptedFileToCDN:null,onUploadEncryptedFileToCDNProgress:null,getExtConfigSync:null,showShareMenu:null,hideShareMenu:null,updateShareMenu:null,openUrl:null,setNavigationBarColor:null,setNavigationBarAlpha:null,_getRealRoute:null,vibrateShort:null,vibrateLong:null,getSetting:null,checkIsSupportFacialRecognition:null,startFacialRecognitionVerify:null,startFacialRecognitionVerifyAndUploadVideo:null,sendBizRedPacket:null,sendGoldenRedPacket:null,openGoldenRedPacketDetail:null,showRedPackage:null,addPhoneContact:null,setScreenBrightness:null,getScreenBrightness:null,shareToWeRun:null,getWeRunData:null,uploadWeRunData:null,canIUse:null,setPageStyle:null,triggerGettingWidgetData:null,navigateToMiniProgram:null,navigateToDevMiniProgram:null,navigateBackMiniProgram:null,exitMiniProgram:null,setNavigationBarRightButton:null,onTapNavigationBarRightButton:null,setTopBarText:null,setTabBarBadge:null,removeTabBarBadge:null,showTabBarRedDot:null,hideTabBarRedDot:null,showTabBar:null,hideTabBar:null,setTabBarStyle:null,setTabBarItem:null,setEnableDebug:null,captureScreen:null,onUserCaptureScreen:null,setKeepScreenOn:null,checkIsSupportSoterAuthentication:null,startSoterAuthentication:null,checkIsSoterEnrolledInDevice:null,openDeliveryList:null,reportIDKey:null,reportKeyValue:null,setNavigationBarTitle:null,showNavigationBarLoading:null,hideNavigationBarLoading:null,startPullDownRefresh:null,stopPullDownRefresh:null,operateWXData:null,getOpenDeviceId:null,makeBluetoothPair:null,isBluetoothDevicePaired:null,openBluetoothAdapter:null,openBluetoothAdapterBackground:null,closeBluetoothAdapter:null,getBluetoothAdapterState:null,startBluetoothDevicesDiscovery:null,stopBluetoothDevicesDiscovery:null,startMonitoringBluetoothDevice:null,stopMonitoringBluetoothDevice:null,getBluetoothDevices:null,getConnectedBluetoothDevices:null,getMonitoredBluetoothDevices:null,createBLEConnection:null,setBLEMTU:null,setBluetoothBackgroundMode:null,getBLEMTU:null,closeBLEConnection:null,getBLEDeviceServices:null,getBLEDeviceCharacteristics:null,notifyBLECharacteristicValueChanged:null,notifyBLECharacteristicValueChange:null,readBLECharacteristicValue:null,writeBLECharacteristicValue:null,onBluetoothDeviceFound:null,onMonitoredBluetoothDeviceFound:null,onBLEConnectionStateChanged:null,onBLEConnectionStateChange:null,onBLECharacteristicValueChange:null,onBluetoothAdapterStateChange:null,onBLEMTUChange:null,offBLEMTUChange:null,offBluetoothAdapterStateChange:null,offBluetoothDeviceFound:null,offMonitoredBluetoothDeviceFound:null,offBLEConnectionStateChanged:null,offBLEConnectionStateChange:null,offBLECharacteristicValueChange:null,createBLEPeripheralServer:null,onBLEPeripheralConnectionStateChanged:null,offBLEPeripheralConnectionStateChanged:null,startBeaconDiscovery:null,stopBeaconDiscovery:null,getBeacons:null,onBeaconUpdate:null,onBeaconServiceChange:null,startWifi:null,stopWifi:null,getWifiList:null,getConnectedWifi:null,connectWifi:null,presetWifiList:null,setWifiList:null,onGetWifiList:null,onWifiConnected:null,onWifiConnectedWithPartialInfo:null,offGetWifiList:null,offWifiConnected:null,offWifiConnectedWithPartialInfo:null,onEvaluateWifi:null,getHCEState:null,startHCE:null,stopHCE:null,sendHCEMessage:null,onHCEMessage:null,startLocalServiceDiscovery:null,stopLocalServiceDiscovery:null,onLocalServiceFound:null,offLocalServiceFound:null,onLocalServiceLost:null,offLocalServiceLost:null,onLocalServiceDiscoveryStop:null,offLocalServiceDiscoveryStop:null,onLocalServiceResolveFail:null,offLocalServiceResolveFail:null,redirectTo:null,reLaunch:null,navigateTo:null,switchTab:null,navigateBack:null,_triggerBeforeUnloadPage:null,_triggerBeforeShareAppMessage:null,navigateBackApplication:null,navigateBackNative:null,launchApplication:null,getStorage:null,getStorageSync:null,setStorage:null,setStorageSync:null,removeStorage:null,removeStorageSync:null,clearStorage:null,clearStorageSync:null,getStorageInfo:null,getStorageInfoSync:null,getBackgroundFetchData:null,onBackgroundFetchData:null,request:null,connectSocket:null,closeSocket:null,sendSocketMessage:null,onSocketOpen:null,onSocketClose:null,onSocketMessage:null,onSocketError:null,uploadFile:null,downloadFile:null,addNativeDownloadTask:null,chooseImage:null,previewImage:null,previewMedia:null,getImageInfo:null,saveImageToPhotosAlbum:null,startRecord:null,stopRecord:null,playVoice:null,pauseVoice:null,stopVoice:null,onVoicePlayEnd:null,chooseVideo:null,saveVideoToPhotosAlbum:null,getVideoInfo:null,compressVideo:null,getLocation:null,openLocation:null,chooseLocation:null,choosePoi:null,onLocationChange:null,offLocationChange:null,onLocationChangeError:null,offLocationChangeError:null,startLocationUpdateBackground:null,startLocationUpdate:null,stopLocationUpdate:null,getNetworkType:null,onNetworkStatusChange:null,getSystemInfo:null,getSystemInfoSync:null,getBatteryInfo:null,getBatteryInfoSync:null,startAccelerometer:null,stopAccelerometer:null,onAccelerometerChange:null,startCompass:null,stopCompass:null,onCompassChange:null,reportAction:null,getBackgroundAudioManager:null,getRecorderManager:null,getBackgroundAudioPlayerState:null,playBackgroundAudio:null,pauseBackgroundAudio:null,seekBackgroundAudio:null,stopBackgroundAudio:null,onBackgroundAudioPlay:null,onBackgroundAudioPause:null,onBackgroundAudioStop:null,join1v1Chat:null,setEnable1v1Chat:null,joinVoIPChat:null,exitVoIPChat:null,updateVoIPChatMuteConfig:null,onVoIPChatMembersChanged:null,onVoIPChatSpeakersChanged:null,onVoIPChatInterrupted:null,offVoIPChatMembersChanged:null,offVoIPChatSpeakersChanged:null,offVoIPChatInterrupted:null,onVoIPVideoMembersChanged:null,offVoIPVideoMembersChanged:null,onVoIPChatStateChanged:null,offVoIPChatStateChanged:null,subscribeVoIPVideoMembers:null,login:null,checkSession:null,authorize:null,getUserInfo:null,getUserProfile:null,requestFacetoFacePayment:null,requestPayment:null,requestPersonalPay:null,requestJointPayment:null,getWCPayOverseaPrepayRequest:null,requestH5Transaction:null,openWCPayOverseaPaymentReceive:null,handleWCPayOverseaWalletBuffer:null,requestVerifyUserIdentity:null,verifyPaymentPassword:null,bindPaymentCard:null,requestPaymentToBank:null,requestVirtualPayment:null,openOfflinePayView:null,openWCPayCardList:null,requestMallPayment:null,requestOrderPayment:null,addCard:null,openCard:null,scanCode:null,openQRCode:null,scanItem:null,chooseAddress:null,saveFile:null,openDocument:null,getSavedFileList:null,getSavedFileInfo:null,getFileInfo:null,removeSavedFile:null,getFileSystemManager:null,chooseContact:null,removeUserCloudStorage:null,setUserCloudStorage:null,makePhoneCall:null,makeVoIPCall:null,onAppRoute:null,onAppRouteDone:null,onAppEnterBackground:null,onAppEnterForeground:null,onAppUnhang:null,onPageReload:null,onPageNotFound:null,offPageNotFound:null,onThemeChange:null,offThemeChange:null,onAppShow:null,offAppShow:null,onAppHide:null,offAppHide:null,onError:null,offError:null,onUnhandledRejection:null,offUnhandledRejection:null,getLaunchOptionsSync:null,getEnterOptionsSync:null,createAnimation:null,createInnerAudioContext:null,createAudioContext:null,createVideoContext:null,createMapContext:null,createCameraContext:null,createLivePlayerContext:null,createLivePusherContext:null,onWebviewEvent:null,onNativeEvent:null,hideKeyboard:null,onKeyboardHeightChange:null,offKeyboardHeightChange:null,getPublicLibVersion:null,showModal:null,showToast:null,hideToast:null,showLoading:null,hideLoading:null,showActionSheet:null,reportAnalytics:null,getClipboardData:null,setClipboardData:null,createSelectorQuery:null,createIntersectionObserver:null,updatePerfData:null,traceEvent:null,onMemoryWarning:null,offMemoryWarning:null,getUpdateManager:null,createWorker:null,voiceSplitJoint:null,uploadSilkVoice:null,downloadSilkVoice:null,getResPath:null,setResPath:null,env:null,appStatus:null,hanged:null,getLogManager:null,getRealtimeLogManager:null,onWindowResize:null,offWindowResize:null,setPageOrientation:null,loadFontFace:null,setInnerAudioOption:null,addWeRunData:null,setBackgroundColor:null,setBackgroundTextStyle:null,getMenuButtonBoundingClientRect:null,calRqt:null,getAvailableAudioSources:null,reportMonitor:null,faceVerifyForPay:null,chooseInvoice:null,startDeviceMotionListening:null,stopDeviceMotionListening:null,onDeviceMotionChange:null,startGyroscope:null,stopGyroscope:null,onGyroscopeChange:null,secureTunnel:null,startCustomFacialRecognitionVerify:null,startCustomFacialRecognitionVerifyAndUploadVideo:null,getAccountInfoSync:null,setCookies:null,getCookies:null,nextTick:null,chooseMultiMedia:null,chooseMessageFile:null,getLabInfo:null,setLabInfo:null,compressImage:null,shareAppMessageForFakeNative:null,downloadApp:null,installDownloadApp:null,getAppInstallState:null,queryDownloadAppTask:null,cancelDownloadAppTask:null,resumeDownloadAppTask:null,pauseDownloadAppTask:null,onDownloadAppStateChange:null,downloadAppForIOS:null,offGyroscopeChange:null,offDeviceMotionChange:null,offCompassChange:null,offAccelerometerChange:null,offUserCaptureScreen:null,offNetworkStatusChange:null,offHCEMessage:null,offBeaconUpdate:null,offBeaconServiceChange:null,requestSubscribeMessage:null,requestSubscribeDeviceMessage:null,hideHomeButton:null,getBLEDeviceRSSI:null,checkIsOpenAccessibility:null,addPhoneCalendar:null,addPhoneRepeatCalendar:null,updateWeChatApp:null,getRandomValues:null,shareFileMessage:null,shareVideoMessage:null,addFileToFavorites:null,addVideoToFavorites:null,showShareImageMenu:null,searchContacts:null,publishWeChatState:null,chooseLicensePlate:null,openSystemBluetoothSetting:null,openAppAuthorizeSetting:null,getSystemSetting:null,getAppAuthorizeSetting:null,getDeviceInfo:null,getWindowInfo:null,getAppBaseInfo:null,openEmbeddedMiniProgram:null},MO={invokeWebviewMethod:0,drawCanvas:20,createContext:20,createCanvasContext:20,canvasToTempFilePath:20,canvasGetImageData:20,canvasPutImageData:20,getShareInfo:30,pageScrollTo:30,chooseInvoiceTitle:10,ShareInfoStorage:10,arrayBufferToBase64:10,base64ToArrayBuffer:10,openSetting:20,openSettingForPlugin:30,getExtConfig:0,chooseMedia:20,chooseWeChatContact:20,uploadEncryptedFileToCDN:10,onUploadEncryptedFileToCDNProgress:10,getExtConfigSync:0,showShareMenu:30,hideShareMenu:30,updateShareMenu:30,openUrl:20,setNavigationBarColor:30,setNavigationBarAlpha:30,hideHomeButton:30,_getRealRoute:20,vibrateShort:10,vibrateLong:10,getSetting:10,checkIsSupportFacialRecognition:10,startFacialRecognitionVerify:20,startFacialRecognitionVerifyAndUploadVideo:20,sendBizRedPacket:10,sendGoldenRedPacket:10,openGoldenRedPacketDetail:10,showRedPackage:10,addPhoneContact:10,setScreenBrightness:20,getScreenBrightness:20,shareToWeRun:20,getWeRunData:10,uploadWeRunData:10,addWeRunData:10,canIUse:0,setPageStyle:30,triggerGettingWidgetData:10,navigateToMiniProgram:30,navigateToDevMiniProgram:30,navigateBackMiniProgram:30,exitMiniProgram:30,setNavigationBarRightButton:20,onTapNavigationBarRightButton:20,setTopBarText:30,setTabBarBadge:30,removeTabBarBadge:30,showTabBarRedDot:30,hideTabBarRedDot:30,showTabBar:30,hideTabBar:30,setTabBarStyle:30,setTabBarItem:30,setEnableDebug:30,captureScreen:30,onUserCaptureScreen:30,offUserCaptureScreen:30,setKeepScreenOn:10,checkIsSupportSoterAuthentication:10,startSoterAuthentication:10,checkIsSoterEnrolledInDevice:10,openDeliveryList:20,reportIDKey:0,reportKeyValue:0,setNavigationBarTitle:30,showNavigationBarLoading:30,hideNavigationBarLoading:30,startPullDownRefresh:30,stopPullDownRefresh:30,operateWXData:10,getOpenDeviceId:10,makeBluetoothPair:10,isBluetoothDevicePaired:10,openBluetoothAdapter:10,openBluetoothAdapterBackground:10,closeBluetoothAdapter:10,getBluetoothAdapterState:10,startBluetoothDevicesDiscovery:10,stopBluetoothDevicesDiscovery:10,startMonitoringBluetoothDevice:10,stopMonitoringBluetoothDevice:10,getBluetoothDevices:10,getConnectedBluetoothDevices:10,getMonitoredBluetoothDevices:10,createBLEConnection:10,setBLEMTU:10,setBluetoothBackgroundMode:10,getBLEMTU:10,closeBLEConnection:10,getBLEDeviceServices:10,getBLEDeviceRSSI:10,getBLEDeviceCharacteristics:10,notifyBLECharacteristicValueChanged:10,notifyBLECharacteristicValueChange:10,readBLECharacteristicValue:10,writeBLECharacteristicValue:10,onBluetoothAdapterStateChange:10,onBluetoothDeviceFound:10,onMonitoredBluetoothDeviceFound:10,onBLEConnectionStateChanged:10,onBLEConnectionStateChange:10,onBLECharacteristicValueChange:10,onBLEMTUChange:10,offBLEMTUChange:10,offBluetoothAdapterStateChange:10,offBluetoothDeviceFound:10,offMonitoredBluetoothDeviceFound:10,offBLEConnectionStateChanged:10,offBLEConnectionStateChange:10,offBLECharacteristicValueChange:10,createBLEPeripheralServer:10,onBLEPeripheralConnectionStateChanged:10,offBLEPeripheralConnectionStateChanged:10,startBeaconDiscovery:10,stopBeaconDiscovery:10,getBeacons:10,onBeaconUpdate:10,offBeaconUpdate:10,onBeaconServiceChange:10,offBeaconServiceChange:10,startWifi:10,stopWifi:10,getWifiList:10,getConnectedWifi:10,connectWifi:10,presetWifiList:10,setWifiList:10,onGetWifiList:10,onWifiConnected:10,onWifiConnectedWithPartialInfo:10,offGetWifiList:10,offWifiConnected:10,offWifiConnectedWithPartialInfo:10,onEvaluateWifi:10,getHCEState:10,startHCE:10,stopHCE:10,sendHCEMessage:10,onHCEMessage:10,offHCEMessage:10,startLocalServiceDiscovery:10,stopLocalServiceDiscovery:10,onLocalServiceFound:10,offLocalServiceFound:10,onLocalServiceLost:10,offLocalServiceLost:10,onLocalServiceDiscoveryStop:10,offLocalServiceDiscoveryStop:10,onLocalServiceResolveFail:10,offLocalServiceResolveFail:10,redirectTo:30,reLaunch:30,navigateTo:30,switchTab:30,navigateBack:30,_triggerBeforeUnloadPage:30,_triggerBeforeShareAppMessage:30,navigateBackApplication:30,navigateBackNative:0,launchApplication:30,getStorage:10,getStorageSync:10,setStorage:10,setStorageSync:10,removeStorage:10,removeStorageSync:10,clearStorage:10,clearStorageSync:10,getStorageInfo:10,getStorageInfoSync:10,getBackgroundFetchData:10,onBackgroundFetchData:10,request:10,connectSocket:10,closeSocket:10,sendSocketMessage:10,onSocketOpen:10,onSocketClose:10,onSocketMessage:10,onSocketError:10,uploadFile:10,downloadFile:10,addNativeDownloadTask:10,chooseImage:20,previewImage:20,previewMedia:20,getImageInfo:10,saveImageToPhotosAlbum:10,startRecord:20,stopRecord:20,playVoice:20,pauseVoice:20,stopVoice:20,onVoicePlayEnd:20,chooseVideo:20,saveVideoToPhotosAlbum:10,getVideoInfo:10,compressVideo:10,getLocation:20,openLocation:20,chooseLocation:20,choosePoi:20,onLocationChange:20,offLocationChange:20,onLocationChangeError:20,offLocationChangeError:20,startLocationUpdateBackground:20,startLocationUpdate:20,stopLocationUpdate:20,getNetworkType:0,onAppRoute:30,onAppRouteDone:30,onAppEnterBackground:30,onAppEnterForeground:30,onAppUnhang:30,onPageReload:30,onPageNotFound:30,offPageNotFound:30,onThemeChange:10,offThemeChange:10,onAppShow:30,offAppShow:30,onAppHide:30,offAppHide:30,onError:30,offError:30,onUnhandledRejection:10,offUnhandledRejection:10,getLaunchOptionsSync:0,getEnterOptionsSync:0,createAnimation:0,createInnerAudioContext:20,createAudioContext:20,createVideoContext:20,createMapContext:20,createCameraContext:20,createLivePlayerContext:20,createLivePusherContext:20,onWebviewEvent:20,onNativeEvent:20,hideKeyboard:20,onKeyboardHeightChange:20,offKeyboardHeightChange:20,getPublicLibVersion:0,showModal:20,showToast:20,hideToast:20,showLoading:20,hideLoading:20,showActionSheet:20,reportAnalytics:10,getClipboardData:20,setClipboardData:20,createSelectorQuery:0,createIntersectionObserver:0,updatePerfData:10,traceEvent:10,onMemoryWarning:10,offMemoryWarning:10,getUpdateManager:10,createWorker:10,voiceSplitJoint:10,uploadSilkVoice:10,downloadSilkVoice:10,getResPath:0,setResPath:0,env:0,appStatus:0,hanged:0,getLogManager:0,getRealtimeLogManager:0,onWindowResize:20,offWindowResize:20,setPageOrientation:30,loadFontFace:20,setInnerAudioOption:0,setBackgroundColor:30,setBackgroundTextStyle:30,getMenuButtonBoundingClientRect:20,calRqt:10,onNetworkStatusChange:10,offNetworkStatusChange:10,getSystemInfo:10,getSystemInfoSync:10,getBatteryInfo:10,getBatteryInfoSync:10,startAccelerometer:10,stopAccelerometer:10,onAccelerometerChange:10,offAccelerometerChange:10,startCompass:10,stopCompass:10,onCompassChange:10,offCompassChange:10,reportAction:10,getBackgroundAudioManager:10,getRecorderManager:10,getBackgroundAudioPlayerState:10,playBackgroundAudio:10,pauseBackgroundAudio:10,seekBackgroundAudio:10,stopBackgroundAudio:10,onBackgroundAudioPlay:10,onBackgroundAudioPause:10,onBackgroundAudioStop:10,join1v1Chat:10,setEnable1v1Chat:10,joinVoIPChat:10,exitVoIPChat:10,updateVoIPChatMuteConfig:10,onVoIPChatMembersChanged:10,onVoIPChatSpeakersChanged:10,onVoIPChatInterrupted:10,offVoIPChatMembersChanged:10,offVoIPChatSpeakersChanged:10,offVoIPChatInterrupted:10,onVoIPVideoMembersChanged:10,offVoIPVideoMembersChanged:10,onVoIPChatStateChanged:10,offVoIPChatStateChanged:10,subscribeVoIPVideoMembers:10,login:10,checkSession:10,authorize:20,getUserInfo:20,getUserProfile:20,requestFacetoFacePayment:20,requestPayment:20,verifyPaymentPassword:20,bindPaymentCard:20,requestPersonalPay:20,requestPaymentToBank:20,requestJointPayment:20,getWCPayOverseaPrepayRequest:20,requestH5Transaction:20,openWCPayOverseaPaymentReceive:20,handleWCPayOverseaWalletBuffer:20,requestVerifyUserIdentity:20,requestVirtualPayment:20,openOfflinePayView:20,openWCPayCardList:20,requestMallPayment:20,requestOrderPayment:20,addCard:20,openCard:20,scanCode:20,openQRCode:20,scanItem:20,chooseAddress:20,saveFile:10,openDocument:20,getSavedFileList:10,getSavedFileInfo:10,getFileInfo:10,removeSavedFile:10,getFileSystemManager:10,chooseContact:20,removeUserCloudStorage:10,setUserCloudStorage:10,makePhoneCall:20,makeVoIPCall:20,getAvailableAudioSources:10,reportMonitor:10,faceVerifyForPay:30,chooseInvoice:20,startDeviceMotionListening:10,stopDeviceMotionListening:10,onDeviceMotionChange:10,offDeviceMotionChange:10,startGyroscope:10,stopGyroscope:10,onGyroscopeChange:10,offGyroscopeChange:10,secureTunnel:10,startCustomFacialRecognitionVerify:10,startCustomFacialRecognitionVerifyAndUploadVideo:10,getAccountInfoSync:0,setCookies:10,getCookies:10,nextTick:0,chooseMultiMedia:20,chooseMessageFile:20,getLabInfo:10,setLabInfo:10,compressImage:0,enterContact:20,shareAppMessageForFakeNative:20,checkIsOpenAccessibility:10,addPhoneCalendar:20,addPhoneRepeatCalendar:20,updateWeChatApp:10,getRandomValues:0,shareFileMessage:20,shareVideoMessage:20,addFileToFavorites:20,addVideoToFavorites:20,showShareImageMenu:20,searchContacts:10,publishWeChatState:20,chooseLicensePlate:20,openSystemBluetoothSetting:30,openAppAuthorizeSetting:30,getSystemSetting:10,getAppAuthorizeSetting:10,getDeviceInfo:10,getWindowInfo:10,getAppBaseInfo:10,openEmbeddedMiniProgram:30},RO={invokeWebviewMethod:0,drawCanvas:0,createContext:0,createCanvasContext:2,canvasToTempFilePath:2,canvasGetImageData:2,canvasPutImageData:2,getShareInfo:1,pageScrollTo:1,chooseInvoiceTitle:1,ShareInfoStorage:0,arrayBufferToBase64:0,base64ToArrayBuffer:0,openSetting:1,requestSubscribeMessage:1,requestSubscribeDeviceMessage:1,getExtConfig:1,chooseMedia:0,chooseWeChatContact:0,uploadEncryptedFileToCDN:0,onUploadEncryptedFileToCDNProgress:0,getExtConfigSync:2,showShareMenu:1,hideShareMenu:1,updateShareMenu:1,openUrl:0,setNavigationBarColor:1,setNavigationBarAlpha:0,hideHomeButton:1,_getRealRoute:0,vibrateShort:1,vibrateLong:1,getSetting:1,checkIsSupportFacialRecognition:0,startFacialRecognitionVerify:0,startFacialRecognitionVerifyAndUploadVideo:0,sendBizRedPacket:0,sendGoldenRedPacket:0,openGoldenRedPacketDetail:0,showRedPackage:1,addPhoneContact:1,setScreenBrightness:1,getScreenBrightness:1,shareToWeRun:1,getWeRunData:1,canIUse:1,setPageStyle:0,triggerGettingWidgetData:0,navigateToMiniProgram:1,navigateToDevMiniProgram:0,navigateBackMiniProgram:1,exitMiniProgram:1,setNavigationBarRightButton:0,onTapNavigationBarRightButton:0,setTopBarText:1,setTabBarBadge:1,removeTabBarBadge:1,showTabBarRedDot:1,hideTabBarRedDot:1,showTabBar:1,hideTabBar:1,setTabBarStyle:1,setTabBarItem:1,setEnableDebug:1,captureScreen:0,onUserCaptureScreen:3,setKeepScreenOn:1,checkIsSupportSoterAuthentication:1,startSoterAuthentication:1,checkIsSoterEnrolledInDevice:1,openDeliveryList:0,reportIDKey:0,reportKeyValue:0,setNavigationBarTitle:1,showNavigationBarLoading:1,hideNavigationBarLoading:1,startPullDownRefresh:1,stopPullDownRefresh:1,operateWXData:0,getOpenDeviceId:0,makeBluetoothPair:1,isBluetoothDevicePaired:1,openBluetoothAdapter:1,openBluetoothAdapterBackground:1,closeBluetoothAdapter:1,getBluetoothAdapterState:1,startBluetoothDevicesDiscovery:1,stopBluetoothDevicesDiscovery:1,startMonitoringBluetoothDevice:1,stopMonitoringBluetoothDevice:1,getBluetoothDevices:1,getConnectedBluetoothDevices:1,getMonitoredBluetoothDevices:1,createBLEConnection:1,setBLEMTU:1,setBluetoothBackgroundMode:1,getBLEMTU:1,closeBLEConnection:1,getBLEDeviceServices:1,getBLEDeviceRSSI:1,getBLEDeviceCharacteristics:1,notifyBLECharacteristicValueChanged:1,notifyBLECharacteristicValueChange:1,readBLECharacteristicValue:1,writeBLECharacteristicValue:1,onBluetoothAdapterStateChange:3,onBluetoothDeviceFound:3,onMonitoredBluetoothDeviceFound:3,onBLEConnectionStateChanged:3,onBLEConnectionStateChange:3,onBLECharacteristicValueChange:3,onBLEMTUChange:3,offBLEMTUChange:3,offBluetoothAdapterStateChange:3,offBluetoothDeviceFound:3,offMonitoredBluetoothDeviceFound:3,offBLEConnectionStateChanged:3,offBLEConnectionStateChange:3,offBLECharacteristicValueChange:3,createBLEPeripheralServer:2,onBLEPeripheralConnectionStateChanged:3,offBLEPeripheralConnectionStateChanged:3,startBeaconDiscovery:1,stopBeaconDiscovery:1,getBeacons:1,onBeaconUpdate:1,onBeaconServiceChange:1,startWifi:1,stopWifi:1,getWifiList:1,getConnectedWifi:1,connectWifi:1,presetWifiList:1,setWifiList:1,onGetWifiList:3,onWifiConnected:3,onWifiConnectedWithPartialInfo:3,offGetWifiList:3,offWifiConnected:3,offWifiConnectedWithPartialInfo:3,onEvaluateWifi:3,getHCEState:1,startHCE:1,stopHCE:1,sendHCEMessage:1,onHCEMessage:3,startLocalServiceDiscovery:1,stopLocalServiceDiscovery:1,onLocalServiceFound:3,offLocalServiceFound:3,onLocalServiceLost:3,offLocalServiceLost:3,onLocalServiceDiscoveryStop:3,offLocalServiceDiscoveryStop:3,onLocalServiceResolveFail:3,offLocalServiceResolveFail:3,redirectTo:1,reLaunch:1,navigateTo:1,switchTab:1,navigateBack:1,_triggerBeforeUnloadPage:0,_triggerBeforeShareAppMessage:0,navigateBackApplication:0,navigateBackNative:0,launchApplication:0,getStorage:1,getStorageSync:2,setStorage:1,setStorageSync:2,removeStorage:1,removeStorageSync:2,clearStorage:1,clearStorageSync:2,getStorageInfo:1,getStorageInfoSync:2,getBackgroundFetchData:1,onBackgroundFetchData:3,request:1,connectSocket:1,closeSocket:1,sendSocketMessage:1,onSocketOpen:3,onSocketClose:3,onSocketMessage:3,onSocketError:3,uploadFile:1,downloadFile:1,addNativeDownloadTask:0,chooseImage:1,previewImage:1,previewMedia:1,getImageInfo:1,saveImageToPhotosAlbum:1,startRecord:1,stopRecord:1,playVoice:1,pauseVoice:1,stopVoice:1,onVoicePlayEnd:1,chooseVideo:1,saveVideoToPhotosAlbum:1,getVideoInfo:1,compressVideo:1,getLocation:1,openLocation:1,chooseLocation:1,choosePoi:1,onLocationChange:0,offLocationChange:0,onLocationChangeError:0,offLocationChangeError:0,startLocationUpdateBackground:0,startLocationUpdate:0,stopLocationUpdate:0,getNetworkType:1,onNetworkStatusChange:3,getSystemInfo:1,getSystemInfoSync:2,getBatteryInfo:1,getBatteryInfoSync:2,startAccelerometer:1,stopAccelerometer:1,onAccelerometerChange:3,startCompass:1,stopCompass:1,onCompassChange:3,reportAction:0,getBackgroundAudioManager:2,getRecorderManager:2,getBackgroundAudioPlayerState:1,playBackgroundAudio:1,pauseBackgroundAudio:1,seekBackgroundAudio:1,stopBackgroundAudio:1,onBackgroundAudioPlay:3,onBackgroundAudioPause:3,onBackgroundAudioStop:3,join1v1Chat:1,setEnable1v1Chat:1,joinVoIPChat:1,exitVoIPChat:1,updateVoIPChatMuteConfig:1,onVoIPChatMembersChanged:3,onVoIPChatSpeakersChanged:3,onVoIPChatInterrupted:3,offVoIPChatMembersChanged:3,offVoIPChatSpeakersChanged:3,offVoIPChatInterrupted:3,onVoIPVideoMembersChanged:3,offVoIPVideoMembersChanged:3,onVoIPChatStateChanged:3,offVoIPChatStateChanged:3,subscribeVoIPVideoMembers:1,login:1,checkSession:1,authorize:1,getUserInfo:1,getUserProfile:1,requestPayment:1,requestPersonalPay:1,requestFacetoFacePayment:1,requestJointPayment:0,getWCPayOverseaPrepayRequest:0,requestH5Transaction:0,openWCPayOverseaPaymentReceive:0,handleWCPayOverseaWalletBuffer:0,requestVerifyUserIdentity:0,verifyPaymentPassword:0,bindPaymentCard:0,requestPaymentToBank:0,requestVirtualPayment:0,openOfflinePayView:0,openWCPayCardList:0,requestMallPayment:0,requestOrderPayment:1,addCard:1,openCard:1,scanCode:1,openQRCode:1,scanItem:1,chooseAddress:1,saveFile:1,openDocument:1,getSavedFileList:1,getSavedFileInfo:1,getFileInfo:1,removeSavedFile:1,getFileSystemManager:0,chooseContact:0,removeUserCloudStorage:0,setUserCloudStorage:0,makePhoneCall:1,makeVoIPCall:0,onAppRoute:0,onAppRouteDone:0,onAppEnterBackground:0,onAppEnterForeground:0,onAppUnhang:0,onPageReload:0,onPageNotFound:0,onThemeChange:1,offThemeChange:1,createAnimation:2,createInnerAudioContext:2,createAudioContext:0,createVideoContext:2,createMapContext:2,createCameraContext:2,createLivePlayerContext:2,createLivePusherContext:2,onWebviewEvent:0,onNativeEvent:0,hideKeyboard:0,onKeyboardHeightChange:0,offKeyboardHeightChange:0,getPublicLibVersion:0,showModal:1,showToast:1,hideToast:1,showLoading:1,hideLoading:1,showActionSheet:1,reportAnalytics:0,getClipboardData:1,setClipboardData:1,createSelectorQuery:1,createIntersectionObserver:1,updatePerfData:0,traceEvent:0,onMemoryWarning:0,offMemoryWarning:0,getUpdateManager:2,createWorker:2,voiceSplitJoint:0,uploadSilkVoice:0,downloadSilkVoice:0,getResPath:0,setResPath:0,env:0,appStatus:0,hanged:0,getLogManager:0,getRealtimeLogManager:0,onWindowResize:3,offWindowResize:3,setPageOrientation:1,loadFontFace:1,uploadWeRunData:0,addWeRunData:0,setBackgroundColor:1,setBackgroundTextStyle:1,getMenuButtonBoundingClientRect:1,onAppShow:3,offAppShow:3,onAppHide:3,offAppHide:3,onError:3,offError:3,onUnhandledRejection:3,offUnhandledRejection:3,getLaunchOptionsSync:2,getEnterOptionsSync:2,calRqt:0,offPageNotFound:0,getAvailableAudioSources:1,reportMonitor:1,faceVerifyForPay:1,chooseInvoice:1,startDeviceMotionLisstening:1,stopDeviceMotionListening:1,onDeviceMotionChange:3,startGyroscope:1,stopGyroscope:1,onGyroscopeChange:3,setInnerAudioOption:1,secureTunnel:1,startCustomFacialRecognitionVerify:1,startCustomFacialRecognitionVerifyAndUploadVideo:1,getAccountInfoSync:0,setCookies:1,getCookies:1,nextTick:0,chooseMultiMedia:1,chooseMessageFile:1,getLabInfo:1,setLabInfo:1,compressImage:1,enterContact:1,shareAppMessageForFakeNative:0,downloadApp:0,installDownloadApp:0,getAppInstallState:0,queryDownloadAppTask:0,cancelDownloadAppTask:0,resumeDownloadAppTask:0,pauseDownloadAppTask:0,onDownloadAppStateChange:3,downloadAppForIOS:0,offGyroscopeChange:3,offDeviceMotionChange:3,offCompassChange:3,offAccelerometerChange:3,offUserCaptureScreen:3,offNetworkStatusChange:3,offHCEMessage:3,offBeaconUpdate:3,offBeaconServiceChange:3,checkIsOpenAccessibility:1,addPhoneCalendar:1,addPhoneRepeatCalendar:1,updateWeChatApp:1,getRandomValues:1,shareFileMessage:1,shareVideoMessage:1,addFileToFavorites:1,addVideoToFavorites:1,showShareImageMenu:1,searchContacts:1,publishWeChatState:1,chooseLicensePlate:1,openSystemBluetoothSetting:1,openAppAuthorizeSetting:1,getSystemSetting:1,getAppAuthorizeSetting:1,getDeviceInfo:1,getWindowInfo:1,getAppBaseInfo:1,openEmbeddedMiniProgram:1},DO={invokeWebviewMethod:0,drawCanvas:0,createContext:0,createCanvasContext:0,canvasToTempFilePath:0,canvasGetImageData:0,canvasPutImageData:0,getShareInfo:0,pageScrollTo:0,chooseInvoiceTitle:0,ShareInfoStorage:0,arrayBufferToBase64:0,base64ToArrayBuffer:0,openSetting:10,addToDesktop:50,openSettingForPlugin:10,getExtConfig:0,chooseMedia:0,chooseWeChatContact:0,uploadEncryptedFileToCDN:0,onUploadEncryptedFileToCDNProgress:0,getExtConfigSync:0,showShareMenu:0,hideShareMenu:0,updateShareMenu:0,openUrl:0,setNavigationBarColor:0,setNavigationBarAlpha:0,_getRealRoute:0,vibrateShort:0,vibrateLong:0,getSetting:20,checkIsSupportFacialRecognition:0,startFacialRecognitionVerify:0,startFacialRecognitionVerifyAndUploadVideo:0,sendBizRedPacket:0,sendGoldenRedPacket:0,openGoldenRedPacketDetail:0,showRedPackage:0,addPhoneContact:0,setScreenBrightness:0,getScreenBrightness:0,shareToWeRun:0,getWeRunData:0,uploadWeRunData:0,canIUse:0,setPageStyle:0,triggerGettingWidgetData:0,navigateToMiniProgram:0,navigateToDevMiniProgram:0,navigateBackMiniProgram:0,navigateBackNative:0,exitMiniProgram:40,setNavigationBarRightButton:0,onTapNavigationBarRightButton:0,setTopBarText:0,setTabBarBadge:0,removeTabBarBadge:0,showTabBarRedDot:0,hideTabBarRedDot:0,showTabBar:0,hideTabBar:0,setTabBarStyle:0,setTabBarItem:0,setEnableDebug:0,captureScreen:0,onUserCaptureScreen:0,setKeepScreenOn:0,checkIsSupportSoterAuthentication:0,startSoterAuthentication:0,checkIsSoterEnrolledInDevice:0,openDeliveryList:0,reportIDKey:0,reportKeyValue:0,setNavigationBarTitle:0,showNavigationBarLoading:0,hideNavigationBarLoading:0,startPullDownRefresh:0,stopPullDownRefresh:0,operateWXData:0,getOpenDeviceId:0,makeBluetoothPair:0,isBluetoothDevicePaired:0,openBluetoothAdapter:0,openBluetoothAdapterBackground:0,closeBluetoothAdapter:0,getBluetoothAdapterState:0,startBluetoothDevicesDiscovery:0,stopBluetoothDevicesDiscovery:0,startMonitoringBluetoothDevice:0,stopMonitoringBluetoothDevice:0,getBluetoothDevices:0,getConnectedBluetoothDevices:0,getMonitoredBluetoothDevices:0,createBLEConnection:0,setBLEMTU:0,setBluetoothBackgroundMode:0,getBLEMTU:0,closeBLEConnection:0,getBLEDeviceServices:0,getBLEDeviceRSSI:0,getBLEDeviceCharacteristics:0,notifyBLECharacteristicValueChanged:0,notifyBLECharacteristicValueChange:0,readBLECharacteristicValue:0,writeBLECharacteristicValue:0,onBluetoothAdapterStateChange:0,onBluetoothDeviceFound:0,onMonitoredBluetoothDeviceFound:0,onBLEConnectionStateChanged:0,onBLEConnectionStateChange:0,onBLECharacteristicValueChange:0,onBLEMTUChange:0,offBLEMTUChange:0,offBluetoothAdapterStateChange:0,offBluetoothDeviceFound:0,offMonitoredBluetoothDeviceFound:0,offBLEConnectionStateChanged:0,offBLEConnectionStateChange:0,offBLECharacteristicValueChange:0,createBLEPeripheralServer:0,onBLEPeripheralConnectionStateChanged:0,offBLEPeripheralConnectionStateChanged:0,onLocalServiceFound:0,offLocalServiceFound:0,onLocalServiceLost:0,offLocalServiceLost:0,onLocalServiceDiscoveryStop:0,offLocalServiceDiscoveryStop:0,onLocalServiceResolveFail:0,offLocalServiceResolveFail:0,startBeaconDiscovery:0,stopBeaconDiscovery:0,getBeacons:0,onBeaconUpdate:0,onBeaconServiceChange:0,startWifi:0,stopWifi:0,getWifiList:0,getConnectedWifi:0,connectWifi:0,presetWifiList:0,setWifiList:0,onGetWifiList:0,onWifiConnected:0,onWifiConnectedWithPartialInfo:0,offGetWifiList:0,offWifiConnected:0,offWifiConnectedWithPartialInfo:0,onEvaluateWifi:0,getHCEState:0,startHCE:0,stopHCE:0,sendHCEMessage:0,onHCEMessage:0,redirectTo:0,reLaunch:0,navigateTo:0,switchTab:0,navigateBack:0,_triggerBeforeUnloadPage:0,_triggerBeforeShareAppMessage:0,navigateBackApplication:0,launchApplication:0,getStorage:0,getStorageSync:0,setStorage:0,setStorageSync:0,removeStorage:0,removeStorageSync:0,clearStorage:0,clearStorageSync:0,getStorageInfo:0,getStorageInfoSync:0,request:20,connectSocket:0,closeSocket:0,sendSocketMessage:0,onSocketOpen:0,onSocketClose:0,onSocketMessage:0,onSocketError:0,uploadFile:0,downloadFile:20,addNativeDownloadTask:0,chooseImage:0,previewImage:0,previewMedia:0,getImageInfo:0,saveImageToPhotosAlbum:0,startRecord:0,stopRecord:0,playVoice:0,pauseVoice:0,stopVoice:0,onVoicePlayEnd:0,chooseVideo:0,saveVideoToPhotosAlbum:0,getVideoInfo:0,compressVideo:0,getLocation:0,openLocation:0,chooseLocation:0,choosePoi:0,onLocationChange:0,offLocationChange:0,onLocationChangeError:0,offLocationChangeError:0,startLocationUpdateBackground:0,startLocationUpdate:0,stopLocationUpdate:0,getNetworkType:0,onNetworkStatusChange:0,getSystemInfo:0,getSystemInfoSync:0,getBatteryInfo:0,getBatteryInfoSync:0,startAccelerometer:0,stopAccelerometer:0,onAccelerometerChange:0,startCompass:0,stopCompass:0,onCompassChange:0,reportAction:0,getBackgroundAudioManager:0,getRecorderManager:0,getBackgroundAudioPlayerState:0,playBackgroundAudio:0,pauseBackgroundAudio:0,seekBackgroundAudio:0,stopBackgroundAudio:0,onBackgroundAudioPlay:0,onBackgroundAudioPause:0,onBackgroundAudioStop:0,login:0,checkSession:0,authorize:0,getUserInfo:0,requestFacetoFacePayment:0,requestPayment:30,requestPersonalPay:0,verifyPaymentPassword:0,bindPaymentCard:0,requestPaymentToBank:0,requestJointPayment:0,getWCPayOverseaPrepayRequest:0,requestH5Transaction:0,openWCPayOverseaPaymentReceive:0,handleWCPayOverseaWalletBuffer:0,requestVerifyUserIdentity:0,requestVirtualPayment:0,openOfflinePayView:0,openWCPayCardList:0,requestMallPayment:0,requestOrderPayment:30,addCard:0,openCard:0,scanCode:0,openQRCode:0,scanItem:0,chooseAddress:0,saveFile:0,openDocument:0,getSavedFileList:0,getSavedFileInfo:0,getFileInfo:0,removeSavedFile:0,getFileSystemManager:0,chooseContact:0,removeUserCloudStorage:0,setUserCloudStorage:0,makePhoneCall:0,makeVoIPCall:0,onAppRoute:0,onAppRouteDone:0,onAppEnterBackground:0,onAppEnterForeground:0,onAppUnhang:0,onPageReload:0,onPageNotFound:0,offPageNotFound:0,onThemeChange:0,offThemeChange:0,onAppShow:0,offAppShow:0,onAppHide:0,offAppHide:0,onError:0,offError:0,onUnhandledRejection:0,offUnhandledRejection:0,getLaunchOptionsSync:0,getEnterOptionsSync:0,createAnimation:0,createInnerAudioContext:0,createAudioContext:0,createVideoContext:0,createMapContext:0,createCameraContext:0,createLivePlayerContext:0,createLivePusherContext:0,onWebviewEvent:0,onNativeEvent:0,hideKeyboard:0,onKeyboardHeightChange:0,offKeyboardHeightChange:0,getPublicLibVersion:0,showModal:30,showToast:0,hideToast:0,showLoading:0,hideLoading:0,showActionSheet:30,reportAnalytics:0,getClipboardData:0,setClipboardData:0,createSelectorQuery:0,createIntersectionObserver:0,updatePerfData:0,traceEvent:0,onMemoryWarning:0,offMemoryWarning:0,getUpdateManager:0,createWorker:0,voiceSplitJoint:0,uploadSilkVoice:0,downloadSilkVoice:0,getResPath:0,setResPath:0,env:0,appStatus:0,hanged:0,getLogManager:0,getRealtimeLogManager:0,onWindowResize:0,offWindowResize:0,setPageOrientation:0,loadFontFace:0,setInnerAudioOption:0,addWeRunData:0,setBackgroundColor:0,setBackgroundTextStyle:0,getMenuButtonBoundingClientRect:0,calRqt:0,getAvailableAudioSources:0,reportMonitor:0,faceVerifyForPay:0,chooseInvoice:0,startDeviceMotionListening:0,stopDeviceMotionListening:0,onDeviceMotionChange:0,startGyroscope:0,stopGyroscope:0,onGyroscopeChange:0,secureTunnel:0,startCustomFacialRecognitionVerify:0,startCustomFacialRecognitionVerifyAndUploadVideo:0,getAccountInfo:0,nextTick:0,setCookies:0,getCookies:0,getAccountInfoSync:0,chooseMultiMedia:0,join1v1Chat:0,setEnable1v1Chat:0,joinVoIPChat:0,exitVoIPChat:0,updateVoIPChatMuteConfig:0,onVoIPChatMembersChanged:0,onVoIPChatSpeakersChanged:0,onVoIPChatInterrupted:0,offVoIPChatMembersChanged:0,offVoIPChatSpeakersChanged:0,offVoIPChatInterrupted:0,onVoIPVideoMembersChanged:0,offVoIPVideoMembersChanged:0,onVoIPChatStateChanged:0,offVoIPChatStateChanged:0,subscribeVoIPVideoMembers:0,getBackgroundFetchData:0,onBackgroundFetchData:0,chooseMessageFile:0,getLabInfo:0,setLabInfo:0,compressImage:0,startLocalServiceDiscovery:0,stopLocalServiceDiscovery:0,enterContact:0,shareAppMessageForFakeNative:0,downloadApp:0,installDownloadApp:0,getAppInstallState:0,queryDownloadAppTask:0,cancelDownloadAppTask:0,resumeDownloadAppTask:0,pauseDownloadAppTask:0,onDownloadAppStateChange:0,downloadAppForIOS:0,offGyroscopeChange:0,offDeviceMotionChange:0,offCompassChange:0,offAccelerometerChange:0,offUserCaptureScreen:0,offNetworkStatusChange:0,offHCEMessage:0,offBeaconUpdate:0,offBeaconServiceChange:0,requestSubscribeMessage:40,requestSubscribeDeviceMessage:40,hideHomeButton:0,checkIsOpenAccessibility:0,updateWeChatApp:0,openChannelsLive:30,openChannelsActivity:30,openChannelsUserProfile:30,openChannelsLiveCollection:30,openChannelsEvent:30,addPhoneCalendar:40,addPhoneRepeatCalendar:40,getRandomValues:0,showShareImageMenu:0,shareFileMessage:40,shareVideoMessage:40,addFileToFavorites:40,addVideoToFavorites:40,getUserProfile:40,searchContacts:40,publishWeChatState:40,openCustomerServiceChat:40,chooseLicensePlate:40,openSystemBluetoothSetting:40,openAppAuthorizeSetting:40,getSystemSetting:0,getAppAuthorizeSetting:0,getDeviceInfo:0,getWindowInfo:0,getAppBaseInfo:0,openEmbeddedMiniProgram:0},LO={invokeWebviewMethod:0,drawCanvas:10,createContext:10,createCanvasContext:10,canvasToTempFilePath:10,canvasGetImageData:10,canvasPutImageData:10,getShareInfo:0,pageScrollTo:10,chooseInvoiceTitle:1,ShareInfoStorage:0,arrayBufferToBase64:0,base64ToArrayBuffer:0,openSetting:1,openSettingForPlugin:1,getExtConfig:10,chooseMedia:1,chooseWeChatContact:1,uploadEncryptedFileToCDN:0,onUploadEncryptedFileToCDNProgress:0,getExtConfigSync:10,showShareMenu:0,hideShareMenu:0,updateShareMenu:0,openUrl:0,setNavigationBarColor:0,setNavigationBarAlpha:0,hideHomeButton:0,_getRealRoute:0,vibrateShort:10,vibrateLong:10,getSetting:0,checkIsSupportFacialRecognition:0,startFacialRecognitionVerify:0,startFacialRecognitionVerifyAndUploadVideo:0,sendBizRedPacket:0,sendGoldenRedPacket:0,openGoldenRedPacketDetail:0,showRedPackage:0,addPhoneContact:1,setScreenBrightness:10,getScreenBrightness:10,getWeRunData:0,uploadWeRunData:0,addWeRunData:0,canIUse:10,setPageStyle:0,triggerGettingWidgetData:0,navigateToMiniProgram:1,navigateToDevMiniProgram:0,navigateBackMiniProgram:1,exitMiniProgram:1,setNavigationBarRightButton:0,onTapNavigationBarRightButton:0,setTopBarText:0,setTabBarBadge:0,removeTabBarBadge:0,showTabBarRedDot:0,hideTabBarRedDot:0,showTabBar:0,hideTabBar:0,setTabBarStyle:0,setTabBarItem:0,setEnableDebug:10,captureScreen:0,onUserCaptureScreen:10,offUserCaptureScreen:10,setKeepScreenOn:10,checkIsSupportSoterAuthentication:0,startSoterAuthentication:1,checkIsSoterEnrolledInDevice:0,openDeliveryList:0,reportIDKey:0,reportKeyValue:0,setNavigationBarTitle:0,showNavigationBarLoading:0,hideNavigationBarLoading:0,startPullDownRefresh:10,stopPullDownRefresh:10,operateWXData:10,getOpenDeviceId:0,openBluetoothAdapter:0,openBluetoothAdapterBackground:0,closeBluetoothAdapter:0,getBluetoothAdapterState:0,startBluetoothDevicesDiscovery:0,stopBluetoothDevicesDiscovery:0,startMonitoringBluetoothDevice:0,stopMonitoringBluetoothDevice:0,getBluetoothDevices:0,getConnectedBluetoothDevices:0,getMonitoredBluetoothDevices:0,createBLEConnection:0,setBLEMTU:0,setBluetoothBackgroundMode:0,getBLEMTU:0,closeBLEConnection:0,getBLEDeviceServices:0,getBLEDeviceCharacteristics:0,notifyBLECharacteristicValueChanged:0,notifyBLECharacteristicValueChange:0,readBLECharacteristicValue:0,writeBLECharacteristicValue:0,onBluetoothAdapterStateChange:0,onBluetoothDeviceFound:0,onMonitoredBluetoothDeviceFound:0,onBLEConnectionStateChanged:0,onBLEConnectionStateChange:0,onBLECharacteristicValueChange:0,onBLEMTUChange:0,offBLEMTUChange:0,offBluetoothAdapterStateChange:0,offBluetoothDeviceFound:0,offMonitoredBluetoothDeviceFound:0,offBLEConnectionStateChanged:0,offBLEConnectionStateChange:0,offBLECharacteristicValueChange:0,createBLEPeripheralServer:0,onBLEPeripheralConnectionStateChanged:0,offBLEPeripheralConnectionStateChanged:0,startBeaconDiscovery:0,stopBeaconDiscovery:0,getBeacons:0,onBeaconUpdate:0,offBeaconUpdate:0,onBeaconServiceChange:0,offBeaconServiceChange:0,startWifi:0,stopWifi:0,getWifiList:0,getConnectedWifi:0,connectWifi:0,presetWifiList:0,setWifiList:0,onGetWifiList:0,onWifiConnected:0,onWifiConnectedWithPartialInfo:0,offGetWifiList:0,offWifiConnected:0,offWifiConnectedWithPartialInfo:0,onEvaluateWifi:0,getHCEState:0,startHCE:0,stopHCE:0,sendHCEMessage:0,onHCEMessage:0,offHCEMessage:0,startLocalServiceDiscovery:0,stopLocalServiceDiscovery:0,onLocalServiceFound:0,offLocalServiceFound:0,onLocalServiceLost:0,offLocalServiceLost:0,onLocalServiceDiscoveryStop:0,offLocalServiceDiscoveryStop:0,onLocalServiceResolveFail:0,offLocalServiceResolveFail:0,redirectTo:2,reLaunch:1,navigateTo:2,switchTab:2,navigateBack:1,_triggerBeforeUnloadPage:0,_triggerBeforeShareAppMessage:0,navigateBackApplication:1,navigateBackNative:1,launchApplication:1,getStorage:10,getStorageSync:10,setStorage:10,setStorageSync:10,removeStorage:10,removeStorageSync:10,clearStorage:10,clearStorageSync:10,getStorageInfo:10,getStorageInfoSync:10,getBackgroundFetchData:0,onBackgroundFetchData:0,request:10,connectSocket:10,closeSocket:10,sendSocketMessage:10,onSocketOpen:10,onSocketClose:10,onSocketMessage:10,onSocketError:10,uploadFile:10,downloadFile:10,addNativeDownloadTask:0,chooseImage:1,previewImage:10,getImageInfo:10,saveImageToPhotosAlbum:1,startRecord:0,stopRecord:0,playVoice:0,pauseVoice:0,stopVoice:0,onVoicePlayEnd:0,chooseVideo:1,saveVideoToPhotosAlbum:1,getVideoInfo:0,compressVideo:0,getLocation:10,openLocation:1,chooseLocation:1,choosePoi:1,enableLocationUpdateBackground:0,enableLocationUpdate:0,disableLocationUpdate:0,onLocationChange:0,offLocationChange:0,onLocationChangeError:0,offLocationChangeError:0,startLocationUpdateBackground:0,startLocationUpdate:0,stopLocationUpdate:0,getNetworkType:10,onAppRoute:0,onAppRouteDone:0,onAppEnterBackground:0,onAppEnterForeground:0,onAppUnhang:0,onPageReload:0,onPageNotFound:10,offPageNotFound:10,onAudioInterruptionBegin:10,offAudioInterruptionBegin:10,onAudioInterruptionEnd:10,offAudioInterruptionEnd:10,onThemeChange:10,offThemeChange:10,onAppShow:10,offAppShow:10,onAppHide:10,offAppHide:10,onError:10,offError:10,onUnhandledRejection:10,offUnhandledRejection:10,getLaunchOptionsSync:10,getEnterOptionsSync:10,createAnimation:10,createInnerAudioContext:10,createAudioContext:0,createVideoContext:10,createMapContext:10,createCameraContext:0,createLivePlayerContext:10,createLivePusherContext:0,onWebviewEvent:10,onNativeEvent:10,hideKeyboard:0,onKeyboardHeightChange:10,offKeyboardHeightChange:10,getPublicLibVersion:0,showModal:10,showToast:10,hideToast:10,showLoading:10,hideLoading:10,showActionSheet:10,reportAnalytics:10,getClipboardData:0,setClipboardData:0,createSelectorQuery:10,createIntersectionObserver:10,updatePerfData:0,traceEvent:0,onMemoryWarning:10,offMemoryWarning:10,getUpdateManager:0,createWorker:10,voiceSplitJoint:0,uploadSilkVoice:0,downloadSilkVoice:0,getResPath:0,setResPath:0,env:10,appStatus:0,hanged:0,getLogManager:10,getRealtimeLogManager:10,onWindowResize:10,offWindowResize:10,loadFontFace:10,setInnerAudioOption:10,setBackgroundColor:10,setBackgroundTextStyle:10,getMenuButtonBoundingClientRect:10,calRqt:0,onNetworkStatusChange:10,offNetworkStatusChange:10,getSystemInfo:10,getSystemInfoSync:10,getBatteryInfo:10,getBatteryInfoSync:10,startAccelerometer:10,stopAccelerometer:10,onAccelerometerChange:10,offAccelerometerChange:10,startCompass:10,stopCompass:10,onCompassChange:10,offCompassChange:10,reportAction:0,getBackgroundAudioManager:10,getRecorderManager:10,getBackgroundAudioPlayerState:10,playBackgroundAudio:0,pauseBackgroundAudio:0,seekBackgroundAudio:0,stopBackgroundAudio:0,onBackgroundAudioPlay:0,onBackgroundAudioPause:0,onBackgroundAudioStop:0,joinVoIPChat:0,exitVoIPChat:0,updateVoIPChatMuteConfig:0,onVoIPChatMembersChanged:0,onVoIPChatSpeakersChanged:0,onVoIPChatInterrupted:0,offVoIPChatMembersChanged:0,offVoIPChatSpeakersChanged:0,offVoIPChatInterrupted:0,login:0,checkSession:0,authorize:1,getUserInfo:1,getUserProfile:1,requestPayment:0,requestPersonalPay:0,verifyPaymentPassword:0,bindPaymentCard:0,requestPaymentToBank:0,requestJointPayment:0,getWCPayOverseaPrepayRequest:0,requestH5Transaction:0,openWCPayOverseaPaymentReceive:0,handleWCPayOverseaWalletBuffer:0,requestVerifyUserIdentity:0,requestVirtualPayment:0,openOfflinePayView:0,openWCPayCardList:0,requestMallPayment:0,requestMidasPayment:0,requestOrderPayment:0,addCard:1,openCard:1,scanCode:1,openQRCode:0,scanItem:1,chooseAddress:1,saveFile:10,openDocument:1,getSavedFileList:10,getSavedFileInfo:10,getFileInfo:10,removeSavedFile:10,getFileSystemManager:10,chooseContact:0,removeUserCloudStorage:0,setUserCloudStorage:0,makePhoneCall:1,makeVoIPCall:0,getAvailableAudioSources:10,reportMonitor:10,getAccountInfoSync:10,faceVerifyForPay:0,chooseInvoice:1,startDeviceMotionListening:10,stopDeviceMotionListening:10,onDeviceMotionChange:10,offDeviceMotionChange:10,startGyroscope:10,stopGyroscope:10,onGyroscopeChange:10,offGyroscopeChange:10,secureTunnel:0,startCustomFacialRecognitionVerify:0,startCustomFacialRecognitionVerifyAndUploadVideo:0,loadSubpackage:0,getABTestConfig:0,openChattingUI:0,delRemindMsg:0,searchContacts:0,invoke:0,on:0,chooseMessageFile:1,nextTick:10,setCookies:0,getCookies:0,compressImage:0,chooseMultiMedia:0,getLabInfo:0,setLabInfo:0,enterContact:0,shareAppMessageForFakeNative:0,downloadApp:0,installDownloadApp:0,getAppInstallState:0,queryDownloadAppTask:0,cancelDownloadAppTask:0,resumeDownloadAppTask:0,pauseDownloadAppTask:0,onDownloadAppStateChange:0,downloadAppForIOS:0,getDownloadWidgetTaskInfos:0,jumpDownloaderWidget:0,createOffscreenCanvas:10,getSelectedTextRange:10,version:10,cloud:10,createInterstitialAd:0,createRewardedVideoAd:0,error:10,serviceMarket:10,getNativeUserInfo:10,getPerformance:10,reportPerformance:10,createUDPSocket:0,createBufferURL:10,revokeBufferURL:10},NO={invokeWebviewMethod:10,drawCanvas:10,createContext:10,createCanvasContext:10,canvasToTempFilePath:10,canvasGetImageData:10,canvasPutImageData:10,getShareInfo:10,pageScrollTo:10,chooseInvoiceTitle:10,ShareInfoStorage:10,arrayBufferToBase64:10,base64ToArrayBuffer:10,openSetting:10,openSettingForPlugin:10,getExtConfig:10,chooseMedia:10,chooseWeChatContact:1,uploadEncryptedFileToCDN:0,onUploadEncryptedFileToCDNProgress:0,getExtConfigSync:10,showShareMenu:10,hideShareMenu:10,updateShareMenu:10,openUrl:0,setNavigationBarColor:10,setNavigationBarAlpha:10,hideHomeButton:10,_getRealRoute:10,vibrateShort:10,vibrateLong:10,getSetting:10,checkIsSupportFacialRecognition:0,startFacialRecognitionVerify:0,startFacialRecognitionVerifyAndUploadVideo:0,sendBizRedPacket:0,sendGoldenRedPacket:0,openGoldenRedPacketDetail:0,showRedPackage:0,addPhoneContact:10,setScreenBrightness:10,getScreenBrightness:10,getWeRunData:10,uploadWeRunData:10,addWeRunData:10,canIUse:10,setPageStyle:10,triggerGettingWidgetData:0,navigateToMiniProgram:10,navigateToDevMiniProgram:10,navigateBackMiniProgram:10,exitMiniProgram:10,setNavigationBarRightButton:0,onTapNavigationBarRightButton:0,setTopBarText:0,setTabBarBadge:10,removeTabBarBadge:10,showTabBarRedDot:10,hideTabBarRedDot:10,showTabBar:10,hideTabBar:10,setTabBarStyle:10,setTabBarItem:10,setEnableDebug:10,captureScreen:0,onUserCaptureScreen:10,offUserCaptureScreen:10,setKeepScreenOn:10,checkIsSupportSoterAuthentication:1,startSoterAuthentication:1,checkIsSoterEnrolledInDevice:1,openDeliveryList:0,reportIDKey:10,reportKeyValue:10,setNavigationBarTitle:10,showNavigationBarLoading:10,hideNavigationBarLoading:10,startPullDownRefresh:10,stopPullDownRefresh:10,operateWXData:10,getOpenDeviceId:0,openBluetoothAdapter:10,openBluetoothAdapterBackground:10,closeBluetoothAdapter:10,getBluetoothAdapterState:10,startBluetoothDevicesDiscovery:10,stopBluetoothDevicesDiscovery:10,startMonitoringBluetoothDevice:10,stopMonitoringBluetoothDevice:10,getBluetoothDevices:10,getConnectedBluetoothDevices:10,getMonitoredBluetoothDevices:10,createBLEConnection:10,setBLEMTU:10,setBluetoothBackgroundMode:10,getBLEMTU:10,closeBLEConnection:10,getBLEDeviceServices:10,getBLEDeviceCharacteristics:10,notifyBLECharacteristicValueChanged:10,notifyBLECharacteristicValueChange:10,readBLECharacteristicValue:10,writeBLECharacteristicValue:10,onBluetoothAdapterStateChange:10,onBluetoothDeviceFound:10,onMonitoredBluetoothDeviceFound:10,onBLEConnectionStateChanged:10,onBLEConnectionStateChange:10,onBLECharacteristicValueChange:10,onBLEMTUChange:10,offBLEMTUChange:10,offBluetoothAdapterStateChange:10,offBluetoothDeviceFound:10,offMonitoredBluetoothDeviceFound:10,offBLEConnectionStateChanged:10,offBLEConnectionStateChange:10,offBLECharacteristicValueChange:10,createBLEPeripheralServer:10,onBLEPeripheralConnectionStateChanged:10,offBLEPeripheralConnectionStateChanged:10,startBeaconDiscovery:10,stopBeaconDiscovery:10,getBeacons:10,onBeaconUpdate:10,offBeaconUpdate:10,onBeaconServiceChange:10,offBeaconServiceChange:10,startWifi:10,stopWifi:10,getWifiList:10,getConnectedWifi:10,connectWifi:10,presetWifiList:10,setWifiList:10,onGetWifiList:10,onWifiConnected:10,onWifiConnectedWithPartialInfo:10,offGetWifiList:10,offWifiConnected:10,offWifiConnectedWithPartialInfo:10,onEvaluateWifi:10,getHCEState:10,startHCE:10,stopHCE:10,sendHCEMessage:10,onHCEMessage:10,offHCEMessage:10,startLocalServiceDiscovery:10,stopLocalServiceDiscovery:10,onLocalServiceFound:10,offLocalServiceFound:10,onLocalServiceLost:10,offLocalServiceLost:10,onLocalServiceDiscoveryStop:10,offLocalServiceDiscoveryStop:10,onLocalServiceResolveFail:10,offLocalServiceResolveFail:10,redirectTo:10,reLaunch:10,navigateTo:10,switchTab:10,navigateBack:10,_triggerBeforeUnloadPage:0,_triggerBeforeShareAppMessage:0,navigateBackApplication:1,navigateBackNative:1,launchApplication:1,getStorage:10,getStorageSync:10,setStorage:10,setStorageSync:10,removeStorage:10,removeStorageSync:10,clearStorage:10,clearStorageSync:10,getStorageInfo:10,getStorageInfoSync:10,getBackgroundFetchData:10,onBackgroundFetchData:10,request:10,connectSocket:10,closeSocket:10,sendSocketMessage:10,onSocketOpen:10,onSocketClose:10,onSocketMessage:10,onSocketError:10,uploadFile:10,downloadFile:10,addNativeDownloadTask:0,chooseImage:10,previewImage:10,getImageInfo:10,saveImageToPhotosAlbum:10,startRecord:10,stopRecord:10,playVoice:10,pauseVoice:10,stopVoice:10,onVoicePlayEnd:10,chooseVideo:10,saveVideoToPhotosAlbum:10,getVideoInfo:10,compressVideo:10,getLocation:10,openLocation:10,chooseLocation:10,choosePoi:10,enableLocationUpdateBackground:10,enableLocationUpdate:10,disableLocationUpdate:10,onLocationChange:10,offLocationChange:10,onLocationChangeError:10,offLocationChangeError:10,startLocationUpdateBackground:10,startLocationUpdate:10,stopLocationUpdate:10,getNetworkType:10,onAppRoute:10,onAppRouteDone:10,onAppEnterBackground:10,onAppEnterForeground:10,onAppUnhang:10,onPageReload:10,onPageNotFound:10,offPageNotFound:10,onAudioInterruptionBegin:10,offAudioInterruptionBegin:10,onAudioInterruptionEnd:10,offAudioInterruptionEnd:10,onThemeChange:10,offThemeChange:10,onAppShow:10,offAppShow:10,onAppHide:10,offAppHide:10,onError:10,offError:10,onUnhandledRejection:10,offUnhandledRejection:10,getLaunchOptionsSync:10,getEnterOptionsSync:10,createAnimation:10,createInnerAudioContext:10,createAudioContext:10,createVideoContext:10,createMapContext:10,createCameraContext:10,createLivePlayerContext:10,createLivePusherContext:10,onWebviewEvent:10,onNativeEvent:10,hideKeyboard:10,onKeyboardHeightChange:10,offKeyboardHeightChange:10,getPublicLibVersion:10,showModal:10,showToast:10,hideToast:10,showLoading:10,hideLoading:10,showActionSheet:10,reportAnalytics:10,getClipboardData:10,setClipboardData:10,createSelectorQuery:10,createIntersectionObserver:10,updatePerfData:10,traceEvent:10,onMemoryWarning:10,offMemoryWarning:10,getUpdateManager:10,createWorker:10,voiceSplitJoint:0,uploadSilkVoice:0,downloadSilkVoice:0,getResPath:0,setResPath:0,env:10,appStatus:10,hanged:10,getLogManager:10,getRealtimeLogManager:10,onWindowResize:10,offWindowResize:10,loadFontFace:10,setInnerAudioOption:10,setBackgroundColor:10,setBackgroundTextStyle:10,getMenuButtonBoundingClientRect:10,calRqt:0,onNetworkStatusChange:10,offNetworkStatusChange:10,getSystemInfo:10,getSystemInfoSync:10,getBatteryInfo:10,getBatteryInfoSync:10,startAccelerometer:10,stopAccelerometer:10,onAccelerometerChange:10,offAccelerometerChange:10,startCompass:10,stopCompass:10,onCompassChange:10,offCompassChange:10,reportAction:10,getBackgroundAudioManager:10,getRecorderManager:10,getBackgroundAudioPlayerState:10,playBackgroundAudio:10,pauseBackgroundAudio:10,seekBackgroundAudio:10,stopBackgroundAudio:10,onBackgroundAudioPlay:10,onBackgroundAudioPause:10,onBackgroundAudioStop:10,joinVoIPChat:1,exitVoIPChat:1,updateVoIPChatMuteConfig:1,onVoIPChatMembersChanged:0,onVoIPChatSpeakersChanged:0,onVoIPChatInterrupted:0,offVoIPChatMembersChanged:0,offVoIPChatSpeakersChanged:0,offVoIPChatInterrupted:0,login:10,checkSession:10,authorize:10,getUserInfo:10,getUserProfile:10,requestPayment:10,verifyPaymentPassword:0,bindPaymentCard:0,requestPersonalPay:0,requestPaymentToBank:0,requestJointPayment:0,getWCPayOverseaPrepayRequest:0,requestH5Transaction:0,openWCPayOverseaPaymentReceive:0,handleWCPayOverseaWalletBuffer:0,requestVerifyUserIdentity:0,requestVirtualPayment:0,openOfflinePayView:0,openWCPayCardList:0,requestMallPayment:0,requestOrderPayment:10,addCard:10,openCard:10,scanCode:10,openQRCode:0,chooseAddress:10,saveFile:10,openDocument:10,getSavedFileList:10,getSavedFileInfo:10,getFileInfo:10,removeSavedFile:10,getFileSystemManager:10,chooseContact:0,removeUserCloudStorage:0,setUserCloudStorage:0,makePhoneCall:10,makeVoIPCall:0,getAvailableAudioSources:10,reportMonitor:10,getAccountInfoSync:10,faceVerifyForPay:0,chooseInvoice:10,startDeviceMotionListening:10,stopDeviceMotionListening:10,onDeviceMotionChange:10,offDeviceMotionChange:10,startGyroscope:10,stopGyroscope:10,onGyroscopeChange:10,offGyroscopeChange:10,secureTunnel:0,startCustomFacialRecognitionVerify:0,startCustomFacialRecognitionVerifyAndUploadVideo:0,loadSubpackage:10,getABTestConfig:10,openChattingUI:0,delRemindMsg:0,searchContacts:0,invoke:0,on:0,chooseMessageFile:1,nextTick:10,setCookies:0,getCookies:0,compressImage:10,chooseMultiMedia:10,getLabInfo:0,setLabInfo:0,enterContact:10,shareAppMessageForFakeNative:0,downloadApp:0,installDownloadApp:0,getAppInstallState:0,queryDownloadAppTask:0,cancelDownloadAppTask:0,resumeDownloadAppTask:0,pauseDownloadAppTask:0,onDownloadAppStateChange:0,downloadAppForIOS:0,getDownloadWidgetTaskInfos:0,jumpDownloaderWidget:0,createOffscreenCanvas:10,getSelectedTextRange:10,version:10,cloud:10,createInterstitialAd:10,createRewardedVideoAd:10,error:10,serviceMarket:10,openBusinessView:10,requestMidasPayment:10,modifyFriendInteractiveStorage:0,getUserInteractiveStorage:0,getUserCloudStorage:0,getPotentialFriendList:0,getGroupInfo:0,getGroupCloudStorage:0,getFriendCloudStorage:0,createGridAd:10,createBannerAd:10,quicklyAddBrandContact:1},OO=Object.create(null);Object.assign(OO,{openBluetoothAdapter:10,openBluetoothAdapterBackground:10,closeBluetoothAdapter:10,onBluetoothDeviceFound:10,onBluetoothAdapterStateChange:10,offBluetoothDeviceFound:10,offBluetoothAdapterStateChange:10,makeBluetoothPair:10,isBluetoothDevicePaired:10,getConnectedBluetoothDevices:10,getBluetoothDevices:10,getBluetoothAdapterState:10,writeBLECharacteristicValue:10,setBLEMTU:10,readBLECharacteristicValue:10,onBLEMTUChange:10,onBLEConnectionStateChange:10,onBLECharacteristicValueChange:10,offBLEMTUChange:10,offBLEConnectionStateChange:10,offBLECharacteristicValueChange:10,notifyBLECharacteristicValueChange:10,getBLEMTU:10,getBLEDeviceServices:10,getBLEDeviceRSSI:10,getBLEDeviceCharacteristics:10,createBLEConnection:10,closeBLEConnection:10,setBluetoothBackgroundMode:10,getMonitoredBluetoothDevices:10,stopMonitoringBluetoothDevice:10,onMonitoredBluetoothDeviceFound:10,setStorageSync:10,setStorage:10,removeStorageSync:10,removeStorage:10,getStorageSync:10,getStorage:10,getStorageInfoSync:10,getStorageInfo:10,clearStorageSync:10,clearStorage:10,request:10,login:10,getSystemInfo:10,getSystemInfoSync:10,getSystemSetting:10,getAppAuthorizeSetting:10,getDeviceInfo:10,getWindowInfo:10,getAppBaseInfo:10,onAppShow:10,onAppHide:10});var BO=OO,jO=Object.create(null);Object.assign(jO,{sample:xO,ui:MO,log:RO,tap:DO,singlePage:LO,thirdApp:NO,background:BO});var FO=(e,t)=>jO[t][e];function UO(e){return(...t)=>{if(4===O.Z.appType)return hr("tap"),e.apply(this,t),void gr();De.P3.wrapTapMark((()=>{e.apply(this,t)}))}}var WO=function(){if(!this.emitFail){if(this.isTimeout)throw gO;clearTimeout(this.timer)}};function GO(){return _O("timeout",{paramHandler(...e){var t=e[0],r=null==t?void 0:t.timeout;"number"==typeof r&&(this.isTimeout=!1,this.timer=setTimeout((()=>{var e={errMsg:"request timeout"};this.isTimeout=!0,this.emitFail=!0,uO(t.fail,e),uO(t.complete,e),this.emitFail=!1}),r))},success(){WO.call(this)},fail(){WO.call(this)},complete(){WO.call(this)},emitFail:!1})}function VO(){return _O("noCondom",{})}var $O=function(e,t){var r,n=this.prefix+this.api,a=this.uuid,i=Date.now()-this.invokeTime,o=null===(r=this.params)||void 0===r?void 0:r[0],s=e?{}:{errMsg:t&&t.errMsg,errno:t&&t.errno};y.traceApi(n,o,t,e,a,i,!1,s)};var qO=wO("handleObject",!0),zO=wO("handleSdkSubPackageObject",!0),ZO=!1;var HO=d(1765),KO=!1,JO=!1;function YO(e=!1){var r,n,a=M.Z.saveCodeCache;"function"==typeof a&&null!==(r=t)&&void 0!==r&&null!==(n=r.features)&&void 0!==n&&n.delayedServiceCodeCache&&(JO||(JO=e,KO||(KO=!0,setTimeout((()=>{Date.now();a(!1,JO),Date.now(),KO=!1}),0))))}o.onLoad((()=>{1===O.Z.envPreloadType?setTimeout((()=>{YO(!1)}),0):O.Z.onReady((()=>{YO(!0)}))}));var QO=_O("onlyNeedHookGeneral"),XO=Symbol("specialAdd");(0,Ke.n)("onAddToDesktop",(()=>{(0,Pe.showToast)({icon:"loading",title:"加载中",duration:5e3}),eB({timeout:5e3,special:XO,fail(e){(0,Pe.showToast)({icon:"error",title:"链接生成失败，请重试"}),f.info("onAddToDesktop addToDesktop occur error: ",e)},success(){(0,B.IN)("hideToast",null)}})}));var eB=(e={})=>{var{special:t,timeout:r}=e;if(void 0===e.path||(0,J.HD)(e.path))if(R.gm||R.wZ)(0,B.YG)("addToDesktop",e,"not supported");else{var{path:n="",fail:a,success:i}=e;if((0,Ze.J)("openUrlByExtBrowser2")||(0,Ze.J)("openUrlByExtBrowser")&&t===XO){var o=!1;r&&setTimeout((()=>{o=!0,(0,J.mf)(a)&&a({errMsg:"timeout"})}),r),(0,B.Qh)({apiName:"webapi_adduserurllink",reqData:Z()({},{query:n})}).then((e=>{if(!o){if(0!==(e=e.data).base_resp.errcode)throw e.base_resp;var r=e.url_link;(t===XO?XP.AM:XP.uA)({url:r,success(){(0,J.mf)(i)&&i()},fail(e){(0,J.mf)(a)&&a(e)}})}})).catch((e=>{o||(e.err_code&&(e.errno=e.err_code,delete e.err_code),(0,J.mf)(a)&&a(e))}))}else(0,B.YG)("addToDesktop",e,"no permission","-12001")}else(0,B.YG)("addToDesktop",e,"invalid request data")},tB=(e={})=>{var t="openPage";if((0,B.r3)(t,e,{openlink:""})){var{openlink:r}=e,{success:n,failWithMsg:a}=(0,B.Rn)(e,t);(0,B.yD)({apiName:"webapi_game_transfer",sdkApiName:t,reqData:{req_path:"api.translateopenpagelink",openlink:r},success(e){var t,r,i,o=null==e||null===(t=e.data)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.url;o?(o=(R.cj||R.wZ)&&o.indexOf("wechat_pkgid")>=0?o.replace("#wechat_redirect",""):o,(0,Lh.n)({useGameWePkgIfExist:!0,url:o,success(){n({})},fail(e){a({msg:e.errMsg})}})):a({msg:null==e||null===(i=e.data)||void 0===i?void 0:i.errmsg})},fail(e){console.error(e),f.error(e),a({msg:e.errMsg})}})}},rB=(e={})=>{var t="getGameClubData";(0,B.r3)(t,e,{dataTypeList:[]})&&(0,B.yD)({apiName:"webapi_getgameclubdata",sdkApiName:t,reqData:{dataTypeList:e.dataTypeList},success:e.success,fail:e.fail,complete:e.complete})};function nB(e){return _O("sdkSubPackageInject",e)}function aB(){return w}function iB(e){return"string"!=typeof e?JSON.stringify(e||{}):e}var oB=null,sB=[],cB=!1,lB=!1,uB=R.gm||!(0,R.oS)(),dB=[];function pB(){oB=null,0!==sB.length&&(c.invoke("reportKeyValue",{version:2,dataArray:sB.map((e=>({key:26308,value:[e.category,e.name,Math.round(1e3*e.timeStamp),e.phase,encodeURIComponent(iB(e.args))].join(",")})))}),sB=[])}function fB(e,t){R.gm&&function(e,t){var r=Z()(Z()({},t),{},{phase:e});r.args=iB(r.args),c.invoke("traceEvent",{events:[r]})}(e,t),cB&&function(e,t){(lB||"API"!==t.category)&&(oB||(oB=setTimeout(pB,1e3)),sB.push(Z()(Z()({},t),{},{phase:e})))}(e,t)}function hB(){return uB}O.Z.onReady((e=>{var t,r,n=null===(t=e.expt)||void 0===t?void 0:t.clicfg_appbrand_report_trace_event;("1"===n?cB=!0:"2"===n&&(cB=!0,lB=!0),uB=uB||lB||!!(0,R.Dq)())&&(null===(r=dB)||void 0===r||r.forEach((e=>e())));dB=null}));function gB(){return Date.now()}var vB={},mB={};var yB=function(e){var t=[];function r(r,n,a){var i={category:r,name:n,timeStamp:gB(),args:a||{}};t.push(i),"Framework"===r&&f.info(`[Trace][B] ${n} @ ${i.timeStamp} ${i.args.path||""}`),(vB[i.category]||[]).forEach((t=>t(i,e))),fB("B",i)}function n(r){var n,a=gB(),i=t.pop();if(!i)return f.error("[Trace] Must call traceBeginEvent before traceEndEvent."),aB().assertWithIDKey(!1,6),void aB().errorReport({key:"appServiceSDKScriptError",error:new Error(`traceEndEvent mismatch, args=${JSON.stringify(r||{})}`)});var o=i.args,s=i.timeStamp;i.timeStamp=a,i.args=r||i.args,"Framework"===i.category&&f.info(`[Trace][E] ${i.name} @ ${i.timeStamp} ${(null===(n=i.args)||void 0===n?void 0:n.path)||""}`),(mB[i.category]||[]).forEach((t=>t(i,s,o,e))),fB("E",i)}function a(e,t){hB()&&r("API",e,t)}function i(){hB()&&n()}return{traceBeginEvent:r,traceEndEvent:n,traceBeginAPI:a,traceEndAPI:i,useTraced:function(e,t,a,i){return function(...o){try{return r(e,t,i),a.apply(this,o)}finally{n()}}},useTracedEnd:function(e){return function(...t){try{return e(...t)}finally{n()}}},traceFlag:function(e,t,a){r(e,t,a),n()},useTracedApi:function(e,t,r){return function(...n){try{return a(e,r),t.apply(this,n)}finally{i()}}},useTracedApiEnd:function(e){return function(...t){try{return e.apply(this,t)}finally{i()}}}}}(Infinity);var bB,_B={},wB=!1,IB=e=>{_B=e;try{_B="string"==typeof e?JSON.parse(e).jsapi_list:e.jsapi_list,wB=!0}catch(e){_B={}}};wB||(wB="SDK"===(null===(bB=O.Z.host)||void 0===bB?void 0:bB.env));var SB,kB=e=>_B&&_B[e];(0,Ke.n)("onThirdPlatformApiPermissionBytesUpdate",(e=>{IB(R.wZ?e:null==e?void 0:e.thirdPlatformApiPermissionBytes),void 0!==SB&&SB()}));O.Z.onReady((()=>{IB(O.Z.thirdPlatformApiPermissionBytes)}));var CB,TB,EB,AB,PB,xB,MB,RB,DB,LB,NB,OB,BB,jB,FB,UB,WB,GB,VB,$B,qB,zB,ZB,HB,KB,JB,YB,QB,XB,ej,tj,rj,nj,aj,ij,oj,sj,cj,lj,uj,dj,pj,fj,hj,gj,vj,mj,yj,bj,_j,wj,Ij,Sj,kj,Cj,Tj,Ej,Aj,Pj,xj,Mj,Rj,Dj,Lj,Nj,Oj,Bj,jj,Fj,Uj,Wj,Gj,Vj,$j,qj,zj,Zj,Hj,Kj,Jj,Yj,Qj,Xj,eF,tF,rF,nF,aF,iF,oF,sF,cF,lF,uF,dF,pF,fF,hF,gF,vF,mF,yF,bF,_F,wF,IF,SF,kF,CF,TF,EF,AF,PF,xF,MF,RF,DF,LF,NF,OF,BF,jF,FF,UF,WF,GF,VF,$F,qF,zF,ZF,HF,KF,JF,YF,QF,XF,eU,tU,rU,nU,aU,iU,oU,sU,cU,lU,uU,dU,pU,fU,hU,gU,vU,mU,yU,bU,_U,wU,IU,SU,kU,CU,TU,EU,AU,PU,xU,MU,RU,DU,LU,NU,OU,BU,jU,FU,UU,WU,GU,VU,$U,qU,zU,ZU,HU,KU,JU,YU,QU,XU,eW,tW,rW,nW,aW,iW,oW,sW,cW,lW,uW,dW,pW,fW,hW,gW,vW,mW,yW,bW,_W,wW,IW,SW,kW,CW,TW,EW,AW,PW,xW,MW,RW,DW,LW,NW,OW,BW,jW,FW,UW,WW,GW,VW,$W,qW,zW,ZW,HW,KW,JW,YW,QW,XW,eG,tG,rG,nG,aG,iG,oG,sG,cG,lG,uG,dG,pG,fG,hG,gG,vG,mG,yG,bG,_G,wG,IG,SG,kG,CG,TG,EG,AG,PG,xG,MG,RG,DG,LG,NG,OG,BG,jG,FG,UG,WG,GG,VG,$G,qG,zG,ZG,HG,KG,JG,YG,QG,XG,eV,tV,rV,nV,aV,iV,oV,sV,cV,lV,uV,dV,pV,fV,hV,gV,vV,mV,yV,bV,_V,wV,IV,SV,kV,CV,TV,EV,AV,PV,xV,MV,RV,DV,LV,NV,OV,BV,jV,FV,UV,WV,GV,VV,$V,qV,zV,ZV,HV,KV,JV,YV,QV,XV,e$,t$,r$,n$,a$,i$,o$,s$,c$,l$,u$,d$,p$,f$,h$,g$,v$,m$,y$,b$,_$,w$,I$,S$,k$,C$,T$,E$,A$,P$,x$,M$,R$,D$,L$,N$,O$,B$,j$,F$,U$,W$,G$,V$,$$,q$,z$,Z$,H$,K$,J$,Y$,Q$,X$,eq,tq,rq,nq,aq,iq,oq,sq,cq,lq,uq,dq,pq,fq,hq,gq,vq,mq,yq,bq,_q,wq,Iq,Sq,kq,Cq,Tq,Eq,Aq,Pq,xq,Mq,Rq,Dq,Lq,Nq,Oq,Bq,jq,Fq,Uq,Wq,Gq,Vq,$q,qq,zq,Zq,Hq,Kq,Jq,Yq,Qq,Xq,ez,tz,rz,nz,az,iz,oz,sz,cz,lz,uz,dz,pz,fz,hz,gz,vz,mz,yz,bz,_z,wz,Iz,Sz,kz,Cz,Tz,Ez,Az,Pz,xz,Mz,Rz,Dz,Lz,Nz,Oz,Bz,jz,Fz,Uz,Wz,Gz,Vz,$z,qz,zz,Zz,Hz,Kz,Jz,Yz,Qz,Xz,eZ,tZ,rZ,nZ,aZ,iZ,oZ,sZ,cZ,lZ,uZ,dZ,pZ,fZ,hZ,gZ,vZ,mZ,yZ,bZ,_Z,wZ,IZ,SZ,kZ,CZ,TZ,EZ,AZ,PZ,xZ,MZ,RZ,DZ,LZ,NZ,OZ,BZ,jZ,FZ,UZ,WZ,GZ,VZ,$Z,qZ,zZ,ZZ,HZ,KZ,JZ,YZ,QZ,XZ,eH,tH,rH,nH,aH,iH,oH,sH,cH,lH,uH,dH,pH,fH,hH,gH,vH,mH,yH,bH,_H,wH,IH,SH,kH,CH,TH,EH,AH,PH,xH,MH,RH,DH,LH,NH,OH,BH,jH,FH,UH,WH,GH,VH,$H,qH,zH,ZH,HH,KH,JH,YH,QH,XH,eK,tK,rK,nK,aK,iK,oK,sK,cK,lK,uK,dK,pK,fK,hK,gK,vK,mK,yK,bK,_K,wK,IK,SK,kK,CK,TK,EK,AK,PK,xK,MK,RK,DK,LK,NK,OK,BK,jK,FK,UK,WK,GK,VK,$K,qK,zK,ZK,HK,KK,JK,YK,QK,XK,eJ,tJ,rJ,nJ,aJ,iJ,oJ,sJ,cJ,lJ,uJ,dJ,pJ,fJ,hJ,gJ,vJ,mJ,yJ,bJ,_J,wJ,IJ,SJ,kJ,CJ,TJ,EJ,AJ,PJ,xJ,MJ,RJ,DJ,LJ,NJ,OJ,BJ,jJ,FJ,UJ,WJ,GJ,VJ,$J,qJ,zJ,ZJ,HJ,KJ,JJ,YJ,QJ,XJ,eY,tY,rY,nY,aY,iY,oY,sY,cY,lY,uY,dY,pY,fY,hY,gY,vY,mY,yY,bY,_Y,wY,IY,SY,kY,CY,TY,EY,AY,PY,xY,MY,RY,DY,LY,NY,OY,BY,jY,FY,UY,WY,GY,VY,$Y,qY,zY,ZY,HY,KY,JY,YY,QY,XY,eQ,tQ,rQ,nQ,aQ,iQ,oQ,sQ,cQ,lQ,uQ,dQ,pQ,fQ,hQ,gQ,vQ,mQ,yQ,bQ,_Q,wQ,IQ,SQ,kQ,CQ,TQ,EQ,AQ,PQ,xQ,MQ,RQ,DQ,LQ,NQ,OQ,BQ,jQ,FQ,UQ,WQ,GQ,VQ,$Q,qQ,zQ,ZQ,HQ,KQ,JQ,YQ,QQ,XQ,eX,tX,rX,nX,aX,iX,oX,sX,cX,lX,uX,dX,pX,fX,hX,gX,vX,mX,yX,bX,_X,wX,IX,SX,kX,CX,TX,EX,AX,PX,xX,MX,RX,DX,LX,NX,OX,BX,jX,FX,UX,WX,GX,VX,$X,qX,zX,ZX,HX,KX,JX,YX,QX,XX,e0,t0,r0,n0,a0,i0,o0,s0,c0,l0,u0,d0,p0,f0,h0,g0,v0,m0,y0,b0,_0,w0,I0,S0,k0,C0,T0,E0,A0,P0,x0,M0,R0,D0,L0,N0,O0,B0,j0,F0,U0,W0,G0,V0,$0,q0,z0,Z0,H0,K0,J0,Y0,Q0,X0,e1,t1,r1,n1,a1,i1,o1,s1,c1,l1,u1,d1,p1,f1,h1,g1,v1,m1,y1,b1,_1,w1,I1,S1,k1,C1,T1=d(3842),E1=(e={})=>{if("develop"===O.Z.envVersion||"trial"===O.Z.envVersion){var{envVersion:t}=e,r=T1.r.increase(),n="/playableDemo/",a=[O.Z.envVersion,"release"];if(a.includes(t)){var i={release:0,develop:1,trial:2};"release"===t?(0,B.IN)("predownloadMiniProgramPackage",{appId:O.Z.accountInfo.appId,moduleName:n,scene:15,success:()=>{u()},fail:t=>{(0,B.YG)("previewPlayableView",e,t.errMsg),SA(l)}}):new Ex({name:n,success:()=>{u()},fail:t=>{(0,B.YG)("previewPlayableView",e,t.errMsg),SA(l)}});var o=1,s=2}else(0,B.YG)("previewPlayableView",e,`parameter "envVersion" can only be one of ${a.join(", ")}`)}else(0,B.YG)("previewPlayableView",e,"this api can only be used in the development environment");function c(){return{appId:O.Z.accountInfo.appId,moduleName:n,versionType:i[t],dest:0,parentId:0,viewId:r,zIndex:1e6,position:{left:0,top:0,width:O.Z.screenWidth,height:O.Z.screenHeight}}}function l(t){if(t&&t.action===o)(0,B.IN)("updateMiniProgramPlayableView",Object.assign(c(),{resume:!0,success:e.success,fail:e.fail,complete:e.complete}),{beforeAll(e){e.errMsg=e.errMsg.replace("updateMiniProgramPlayableView","previewPlayableView"),SA(l)}});else if(t&&t.action===s){var r="some error occurs when displaying playable view",n=t.status?r+": "+t.status:r;(0,B.YG)("previewPlayableView",e,n)}}function u(){IA(l),(0,B.IN)("insertMiniProgramPlayableView",Object.assign(c(),{fail:t=>{(0,B.YG)("previewPlayableView",e,t.errMsg),SA(l)}}))}};O.Z.onReady((()=>{(0,si.J)((()=>{w.flushReportKeyValueList(),w.flushReportIDKeyList()}))})),Em||(Em=!0,O.Z.onReady((()=>{(0,R.aI)()&&(setTimeout((()=>{var e=Mm=Object.assign({},O.Z.appLaunchInfo||{},(0,Qu.x9)()||{});Wm({scene:e.scene||-1,isLaunch:!0,sessionId:e.sessionid||e.sessionId||""}),(0,bm.OQ)(Wm),Im(Gm)}),0),Cm=(0,Ce._getSystemInfoSyncFromCache)(!0))}))),(0,Dh.az)();var A1=_d,P1=Sd,x1=Td,M1=xd,R1=Md,D1=Rd,L1=Dd,N1=e=>{Nd=_.surroundThirdByTryCatch(e,"at onShareAppMessage callback function")},O1=()=>{Nd=null},B1=e=>{Jd=_.surroundThirdByTryCatch(e,"at onShareTimeline callback function")},j1=()=>{Jd=null},F1=Qd.a2,U1=Qd.pp,W1=()=>{(0,Xd.v)("onLaunch"),console.warn("onLaunch 已废弃，请使用 wx.getLaunchOptionsSync()。")},G1=()=>{(0,Xd.v)("offLaunch"),console.warn("offLaunch 已废弃")},V1=e=>{fp=e},$1=()=>{fp=null},q1=function(e){lp.on("down",e)},z1=function(e){lp.off("down",e)},Z1=function(e){lp.on("up",e)},H1=function(e){lp.off("up",e)},K1=pp.s2,J1=pp.S1,Y1=pp.xN,Q1=pp._g,X1=pp.ri,e2=pp.r,t2=pp.Gr,r2=pp.g7,n2=e=>Ed.on("Wheel",e),a2=e=>Ed.off("Wheel",e),i2=e=>{ur.U.on("onWindowResize",e)},o2=e=>{ur.U.off("onWindowResize",e)},s2=e=>{sp=_.surroundThirdByTryCatch(e,"at onGameLiveStateChange callback function")},c2=()=>{sp=null},{onTouchStart:l2,offTouchStart:u2,onTouchMove:d2,offTouchMove:p2,onTouchEnd:f2,offTouchEnd:h2,onTouchCancel:g2,offTouchCancel:v2}=A1,{onMouseDown:m2,offMouseDown:y2,onMouseMove:b2,offMouseMove:_2,onMouseUp:w2,offMouseUp:I2}=P1,{onPointerLockChange:S2,offPointerLockChange:k2,onPointerLockError:C2,offPointerLockError:T2}=x1,{setStorage:E2,setStorageSync:A2,getStorage:P2,getStorageSync:x2,getStorageInfo:M2,getStorageInfoSync:R2,removeStorage:D2,removeStorageSync:L2,clearStorage:N2,clearStorageSync:O2}=ve.game;o.onLoad((()=>{m.hijack(!0,!1)}));var B2,j2,F2,U2=G.Wb.connectSocket,W2=G.Wb.closeSocket,G2=G.Wb.sendSocketMessage,V2=G.Wb.onSocketOpen,$2=G.Wb.onSocketClose,q2=G.Wb.onSocketMessage,z2=G.Wb.onSocketError,Z2=(e={})=>{var t=tr.Z.get(e.shareTicket),{success:r,fail:n,failWithMsg:a}=(0,B.Rn)(e,rr);t?(0,B.yD)({sdkApiName:rr,apiName:"webapi_getshareinfo",reqData:{share_key:t.shareKey,share_name:t.shareName},success(e){var{data:t}=e;t.roomTopic&&(e.roomTopic=t.roomTopic),delete e.data,r(e)},fail:n}):a({msg:"invalid shareTicket"})},H2=(e={})=>{var t=Array.isArray(e.menus)?e.menus:["shareAppMessage"],r=[];if(t.includes("shareAppMessage")){nr.showShareAppMessageMenu=!0;var n=new Promise(((t,r)=>{!0===e.withShareTicket?(nr.withShareTicket=!0,(0,B.IN)("showShareMenuWithShareTicket",{withShareTicket:!0,success:t,fail:r,beforeAll(e){e.errMsg=e.errMsg.replace("showShareMenuWithShareTicket","showShareMenu")},beforeFail(e){e.errMsg+=", with arg withShareTicket: true"}})):(nr.withShareTicket=!1,(0,B.IN)("showShareMenu",{success:t,fail:r}))}));r.push(n)}if(t.includes("shareAppMessage")&&t.includes("shareTimeline")){nr.showShareTimelineMenu=!0;var a=new Promise(((e,t)=>{(0,B.IN)("showShareTimelineMenu",{success:e,fail:t})}));r.push(a)}Promise.all(r).then((()=>{(0,B.FE)({name:"showShareMenu",args:e})})).catch((t=>{var r=t.errMsg.replace("showShareMenu:fail","").replace("showShareTimelineMenu:fail","");(0,B.YG)("showShareMenu",e,r,t.errCode)}))},K2=(e={})=>{var t=Array.isArray(e.menus)?e.menus:["shareAppMessage","shareTimeline"],r=[];function n(){return new Promise(((e,t)=>{(0,B.IN)("hideShareTimelineMenu",{success:e,fail:t})}))}if(t.includes("shareTimeline")&&(nr.showShareTimelineMenu=!1,r.push(n())),t.includes("shareAppMessage")){nr.showShareAppMessageMenu=!1,0===r.length&&r.push(n());var a=new Promise(((e,t)=>{(0,B.IN)("hideShareMenu",{success:e,fail:t})}));r.push(a)}Promise.all(r).then((()=>{(0,B.FE)({name:"hideShareMenu",args:e})})).catch((t=>{var r=t.errMsg.replace("hideShareMenu:fail","").replace("hideShareTimelineMenu:fail","");(0,B.YG)("hideShareMenu",e,r,t.errCode)}))},J2=(e={})=>{Promise.all([ar(e),ir(e),or(e)]).then((t=>{"function"==typeof e.success&&_.surroundThirdByTryCatch(e.success,"at api updateShareMenu success callback function")(t[0]),"function"==typeof e.complete&&_.surroundThirdByTryCatch(e.complete,"at api updateShareMenu complete callback function")(t[0])})).catch((t=>{void 0===t.errMsg&&(t.errMsg="updateShareMenu:fail "+t.message),"function"==typeof e.fail&&_.surroundThirdByTryCatch(e.fail,"at api updateShareMenu fail callback function")(t),"function"==typeof e.complete&&_.surroundThirdByTryCatch(e.complete,"at api updateShareMenu complete callback function")(t)}))},Y2=function(e={}){var{success:t,fail:r,failWithMsg:n}=(0,B.Rn)(e,sr),a=tr.Z.get(e.shareTicket);a&&a.shareKey?(0,Ze.J)("authShareRelationship")?(0,B.yD)({sdkApiName:sr,apiName:"webapi_authmgr",reqData:{share_key:a.shareKey},success(e){var{iv:r,encrypt_activity_id:n,res:a}=e.data;t({iv:r,encryptedData:n,valid:1===a})},fail:r}):n({msg:"no permission"}):n({msg:"invalid shareTicket"})},Q2=bn,X2=Pe.showToast,e3=Pe.hideToast,t3=Pe.showLoading,r3=Pe.hideLoading,n3=Pe.showModal,a3=Pe.showActionSheet,i3=Ha,o3=Ka,s3=zw,c3=Zw,l3=Hw,u3=Jw,d3=Qw,p3=rI,f3=Yw,h3=Xw,g3=nI,v3=(e={})=>{(0,B.r3)("subscribeVoIPVideoMembers",e,{openIdList:[]})&&(0,B.IN)("subscribeVoIPMembers",e,{beforeAll(e){e.errMsg=e.errMsg.replace("subscribeVoIPMembers","subscribeVoIPVideoMembers")}})},m3=iI,y3=oI,b3=cI,_3=lI,w3=(CB=function(e=!0){return function(t){var r=Object.getOwnPropertyDescriptors(e?t.prototype:t);for(var n in r)if("constructor"!==n){var a,i=r[n],o=null===(a=i.value)||void 0===a?void 0:a.extraInfos;o&&(o.api=n,o.prefix="",Object.assign(o,t.prototype[vO]),Object.defineProperty(e?t.prototype:t,n,{value:IO(o,i.value.value,e?t.prototype:t),configurable:!0}))}}}(),TB=SO("traceApiAction",{paramHandler(...e){this.params=e},success(e){this.api,$O.call(this,!0,e)},fail(e){this.api,$O.call(this,!1,e)},afterCallback(e,t,r){var{callbackError:n,syncError:a}=r;$O.call(this,!(a||n),t)},beforeExecute(){this.invokeTime=Date.now(),this.uuid=(0,Dr.M8)()},hookArgs(e){"request"===this.api&&(e.__wx_inner_uuid__=this.uuid,e.__wx_inner_invokeTime__=this.invokeTime)}}),EB=SO("protect",{beforeExecute(){!function(e){var t=FO(e,"thirdApp");0!==t&&1!==t||!(0,R.er)()||1===t&&vr()&&(0,B.IN)("showToast",{icon:"",title:"暂不支持当前功能",duration:2500})}(this.api)}}),F2="gameSDKScriptError",AB=SO("catchErr",{afterCallback(e,t,r){var{syncError:n}=r;if(void 0!==n){var a=`wx.${this.api}`;if("[object Error]"===Object.prototype.toString.apply(n)&&"AppServiceSdkKnownError"!==n.type)return"ThirdScriptError"===n.type?(w.thirdErrorReport({error:n,extend:a}),fO):(w.errorReport({key:F2,error:n,extend:a}),fO)}}}),PB=SO("checkTapPermission",{paramHandler(...e){var t=this.api,r=FO(t,"tap"),n=vr();this.status=r;var a=e[0];return 10!==r||n||((0,aP.Y)({name:t,scene:0,strategy:1}),!R.gm&&(0,Re.KU)(t))?((20===r&&n||30===r)&&("function"==typeof a?a=UO.call(this,a):"object"==typeof a&&null!==a&&["success","fail","complete"].forEach((e=>{"function"==typeof a[e]&&(a[e]=UO.call(this,a[e]))}))),40===r&&4!==O.Z.appType&&!n||50===r&&!n?(a&&(a.fail||a.complete)&&setTimeout((()=>{(0,B.YG)(t,a,"can only be invoked by user TAP gesture.")}),0),void(this.refuseExec=!0)):void 0):(a&&(a.fail||a.complete)&&setTimeout((()=>{(0,B.YG)(t,a,"can only be invoked by user TAP gesture.")}),0),void(this.refuseExec=!0))},breakDirectly(){if(!this.refuseExec)return pO},afterCallback(){(0,R.aI)()&&[10,30,40,50].includes(this.status)&&gr()}}),xB=CO(.05),MB=CO(.05),RB=CO(.05),DB=CO(.05),LB=CO(.05),NB=CO(.05),OB=CO(.05),BB=PO(),jB=CO(.05),FB=PO(),UB=CO(.05),WB=CO(.05),GB=CO(.05),VB=CO(.05),$B=AO(),qB=CO(.05),zB=PO(),ZB=CO(.05),HB=CO(.05),KB=CO(.05),JB=CO(.05),YB=CO(.05),QB=PO(),XB=CO(.05),ej=PO(),tj=CO(.05),rj=CO(.05),nj=PO(),aj=CO(.05),ij=CO(.05),oj=PO(),sj=CO(.05),cj=CO(.05),lj=PO(),uj=CO(.05),dj=CO(.05),pj=PO(),fj=CO(.05),hj=CO(.05),gj=PO(),vj=CO(.05),mj=PO(),yj=TO(),bj=PO(),_j=GO(),wj=TO(),Ij=PO(),Sj=GO(),kj=TO(),Cj=PO(),Tj=GO(),Ej=CO(.05),Aj=PO(),Pj=TO(),xj=PO(),Mj=CO(.05),Rj=CO(.05),Dj=PO(),Lj=GO(),Nj=CO(.05),Oj=CO(.05),Bj=CO(.05),jj=CO(.05),Fj=PO(),Uj=CO(.05),Wj=PO(),Gj=CO(.05),Vj=PO(),$j=CO(.05),qj=CO(.05),zj=CO(.05),Zj=CO(.05),Hj=PO(),Kj=CO(.05),Jj=CO(.05),Yj=CO(.05),Qj=PO(),Xj=CO(.05),eF=PO(),tF=CO(.05),rF=CO(.05),nF=CO(.05),aF=PO(),iF=CO(.05),oF=CO(.05),sF=PO(),cF=CO(.05),lF=PO(),uF=CO(.05),dF=PO(),pF=CO(.05),fF=PO(),hF=CO(.05),gF=PO(),vF=CO(.05),mF=PO(),yF=CO(.05),bF=PO(),_F=CO(.05),wF=PO(),IF=CO(.05),SF=CO(.05),kF=CO(.05),CF=CO(.05),TF=CO(.05),EF=CO(.05),AF=CO(.05),PF=CO(.05),xF=CO(.05),MF=CO(.05),RF=PO(),DF=CO(.05),LF=PO(),NF=CO(.05),OF=CO(.05),BF=CO(.05),jF=PO(),FF=CO(.05),UF=PO(),WF=CO(.05),GF=PO(),VF=CO(.05),$F=CO(.05),qF=CO(.05),zF=PO(),ZF=CO(.05),HF=PO(),KF=CO(.05),JF=CO(.05),YF=CO(.05),QF=PO(),XF=CO(.05),eU=PO(),tU=CO(.05),rU=CO(.05),nU=CO(.05),aU=PO(),iU=CO(.05),oU=PO(),sU=CO(.05),cU=PO(),lU=CO(.05),uU=CO(.05),dU=PO(),pU=CO(.05),fU=PO(),hU=CO(.05),gU=PO(),vU=CO(.05),mU=PO(),yU=CO(.05),bU=PO(),_U=CO(.05),wU=PO(),IU=CO(.05),SU=PO(),kU=CO(.05),CU=PO(),TU=CO(.05),EU=PO(),AU=CO(.05),PU=CO(.05),xU=CO(.05),MU=PO(),RU=CO(.05),DU=PO(),LU=CO(.05),NU=PO(),OU=CO(.05),BU=PO(),jU=CO(.05),FU=PO(),UU=CO(.05),WU=PO(),GU=CO(.05),VU=PO(),$U=CO(.05),qU=PO(),zU=CO(.05),ZU=PO(),HU=CO(.05),KU=PO(),JU=CO(.05),YU=PO(),QU=CO(.05),XU=PO(),eW=CO(.05),tW=CO(.05),rW=CO(.05),nW=CO(.05),aW=PO(),iW=CO(.05),oW=PO(),sW=CO(.05),cW=PO(),lW=CO(.05),uW=CO(.05),dW=CO(.05),pW=CO(.05),fW=CO(.05),hW=CO(.05),gW=CO(.05),vW=CO(.05),mW=CO(.05),yW=CO(.05),bW=CO(.05),_W=PO(),wW=CO(.05),IW=PO(),SW=CO(.05),kW=PO(),CW=CO(.05),TW=CO(.05),EW=CO(.05),AW=CO(.05),PW=CO(.05),xW=PO(),MW=CO(.05),RW=CO(.05),DW=CO(.05),LW=CO(.05),NW=PO(),OW=CO(.05),BW=PO(),jW=CO(.05),FW=CO(.05),UW=CO(.05),WW=CO(.05),GW=CO(.05),VW=PO(),$W=CO(.05),qW=PO(),zW=CO(.05),ZW=PO(),HW=CO(.05),KW=PO(),JW=CO(.05),YW=PO(),QW=CO(.05),XW=PO(),eG=CO(.05),tG=PO(),rG=CO(.05),nG=CO(.05),aG=CO(.05),iG=CO(.05),oG=CO(.05),sG=CO(.05),cG=CO(.05),lG=PO(),uG=CO(.05),dG=CO(.05),pG=CO(.05),fG=CO(.05),hG=_O("reportCompressedTexImage2D",{resultHandler(e){if(ZO)return e;if(null!=e&&e.getContext){var t=e.getContext;e.getContext=(...r)=>{var n=t.call(e,...r);if(n&&n.compressedTexImage2D){var a=n.compressedTexImage2D;n.compressedTexImage2D=(...e)=>{ZO=!0,(0,$x.m)("WebGLRenderingContext.compressedTexImage2D",(0,Dr.M8)(),{},1,Date.now(),(0,Je._getCurrentNetworkType)(),0,void 0),a.call(n,...e)}}return n}}return e}}),gG=CO(.05),vG=CO(.05),mG=CO(.05),yG=CO(.05),bG=CO(.05),_G=CO(.05),wG=CO(.05),IG=CO(.05),SG=CO(.05),kG=CO(.05),CG=CO(.05),TG=CO(.05),EG=CO(.05),AG=CO(.05),PG=CO(.05),xG=CO(.05),MG=CO(.05),RG=CO(.05),DG=CO(.05),LG=CO(.05),NG=CO(.05),OG=CO(.05),BG=CO(.05),jG=CO(.05),FG=CO(.05),UG=CO(.05),WG=CO(.05),GG=CO(.05),VG=CO(.05),$G=CO(.05),qG=CO(.05),zG=CO(.05),ZG=CO(.05),HG=CO(.05),KG=CO(.05),JG=CO(.05),YG=CO(.05),QG=CO(.05),XG=CO(.05),eV=CO(.05),tV=CO(.05),rV=CO(.05),nV=CO(.05),aV=CO(.05),iV=CO(.05),oV=CO(.05),sV=CO(.05),cV=CO(.05),lV=PO(),uV=GO(),dV=CO(.05),pV=CO(.05),fV=CO(.05),hV=PO(),gV=CO(.05),vV=CO(.05),mV=CO(.05),yV=CO(.05),bV=CO(.05),_V=CO(.05),wV=CO(.05),IV=CO(.05),SV=CO(.05),kV=CO(.05),CV=CO(.05),TV=CO(.05),EV=PO(),AV=CO(.05),PV=CO(.05),xV=CO(.05),MV=CO(.05),RV=PO(),DV=CO(.05),LV=PO(),NV=CO(.05),OV=PO(),BV=CO(.05),jV=PO(),FV=CO(.05),UV=PO(),WV=CO(.05),GV=PO(),VV=CO(.05),$V=PO(),qV=CO(.05),zV=PO(),ZV=CO(.05),HV=PO(),KV=CO(.05),JV=CO(.05),YV=CO(.05),QV=CO(.05),XV=CO(.05),e$=CO(.05),t$=CO(.05),r$=CO(.05),n$=CO(.05),a$=CO(.05),i$=CO(.05),o$=CO(.05),s$=CO(.05),c$=CO(.05),l$=CO(.05),u$=CO(.05),d$=CO(.05),p$=CO(.05),f$=EO(),h$=CO(.05),g$=PO(),v$=EO(),m$=CO(.05),y$=AO(),b$=CO(.05),_$=PO(),w$=CO(.05),I$=PO(),S$=CO(.05),k$=CO(.05),C$=CO(.05),T$=CO(.05),E$=CO(.05),A$=CO(.05),P$=CO(.05),x$=CO(.05),M$=CO(.05),R$=CO(.05),D$=TO(),L$=PO(),N$=TO(),O$=CO(.05),B$=CO(.05),j$=CO(.05),F$=CO(.05),U$=PO(),W$=CO(.05),G$=CO(.05),V$=CO(.05),$$=PO(),q$=CO(.05),z$=PO(),Z$=CO(.05),H$=PO(),K$=CO(.05),J$=PO(),Y$=CO(.05),Q$=CO(.05),X$=CO(.05),eq=CO(.05),tq=CO(.05),rq=CO(.05),nq=CO(.05),aq=CO(.05),iq=CO(.05),oq=CO(.05),sq=CO(.05),cq=CO(.05),lq=CO(.05),uq=CO(.05),dq=CO(.05),pq=CO(.05),fq=CO(.05),hq=CO(.05),gq=CO(.05),vq=CO(.05),mq=CO(.05),yq=CO(.05),bq=CO(.05),_q=VO(),wq=_O("noHook",{}),Iq=CO(.05),Sq=PO(),kq=CO(.05),Cq=CO(.05),Tq=CO(.05),Eq=CO(.05),Aq=CO(.05),Pq=CO(.05),xq=CO(.05),Mq=PO(),Rq=CO(.05),Dq=CO(.05),Lq=PO(),Nq=CO(.05),Oq=nB("function"),Bq=CO(.05),jq=CO(.05),Fq=CO(.05),Uq=CO(.05),Wq=CO(.05),Gq=CO(.05),Vq=CO(.05),$q=nB("function"),qq=CO(.05),zq=nB("function"),Zq=CO(.05),Hq=nB("function"),Kq=CO(.05),Jq=nB("function"),Yq=CO(.05),Qq=nB("function"),Xq=CO(.05),ez=nB("function"),tz=CO(.05),rz=nB("function"),nz=CO(.05),az=CO(.05),iz=CO(.05),oz=CO(.05),sz=CO(.05),cz=CO(.05),lz=CO(.05),uz=PO(),dz=CO(.05),pz=CO(.05),fz=CO(.05),hz=CO(.05),gz=CO(.05),vz=CO(.05),mz=CO(.05),yz=PO(),bz=CO(.05),_z=CO(.05),wz=CO(.05),Iz=CO(.05),Sz=CO(.05),kz=CO(.05),Cz=CO(.05),Tz=CO(.05),Ez=CO(.05),Az=CO(.05),Pz=VO(),xz=CO(.05,"cloud"),Mz=nB("object"),Rz=CO(.05,"cloud"),Dz=nB("object"),Lz=CO(.05),Nz=VO(),Oz=VO(),Bz=CO(.05),jz=CO(.05),Fz=CO(.05),Uz=CO(.05),Wz=CO(.05),Gz=CO(.05),Vz=CO(.05),$z=CO(.05),qz=CO(.05),zz=CO(.05),Zz=CO(.05),Hz=CO(.05),Kz=CO(.05),Jz=PO(),Yz=CO(.05),Qz=PO(),Xz=CO(.05),eZ=CO(.05),tZ=CO(.05),rZ=CO(.05),nZ=CO(.05),aZ=CO(.05),iZ=CO(.05),oZ=CO(.05),sZ=CO(.05),cZ=CO(.05),lZ=CO(.05),uZ=CO(.05),dZ=CO(.05),pZ=CO(.05),fZ=CO(.05),hZ=CO(.05),gZ=CO(.05),vZ=CO(.05),mZ=CO(.05),yZ=CO(.05),bZ=CO(.05),_Z=CO(.05),wZ=CO(.05),IZ=CO(.05),SZ=CO(.05),kZ=CO(.05),CZ=CO(.05),TZ=CO(.05),EZ=CO(.05),AZ=CO(.05),PZ=nB("function"),xZ=CO(.05),MZ=nB("function"),RZ=CO(.05),DZ=CO(.05),LZ=CO(.05),NZ=CO(.05),OZ=CO(.05),BZ=CO(.05),jZ=CO(.05),FZ=CO(.05),UZ=CO(.05),WZ=CO(.05),GZ=CO(.05),VZ=CO(.05),B2=$Z=CB($Z=TB($Z=EB($Z=AB($Z=PB((qZ=class{constructor(){C()(this,"request",zZ,this),C()(this,"downloadFile",ZZ,this),C()(this,"uploadFile",HZ,this),C()(this,"addNativeDownloadTask",KZ,this),C()(this,"calRqt",JZ,this),C()(this,"connectSocket",YZ,this),C()(this,"closeSocket",QZ,this),C()(this,"sendSocketMessage",XZ,this),C()(this,"onSocketOpen",eH,this),C()(this,"onSocketClose",tH,this),C()(this,"onSocketMessage",rH,this),C()(this,"onSocketError",nH,this),C()(this,"getNetworkType",aH,this),C()(this,"onNetworkStatusChange",iH,this),C()(this,"offNetworkStatusChange",oH,this),C()(this,"onNetworkWeakChange",sH,this),C()(this,"offNetworkWeakChange",cH,this),C()(this,"openDocument",lH,this),C()(this,"setStorage",uH,this),C()(this,"setStorageSync",dH,this),C()(this,"getStorage",pH,this),C()(this,"getStorageSync",fH,this),C()(this,"getStorageInfo",hH,this),C()(this,"getStorageInfoSync",gH,this),C()(this,"removeStorage",vH,this),C()(this,"removeStorageSync",mH,this),C()(this,"clearStorage",yH,this),C()(this,"clearStorageSync",bH,this),C()(this,"authorize",_H,this),C()(this,"checkSession",wH,this),C()(this,"getUserInfo",IH,this),C()(this,"getUserProfile",SH,this),C()(this,"login",kH,this),C()(this,"openSetting",CH,this),C()(this,"getSetting",TH,this),C()(this,"operateWXData",EH,this),C()(this,"getWeRunData",AH,this),C()(this,"uploadWeRunData",PH,this),C()(this,"addWeRunData",xH,this),C()(this,"getGroupMsgTicket",MH,this),C()(this,"removeUserCloudStorage",RH,this),C()(this,"setUserCloudStorage",DH,this),C()(this,"openCustomerServiceConversation",LH,this),C()(this,"sendRedPacket",NH,this),C()(this,"openRedPacket",OH,this),C()(this,"sendBizRedPacket",BH,this),C()(this,"showRedPackage",jH,this),C()(this,"reportAnalytics",FH,this),C()(this,"reportMonitor",UH,this),C()(this,"requestSubscribeMessage",WH,this),C()(this,"requestSubscribeSystemMessage",GH,this),C()(this,"requestSubscribeWhatsNew",VH,this),C()(this,"getWhatsNewSubscriptionsSetting",$H,this),C()(this,"getUserGameLabel",qH,this),C()(this,"reportUserBehaviorBranchAnalytics",zH,this),C()(this,"publishWeChatState",ZH,this),C()(this,"addCard",HH,this),C()(this,"openCard",KH,this),C()(this,"getFileSystemManager",JH,this),C()(this,"saveFileToDisk",YH,this),C()(this,"getDeviceInfo",QH,this),C()(this,"getWindowInfo",XH,this),C()(this,"getAppBaseInfo",eK,this),C()(this,"getSystemSetting",tK,this),C()(this,"getAppAuthorizeSetting",rK,this),C()(this,"openSystemBluetoothSetting",nK,this),C()(this,"openAppAuthorizeSetting",aK,this),C()(this,"startAccelerometer",iK,this),C()(this,"stopAccelerometer",oK,this),C()(this,"onAccelerometerChange",sK,this),C()(this,"offAccelerometerChange",cK,this),C()(this,"scanCode",lK,this),C()(this,"startCompass",uK,this),C()(this,"stopCompass",dK,this),C()(this,"onCompassChange",pK,this),C()(this,"offCompassChange",fK,this),C()(this,"startDeviceMotionListening",hK,this),C()(this,"stopDeviceMotionListening",gK,this),C()(this,"onDeviceMotionChange",vK,this),C()(this,"offDeviceMotionChange",mK,this),C()(this,"startGyroscope",yK,this),C()(this,"stopGyroscope",bK,this),C()(this,"onGyroscopeChange",_K,this),C()(this,"offGyroscopeChange",wK,this),C()(this,"setScreenBrightness",IK,this),C()(this,"getScreenBrightness",SK,this),C()(this,"setKeepScreenOn",kK,this),C()(this,"captureScreen",CK,this),C()(this,"vibrateShort",TK,this),C()(this,"vibrateLong",EK,this),C()(this,"getClipboardData",AK,this),C()(this,"setClipboardData",PK,this),C()(this,"makeBluetoothPair",xK,this),C()(this,"isBluetoothDevicePaired",MK,this),C()(this,"openBluetoothAdapter",RK,this),C()(this,"closeBluetoothAdapter",DK,this),C()(this,"getBluetoothAdapterState",LK,this),C()(this,"onBluetoothAdapterStateChange",NK,this),C()(this,"offBluetoothAdapterStateChange",OK,this),C()(this,"startBluetoothDevicesDiscovery",BK,this),C()(this,"stopBluetoothDevicesDiscovery",jK,this),C()(this,"getBluetoothDevices",FK,this),C()(this,"getConnectedBluetoothDevices",UK,this),C()(this,"createBLEConnection",WK,this),C()(this,"closeBLEConnection",GK,this),C()(this,"getBLEDeviceServices",VK,this),C()(this,"getBLEDeviceRSSI",$K,this),C()(this,"setBLEMTU",qK,this),C()(this,"getBLEMTU",zK,this),C()(this,"getBLEDeviceCharacteristics",ZK,this),C()(this,"createBLEPeripheralServer",HK,this),C()(this,"onBLEPeripheralConnectionStateChanged",KK,this),C()(this,"offBLEPeripheralConnectionStateChanged",JK,this),C()(this,"notifyBLECharacteristicValueChanged",YK,this),C()(this,"notifyBLECharacteristicValueChange",QK,this),C()(this,"readBLECharacteristicValue",XK,this),C()(this,"writeBLECharacteristicValue",eJ,this),C()(this,"onBluetoothDeviceFound",tJ,this),C()(this,"offBluetoothDeviceFound",rJ,this),C()(this,"onBLEMTUChange",nJ,this),C()(this,"offBLEMTUChange",aJ,this),C()(this,"onBLEConnectionStateChanged",iJ,this),C()(this,"onBLEConnectionStateChange",oJ,this),C()(this,"onBLECharacteristicValueChange",sJ,this),C()(this,"offBLEConnectionStateChanged",cJ,this),C()(this,"offBLEConnectionStateChange",lJ,this),C()(this,"offBLECharacteristicValueChange",uJ,this),C()(this,"startBeaconDiscovery",dJ,this),C()(this,"stopBeaconDiscovery",pJ,this),C()(this,"getBeacons",fJ,this),C()(this,"onBeaconUpdate",hJ,this),C()(this,"offBeaconUpdate",gJ,this),C()(this,"onBeaconServiceChange",vJ,this),C()(this,"offBeaconServiceChange",mJ,this),C()(this,"getLocation",yJ,this),this.getFuzzyLocation=Sl,C()(this,"chooseMedia",bJ,this),C()(this,"chooseMessageFile",_J,this),C()(this,"createInnerAudioContext",wJ,this),C()(this,"getAvailableAudioSources",IJ,this),C()(this,"setInnerAudioOption",SJ,this),C()(this,"createVideoDecoder",kJ,this),C()(this,"createMediaAudioPlayer",CJ,this),C()(this,"createWebAudioContext",TJ,this),C()(this,"getRecorderManager",EJ,this),C()(this,"chooseImage",AJ,this),C()(this,"previewImage",PJ,this),C()(this,"previewMedia",xJ,this),C()(this,"saveImageToPhotosAlbum",MJ,this),C()(this,"joinVoIPChat",RJ,this),C()(this,"exitVoIPChat",DJ,this),C()(this,"updateVoIPChatMuteConfig",LJ,this),C()(this,"onVoIPChatMembersChanged",NJ,this),C()(this,"onVoIPChatSpeakersChanged",OJ,this),C()(this,"onVoIPChatInterrupted",BJ,this),C()(this,"offVoIPChatMembersChanged",jJ,this),C()(this,"offVoIPChatSpeakersChanged",FJ,this),C()(this,"offVoIPChatInterrupted",UJ,this),C()(this,"subscribeVoIPVideoMembers",WJ,this),C()(this,"onVoIPVideoMembersChanged",GJ,this),C()(this,"offVoIPVideoMembersChanged",VJ,this),C()(this,"onVoIPChatStateChanged",$J,this),C()(this,"offVoIPChatStateChanged",qJ,this),C()(this,"createCanvas",zJ,this),C()(this,"createOffScreenCanvas",ZJ,this),C()(this,"createImage",HJ,this),C()(this,"createImageData",KJ,this),C()(this,"createPath2D",JJ,this),C()(this,"onTouchStart",YJ,this),C()(this,"offTouchStart",QJ,this),C()(this,"onTouchMove",XJ,this),C()(this,"offTouchMove",eY,this),C()(this,"onTouchEnd",tY,this),C()(this,"offTouchEnd",rY,this),C()(this,"onTouchCancel",nY,this),C()(this,"offTouchCancel",aY,this),C()(this,"onWheel",iY,this),C()(this,"offWheel",oY,this),C()(this,"onMouseDown",sY,this),C()(this,"offMouseDown",cY,this),C()(this,"onMouseMove",lY,this),C()(this,"offMouseMove",uY,this),C()(this,"onMouseUp",dY,this),C()(this,"offMouseUp",pY,this),C()(this,"onKeyDown",fY,this),C()(this,"offKeyDown",hY,this),C()(this,"onKeyUp",gY,this),C()(this,"offKeyUp",vY,this),C()(this,"onPointerLockChange",mY,this),C()(this,"offPointerLockChange",yY,this),C()(this,"onPointerLockError",bY,this),C()(this,"offPointerLockError",_Y,this),C()(this,"onKeyboardInput",wY,this),C()(this,"offKeyboardInput",IY,this),C()(this,"onKeyboardConfirm",SY,this),C()(this,"offKeyboardConfirm",kY,this),C()(this,"onKeyboardComplete",CY,this),C()(this,"offKeyboardComplete",TY,this),C()(this,"onKeyboardHeightChange",EY,this),C()(this,"offKeyboardHeightChange",AY,this),C()(this,"onWindowResize",PY,this),C()(this,"offWindowResize",xY,this),C()(this,"onGameLiveStateChange",MY,this),C()(this,"offGameLiveStateChange",RY,this),C()(this,"startGameLive",DY,this),C()(this,"checkGameLiveEnabled",LY,this),C()(this,"getGameLiveState",NY,this),C()(this,"getUserRecentGameLiveInfo",OY,this),C()(this,"getUserCurrentGameliveInfo",BY,this),C()(this,"getUserGameLiveDetails",jY,this),C()(this,"getShareInfo",FY,this),C()(this,"authPrivateMessage",UY,this),C()(this,"hideShareMenu",WY,this),C()(this,"onShareAppMessage",GY,this),C()(this,"offShareAppMessage",VY,this),C()(this,"onShareTimeline",$Y,this),C()(this,"offShareTimeline",qY,this),C()(this,"shareAppMessage",zY,this),C()(this,"shareInvitationToLiveRoom",ZY,this),C()(this,"setMessageToFriendQuery",HY,this),C()(this,"onShareMessageToFriend",KY,this),C()(this,"onAddToFavorites",JY,this),C()(this,"offAddToFavorites",YY,this),C()(this,"showShareImageMenu",QY,this),C()(this,"onCopyUrl",XY,this),C()(this,"offCopyUrl",eQ,this),C()(this,"setWindowSize",tQ,this),C()(this,"setTopBarText",rQ,this),C()(this,"showToast",nQ,this),C()(this,"hideToast",aQ,this),C()(this,"showLoading",iQ,this),C()(this,"hideLoading",oQ,this),C()(this,"showModal",sQ,this),C()(this,"showActionSheet",cQ,this),C()(this,"setMenuStyle",lQ,this),C()(this,"setStatusBarStyle",uQ,this),C()(this,"getMenuButtonBoundingClientRect",dQ,this),C()(this,"hideSplashScreen",pQ,this),C()(this,"onError",fQ,this),C()(this,"offError",hQ,this),C()(this,"onUnhandledRejection",gQ,this),C()(this,"offUnhandledRejection",vQ,this),C()(this,"onLaunch",mQ,this),C()(this,"offLaunch",yQ,this),C()(this,"onShow",bQ,this),C()(this,"offShow",_Q,this),C()(this,"onHide",wQ,this),C()(this,"offHide",IQ,this),C()(this,"onAudioInterruptionBegin",SQ,this),C()(this,"offAudioInterruptionBegin",kQ,this),C()(this,"onAudioInterruptionEnd",CQ,this),C()(this,"offAudioInterruptionEnd",TQ,this),C()(this,"onShareInvitationToLiveRoom",EQ,this),C()(this,"offShareInvitationToLiveRoom",AQ,this),C()(this,"getSystemInfo",PQ,this),C()(this,"getSystemInfoSync",xQ,this),C()(this,"getSystemInfoAsync",MQ,this),C()(this,"getBatteryInfo",RQ,this),C()(this,"getBatteryInfoSync",DQ,this),C()(this,"getLaunchOptionsSync",LQ,this),C()(this,"getEnterOptionsSync",NQ,this),C()(this,"setPreferredFramesPerSecond",OQ,this),C()(this,"loadFont",BQ,this),C()(this,"setCursor",jQ,this),C()(this,"requestPointerLock",FQ,this),C()(this,"exitPointerLock",UQ,this),C()(this,"isPointerLocked",WQ,this),C()(this,"getTextLineHeight",GQ,this),C()(this,"requestMidasPayment",VQ,this),C()(this,"requestMidasFriendPayment",$Q,this),C()(this,"checkIsSupportMidasFriendPayment",qQ,this),C()(this,"gameLoginReport",zQ,this),C()(this,"gameLogoutReport",ZQ,this),C()(this,"exitMiniProgram",HQ,this),C()(this,"restartMiniProgram",KQ,this),C()(this,"launchApp",JQ,this),C()(this,"showKeyboard",YQ,this),C()(this,"hideKeyboard",QQ,this),C()(this,"updateKeyboard",XQ,this),C()(this,"getExtConfig",eX,this),C()(this,"getExtConfigSync",tX,this),C()(this,"bindGroup",rX,this),C()(this,"joinGroup",nX,this),C()(this,"getAccountInfoSync",aX,this),C()(this,"encode",iX,this),C()(this,"decode",oX,this),C()(this,"parseXML",sX,this),C()(this,"createVideo",cX,this),C()(this,"createCamera",lX,this),C()(this,"createLivePlayer",uX,this),C()(this,"createLivePusher",dX,this),C()(this,"createWebView",pX,this),C()(this,"setDeviceOrientation",fX,this),C()(this,"onDeviceOrientationChange",hX,this),C()(this,"offDeviceOrientationChange",gX,this),C()(this,"onUserCaptureScreen",vX,this),C()(this,"offUserCaptureScreen",mX,this),C()(this,"postMessage",yX,this),C()(this,"onMessage",bX,this),C()(this,"getOpenDataContext",_X,this),C()(this,"createUserGameData",wX,this),C()(this,"updateUserGameData",IX,this),C()(this,"getPerformance",SX,this),C()(this,"setEnableDebug",kX,this),C()(this,"triggerGC",CX,this),C()(this,"onMemoryWarning",TX,this),C()(this,"offMemoryWarning",EX,this),C()(this,"reportPerformance",AX,this),C()(this,"testApiCallTime",PX,this),C()(this,"createWorker",xX,this),C()(this,"createSharedArrayBuffer",MX,this),C()(this,"checkIsUserAdvisedToRest",RX,this),C()(this,"getUpdateManager",DX,this),C()(this,"updateWeChatApp",LX,this),C()(this,"getAd",NX,this),C()(this,"openTencentGameContract",OX,this),C()(this,"openTencentPrivacyContract",BX,this),C()(this,"openUrl",jX,this),C()(this,"openTencentBoardGameContract",FX,this),C()(this,"openTencentChildrenGuideContract",UX,this),C()(this,"openTencentAccountCancelContract",WX,this),C()(this,"createRewardedVideoAd",GX,this),C()(this,"createIncentiveVideoAd",VX,this),C()(this,"createBannerAd",$X,this),C()(this,"createInterstitialAd",qX,this),C()(this,"createCustomAd",zX,this),C()(this,"createGridAd",ZX,this),C()(this,"createCpsAd",HX,this),C()(this,"createUserInfoButton",KX,this),C()(this,"createGameClubButton",JX,this),C()(this,"createOpenSettingButton",YX,this),C()(this,"createFeedbackButton",QX,this),C()(this,"loadSubpackage",XX,this),C()(this,"preDownloadSubpackage",e0,this),C()(this,"navigateToMiniProgram",t0,this),C()(this,"createUDPSocket",r0,this),C()(this,"markScene",n0,this),C()(this,"reportScene",a0,this),C()(this,"createGamePortal",i0,this),C()(this,"createGameBanner",o0,this),C()(this,"createGameIcon",s0,this),C()(this,"getUserInteractiveStorage",c0,this),C()(this,"onInteractiveStorageModified",l0,this),C()(this,"offInteractiveStorageModified",u0,this),this.env=Dv,C()(this,"getLogManager",d0,this),C()(this,"getRealtimeLogManager",p0,this),this.error=bM,C()(this,"isSystemError",f0,this),C()(this,"isSDKError",h0,this),C()(this,"isThirdError",g0,this),C()(this,"getGameRecorder",v0,this),C()(this,"createGameRecorderShareButton",m0,this),C()(this,"operateGameRecorderVideo",y0,this),C()(this,"cloud",b0,this),C()(this,"serviceMarket",_0,this),this.version=oc(),C()(this,"getGameServerManager",w0,this),C()(this,"getBox2D",I0,this),C()(this,"protobuf",S0,this),C()(this,"createGameComponent",k0,this),C()(this,"getGroupEnterInfo",C0,this),C()(this,"onHandoff",T0,this),C()(this,"offHandoff",E0,this),C()(this,"setHandoffQuery",A0,this),C()(this,"faceDetect",P0,this),C()(this,"initFaceDetect",x0,this),C()(this,"stopFaceDetect",M0,this),C()(this,"createBufferURL",R0,this),C()(this,"revokeBufferURL",D0,this),C()(this,"createSignal",L0,this),C()(this,"startLocalServiceDiscovery",N0,this),C()(this,"stopLocalServiceDiscovery",O0,this),C()(this,"onLocalServiceFound",B0,this),C()(this,"offLocalServiceFound",j0,this),C()(this,"onLocalServiceLost",F0,this),C()(this,"offLocalServiceLost",U0,this),C()(this,"onLocalServiceDiscoveryStop",W0,this),C()(this,"offLocalServiceDiscoveryStop",G0,this),C()(this,"onLocalServiceResolveFail",V0,this),C()(this,"offLocalServiceResolveFail",$0,this),C()(this,"getLocalIPAddress",q0,this),C()(this,"startCPUProfiling",z0,this),C()(this,"stopCPUProfiling",Z0,this),C()(this,"getExptInfo",H0,this),C()(this,"getExptInfoSync",K0,this),C()(this,"reportEvent",J0,this),C()(this,"getChannelsLiveInfo",Y0,this),C()(this,"getChannelsLiveState",Q0,this),C()(this,"getChannelsLiveReservation",X0,this),C()(this,"getChannelsLiveNoticeInfo",e1,this),C()(this,"openChannelsLive",t1,this),C()(this,"openChannelsActivity",r1,this),C()(this,"openChannelsUserProfile",n1,this),C()(this,"openChannelsLiveCollection",a1,this),C()(this,"openChannelsEvent",i1,this),C()(this,"reserveChannelsLive",o1,this),C()(this,"lanDebug",s1,this),C()(this,"onVerifyNotify",c1,this),C()(this,"offVerifyNotify",l1,this),C()(this,"navigateToUserCenter",u1,this),C()(this,"requestConsumeAdsSkipCard",d1,this),C()(this,"dumpGameLivePanelUI",p1,this),C()(this,"updateGameLivePanelMenu",f1,this),C()(this,"createInferenceSession",h1,this),C()(this,"getInferenceEnvInfo",g1,this),C()(this,"getDebuggerMessager",v1,this),C()(this,"getAdsSkipCardSharePresentQuota",m1,this),C()(this,"getAdsSkipCardQuestInfo",y1,this),C()(this,"getUserCryptoManager",b1,this),C()(this,"getDebuggerMessager",_1,this),C()(this,"getRealNameVerifyMethod",w1,this),C()(this,"addToDesktop",I1,this),C()(this,"openPage",S1,this),C()(this,"getGameClubData",k1,this),C()(this,"previewPlayableView",C1,this)}saveFile(...e){return console.warn("wx.saveFile 即将废弃，请使用 wx.getFileSystemManager().saveFile"),(0,$.yH)(...e)}getFileInfo(...e){return console.warn("wx.getFileInfo 即将废弃，请使用 wx.getFileSystemManager().getFileInfo"),(0,$.hr)(...e)}getSavedFileList(...e){return console.warn("wx.getSavedFileList 即将废弃，请使用 wx.getFileSystemManager().getSavedFileList"),(0,$.rW)(...e)}getSavedFileInfo(...e){return console.warn("wx.getSavedFileInfo 即将废弃，请使用 wx.getFileSystemManager().getFileInfo"),(0,$.vL)(...e)}removeSavedFile(...e){return console.warn("wx.removeSavedFile 即将废弃，请使用 wx.getFileSystemManager().removeSavedFile"),(0,$.bh)(...e)}showShareMenu(e){setTimeout(H2.bind(this,e))}updateShareMenu(e){setTimeout(J2.bind(this,e))}},zZ=E()(qZ.prototype,"request",[xB],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return G.WY}}),ZZ=E()(qZ.prototype,"downloadFile",[MB],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return G.Sv}}),HZ=E()(qZ.prototype,"uploadFile",[RB],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return G.cT}}),KZ=E()(qZ.prototype,"addNativeDownloadTask",[DB],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return G.aS}}),JZ=E()(qZ.prototype,"calRqt",[LB],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return G.Co}}),YZ=E()(qZ.prototype,"connectSocket",[NB],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return U2}}),QZ=E()(qZ.prototype,"closeSocket",[OB,BB],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return W2}}),XZ=E()(qZ.prototype,"sendSocketMessage",[jB,FB],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return G2}}),eH=E()(qZ.prototype,"onSocketOpen",[UB],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return V2}}),tH=E()(qZ.prototype,"onSocketClose",[WB],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $2}}),rH=E()(qZ.prototype,"onSocketMessage",[GB],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return q2}}),nH=E()(qZ.prototype,"onSocketError",[VB],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return z2}}),aH=E()(qZ.prototype,"getNetworkType",[$B,qB,zB],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Je._getNetworkType}}),iH=E()(qZ.prototype,"onNetworkStatusChange",[ZB],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Je.onNetworkStatusChange}}),oH=E()(qZ.prototype,"offNetworkStatusChange",[HB],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Je.offNetworkStatusChange}}),sH=E()(qZ.prototype,"onNetworkWeakChange",[KB],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Je.onNetworkWeakChange}}),cH=E()(qZ.prototype,"offNetworkWeakChange",[JB],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Je.offNetworkWeakChange}}),lH=E()(qZ.prototype,"openDocument",[YB,QB],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return V.KK}}),uH=E()(qZ.prototype,"setStorage",[XB,ej],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E2}}),dH=E()(qZ.prototype,"setStorageSync",[tj],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A2}}),pH=E()(qZ.prototype,"getStorage",[rj,nj],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return P2}}),fH=E()(qZ.prototype,"getStorageSync",[aj],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return x2}}),hH=E()(qZ.prototype,"getStorageInfo",[ij,oj],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return M2}}),gH=E()(qZ.prototype,"getStorageInfoSync",[sj],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return R2}}),vH=E()(qZ.prototype,"removeStorage",[cj,lj],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D2}}),mH=E()(qZ.prototype,"removeStorageSync",[uj],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return L2}}),yH=E()(qZ.prototype,"clearStorage",[dj,pj],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return N2}}),bH=E()(qZ.prototype,"clearStorageSync",[fj],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return O2}}),_H=E()(qZ.prototype,"authorize",[hj,gj],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Zn}}),wH=E()(qZ.prototype,"checkSession",[vj,mj],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xn}}),IH=E()(qZ.prototype,"getUserInfo",[yj,bj,_j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ua}}),SH=E()(qZ.prototype,"getUserProfile",[wj,Ij,Sj],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return fa}}),kH=E()(qZ.prototype,"login",[kj,Cj,Tj],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Pn}}),CH=E()(qZ.prototype,"openSetting",[Ej,Aj],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Jn.a}}),TH=E()(qZ.prototype,"getSetting",[Pj,xj],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Kn}}),EH=E()(qZ.prototype,"operateWXData",[Mj],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ra}}),AH=E()(qZ.prototype,"getWeRunData",[Rj,Dj,Lj],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Qn}}),PH=E()(qZ.prototype,"uploadWeRunData",[Nj],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Xn}}),xH=E()(qZ.prototype,"addWeRunData",[Oj],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ea}}),MH=E()(qZ.prototype,"getGroupMsgTicket",[Bj],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Bf}}),RH=E()(qZ.prototype,"removeUserCloudStorage",[jj,Fj],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return My}}),DH=E()(qZ.prototype,"setUserCloudStorage",[Uj,Wj],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ey}}),LH=E()(qZ.prototype,"openCustomerServiceConversation",[Gj,Vj],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return fx}}),NH=E()(qZ.prototype,"sendRedPacket",[$j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return wn}}),OH=E()(qZ.prototype,"openRedPacket",[qj],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return In}}),BH=E()(qZ.prototype,"sendBizRedPacket",[zj],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _n}}),jH=E()(qZ.prototype,"showRedPackage",[Zj,Hj],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return En}}),FH=E()(qZ.prototype,"reportAnalytics",[Kj],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gx}}),UH=E()(qZ.prototype,"reportMonitor",[Jj],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return vx}}),WH=E()(qZ.prototype,"requestSubscribeMessage",[Yj,Qj],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return cM}}),GH=E()(qZ.prototype,"requestSubscribeSystemMessage",[Xj,eF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lM.S}}),VH=E()(qZ.prototype,"requestSubscribeWhatsNew",[tF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mM}}),$H=E()(qZ.prototype,"getWhatsNewSubscriptionsSetting",[rF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pM}}),qH=E()(qZ.prototype,"getUserGameLabel",[nF,aF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return na}}),zH=E()(qZ.prototype,"reportUserBehaviorBranchAnalytics",[iF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return aa.s}}),ZH=E()(qZ.prototype,"publishWeChatState",[oF,sF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return er}}),HH=E()(qZ.prototype,"addCard",[cF,lF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return eM}}),KH=E()(qZ.prototype,"openCard",[uF,dF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return tM}}),E()(qZ.prototype,"saveFile",[pF,fF],Object.getOwnPropertyDescriptor(qZ.prototype,"saveFile"),qZ.prototype),E()(qZ.prototype,"getFileInfo",[hF,gF],Object.getOwnPropertyDescriptor(qZ.prototype,"getFileInfo"),qZ.prototype),E()(qZ.prototype,"getSavedFileList",[vF,mF],Object.getOwnPropertyDescriptor(qZ.prototype,"getSavedFileList"),qZ.prototype),E()(qZ.prototype,"getSavedFileInfo",[yF,bF],Object.getOwnPropertyDescriptor(qZ.prototype,"getSavedFileInfo"),qZ.prototype),E()(qZ.prototype,"removeSavedFile",[_F,wF],Object.getOwnPropertyDescriptor(qZ.prototype,"removeSavedFile"),qZ.prototype),JH=E()(qZ.prototype,"getFileSystemManager",[IF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $.ls}}),YH=E()(qZ.prototype,"saveFileToDisk",[SF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lu}}),QH=E()(qZ.prototype,"getDeviceInfo",[kF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ce.getDeviceInfo}}),XH=E()(qZ.prototype,"getWindowInfo",[CF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ce.getWindowInfo}}),eK=E()(qZ.prototype,"getAppBaseInfo",[TF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ce.getAppBaseInfo}}),tK=E()(qZ.prototype,"getSystemSetting",[EF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ce.getSystemSetting}}),rK=E()(qZ.prototype,"getAppAuthorizeSetting",[AF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ce.getAppAuthorizeSetting}}),nK=E()(qZ.prototype,"openSystemBluetoothSetting",[PF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ce.openSystemBluetoothSetting}}),aK=E()(qZ.prototype,"openAppAuthorizeSetting",[xF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ce.openAppAuthorizeSetting}}),iK=E()(qZ.prototype,"startAccelerometer",[MF,RF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ya}}),oK=E()(qZ.prototype,"stopAccelerometer",[DF,LF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ba}}),sK=E()(qZ.prototype,"onAccelerometerChange",[NF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ia}}),cK=E()(qZ.prototype,"offAccelerometerChange",[OF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return wa}}),lK=E()(qZ.prototype,"scanCode",[BF,jF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return KD}}),uK=E()(qZ.prototype,"startCompass",[FF,UF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ca}}),dK=E()(qZ.prototype,"stopCompass",[WF,GF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ta}}),pK=E()(qZ.prototype,"onCompassChange",[VF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Pa}}),fK=E()(qZ.prototype,"offCompassChange",[$F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Aa}}),hK=E()(qZ.prototype,"startDeviceMotionListening",[qF,zF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Do}}),gK=E()(qZ.prototype,"stopDeviceMotionListening",[ZF,HF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Lo}}),vK=E()(qZ.prototype,"onDeviceMotionChange",[KF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return No}}),mK=E()(qZ.prototype,"offDeviceMotionChange",[JF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Oo}}),yK=E()(qZ.prototype,"startGyroscope",[YF,QF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ao}}),bK=E()(qZ.prototype,"stopGyroscope",[XF,eU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Po}}),_K=E()(qZ.prototype,"onGyroscopeChange",[tU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xo}}),wK=E()(qZ.prototype,"offGyroscopeChange",[rU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mo}}),IK=E()(qZ.prototype,"setScreenBrightness",[nU,aU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return za}}),SK=E()(qZ.prototype,"getScreenBrightness",[iU,oU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return qa}}),kK=E()(qZ.prototype,"setKeepScreenOn",[sU,cU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Za}}),CK=E()(qZ.prototype,"captureScreen",[lU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fa}}),TK=E()(qZ.prototype,"vibrateShort",[uU,dU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return i3}}),EK=E()(qZ.prototype,"vibrateLong",[pU,fU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return o3}}),AK=E()(qZ.prototype,"getClipboardData",[hU,gU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xa}}),PK=E()(qZ.prototype,"setClipboardData",[vU,mU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ma}}),xK=E()(qZ.prototype,"makeBluetoothPair",[yU,bU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ao}}),MK=E()(qZ.prototype,"isBluetoothDevicePaired",[_U,wU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return io}}),RK=E()(qZ.prototype,"openBluetoothAdapter",[IU,SU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ja}}),DK=E()(qZ.prototype,"closeBluetoothAdapter",[kU,CU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ya}}),LK=E()(qZ.prototype,"getBluetoothAdapterState",[TU,EU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Qa}}),NK=E()(qZ.prototype,"onBluetoothAdapterStateChange",[AU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gi}}),OK=E()(qZ.prototype,"offBluetoothAdapterStateChange",[PU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return vi}}),BK=E()(qZ.prototype,"startBluetoothDevicesDiscovery",[xU,MU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Xa}}),jK=E()(qZ.prototype,"stopBluetoothDevicesDiscovery",[RU,DU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ei}}),FK=E()(qZ.prototype,"getBluetoothDevices",[LU,NU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ti}}),UK=E()(qZ.prototype,"getConnectedBluetoothDevices",[OU,BU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ni}}),WK=E()(qZ.prototype,"createBLEConnection",[jU,FU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ei}}),GK=E()(qZ.prototype,"closeBLEConnection",[UU,WU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ai}}),VK=E()(qZ.prototype,"getBLEDeviceServices",[GU,VU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Pi}}),$K=E()(qZ.prototype,"getBLEDeviceRSSI",[$U,qU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ri}}),qK=E()(qZ.prototype,"setBLEMTU",[zU,ZU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return oo}}),zK=E()(qZ.prototype,"getBLEMTU",[HU,KU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return po}}),ZK=E()(qZ.prototype,"getBLEDeviceCharacteristics",[JU,YU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xi}}),HK=E()(qZ.prototype,"createBLEPeripheralServer",[QU,XU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return eo}}),KK=E()(qZ.prototype,"onBLEPeripheralConnectionStateChanged",[eW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ro}}),JK=E()(qZ.prototype,"offBLEPeripheralConnectionStateChanged",[tW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return no}}),YK=E()(qZ.prototype,"notifyBLECharacteristicValueChanged",[rW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mi}}),QK=E()(qZ.prototype,"notifyBLECharacteristicValueChange",[nW,aW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ri}}),XK=E()(qZ.prototype,"readBLECharacteristicValue",[iW,oW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Di}}),eJ=E()(qZ.prototype,"writeBLECharacteristicValue",[sW,cW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Li}}),tJ=E()(qZ.prototype,"onBluetoothDeviceFound",[lW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ui}}),rJ=E()(qZ.prototype,"offBluetoothDeviceFound",[uW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Wi}}),nJ=E()(qZ.prototype,"onBLEMTUChange",[dW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lo}}),aJ=E()(qZ.prototype,"offBLEMTUChange",[pW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return uo}}),iJ=E()(qZ.prototype,"onBLEConnectionStateChanged",[fW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Oi}}),oJ=E()(qZ.prototype,"onBLEConnectionStateChange",[hW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return di}}),sJ=E()(qZ.prototype,"onBLECharacteristicValueChange",[gW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ji}}),cJ=E()(qZ.prototype,"offBLEConnectionStateChanged",[vW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Bi}}),lJ=E()(qZ.prototype,"offBLEConnectionStateChange",[mW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pi}}),uJ=E()(qZ.prototype,"offBLECharacteristicValueChange",[yW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fi}}),dJ=E()(qZ.prototype,"startBeaconDiscovery",[bW,_W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ra}}),pJ=E()(qZ.prototype,"stopBeaconDiscovery",[wW,IW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Da}}),fJ=E()(qZ.prototype,"getBeacons",[SW,kW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return La}}),hJ=E()(qZ.prototype,"onBeaconUpdate",[CW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Na}}),gJ=E()(qZ.prototype,"offBeaconUpdate",[TW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Oa}}),vJ=E()(qZ.prototype,"onBeaconServiceChange",[EW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ba}}),mJ=E()(qZ.prototype,"offBeaconServiceChange",[AW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ja}}),yJ=E()(qZ.prototype,"getLocation",[PW,xW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return bl}}),bJ=E()(qZ.prototype,"chooseMedia",[MW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $l}}),_J=E()(qZ.prototype,"chooseMessageFile",[RW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Vl}}),wJ=E()(qZ.prototype,"createInnerAudioContext",[DW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pl}}),IJ=E()(qZ.prototype,"getAvailableAudioSources",[LW,NW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Pl}}),SJ=E()(qZ.prototype,"setInnerAudioOption",[OW,BW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xl}}),kJ=E()(qZ.prototype,"createVideoDecoder",[jW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return au}}),CJ=E()(qZ.prototype,"createMediaAudioPlayer",[FW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Bl}}),TJ=E()(qZ.prototype,"createWebAudioContext",[UW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return dc}}),EJ=E()(qZ.prototype,"getRecorderManager",[WW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Al}}),AJ=E()(qZ.prototype,"chooseImage",[GW,VW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rn}}),PJ=E()(qZ.prototype,"previewImage",[$W,qW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return an}}),xJ=E()(qZ.prototype,"previewMedia",[zW,ZW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return zl}}),MJ=E()(qZ.prototype,"saveImageToPhotosAlbum",[HW,KW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return sn}}),RJ=E()(qZ.prototype,"joinVoIPChat",[JW,YW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return s3}}),DJ=E()(qZ.prototype,"exitVoIPChat",[QW,XW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return c3}}),LJ=E()(qZ.prototype,"updateVoIPChatMuteConfig",[eG,tG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return l3}}),NJ=E()(qZ.prototype,"onVoIPChatMembersChanged",[rG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u3}}),OJ=E()(qZ.prototype,"onVoIPChatSpeakersChanged",[nG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return d3}}),BJ=E()(qZ.prototype,"onVoIPChatInterrupted",[aG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p3}}),jJ=E()(qZ.prototype,"offVoIPChatMembersChanged",[iG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f3}}),FJ=E()(qZ.prototype,"offVoIPChatSpeakersChanged",[oG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h3}}),UJ=E()(qZ.prototype,"offVoIPChatInterrupted",[sG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g3}}),WJ=E()(qZ.prototype,"subscribeVoIPVideoMembers",[cG,lG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return v3}}),GJ=E()(qZ.prototype,"onVoIPVideoMembersChanged",[uG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return m3}}),VJ=E()(qZ.prototype,"offVoIPVideoMembersChanged",[dG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y3}}),$J=E()(qZ.prototype,"onVoIPChatStateChanged",[pG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b3}}),qJ=E()(qZ.prototype,"offVoIPChatStateChanged",[fG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _3}}),zJ=E()(qZ.prototype,"createCanvas",[hG,gG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return qu.vL}}),ZJ=E()(qZ.prototype,"createOffScreenCanvas",[vG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return qu.pr}}),HJ=E()(qZ.prototype,"createImage",[mG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return zu.B}}),KJ=E()(qZ.prototype,"createImageData",[yG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Zu}}),JJ=E()(qZ.prototype,"createPath2D",[bG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Hu}}),YJ=E()(qZ.prototype,"onTouchStart",[_G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return l2}}),QJ=E()(qZ.prototype,"offTouchStart",[wG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u2}}),XJ=E()(qZ.prototype,"onTouchMove",[IG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return d2}}),eY=E()(qZ.prototype,"offTouchMove",[SG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p2}}),tY=E()(qZ.prototype,"onTouchEnd",[kG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f2}}),rY=E()(qZ.prototype,"offTouchEnd",[CG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h2}}),nY=E()(qZ.prototype,"onTouchCancel",[TG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g2}}),aY=E()(qZ.prototype,"offTouchCancel",[EG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return v2}}),iY=E()(qZ.prototype,"onWheel",[AG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return n2}}),oY=E()(qZ.prototype,"offWheel",[PG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return a2}}),sY=E()(qZ.prototype,"onMouseDown",[xG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return m2}}),cY=E()(qZ.prototype,"offMouseDown",[MG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y2}}),lY=E()(qZ.prototype,"onMouseMove",[RG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b2}}),uY=E()(qZ.prototype,"offMouseMove",[DG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _2}}),dY=E()(qZ.prototype,"onMouseUp",[LG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w2}}),pY=E()(qZ.prototype,"offMouseUp",[NG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return I2}}),fY=E()(qZ.prototype,"onKeyDown",[OG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return q1}}),hY=E()(qZ.prototype,"offKeyDown",[BG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return z1}}),gY=E()(qZ.prototype,"onKeyUp",[jG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z1}}),vY=E()(qZ.prototype,"offKeyUp",[FG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return H1}}),mY=E()(qZ.prototype,"onPointerLockChange",[UG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S2}}),yY=E()(qZ.prototype,"offPointerLockChange",[WG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return k2}}),bY=E()(qZ.prototype,"onPointerLockError",[GG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C2}}),_Y=E()(qZ.prototype,"offPointerLockError",[VG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return T2}}),wY=E()(qZ.prototype,"onKeyboardInput",[$G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return K1}}),IY=E()(qZ.prototype,"offKeyboardInput",[qG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J1}}),SY=E()(qZ.prototype,"onKeyboardConfirm",[zG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y1}}),kY=E()(qZ.prototype,"offKeyboardConfirm",[ZG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q1}}),CY=E()(qZ.prototype,"onKeyboardComplete",[HG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return X1}}),TY=E()(qZ.prototype,"offKeyboardComplete",[KG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e2}}),EY=E()(qZ.prototype,"onKeyboardHeightChange",[JG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return t2}}),AY=E()(qZ.prototype,"offKeyboardHeightChange",[YG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return r2}}),PY=E()(qZ.prototype,"onWindowResize",[QG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return i2}}),xY=E()(qZ.prototype,"offWindowResize",[XG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return o2}}),MY=E()(qZ.prototype,"onGameLiveStateChange",[eV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return s2}}),RY=E()(qZ.prototype,"offGameLiveStateChange",[tV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return c2}}),DY=E()(qZ.prototype,"startGameLive",[rV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ap}}),LY=E()(qZ.prototype,"checkGameLiveEnabled",[nV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return PN}}),NY=E()(qZ.prototype,"getGameLiveState",[aV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return MN}}),OY=E()(qZ.prototype,"getUserRecentGameLiveInfo",[iV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return DN}}),BY=E()(qZ.prototype,"getUserCurrentGameliveInfo",[oV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return NN}}),jY=E()(qZ.prototype,"getUserGameLiveDetails",[sV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return BN}}),FY=E()(qZ.prototype,"getShareInfo",[cV,lV,uV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z2}}),UY=E()(qZ.prototype,"authPrivateMessage",[dV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y2}}),E()(qZ.prototype,"showShareMenu",[pV],Object.getOwnPropertyDescriptor(qZ.prototype,"showShareMenu"),qZ.prototype),WY=E()(qZ.prototype,"hideShareMenu",[fV,hV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return K2}}),E()(qZ.prototype,"updateShareMenu",[gV],Object.getOwnPropertyDescriptor(qZ.prototype,"updateShareMenu"),qZ.prototype),GY=E()(qZ.prototype,"onShareAppMessage",[vV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return N1}}),VY=E()(qZ.prototype,"offShareAppMessage",[mV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return O1}}),$Y=E()(qZ.prototype,"onShareTimeline",[yV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return B1}}),qY=E()(qZ.prototype,"offShareTimeline",[bV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return j1}}),zY=E()(qZ.prototype,"shareAppMessage",[_V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ju.$F}}),ZY=E()(qZ.prototype,"shareInvitationToLiveRoom",[wV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return vd.vC}}),HY=E()(qZ.prototype,"setMessageToFriendQuery",[IV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Yu.r}}),KY=E()(qZ.prototype,"onShareMessageToFriend",[SV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ju.ld}}),JY=E()(qZ.prototype,"onAddToFavorites",[kV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return V1}}),YY=E()(qZ.prototype,"offAddToFavorites",[CV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $1}}),QY=E()(qZ.prototype,"showShareImageMenu",[TV,EV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q2}}),XY=E()(qZ.prototype,"onCopyUrl",[AV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return bh}}),eQ=E()(qZ.prototype,"offCopyUrl",[PV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _h}}),tQ=E()(qZ.prototype,"setWindowSize",[xV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return cu}}),rQ=E()(qZ.prototype,"setTopBarText",[MV,RV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return su}}),nQ=E()(qZ.prototype,"showToast",[DV,LV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return X2}}),aQ=E()(qZ.prototype,"hideToast",[NV,OV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e3}}),iQ=E()(qZ.prototype,"showLoading",[BV,jV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return t3}}),oQ=E()(qZ.prototype,"hideLoading",[FV,UV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return r3}}),sQ=E()(qZ.prototype,"showModal",[WV,GV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return n3}}),cQ=E()(qZ.prototype,"showActionSheet",[VV,$V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return a3}}),lQ=E()(qZ.prototype,"setMenuStyle",[qV,zV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mf}}),uQ=E()(qZ.prototype,"setStatusBarStyle",[ZV,HV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Lf}}),dQ=E()(qZ.prototype,"getMenuButtonBoundingClientRect",[KV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return uu.z}}),pQ=E()(qZ.prototype,"hideSplashScreen",[JV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ux}}),fQ=E()(qZ.prototype,"onError",[YV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return M1}}),hQ=E()(qZ.prototype,"offError",[QV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return R1}}),gQ=E()(qZ.prototype,"onUnhandledRejection",[XV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D1}}),vQ=E()(qZ.prototype,"offUnhandledRejection",[e$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return L1}}),mQ=E()(qZ.prototype,"onLaunch",[t$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return W1}}),yQ=E()(qZ.prototype,"offLaunch",[r$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return G1}}),bQ=E()(qZ.prototype,"onShow",[n$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gp.Ke}}),_Q=E()(qZ.prototype,"offShow",[a$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gp.il}}),wQ=E()(qZ.prototype,"onHide",[i$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pr.Jv}}),IQ=E()(qZ.prototype,"offHide",[o$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pr.Or}}),SQ=E()(qZ.prototype,"onAudioInterruptionBegin",[s$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fo.p$}}),kQ=E()(qZ.prototype,"offAudioInterruptionBegin",[c$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fo.hA}}),CQ=E()(qZ.prototype,"onAudioInterruptionEnd",[l$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Uo.aS}}),TQ=E()(qZ.prototype,"offAudioInterruptionEnd",[u$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Uo.xJ}}),EQ=E()(qZ.prototype,"onShareInvitationToLiveRoom",[d$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F1}}),AQ=E()(qZ.prototype,"offShareInvitationToLiveRoom",[p$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return U1}}),PQ=E()(qZ.prototype,"getSystemInfo",[f$,h$,g$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ce.getSystemInfoNoCache}}),xQ=E()(qZ.prototype,"getSystemInfoSync",[v$,m$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ce.getSystemInfoSyncNoCache}}),MQ=E()(qZ.prototype,"getSystemInfoAsync",[y$,b$,_$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ce.getSystemInfoAsyncNoCache}}),RQ=E()(qZ.prototype,"getBatteryInfo",[w$,I$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ha}}),DQ=E()(qZ.prototype,"getBatteryInfoSync",[S$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ga}}),LQ=E()(qZ.prototype,"getLaunchOptionsSync",[k$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Qu.Ir}}),NQ=E()(qZ.prototype,"getEnterOptionsSync",[C$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Xu.r}}),OQ=E()(qZ.prototype,"setPreferredFramesPerSecond",[T$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ed}}),BQ=E()(qZ.prototype,"loadFont",[E$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rd}}),jQ=E()(qZ.prototype,"setCursor",[A$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return nd}}),FQ=E()(qZ.prototype,"requestPointerLock",[P$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ad}}),UQ=E()(qZ.prototype,"exitPointerLock",[x$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return id}}),WQ=E()(qZ.prototype,"isPointerLocked",[M$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return od}}),GQ=E()(qZ.prototype,"getTextLineHeight",[R$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Nf}}),VQ=E()(qZ.prototype,"requestMidasPayment",[D$,L$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Kg}}),$Q=E()(qZ.prototype,"requestMidasFriendPayment",[N$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return av}}),qQ=E()(qZ.prototype,"checkIsSupportMidasFriendPayment",[O$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ov}}),zQ=E()(qZ.prototype,"gameLoginReport",[B$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return sv}}),ZQ=E()(qZ.prototype,"gameLogoutReport",[j$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return cv}}),HQ=E()(qZ.prototype,"exitMiniProgram",[F$,U$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return du.HK}}),KQ=E()(qZ.prototype,"restartMiniProgram",[W$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pu}}),JQ=E()(qZ.prototype,"launchApp",[G$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _p}}),YQ=E()(qZ.prototype,"showKeyboard",[V$,$$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ip.ez}}),QQ=E()(qZ.prototype,"hideKeyboard",[q$,z$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ip.Sn}}),XQ=E()(qZ.prototype,"updateKeyboard",[Z$,H$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ip.vv}}),eX=E()(qZ.prototype,"getExtConfig",[K$,J$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return YD}}),tX=E()(qZ.prototype,"getExtConfigSync",[Y$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return JD}}),rX=E()(qZ.prototype,"bindGroup",[Q$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return jf}}),nX=E()(qZ.prototype,"joinGroup",[X$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ff}}),aX=E()(qZ.prototype,"getAccountInfoSync",[eq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ot.E}}),iX=E()(qZ.prototype,"encode",[tq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Sp.c}}),oX=E()(qZ.prototype,"decode",[rq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Sp.J}}),sX=E()(qZ.prototype,"parseXML",[nq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _f}}),cX=E()(qZ.prototype,"createVideo",[aq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Cp}}),lX=E()(qZ.prototype,"createCamera",[iq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mf}}),uX=E()(qZ.prototype,"createLivePlayer",[oq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return yf}}),dX=E()(qZ.prototype,"createLivePusher",[sq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return bf}}),pX=E()(qZ.prototype,"createWebView",[cq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return hx.pd}}),fX=E()(qZ.prototype,"setDeviceOrientation",[lq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return wf.MI}}),hX=E()(qZ.prototype,"onDeviceOrientationChange",[uq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return wf.Qq}}),gX=E()(qZ.prototype,"offDeviceOrientationChange",[dq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return wf.tR}}),vX=E()(qZ.prototype,"onUserCaptureScreen",[pq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Va}}),mX=E()(qZ.prototype,"offUserCaptureScreen",[fq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $a}}),yX=E()(qZ.prototype,"postMessage",[hq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kf}}),bX=E()(qZ.prototype,"onMessage",[gq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Cf}}),_X=E()(qZ.prototype,"getOpenDataContext",[vq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xf}}),wX=E()(qZ.prototype,"createUserGameData",[mq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Rf}}),IX=E()(qZ.prototype,"updateUserGameData",[yq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Df}}),SX=E()(qZ.prototype,"getPerformance",[bq,_q,wq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return cd}}),kX=E()(qZ.prototype,"setEnableDebug",[Iq,Sq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return fu}}),CX=E()(qZ.prototype,"triggerGC",[kq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gd}}),TX=E()(qZ.prototype,"onMemoryWarning",[Cq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pd}}),EX=E()(qZ.prototype,"offMemoryWarning",[Tq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return fd}}),AX=E()(qZ.prototype,"reportPerformance",[Eq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lh}}),PX=E()(qZ.prototype,"testApiCallTime",[Aq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return uh}}),xX=E()(qZ.prototype,"createWorker",[Pq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Wf}}),MX=E()(qZ.prototype,"createSharedArrayBuffer",[QO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gp}}),RX=E()(qZ.prototype,"checkIsUserAdvisedToRest",[xq,Mq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return oa}}),DX=E()(qZ.prototype,"getUpdateManager",[Rq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ev}}),LX=E()(qZ.prototype,"updateWeChatApp",[Dq,Lq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xv}}),NX=E()(qZ.prototype,"getAd",[Nq,Oq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{}}}),OX=E()(qZ.prototype,"openTencentGameContract",[Bq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return hx.n8}}),BX=E()(qZ.prototype,"openTencentPrivacyContract",[jq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return hx.L5}}),jX=E()(qZ.prototype,"openUrl",[Fq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return hx.Yo}}),FX=E()(qZ.prototype,"openTencentBoardGameContract",[Uq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return hx.fE}}),UX=E()(qZ.prototype,"openTencentChildrenGuideContract",[Wq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return hx.Et}}),WX=E()(qZ.prototype,"openTencentAccountCancelContract",[Gq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return hx.Qi}}),GX=E()(qZ.prototype,"createRewardedVideoAd",[Vq,$q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{}}}),VX=E()(qZ.prototype,"createIncentiveVideoAd",[qq,zq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{}}}),$X=E()(qZ.prototype,"createBannerAd",[Zq,Hq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{}}}),qX=E()(qZ.prototype,"createInterstitialAd",[Kq,Jq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{}}}),zX=E()(qZ.prototype,"createCustomAd",[Yq,Qq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{}}}),ZX=E()(qZ.prototype,"createGridAd",[Xq,ez],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{}}}),HX=E()(qZ.prototype,"createCpsAd",[tz,rz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{}}}),KX=E()(qZ.prototype,"createUserInfoButton",[nz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return uP}}),JX=E()(qZ.prototype,"createGameClubButton",[az],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return dP}}),YX=E()(qZ.prototype,"createOpenSettingButton",[iz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pP}}),QX=E()(qZ.prototype,"createFeedbackButton",[oz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return fP}}),XX=E()(qZ.prototype,"loadSubpackage",[sz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mx}}),e0=E()(qZ.prototype,"preDownloadSubpackage",[cz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ax}}),t0=E()(qZ.prototype,"navigateToMiniProgram",[lz,uz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fx}}),r0=E()(qZ.prototype,"createUDPSocket",[dz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Jx}}),n0=E()(qZ.prototype,"markScene",[pz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rM}}),a0=E()(qZ.prototype,"reportScene",[fz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return sO}}),i0=E()(qZ.prototype,"createGamePortal",[hz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $D}}),o0=E()(qZ.prototype,"createGameBanner",[gz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return qD}}),s0=E()(qZ.prototype,"createGameIcon",[vz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return zD}}),c0=E()(qZ.prototype,"getUserInteractiveStorage",[mz,yz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return HD}}),l0=E()(qZ.prototype,"onInteractiveStorageModified",[bz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Nw.U7}}),u0=E()(qZ.prototype,"offInteractiveStorageModified",[_z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Nw.$X}}),d0=E()(qZ.prototype,"getLogManager",[wz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return hu._}}),p0=E()(qZ.prototype,"getRealtimeLogManager",[Iz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Vu}}),f0=E()(qZ.prototype,"isSystemError",[Sz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _M}}),h0=E()(qZ.prototype,"isSDKError",[kz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return wM}}),g0=E()(qZ.prototype,"isThirdError",[Cz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return IM}}),v0=E()(qZ.prototype,"getGameRecorder",[Tz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return OM}}),m0=E()(qZ.prototype,"createGameRecorderShareButton",[Ez],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return XM}}),y0=E()(qZ.prototype,"operateGameRecorderVideo",[Az],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return eR}}),b0=E()(qZ.prototype,"cloud",[Pz,xz,zO,Mz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),_0=E()(qZ.prototype,"serviceMarket",[Rz,zO,Dz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),w0=E()(qZ.prototype,"getGameServerManager",[Lz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Aw}}),I0=E()(qZ.prototype,"getBox2D",[Nz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>M.Z.Box2D}}),S0=E()(qZ.prototype,"protobuf",[Oz,Bz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(...e)=>__protobufSDK__.getProtobuf()(...e)}}),k0=E()(qZ.prototype,"createGameComponent",[jz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return dx}}),C0=E()(qZ.prototype,"getGroupEnterInfo",[Fz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return la}}),T0=E()(qZ.prototype,"onHandoff",[Uz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return my}}),E0=E()(qZ.prototype,"offHandoff",[Wz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return yy}}),A0=E()(qZ.prototype,"setHandoffQuery",[Gz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gy}}),P0=E()(qZ.prototype,"faceDetect",[Vz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ph}}),x0=E()(qZ.prototype,"initFaceDetect",[$z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return dh}}),M0=E()(qZ.prototype,"stopFaceDetect",[qz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return fh}}),R0=E()(qZ.prototype,"createBufferURL",[zz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return vh.c5}}),D0=E()(qZ.prototype,"revokeBufferURL",[Zz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return vh.EL}}),L0=E()(qZ.prototype,"createSignal",[Hz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mh}}),N0=E()(qZ.prototype,"startLocalServiceDiscovery",[Kz,Jz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mo}}),O0=E()(qZ.prototype,"stopLocalServiceDiscovery",[Yz,Qz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return yo}}),B0=E()(qZ.prototype,"onLocalServiceFound",[Xz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return bo}}),j0=E()(qZ.prototype,"offLocalServiceFound",[eZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _o}}),F0=E()(qZ.prototype,"onLocalServiceLost",[tZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return wo}}),U0=E()(qZ.prototype,"offLocalServiceLost",[rZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Io}}),W0=E()(qZ.prototype,"onLocalServiceDiscoveryStop",[nZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return So}}),G0=E()(qZ.prototype,"offLocalServiceDiscoveryStop",[aZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ko}}),V0=E()(qZ.prototype,"onLocalServiceResolveFail",[iZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Co}}),$0=E()(qZ.prototype,"offLocalServiceResolveFail",[oZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return To}}),q0=E()(qZ.prototype,"getLocalIPAddress",[sZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Bo}}),z0=E()(qZ.prototype,"startCPUProfiling",[cZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return iL}}),Z0=E()(qZ.prototype,"stopCPUProfiling",[lZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return oL}}),H0=E()(qZ.prototype,"getExptInfo",[uZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ht}}),K0=E()(qZ.prototype,"getExptInfoSync",[dZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gt}}),J0=E()(qZ.prototype,"reportEvent",[pZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mt}}),Y0=E()(qZ.prototype,"getChannelsLiveInfo",[fZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return XT}}),Q0=E()(qZ.prototype,"getChannelsLiveState",[hZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return KL}}),X0=E()(qZ.prototype,"getChannelsLiveReservation",[gZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return JL}}),e1=E()(qZ.prototype,"getChannelsLiveNoticeInfo",[vZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return YL}}),t1=E()(qZ.prototype,"openChannelsLive",[mZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rN}}),r1=E()(qZ.prototype,"openChannelsActivity",[yZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return nN}}),n1=E()(qZ.prototype,"openChannelsUserProfile",[bZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return aN}}),a1=E()(qZ.prototype,"openChannelsLiveCollection",[_Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return iN}}),i1=E()(qZ.prototype,"openChannelsEvent",[wZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return oN}}),o1=E()(qZ.prototype,"reserveChannelsLive",[IZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return sN}}),s1=E()(qZ.prototype,"lanDebug",[SZ,qO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return HL}}),c1=E()(qZ.prototype,"onVerifyNotify",[kZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fg}}),l1=E()(qZ.prototype,"offVerifyNotify",[CZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ug}}),u1=E()(qZ.prototype,"navigateToUserCenter",[TZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return fN}}),d1=E()(qZ.prototype,"requestConsumeAdsSkipCard",[EZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _N}}),p1=E()(qZ.prototype,"dumpGameLivePanelUI",[AZ,PZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{}}}),f1=E()(qZ.prototype,"updateGameLivePanelMenu",[xZ,MZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{}}}),h1=E()(qZ.prototype,"createInferenceSession",[RZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return HO.AS}}),g1=E()(qZ.prototype,"getInferenceEnvInfo",[DZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return HO.y$}}),v1=E()(qZ.prototype,"getDebuggerMessager",[LZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return AN}}),m1=E()(qZ.prototype,"getAdsSkipCardSharePresentQuota",[NZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return wN}}),y1=E()(qZ.prototype,"getAdsSkipCardQuestInfo",[OZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return IN}}),b1=E()(qZ.prototype,"getUserCryptoManager",[BZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return EN}}),_1=E()(qZ.prototype,"getDebuggerMessager",[jZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return AN}}),w1=E()(qZ.prototype,"getRealNameVerifyMethod",[FZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return og}}),I1=E()(qZ.prototype,"addToDesktop",[UZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return eB}}),S1=E()(qZ.prototype,"openPage",[WZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return tB}}),k1=E()(qZ.prototype,"getGameClubData",[GZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rB}}),C1=E()(qZ.prototype,"previewPlayableView",[VZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E1}}),$Z=qZ))||$Z)||$Z)||$Z)||$Z)||$Z,j2=B2.prototype.constructor,function(...e){var t=new j2(...e),r=Object.getOwnPropertyDescriptors(t);return Object.keys(r).forEach((e=>{var n,a=r[e],i=null===(n=a.value)||void 0===n?void 0:n.extraInfos;i&&(Object.assign(i,B2.prototype[vO]),Object.defineProperty(t,e,{value:a.value.value()}))})),t}||$Z);w.setAsGame();var I3=new w3,S3=Object.getOwnPropertyNames(Object.getPrototypeOf(I3)),k3=Object.getOwnPropertyNames(I3),C3=S3.concat(k3).reduce(((e,t)=>(e[t]=I3[t],e)),{});delete C3.constructor,wB&&(C3.invokeThird=(e,t={},r={},n={})=>{var a,i=r.fail;"function"==typeof i&&(i=i.bind(r));var o=Z()({},r);o.isThird=!0;try{a=(0,B.yt)(t,e,o,n)}catch(e){return void("function"==typeof i&&i(`SDK error: ${e}`))}kB(e)?(0,bA.N)(e,t,(e=>{try{a(e)}catch(e){console.error("invokeThird callback error:",e)}})):(console.warn(`没有权限调用JSAPI: ${e}`),"function"==typeof i&&i(`没有权限调用JSAPI: ${e}`))},C3.onThird=(e,t)=>{kB(e)?(0,Ke.vu)(e,t):console.warn(`没有权限监听Event: ${e}`)});var T3={wx:C3,traceBeginEvent:yB.traceBeginEvent,traceEndEvent:yB.traceEndEvent,useTraced:yB.useTraced,useTracedEnd:yB.useTracedEnd,traceFlag:yB.traceFlag,splitOnBridgeListener:A.p};$A(T3,e,C3),$A(T3,I,C3),o.onLoad((()=>{UI(C3,!0)})),(e=>{var t;t=e,Object.assign(UT,t)})(T3);var E3=T3})(),I=h.default})();var k=I.wx;"undefined"!=typeof __exportGlobal__&&(__exportGlobal__.wx=k);k=I.wx;if("function"==typeof __passWAGameGlobal__){var C={};C.JSContext=v,C.Protect=m,C.__cloudSDK__=__cloudSDK__,C.__subContextEngine__=b,C.Safeway=Safeway,C.Reporter=w,C.__appServiceSDK__=I,C.WeixinJSBridge=c,C.WeixinWorker=u,C.wxNativeConsole=f,__passWAGameGlobal__(C)}e.wx=k,e.requirePlugin=g,o.onLoad((function(){console.info("Wechat Lib:"+k.version.version+", "+k.version.updateTime),f.info("Wechat Lib:"+k.version.version+", "+k.version.updateTime),b.initGameRelatedContexts()}))}(this);var __WAGameEndTime__=Date.now();"function"==typeof this.__wxLibrary.onEnd&&this.__wxLibrary.onEnd(),delete this.__wxLibrary;